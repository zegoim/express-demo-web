!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}("undefined"!=typeof self?self:this,(function(){return function(){var __webpack_modules__={5467:function(e){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),i=0,A=2,n=!0;for(;A<arguments.length;)r[i++]=arguments[A++];return new Promise((function(A,o){r[i]=function(e){if(n)if(n=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];A.apply(null,t)}};try{e.apply(t||null,r)}catch(e){n&&(n=!1,o(e))}}))}},4595:function(e,t){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),A=new Array(123),n=0;n<64;)A[i[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;r.encode=function(e,t,r){for(var A,n=null,o=[],s=0,a=0;t<r;){var c=e[t++];switch(a){case 0:o[s++]=i[c>>2],A=(3&c)<<4,a=1;break;case 1:o[s++]=i[A|c>>4],A=(15&c)<<2,a=2;break;case 2:o[s++]=i[A|c>>6],o[s++]=i[63&c],a=0}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=i[A],o[s++]=61,1===a&&(o[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,o.slice(0,s))),n.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";r.decode=function(e,t,r){for(var i,n=r,s=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=A[c]))throw Error(o);switch(s){case 0:i=c,s=1;break;case 1:t[r++]=i<<2|(48&c)>>4,i=c,s=2;break;case 2:t[r++]=(15&i)<<4|(60&c)>>2,i=c,s=3;break;case 3:t[r++]=(3&i)<<6|c,s=0}}if(1===s)throw Error(o);return r-n},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},121:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}},7333:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function A(e,i,A){t[0]=e,i[A]=r[0],i[A+1]=r[1],i[A+2]=r[2],i[A+3]=r[3]}function n(e,i,A){t[0]=e,i[A]=r[3],i[A+1]=r[2],i[A+2]=r[1],i[A+3]=r[0]}function o(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function s(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?A:n,e.writeFloatBE=i?n:A,e.readFloatLE=i?o:s,e.readFloatBE=i?s:o}():function(){function t(e,t,r,i){var A=t<0?1:0;if(A&&(t=-t),0===t)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>34028234663852886e22)e((A<<31|2139095040)>>>0,r,i);else if(t<11754943508222875e-54)e((A<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var n=Math.floor(Math.log(t)/Math.LN2);e((A<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,r,i)}}function o(e,t,r){var i=e(t,r),A=2*(i>>31)+1,n=i>>>23&255,o=8388607&i;return 255===n?o?NaN:A*(1/0):0===n?1401298464324817e-60*A*o:A*Math.pow(2,n-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,i),e.readFloatLE=o.bind(null,A),e.readFloatBE=o.bind(null,n)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function A(e,i,A){t[0]=e,i[A]=r[0],i[A+1]=r[1],i[A+2]=r[2],i[A+3]=r[3],i[A+4]=r[4],i[A+5]=r[5],i[A+6]=r[6],i[A+7]=r[7]}function n(e,i,A){t[0]=e,i[A]=r[7],i[A+1]=r[6],i[A+2]=r[5],i[A+3]=r[4],i[A+4]=r[3],i[A+5]=r[2],i[A+6]=r[1],i[A+7]=r[0]}function o(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function s(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?A:n,e.writeDoubleBE=i?n:A,e.readDoubleLE=i?o:s,e.readDoubleBE=i?s:o}():function(){function t(e,t,r,i,A,n){var o=i<0?1:0;if(o&&(i=-i),0===i)e(0,A,n+t),e(1/i>0?0:2147483648,A,n+r);else if(isNaN(i))e(0,A,n+t),e(2146959360,A,n+r);else if(i>17976931348623157e292)e(0,A,n+t),e((o<<31|2146435072)>>>0,A,n+r);else{var s;if(i<22250738585072014e-324)e((s=i/5e-324)>>>0,A,n+t),e((o<<31|s/4294967296)>>>0,A,n+r);else{var a=Math.floor(Math.log(i)/Math.LN2);1024===a&&(a=1023),e(4503599627370496*(s=i*Math.pow(2,-a))>>>0,A,n+t),e((o<<31|a+1023<<20|1048576*s&1048575)>>>0,A,n+r)}}}function o(e,t,r,i,A){var n=e(i,A+t),o=e(i,A+r),s=2*(o>>31)+1,a=o>>>20&2047,c=4294967296*(1048575&o)+n;return 2047===a?c?NaN:s*(1/0):0===a?5e-324*s*c:s*Math.pow(2,a-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=o.bind(null,A,0,4),e.readDoubleBE=o.bind(null,n,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function A(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function n(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},3330:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},7219:function(e){"use strict";e.exports=function(e,t,r){var i=r||8192,A=i>>>1,n=null,o=i;return function(r){if(r<1||r>A)return e(r);o+r>i&&(n=e(i),o=0);var s=t.call(n,o,o+=r);return 7&o&&(o=1+(7|o)),s}}},4505:function(e,t){"use strict";var r=t;r.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var i,A=null,n=[],o=0;t<r;)(i=e[t++])<128?n[o++]=i:i>191&&i<224?n[o++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[o++]=55296+(i>>10),n[o++]=56320+(1023&i)):n[o++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((A||(A=[])).push(String.fromCharCode.apply(String,n)),o=0);return A?(o&&A.push(String.fromCharCode.apply(String,n.slice(0,o))),A.join("")):String.fromCharCode.apply(String,n.slice(0,o))},r.write=function(e,t,r){for(var i,A,n=r,o=0;o<e.length;++o)(i=e.charCodeAt(o))<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(A=e.charCodeAt(o+1)))?(++o,t[r++]=(i=65536+((1023&i)<<10)+(1023&A))>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128);return r-n}},2402:function(e,t,r){
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
e.exports=function e(t,r,i){function A(o,s){if(!r[o]){if(!t[o]){if(n)return n(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return A(r||e)}),c,c.exports,e,t,r,i)}return r[o].exports}for(var n=void 0,o=0;o<i.length;o++)A(i[o]);return A}({1:[function(e,t,i){(function(e){"use strict";var r,i,A=e.MutationObserver||e.WebKitMutationObserver;if(A){var n=0,o=new A(g),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),r=function(){s.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){g(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(g,0)};else{var a=new e.MessageChannel;a.port1.onmessage=g,r=function(){a.port2.postMessage(0)}}var c=[];function g(){var e,t;i=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}i=!1}function u(e){1!==c.push(e)||i||r()}t.exports=u}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var i=e(1);function A(){}var n={},o=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,e!==A&&h(this,e)}function g(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){i((function(){var i;try{i=t(r)}catch(t){return n.reject(e,t)}i===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,i)}))}function l(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function i(t){r||(r=!0,n.reject(e,t))}function A(t){r||(r=!0,n.resolve(e,t))}function o(){t(A,i)}var s=d(o);"error"===s.status&&i(s.value)}function d(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function p(e){return e instanceof this?e:n.resolve(new this(A),e)}function C(e){var t=new this(A);return n.reject(t,e)}function I(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,a=-1,c=new this(A);++a<r;)g(e[a],a);return c;function g(e,A){function a(e){o[A]=e,++s!==r||i||(i=!0,n.resolve(c,o))}t.resolve(e).then(a,(function(e){i||(i=!0,n.reject(c,e))}))}}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var o=-1,s=new this(A);++o<r;)a(e[o]);return s;function a(e){t.resolve(e).then((function(e){i||(i=!0,n.resolve(s,e))}),(function(e){i||(i=!0,n.reject(s,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(A);return this.state!==a?u(r,this.state===s?e:t,this.outcome):this.queue.push(new g(r,e,t)),r},g.prototype.callFulfilled=function(e){n.resolve(this.promise,e)},g.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},g.prototype.callRejected=function(e){n.reject(this.promise,e)},g.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},n.resolve=function(e,t){var r=d(l,t);if("error"===r.status)return n.reject(e,r.value);var i=r.value;if(i)h(e,i);else{e.state=s,e.outcome=t;for(var A=-1,o=e.queue.length;++A<o;)e.queue[A].callFulfilled(t)}return e},n.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e},c.resolve=p,c.reject=C,c.all=I,c.race=f},{1:1}],3:[function(e,t,i){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var o=n();function s(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(A){if("TypeError"!==A.name)throw A;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function g(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function h(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",p=void 0,C={},I=Object.prototype.toString,f="readonly",E="readwrite";function Q(e){for(var t=e.length,r=new ArrayBuffer(t),i=new Uint8Array(r),A=0;A<t;A++)i[A]=e.charCodeAt(A);return r}function B(e){return new c((function(t){var r=e.transaction(d,E),i=a([""]);r.objectStore(d).put(i,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function m(e){return"boolean"==typeof p?c.resolve(p):B(e).then((function(e){return p=e}))}function y(e){var t=C[e.name],r={};r.promise=new c((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady=t.dbReady?t.dbReady.then((function(){return r.promise})):r.promise}function v(e){var t=C[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function _(e,t){var r=C[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function S(e,t){return new c((function(r,i){if(C[e.name]=C[e.name]||O(),e.db){if(!t)return r(e.db);y(e),e.db.close()}var A=[e.name];t&&A.push(e.version);var n=o.open.apply(o,A);t&&(n.onupgradeneeded=function(t){var r=n.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(d)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),n.onerror=function(e){e.preventDefault(),i(n.error)},n.onsuccess=function(){var t=n.result;t.onversionchange=function(e){e.target.close()},r(t),v(e)}}))}function w(e){return S(e,!1)}function D(e){return S(e,!0)}function b(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),i=e.version>e.db.version;if(e.version<e.db.version&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var A=e.db.version+1;A>e.version&&(e.version=A)}return!0}return!1}function k(e){return new c((function(t,r){var i=new FileReader;i.onerror=r,i.onloadend=function(r){var i=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},i.readAsBinaryString(e)}))}function R(e){return a([Q(atob(e.data))],{type:e.type})}function N(e){return e&&e.__local_forage_encoded_blob}function T(e){var t=this,r=t._initReady().then((function(){var e=C[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(r,e,e),r}function L(e){y(e);for(var t=C[e.name],r=t.forages,i=0;i<r.length;i++){var A=r[i];A._dbInfo.db&&(A._dbInfo.db.close(),A._dbInfo.db=null)}return e.db=null,w(e).then((function(t){return e.db=t,b(e)?D(e):t})).then((function(i){e.db=t.db=i;for(var A=0;A<r.length;A++)r[A]._dbInfo.db=i})).catch((function(t){throw _(e,t),t}))}function M(e,t,r,i){void 0===i&&(i=1);try{var A=e.db.transaction(e.storeName,t);r(null,A)}catch(A){if(i>0&&(!e.db||"InvalidStateError"===A.name||"NotFoundError"===A.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===A.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),D(e)})).then((function(){return L(e).then((function(){M(e,t,r,i-1)}))})).catch(r);r(A)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(e){var t=this,r={db:null};if(e)for(var i in e)r[i]=e[i];var A=C[r.name];A||(A=O(),C[r.name]=A),A.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=T);var n=[];function o(){return c.resolve()}for(var s=0;s<A.forages.length;s++){var a=A.forages[s];a!==t&&n.push(a._initReady().catch(o))}var g=A.forages.slice(0);return c.all(n).then((function(){return r.db=A.db,w(r)})).then((function(e){return r.db=e,b(r,t._defaultConfig.version)?D(r):e})).then((function(e){r.db=A.db=e,t._dbInfo=r;for(var i=0;i<g.length;i++){var n=g[i];n!==t&&(n._dbInfo.db=r.db,n._dbInfo.version=r.version)}}))}function F(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){M(r._dbInfo,f,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),N(e)&&(e=R(e)),t(e)},o.onerror=function(){i(o.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function G(e,t){var r=this,i=new c((function(t,i){r.ready().then((function(){M(r._dbInfo,f,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var r=o.result;if(r){var i=r.value;N(i)&&(i=R(i));var A=e(i,r.key,s++);void 0!==A?t(A):r.continue()}else t()},o.onerror=function(){i(o.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function U(e,t,r){var i=this;e=l(e);var A=new c((function(r,A){var n;i.ready().then((function(){return n=i._dbInfo,"[object Blob]"===I.call(t)?m(n.db).then((function(e){return e?t:k(t)})):t})).then((function(t){M(i._dbInfo,E,(function(n,o){if(n)return A(n);try{var s=o.objectStore(i._dbInfo.storeName);null===t&&(t=void 0);var a=s.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),r(t)},o.onabort=o.onerror=function(){A(a.error?a.error:a.transaction.error)}}catch(e){A(e)}}))})).catch(A)}));return g(A,r),A}function x(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){M(r._dbInfo,E,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName).delete(e);n.oncomplete=function(){t()},n.onerror=function(){i(o.error)},n.onabort=function(){i(o.error?o.error:o.transaction.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function H(e){var t=this,r=new c((function(e,r){t.ready().then((function(){M(t._dbInfo,E,(function(i,A){if(i)return r(i);try{var n=A.objectStore(t._dbInfo.storeName).clear();A.oncomplete=function(){e()},A.onabort=A.onerror=function(){r(n.error?n.error:n.transaction.error)}}catch(e){r(e)}}))})).catch(r)}));return g(r,e),r}function q(e){var t=this,r=new c((function(e,r){t.ready().then((function(){M(t._dbInfo,f,(function(i,A){if(i)return r(i);try{var n=A.objectStore(t._dbInfo.storeName).count();n.onsuccess=function(){e(n.result)},n.onerror=function(){r(n.error)}}catch(e){r(e)}}))})).catch(r)}));return g(r,e),r}function J(e,t){var r=this,i=new c((function(t,i){e<0?t(null):r.ready().then((function(){M(r._dbInfo,f,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName),s=!1,a=o.openKeyCursor();a.onsuccess=function(){var r=a.result;r?0===e||s?t(r.key):(s=!0,r.advance(e)):t(null)},a.onerror=function(){i(a.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function Y(e){var t=this,r=new c((function(e,r){t.ready().then((function(){M(t._dbInfo,f,(function(i,A){if(i)return r(i);try{var n=A.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];n.onsuccess=function(){var t=n.result;t?(o.push(t.key),t.continue()):e(o)},n.onerror=function(){r(n.error)}}catch(e){r(e)}}))})).catch(r)}));return g(r,e),r}function K(e,t){t=h.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var i,A=this;if(e.name){var n=e.name===r.name&&A._dbInfo.db?c.resolve(A._dbInfo.db):w(e).then((function(t){var r=C[e.name],i=r.forages;r.db=t;for(var A=0;A<i.length;A++)i[A]._dbInfo.db=t;return t}));i=n.then(e.storeName?function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;y(e);var i=C[e.name],A=i.forages;t.close();for(var n=0;n<A.length;n++){var s=A[n];s._dbInfo.db=null,s._dbInfo.version=r}var a=new c((function(t,i){var A=o.open(e.name,r);A.onerror=function(e){A.result.close(),i(e)},A.onupgradeneeded=function(){A.result.deleteObjectStore(e.storeName)},A.onsuccess=function(){var e=A.result;e.close(),t(e)}}));return a.then((function(e){i.db=e;for(var t=0;t<A.length;t++){var r=A[t];r._dbInfo.db=e,v(r._dbInfo)}})).catch((function(t){throw(_(e,t)||c.resolve()).catch((function(){})),t}))}}:function(t){y(e);var r=C[e.name],i=r.forages;t.close();for(var A=0;A<i.length;A++)i[A]._dbInfo.db=null;var n=new c((function(t,r){var i=o.deleteDatabase(e.name);i.onerror=function(){var e=i.result;e&&e.close(),r(i.error)},i.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},i.onsuccess=function(){var e=i.result;e&&e.close(),t(e)}}));return n.then((function(e){r.db=e;for(var t=0;t<i.length;t++)v(i[t]._dbInfo)})).catch((function(t){throw(_(e,t)||c.resolve()).catch((function(){})),t}))})}else i=c.reject("Invalid arguments");return g(i,t),i}var z={_driver:"asyncStorage",_initStorage:P,_support:s(),iterate:G,getItem:F,setItem:U,removeItem:x,clear:H,length:q,key:J,keys:Y,dropInstance:K};function j(){return"function"==typeof openDatabase}var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W="~~local_forage_type~",Z=/^~~local_forage_type~([^~]+)~/,X="__lfsc__:",$=X.length,ee="arbf",te="blob",re="si08",ie="ui08",Ae="uic8",ne="si16",oe="si32",se="ur16",ae="ui32",ce="fl32",ge="fl64",ue=$+ee.length,le=Object.prototype.toString;function he(e){var t,r,i,A,n,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),g=new Uint8Array(c);for(t=0;t<s;t+=4)r=V.indexOf(e[t]),i=V.indexOf(e[t+1]),A=V.indexOf(e[t+2]),n=V.indexOf(e[t+3]),g[a++]=r<<2|i>>4,g[a++]=(15&i)<<4|A>>2,g[a++]=(3&A)<<6|63&n;return c}function de(e){var t,r=new Uint8Array(e),i="";for(t=0;t<r.length;t+=3)i+=V[r[t]>>2],i+=V[(3&r[t])<<4|r[t+1]>>4],i+=V[(15&r[t+1])<<2|r[t+2]>>6],i+=V[63&r[t+2]];return r.length%3==2?i=i.substring(0,i.length-1)+"=":r.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}function pe(e,t){var r="";if(e&&(r=le.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===le.call(e.buffer))){var i,A=X;e instanceof ArrayBuffer?(i=e,A+=ee):(i=e.buffer,"[object Int8Array]"===r?A+=re:"[object Uint8Array]"===r?A+=ie:"[object Uint8ClampedArray]"===r?A+=Ae:"[object Int16Array]"===r?A+=ne:"[object Uint16Array]"===r?A+=se:"[object Int32Array]"===r?A+=oe:"[object Uint32Array]"===r?A+=ae:"[object Float32Array]"===r?A+=ce:"[object Float64Array]"===r?A+=ge:t(new Error("Failed to get type for BinaryArray"))),t(A+de(i))}else if("[object Blob]"===r){var n=new FileReader;n.onload=function(){var r=W+e.type+"~"+de(this.result);t(X+te+r)},n.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}}function Ce(e){if(e.substring(0,$)!==X)return JSON.parse(e);var t,r=e.substring(ue),i=e.substring($,ue);if(i===te&&Z.test(r)){var A=r.match(Z);t=A[1],r=r.substring(A[0].length)}var n=he(r);switch(i){case ee:return n;case te:return a([n],{type:t});case re:return new Int8Array(n);case ie:return new Uint8Array(n);case Ae:return new Uint8ClampedArray(n);case ne:return new Int16Array(n);case se:return new Uint16Array(n);case oe:return new Int32Array(n);case ae:return new Uint32Array(n);case ce:return new Float32Array(n);case ge:return new Float64Array(n);default:throw new Error("Unkown type: "+i)}}var Ie={serialize:pe,deserialize:Ce,stringToBuffer:he,bufferToString:de};function fe(e,t,r,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,i)}function Ee(e){var t=this,r={db:null};if(e)for(var i in e)r[i]="string"!=typeof e[i]?e[i].toString():e[i];var A=new c((function(e,i){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return i(e)}r.db.transaction((function(A){fe(A,r,(function(){t._dbInfo=r,e()}),(function(e,t){i(t)}))}),i)}));return r.serializer=Ie,A}function Qe(e,t,r,i,A,n){e.executeSql(r,i,A,(function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?n(e,o):fe(e,t,(function(){e.executeSql(r,i,A,n)}),n)}),n):n(e,o)}),n)}function Be(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"SELECT * FROM "+A.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var i=r.rows.length?r.rows.item(0).value:null;i&&(i=A.serializer.deserialize(i)),t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function me(e,t){var r=this,i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"SELECT * FROM "+A.storeName,[],(function(r,i){for(var n=i.rows,o=n.length,s=0;s<o;s++){var a=n.item(s),c=a.value;if(c&&(c=A.serializer.deserialize(c)),void 0!==(c=e(c,a.key,s+1)))return void t(c)}t()}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function ye(e,t,r,i){var A=this;e=l(e);var n=new c((function(n,o){A.ready().then((function(){void 0===t&&(t=null);var s=t,a=A._dbInfo;a.serializer.serialize(t,(function(t,c){c?o(c):a.db.transaction((function(r){Qe(r,a,"INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){n(s)}),(function(e,t){o(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(i>0)return void n(ye.apply(A,[e,s,r,i-1]));o(t)}}))}))})).catch(o)}));return g(n,r),n}function ve(e,t,r){return ye.apply(this,[e,t,r,1])}function _e(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"DELETE FROM "+A.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function Se(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Qe(t,i,"DELETE FROM "+i.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return g(r,e),r}function we(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Qe(t,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(t,r){var i=r.rows.item(0).c;e(i)}),(function(e,t){r(t)}))}))})).catch(r)}));return g(r,e),r}function De(e,t){var r=this,i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"SELECT key FROM "+A.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var i=r.rows.length?r.rows.item(0).key:null;t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function be(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Qe(t,i,"SELECT key FROM "+i.storeName,[],(function(t,r){for(var i=[],A=0;A<r.rows.length;A++)i.push(r.rows.item(A).key);e(i)}),(function(e,t){r(t)}))}))})).catch(r)}));return g(r,e),r}function ke(e){return new c((function(t,r){e.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,i){for(var A=[],n=0;n<i.rows.length;n++)A.push(i.rows.item(n).name);t({db:e,storeNames:A})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}function Re(e,t){t=h.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var i,A=this;return g(i=e.name?new c((function(t){var i;i=e.name===r.name?A._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:i,storeNames:[e.storeName]}:ke(i))})).then((function(e){return new c((function(t,r){e.db.transaction((function(i){function A(e){return new c((function(t,r){i.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var n=[],o=0,s=e.storeNames.length;o<s;o++)n.push(A(e.storeNames[o]));c.all(n).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):c.reject("Invalid arguments"),t),i}var Ne={_driver:"webSQLStorage",_initStorage:Ee,_support:j(),iterate:me,getItem:Be,setItem:ve,removeItem:_e,clear:Se,length:we,key:De,keys:be,dropInstance:Re};function Te(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Le(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function Me(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Oe(){return!Me()||localStorage.length>0}function Pe(e){var t=this,r={};if(e)for(var i in e)r[i]=e[i];return r.keyPrefix=Le(e,t._defaultConfig),Oe()?(t._dbInfo=r,r.serializer=Ie,c.resolve()):c.reject()}function Fe(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var i=localStorage.key(r);0===i.indexOf(e)&&localStorage.removeItem(i)}}));return g(r,e),r}function Ge(e,t){var r=this;e=l(e);var i=r.ready().then((function(){var t=r._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}));return g(i,t),i}function Ue(e,t){var r=this,i=r.ready().then((function(){for(var t=r._dbInfo,i=t.keyPrefix,A=i.length,n=localStorage.length,o=1,s=0;s<n;s++){var a=localStorage.key(s);if(0===a.indexOf(i)){var c=localStorage.getItem(a);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,a.substring(A),o++)))return c}}}));return g(i,t),i}function xe(e,t){var r=this,i=r.ready().then((function(){var t,i=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t}));return g(i,t),i}function He(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,i=[],A=0;A<r;A++){var n=localStorage.key(A);0===n.indexOf(e.keyPrefix)&&i.push(n.substring(e.keyPrefix.length))}return i}));return g(r,e),r}function qe(e){var t=this.keys().then((function(e){return e.length}));return g(t,e),t}function Je(e,t){var r=this;e=l(e);var i=r.ready().then((function(){localStorage.removeItem(r._dbInfo.keyPrefix+e)}));return g(i,t),i}function Ye(e,t,r){var i=this;e=l(e);var A=i.ready().then((function(){void 0===t&&(t=null);var r=t;return new c((function(A,n){var o=i._dbInfo;o.serializer.serialize(t,(function(t,i){if(i)n(i);else try{localStorage.setItem(o.keyPrefix+e,t),A(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||n(e),n(e)}}))}))}));return g(A,r),A}function Ke(e,t){if(t=h.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var i,A=this;return i=e.name?new c((function(t){t(e.storeName?Le(e,A._defaultConfig):e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):c.reject("Invalid arguments"),g(i,t),i}var ze={_driver:"localStorageWrapper",_initStorage:Pe,_support:Te(),iterate:Ue,getItem:Ge,setItem:Ye,removeItem:Je,clear:Fe,length:qe,key:xe,keys:He,dropInstance:Ke},je=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ve=function(e,t){for(var r=e.length,i=0;i<r;){if(je(e[i],t))return!0;i++}return!1},We=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ze={},Xe={},$e={INDEXEDDB:z,WEBSQL:Ne,LOCALSTORAGE:ze},et=[$e.INDEXEDDB._driver,$e.WEBSQL._driver,$e.LOCALSTORAGE._driver],tt=["dropInstance"],rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),it={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function At(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function nt(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(arguments[0][r]=We(t[r])?t[r].slice():t[r])}return arguments[0]}var ot=function(){function e(t){for(var r in A(this,e),$e)if($e.hasOwnProperty(r)){var i=$e[r],n=i._driver;this[r]=n,Ze[n]||this.defineDriver(i)}this._defaultConfig=nt({},it),this._config=nt({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":i(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var i=new c((function(t,r){try{var i=e._driver,A=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(A);for(var n=rt.concat("_initStorage"),o=0,s=n.length;o<s;o++){var a=n[o];if((!Ve(tt,a)||e[a])&&"function"!=typeof e[a])return void r(A)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=c.reject(t);return g(r,arguments[arguments.length-1]),r}},r=0,i=tt.length;r<i;r++){var A=tt[r];e[A]||(e[A]=t(A))}};u();var l=function(r){Ze[i]&&console.info("Redefining LocalForage driver: "+i),Ze[i]=e,Xe[i]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,r):l(!!e._support):l(!0)}catch(e){r(e)}}));return u(i,t,r),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var i=Ze[e]?c.resolve(Ze[e]):c.reject(new Error("Driver not found."));return u(i,t,r),i},e.prototype.getSerializer=function(e){var t=c.resolve(Ie);return u(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(r,e,e),r},e.prototype.setDriver=function(e,t,r){var i=this;We(e)||(e=[e]);var A=this._getSupportedDrivers(e);function n(){i._config.driver=i.driver()}function o(e){return i._extend(e),n(),i._ready=i._initStorage(i._config),i._ready}function s(e){return function(){var t=0;function r(){for(;t<e.length;){var A=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(A).then(o).catch(r)}n();var s=new Error("No available storage method found.");return i._driverSet=c.reject(s),i._driverSet}return r()}}var a=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=a.then((function(){var e=A[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,n(),i._wrapLibraryMethodsWithReady(),i._initDriver=s(A)}))})).catch((function(){n();var e=new Error("No available storage method found.");return i._driverSet=c.reject(e),i._driverSet})),u(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!Xe[e]},e.prototype._extend=function(e){nt(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,i=e.length;r<i;r++){var A=e[r];this.supports(A)&&t.push(A)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=rt.length;e<t;e++)At(this,rt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),st=new ot;t.exports=st},{3:3}]},{},[4])(4)},4255:function(e){e.exports=r;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var A={},n={};function o(e,t){var r,i,o;return t?(o=0<=(e>>>=0)&&e<256)&&(i=n[e])?i:(r=a(e,(0|e)<0?-1:0,!0),o&&(n[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(i=A[e])?i:(r=a(e,e<0?-1:0,!1),o&&(A[e]=r),r)}function s(e,t){if(isNaN(e))return t?I:C;if(t){if(e<0)return I;if(e>=h)return m}else{if(e<=-d)return y;if(e+1>=d)return B}return e<0?s(-e,t).neg():a(e%l|0,e/l|0,t)}function a(e,t,i){return new r(e,t,i)}r.fromInt=o,r.fromNumber=s,r.fromBits=a;var c=Math.pow;function g(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return C;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return g(e.substring(1),t,r).neg();for(var A=s(c(r,8)),n=C,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),u=parseInt(e.substring(o,o+a),r);if(a<8){var l=s(c(r,a));n=n.mul(l).add(s(u))}else n=(n=n.mul(A)).add(s(u))}return n.unsigned=t,n}function u(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?g(e,t):a(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=g,r.fromValue=u;var l=4294967296,h=l*l,d=h/2,p=o(1<<24),C=o(0);r.ZERO=C;var I=o(0,!0);r.UZERO=I;var f=o(1);r.ONE=f;var E=o(1,!0);r.UONE=E;var Q=o(-1);r.NEG_ONE=Q;var B=a(-1,2147483647,!1);r.MAX_VALUE=B;var m=a(-1,-1,!0);r.MAX_UNSIGNED_VALUE=m;var y=a(0,-2147483648,!1);r.MIN_VALUE=y;var v=r.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low},v.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},v.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(y)){var t=s(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var A=s(c(e,6),this.unsigned),n=this,o="";;){var a=n.div(A),g=(n.sub(a.mul(A)).toInt()>>>0).toString(e);if((n=a).isZero())return g+o;for(;g.length<6;)g="0"+g;o=""+g+o}},v.getHighBits=function(){return this.high},v.getHighBitsUnsigned=function(){return this.high>>>0},v.getLowBits=function(){return this.low},v.getLowBitsUnsigned=function(){return this.low>>>0},v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(y)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},v.isZero=function(){return 0===this.high&&0===this.low},v.eqz=v.isZero,v.isNegative=function(){return!this.unsigned&&this.high<0},v.isPositive=function(){return this.unsigned||this.high>=0},v.isOdd=function(){return 1==(1&this.low)},v.isEven=function(){return 0==(1&this.low)},v.equals=function(e){return i(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},v.eq=v.equals,v.notEquals=function(e){return!this.eq(e)},v.neq=v.notEquals,v.ne=v.notEquals,v.lessThan=function(e){return this.comp(e)<0},v.lt=v.lessThan,v.lessThanOrEqual=function(e){return this.comp(e)<=0},v.lte=v.lessThanOrEqual,v.le=v.lessThanOrEqual,v.greaterThan=function(e){return this.comp(e)>0},v.gt=v.greaterThan,v.greaterThanOrEqual=function(e){return this.comp(e)>=0},v.gte=v.greaterThanOrEqual,v.ge=v.greaterThanOrEqual,v.compare=function(e){if(i(e)||(e=u(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},v.comp=v.compare,v.negate=function(){return!this.unsigned&&this.eq(y)?y:this.not().add(f)},v.neg=v.negate,v.add=function(e){i(e)||(e=u(e));var t=0,r=0,A=0,n=0;return A+=(n+=(65535&this.low)+(65535&e.low))>>>16,r+=(A+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(r+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),a((A&=65535)<<16|(n&=65535),(t&=65535)<<16|(r&=65535),this.unsigned)},v.subtract=function(e){return i(e)||(e=u(e)),this.add(e.neg())},v.sub=v.subtract,v.multiply=function(e){if(this.isZero())return C;if(i(e)||(e=u(e)),t)return a(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return C;if(this.eq(y))return e.isOdd()?y:C;if(e.eq(y))return this.isOdd()?y:C;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return s(this.toNumber()*e.toNumber(),this.unsigned);var r=65535&this.high,A=this.low>>>16,n=65535&this.low,o=65535&e.high,c=e.low>>>16,g=65535&e.low,l=0,h=0,d=0,I=0;return d+=(I+=n*g)>>>16,h+=(d+=A*g)>>>16,d&=65535,h+=(d+=n*c)>>>16,l+=(h+=r*g)>>>16,h&=65535,l+=(h+=A*c)>>>16,h&=65535,l+=(h+=n*o)>>>16,l+=(this.high>>>16)*g+r*c+A*o+n*(e.high>>>16),a((d&=65535)<<16|(I&=65535),(l&=65535)<<16|(h&=65535),this.unsigned)},v.mul=v.multiply,v.divide=function(e){if(i(e)||(e=u(e)),e.isZero())throw Error("division by zero");var r,A,n;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?a((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?I:C;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return I;if(e.gt(this.shru(1)))return E;n=I}else{if(this.eq(y))return e.eq(f)||e.eq(Q)?y:e.eq(y)?f:(r=this.shr(1).div(e).shl(1)).eq(C)?e.isNegative()?f:Q:(A=this.sub(e.mul(r)),n=r.add(A.div(e)));if(e.eq(y))return this.unsigned?I:C;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=C}for(A=this;A.gte(e);){r=Math.max(1,Math.floor(A.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),g=o<=48?1:c(2,o-48),l=s(r),h=l.mul(e);h.isNegative()||h.gt(A);)h=(l=s(r-=g,this.unsigned)).mul(e);l.isZero()&&(l=f),n=n.add(l),A=A.sub(h)}return n},v.div=v.divide,v.modulo=function(e){return i(e)||(e=u(e)),t?a((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},v.mod=v.modulo,v.rem=v.modulo,v.not=function(){return a(~this.low,~this.high,this.unsigned)},v.and=function(e){return i(e)||(e=u(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},v.or=function(e){return i(e)||(e=u(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},v.xor=function(e){return i(e)||(e=u(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},v.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},v.shl=v.shiftLeft,v.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},v.shr=v.shiftRight,v.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?a(this.low>>>e|t<<32-e,t>>>e,this.unsigned):a(32===e?t:t>>>e-32,0,this.unsigned)},v.shru=v.shiftRightUnsigned,v.shr_u=v.shiftRightUnsigned,v.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},v.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},v.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},v.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},v.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,i){return i?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},4799:function(e,t,r){"use strict";e.exports=r(3388)},3388:function(e,t,r){"use strict";var i=t;function A(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=r(420),i.BufferWriter=r(9461),i.Reader=r(8350),i.BufferReader=r(9115),i.util=r(1990),i.rpc=r(5375),i.roots=r(4765),i.configure=A,A()},8350:function(e,t,r){"use strict";e.exports=a;var i,A=r(1990),n=A.LongBits,o=A.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e,this.pos=0,this.len=e.length}var c,g="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a(e);throw Error("illegal buffer")},u=function(){return A.Buffer?function(e){return(a.create=function(e){return A.Buffer.isBuffer(e)?new i(e):g(e)})(e)}:g};function l(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new n(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}a.create=u(),a.prototype._slice=A.Array.prototype.subarray||A.Array.prototype.slice,a.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),a.prototype.int32=function(){return 0|this.uint32()},a.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a.prototype.bool=function(){return 0!==this.uint32()},a.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},a.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=A.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},a.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=A.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},a.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},a.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},a.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a._configure=function(e){i=e,a.create=u(),i._configure();var t=A.Long?"toLong":"toNumber";A.merge(a.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},9115:function(e,t,r){"use strict";e.exports=n;var i=r(8350);(n.prototype=Object.create(i.prototype)).constructor=n;var A=r(1990);function n(e){i.call(this,e)}n._configure=function(){A.Buffer&&(n.prototype._slice=A.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},4765:function(e){"use strict";e.exports={}},5375:function(e,t,r){"use strict";t.Service=r(1909)},1909:function(e,t,r){"use strict";e.exports=A;var i=r(1990);function A(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(A.prototype=Object.create(i.EventEmitter.prototype)).constructor=A,A.prototype.rpcCall=function e(t,r,A,n,o){if(!n)throw TypeError("request must be specified");var s=this;if(!o)return i.asPromise(e,s,t,r,A,n);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function(e,r){if(e)return s.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof A))try{r=A[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",r,t),o(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},A.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},9129:function(e,t,r){"use strict";e.exports=A;var i=r(1990);function A(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=A.zero=new A(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var o=A.zeroHash="\0\0\0\0\0\0\0\0";A.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new A(r,i)},A.from=function(e){if("number"==typeof e)return A.fromNumber(e);if(i.isString(e)){if(!i.Long)return A.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new A(e.low>>>0,e.high>>>0):n},A.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},A.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;A.fromHash=function(e){return e===o?n:new A((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},A.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},A.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},A.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},A.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},1990:function(e,t,r){"use strict";var i=t;function A(e,t,r){for(var i=Object.keys(t),A=0;A<i.length;++A)void 0!==e[i[A]]&&r||(e[i[A]]=t[i[A]]);return e}function n(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&A(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}i.asPromise=r(5467),i.base64=r(4595),i.EventEmitter=r(121),i.float=r(7333),i.inquire=r(3330),i.utf8=r(4505),i.pool=r(7219),i.LongBits=r(9129),i.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),i.global=i.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},i.merge=A,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=n,i.ProtocolError=n("ProtocolError"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&null!=this[e[r]])return e[r]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},420:function(e,t,r){"use strict";e.exports=u;var i,A=r(1990),n=A.LongBits,o=A.base64,s=A.utf8;function a(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function g(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new a(c,0,0),this.tail=this.head,this.states=null}var l=function(){return A.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};function h(e,t,r){t[r]=255&e}function d(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function C(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=l(),u.alloc=function(e){return new A.Array(e)},A.Array!==Array&&(u.alloc=A.pool(u.alloc,A.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new a(e,t,r),this.len+=t,this},(d.prototype=Object.create(a.prototype)).fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(p,10,n.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.int64=u.prototype.uint64=function(e){var t=n.from(e);return this._push(p,t.length(),t)},u.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(p,t.length(),t)},u.prototype.bool=function(e){return this._push(h,1,e?1:0)},u.prototype.sfixed32=u.prototype.fixed32=function(e){return this._push(C,4,e>>>0)},u.prototype.sfixed64=u.prototype.fixed64=function(e){var t=n.from(e);return this._push(C,4,t.lo)._push(C,4,t.hi)},u.prototype.float=function(e){return this._push(A.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(A.float.writeDoubleLE,8,e)};var I=A.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(A.isString(e)){var r=u.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(I,t,e)},u.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},u.prototype.fork=function(){return this.states=new g(this),this.head=this.tail=new a(c,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(c,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){i=e,u.create=l(),i._configure()}},9461:function(e,t,r){"use strict";e.exports=n;var i=r(420);(n.prototype=Object.create(i.prototype)).constructor=n;var A=r(1990);function n(){i.call(this)}function o(e,t,r){e.length<40?A.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}n._configure=function(){n.alloc=A._Buffer_allocUnsafe,n.writeBytesBuffer=A.Buffer&&A.Buffer.prototype instanceof Uint8Array&&"set"===A.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},n.prototype.bytes=function(e){A.isString(e)&&(e=A._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=A.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},n._configure()},8413:function(e,t,r){"use strict";for(var i=r(4799),A=i.roots,n=i.types?i.types.basic:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0,string:2,bytes:2},o=i.types?i.types.packed:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0},s=Object.keys(n),a=i.util.Long?i.util.Long.fromBits:function(){return 0},c={$:function(e){return c[e]?c[e].call(this):A[e].decode?A[e].decode(this,this.uint32()):c.$.call(this,"int32")}},g={$:function(e,t,r){var i=n[e];return void 0===i?A[e].encode?(this.uint32((r<<3|2)>>0).fork(),A[e].encode(t,this).ldelim()):g.$.call(this,"int32",t,r):g[e].call(this.uint32(r<<3|i),t)}},u=0;u<s.length;u++)c[s[u]]=i.Reader.prototype[s[u]],g[s[u]]=i.Writer.prototype[s[u]];!function e(t,r,n,s){for(var u=0,l=Object.keys(t);u<l.length;u++){var h=l[u];if(t[h].$m&&Object.keys(t[h].$m).every((function(e){return Number(e)}))){if(n[h])throw Error(`nested type ${n}.${h} has already exist`);n[h]=function(t,A){function n(e){for(var r in t){var i=t[r];"{"===i[1].charAt(0)?this[i[0]]={}:"["!==i[1].charAt(0)&&"<"!==i[1].charAt(0)||(this[i[0]]=[])}if(e)for(var A=Object.keys(e),n=0;n<A.length;++n)null!=e[A[n]]&&(this[A[n]]=e[A[n]])}var s={};for(var u in t){var l=t[u],h=l[1];"{"===h.charAt(0)?(n.prototype[l[0]]=i.util.emptyObject,s[h]={$m:h.substring(1).split(",").map((function(e,t){return[`$${t+1}`,e,null]})).reduce((function(e,t,r){return e[r+1]=t,e}),{})}):n.prototype[l[0]]="["===h.charAt(0)||"<"===h.charAt(0)?i.util.emptyArray:"bytes"===h?i.util.newBuffer([]):l[2]&&l[2].hasOwnProperty("low")&&l[2].hasOwnProperty("high")?a(l[2].low,l[2].high,l[2].unsigned):l[2]}return n.create=function(e){return new n(e)},n.decode=function(e,r){e instanceof i.Reader||(e=i.Reader.create(e));for(var A=void 0===r?e.len:e.pos+r,s=new n;e.pos<A;){var a=e.uint32(),g=a>>>3;if(g>0&&t[g]){var u=t[g][0],l=t[g][1];if("{"===l.charAt(0)){s[u]===i.util.emptyObject&&(s[u]={});var h=n.$namespace[l].decode(e,e.uint32());s[u][h.$1]=h.$2}else if("["===l.charAt(0)||"<"===l.charAt(0))if(l=l.substring(1),s[u]&&s[u].length||(s[u]=[]),void 0!==o[l]&&2==(7&a))for(var d=e.uint32()+e.pos;e.pos<d;)s[u].push(c.$.call(e,l));else s[u].push(c.$.call(e,l));else s[u]=c.$.call(e,l)}else e.skipType(7&a)}return s},n.encode=function(e,r){for(var A in r||(r=i.Writer.create()),t){var s=t[A][0],a=t[A][1];if("{"===a.charAt(0)){if(null!=e[s]&&e.hasOwnProperty(s))for(var c=0,u=Object.keys(e[s]);c<u.length;++c)r.uint32((A<<3|2)>>0).fork(),n.$namespace[a].encode({$1:u[c],$2:e[s][u[c]]},r).ldelim()}else if("["===a.charAt(0)||"<"===a.charAt(0)){var l="<"===a.charAt(0);a=a.substring(1);var h=e[s];if(null!=h&&h.length)if(l&&void 0!==o[a]){r.uint32((A<<3|2)>>0).fork();for(c=0;c<h.length;c++)g[a].call(r,h[c]);r.ldelim()}else for(c=0;c<h.length;c++)g.$.call(r,a,h[c],A)}else null!=e[s]&&e.hasOwnProperty(s)&&g.$.call(r,a,e[s],A)}return r},Object.keys(s).length&&(n.$namespace=e(s,r+"."+A,n.$namespace||{},!0)),n}(t[h].$m,h)}else t[h].$s?n[h]=function(e,t){function n(e,t,r){i.rpc.Service.call(this,e,t,r)}return(n.prototype=Object.create(i.rpc.Service.prototype)).constructor=n,n.create=function(e,t,r){return new n(e,t,r)},Object.keys(e).forEach((function(i){var o=e[i];function s(e,t){return this.rpcCall(s,A[o[0]],A[o[1]],e,t)}Object.defineProperty(s,"name",{value:i}),Object.defineProperty(s,"path",{value:`${r}.${t}`}),n.prototype[i]=s})),n}(t[h].$s,h):t[h].$e&&Object.values(t[h].$e).every((function(e){return Number(e)===e}))&&(n[h]=function(e,t){for(var r=Object.keys(e),i={},A=0;A<r.length;A++)i[i[r[A]]=e[r[A]]]=r[A];return i}(t[h].$e));n[h]&&!s&&(A[`${r}.${h}`]=n[h]),delete t[h].$m,delete t[h].$s,delete t[h].$e,n[h]=e(t[h],r?`${r}.${h}`:h,n[h]||{})}return n}({mixstream:{proto_mixstream:{MixAdvanceConfig:{$m:{1:["key","string",""],2:["value","string",""]}},MixImage:{$m:{1:["url","string",""]}},MixInputStream:{$m:{1:["stream_input_common","mixstream.proto_mixstream.MixInputStreamCommon",null],2:["volume","int32",0],3:["audio_focus","int32",0],4:["audio_h_angle","int32",0],5:["render_mode","int32",0],6:["corner_radius","uint32",0],7:["label","mixstream.proto_mixstream.MixLabel",null],8:["image","mixstream.proto_mixstream.MixImage",null]}},MixInputStreamCommon:{$m:{1:["stream_id","string",""],2:["sound_level_id","uint32",0],3:["content_control","int32",0],4:["layer_rect","mixstream.proto_mixstream.MixRect",null]}},MixLabel:{$m:{1:["text","string",""],2:["text_left","int32",0],3:["text_top","int32",0],4:["font","mixstream.proto_mixstream.MixLableFont",null]}},MixLableFont:{$m:{1:["font_type","int32",0],2:["font_size","int32",0],3:["font_color","int32",0],4:["font_transparency","int32",0],5:["font_border_color","sint32",0]}},MixOutputStream:{$m:{1:["output_stream_common","mixstream.proto_mixstream.MixOutputStreamCommon",null],2:["video_enc_id","int32",0],3:["video_encode_latency","int32",0],4:["video_encode_profile","int32",0]}},MixOutputStreamCommon:{$m:{1:["is_url","int32",0],2:["target","string",""],3:["video_fps","int32",0],4:["rate_control_mode","int32",0],5:["video_bitrate","int32",0],6:["video_width","int32",0],7:["video_height","int32",0],8:["output_quality","int32",0],9:["audio_bitrate","int32",0],10:["audio_enc_id","int32",0]}},MixRect:{$m:{1:["top","int32",0],2:["left","int32",0],3:["bottom","int32",0],4:["right","int32",0],5:["layer","int32",0]}},MixStartReplyData:{$m:{1:["request_id","string",""],2:["play_infos","<mixstream.proto_mixstream.PlayInfo",null]}},MixStreamCommon:{$m:{1:["user_data","string",""],2:["output_bg_color","int32",0],3:["output_bg_image","string",""],4:["with_sound_level","int32",0],5:["single_stream_pass_through","int32",0],6:["alignment_type","int32",0]}},MixstreamServerCommonResponse:{$m:{1:["code","uint32",0],2:["message","string",""]}},MixStreamStartRequest:{$m:{1:["request_seq","uint32",0],2:["mix_protocol_version","int32",0],3:["task_id","string",""],4:["room_id","string",""],5:["mix_stream_common","mixstream.proto_mixstream.MixStreamCommon",null],6:["audio_channel_cnt","int32",0],7:["audio_mix_mode","int32",0],8:["recv_buffer_level","sint32",0],9:["input_stream","<mixstream.proto_mixstream.MixInputStream",null],10:["water_mark","mixstream.proto_mixstream.MixWaterMark",null],11:["advance_config","<mixstream.proto_mixstream.MixAdvanceConfig",null],12:["output_stream","<mixstream.proto_mixstream.MixOutputStream",null],13:["white_board","mixstream.proto_mixstream.MixWhiteBoard",null],14:["timestamp","int64",{low:0,high:0,unsigned:!1}]}},MixStreamStartResponse:{$m:{1:["request_seq","uint32",0],2:["common_response","mixstream.proto_mixstream.MixstreamServerCommonResponse",null],3:["data","mixstream.proto_mixstream.MixStartReplyData",null],4:["error_streamid_list","<string",null]}},MixStreamStopRequest:{$m:{1:["request_seq","uint32",0],2:["task_id","string",""],3:["room_id","string",""],4:["is_url","int32",0],5:["target","string",""],6:["timestamp","int64",{low:0,high:0,unsigned:!1}]}},MixStreamStopResponse:{$m:{1:["request_seq","uint32",0],2:["common_response","mixstream.proto_mixstream.MixstreamServerCommonResponse",null]}},MixWaterMark:{$m:{1:["image","string",""],2:["layout_rect","mixstream.proto_mixstream.MixRect",null]}},MixWhiteBoard:{$m:{1:["whiteboard_id","uint64",{low:0,high:0,unsigned:!0}],2:["horizontal_ratio","int32",0],3:["vertical_ratio","int32",0],4:["is_ppt_animation","int32",0],5:["layout_rect","mixstream.proto_mixstream.MixRect",null]}},PlayInfo:{$m:{1:["stream_alias","string",""],2:["rtmp_url","string",""],3:["hls_url","string",""],4:["hdl_url","string",""]}}}}},"",A,!1),i.util.global.mixstream=A.mixstream,t.Z=A.mixstream},1054:function(e,t,r){"use strict";var i,A=r(4799),n=A.Reader,o=A.Writer,s=A.roots.default||(A.roots.default={});s.proto_media=((i={}).MediaServerCommonResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.code=0,e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new s.proto_media.MediaServerCommonResponse;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.code=e.uint32();break;case 2:i.message=e.string();break;default:e.skipType(7&A)}}return i},e}(),i.RelayPublishCdnRequest=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.request_seq=0,e.prototype.request_cmd=0,e.prototype.streamid="",e.prototype.cdn_server="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.request_seq&&Object.hasOwnProperty.call(e,"request_seq")&&t.uint32(8).uint32(e.request_seq),null!=e.request_cmd&&Object.hasOwnProperty.call(e,"request_cmd")&&t.uint32(16).int32(e.request_cmd),null!=e.streamid&&Object.hasOwnProperty.call(e,"streamid")&&t.uint32(26).string(e.streamid),null!=e.cdn_server&&Object.hasOwnProperty.call(e,"cdn_server")&&t.uint32(34).string(e.cdn_server),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new s.proto_media.RelayPublishCdnRequest;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.request_seq=e.uint32();break;case 2:i.request_cmd=e.int32();break;case 3:i.streamid=e.string();break;case 4:i.cdn_server=e.string();break;default:e.skipType(7&A)}}return i},e}(),i.RelayPublishCdnResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.request_seq=0,e.prototype.response=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.request_seq&&Object.hasOwnProperty.call(e,"request_seq")&&t.uint32(8).uint32(e.request_seq),null!=e.response&&Object.hasOwnProperty.call(e,"response")&&s.proto_media.MediaServerCommonResponse.encode(e.response,t.uint32(18).fork()).ldelim(),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new s.proto_media.RelayPublishCdnResponse;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.request_seq=e.uint32();break;case 2:i.response=s.proto_media.MediaServerCommonResponse.decode(e,e.uint32());break;default:e.skipType(7&A)}}return i},e}(),i),e.exports=s},6602:function(e,t,r){"use strict";var i,A,n,o=r(4799),s=o.Reader,a=o.Writer,c=o.roots.default||(o.roots.default={});c.generalpclib=((n={}).CmbType=(i={},(A=Object.create(i))[i[100]="CMD_TYPE_BUSINESS_REQUEST"]=100,A[i[101]="CMD_TYPE_BUSINESS_RESPONSE"]=101,A),n.Header=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.cmd=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(8).uint32(e.cmd),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.generalpclib.Header;e.pos<r;){var A=e.uint32();A>>>3==1?i.cmd=e.uint32():e.skipType(7&A)}return i},e}(),n),e.exports=c},2990:function(e,t,r){"use strict";var i,A=r(4799),n=A.Writer,o=A.util,s=A.roots.default||(A.roots.default={});s.logreport=((i={}).SpeedLogHead=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.version=0,e.prototype.signature=o.newBuffer([]),e.prototype.timestamp=0,e.prototype.event=0,e.prototype.app_id=0,e.prototype.user_id="",e.prototype.biz_type=0,e.prototype.device_id="",e.prototype.lite_sign=o.newBuffer([]),e.prototype.token=o.newBuffer([]),e.prototype.os_type="",e.prototype.sdk_version="",e.prototype.time_offset=o.Long?o.Long.fromBits(0,0,!1):0,e.prototype.scenario=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).uint32(e.version),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(18).bytes(e.signature),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).uint32(e.timestamp),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(32).uint32(e.event),null!=e.app_id&&Object.hasOwnProperty.call(e,"app_id")&&t.uint32(40).uint32(e.app_id),null!=e.user_id&&Object.hasOwnProperty.call(e,"user_id")&&t.uint32(50).string(e.user_id),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(56).uint32(e.biz_type),null!=e.device_id&&Object.hasOwnProperty.call(e,"device_id")&&t.uint32(66).string(e.device_id),null!=e.lite_sign&&Object.hasOwnProperty.call(e,"lite_sign")&&t.uint32(74).bytes(e.lite_sign),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(82).bytes(e.token),null!=e.os_type&&Object.hasOwnProperty.call(e,"os_type")&&t.uint32(90).string(e.os_type),null!=e.sdk_version&&Object.hasOwnProperty.call(e,"sdk_version")&&t.uint32(98).string(e.sdk_version),null!=e.time_offset&&Object.hasOwnProperty.call(e,"time_offset")&&t.uint32(104).int64(e.time_offset),null!=e.scenario&&Object.hasOwnProperty.call(e,"scenario")&&t.uint32(112).uint32(e.scenario),t},e.ProtoVersion=(t={},(r=Object.create(t))[t[0]="PROTO_VERSION"]=0,r[t[1]="PROTO_VERSION1"]=1,r[t[2]="PROTO_VERSION2"]=2,r[t[3]="PROTO_VERSION3"]=3,r[t[4]="PROTO_VERSION4"]=4,r[t[5]="PROTO_VERSION5"]=5,r[t[6]="PROTO_VERSION6"]=6,r[t[7]="PROTO_VERSION7"]=7,r[t[8]="PROTO_VERSION8"]=8,r[t[9]="PROTO_VERSION9"]=9,r[t[10]="PROTO_VERSION10"]=10,r[t[11]="PROTO_VERSION11"]=11,r[t[12]="PROTO_VERSION12"]=12,r[t[13]="PROTO_VERSION13"]=13,r[t[14]="PROTO_VERSION14"]=14,r),e.Event=function(){var e={},t=Object.create(e);return t[e[0]="QUALITY_EVENT"]=0,t[e[100]="NO_BILLING_EVENT"]=100,t[e[300]="DETECT_QUALITY_EVENT"]=300,t}(),e.BizType=function(){var e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="LIVE"]=1,t[e[2]="RTV"]=2,t}(),e.ZegoScenario=function(){var e={},t=Object.create(e);return t[e[0]="ZEGO_SCENARIO_GENERAL"]=0,t[e[1]="ZEGO_SCENARIO_COMMUNICATION"]=1,t[e[2]="ZEGO_SCENARIO_LIVE"]=2,t[e[3]="ZEGO_SCENARIO_DEFAULT"]=3,t[e[4]="ZEGO_SCENARIO_STANDARD_VIDEO_CALL"]=4,t[e[5]="ZEGO_SCENARIO_HIGH_QUALITY_VIDEO_CALL"]=5,t[e[6]="ZEGO_SCENARIO_STANDARD_CHATROOM"]=6,t[e[7]="ZEGO_SCENARIO_HIGH_QUALITY_CHATROOM"]=7,t[e[8]="ZEGO_SCENARIO_BROADCAST"]=8,t[e[9]="ZEGO_SCENARIO_KARAOKE"]=9,t[e[99]="ZEGO_SCENARIO_UNDEFINED"]=99,t}(),e}(),i.SpeedLogRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.code=0,e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},e}(),i.QualityEvent=function(){function e(e){if(this.publish_quality_infos=[],this.play_quality_infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.hardware_infos=null,e.prototype.publish_quality_infos=o.emptyArray,e.prototype.play_quality_infos=o.emptyArray,e.prototype.network_type=0,e.prototype.charge_infos=null,e.prototype.server_time=o.Long?o.Long.fromBits(0,0,!1):0,e.prototype.client_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.hardware_infos&&Object.hasOwnProperty.call(e,"hardware_infos")&&s.logreport.HardwareInfos.encode(e.hardware_infos,t.uint32(10).fork()).ldelim(),null!=e.publish_quality_infos&&e.publish_quality_infos.length)for(var r=0;r<e.publish_quality_infos.length;++r)s.logreport.PublishQualityInfos.encode(e.publish_quality_infos[r],t.uint32(18).fork()).ldelim();if(null!=e.play_quality_infos&&e.play_quality_infos.length)for(r=0;r<e.play_quality_infos.length;++r)s.logreport.PlayQualityInfos.encode(e.play_quality_infos[r],t.uint32(26).fork()).ldelim();return null!=e.network_type&&Object.hasOwnProperty.call(e,"network_type")&&t.uint32(32).uint32(e.network_type),null!=e.charge_infos&&Object.hasOwnProperty.call(e,"charge_infos")&&s.logreport.ChargeInfos.encode(e.charge_infos,t.uint32(42).fork()).ldelim(),null!=e.server_time&&Object.hasOwnProperty.call(e,"server_time")&&t.uint32(48).int64(e.server_time),null!=e.client_type&&Object.hasOwnProperty.call(e,"client_type")&&t.uint32(800).uint32(e.client_type),t},e.ResourceType=(t={},(r=Object.create(t))[t[0]="UNKNOWN"]=0,r[t[1]="CDN"]=1,r[t[2]="RTC"]=2,r[t[3]="L3"]=3,r[t[4]="P2P"]=4,r),e}(),i.HardwareInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.infos=o.emptyArray,e.prototype.sys_mem_total=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,"timestamp_offset_begin")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,"timestamp_offset_end")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)s.logreport.HardwareInfo.encode(e.infos[r],t.uint32(26).fork()).ldelim();return null!=e.sys_mem_total&&Object.hasOwnProperty.call(e,"sys_mem_total")&&t.uint32(32).uint32(e.sys_mem_total),t},e}(),i.PublishQualityInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.stream_id="",e.prototype.session_id=0,e.prototype.video_width=0,e.prototype.video_height=0,e.prototype.ipv4=0,e.prototype.ipv6="",e.prototype.resource_type=0,e.prototype.infos=o.emptyArray,e.prototype.room_id="",e.prototype.evnvironment=0,e.prototype.ap="",e.prototype.session="",e.prototype.room_session_id=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.protocol_type=0,e.prototype.setting_video_bitrate=0,e.prototype.setting_audio_bitrate=0,e.prototype.setting_video_fps=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,"timestamp_offset_begin")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,"timestamp_offset_end")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.stream_id&&Object.hasOwnProperty.call(e,"stream_id")&&t.uint32(26).string(e.stream_id),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(32).uint32(e.session_id),null!=e.video_width&&Object.hasOwnProperty.call(e,"video_width")&&t.uint32(40).uint32(e.video_width),null!=e.video_height&&Object.hasOwnProperty.call(e,"video_height")&&t.uint32(48).uint32(e.video_height),null!=e.ipv4&&Object.hasOwnProperty.call(e,"ipv4")&&t.uint32(56).uint32(e.ipv4),null!=e.ipv6&&Object.hasOwnProperty.call(e,"ipv6")&&t.uint32(66).string(e.ipv6),null!=e.resource_type&&Object.hasOwnProperty.call(e,"resource_type")&&t.uint32(72).uint32(e.resource_type),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)s.logreport.PublishQualityInfo.encode(e.infos[r],t.uint32(82).fork()).ldelim();return null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(90).string(e.room_id),null!=e.evnvironment&&Object.hasOwnProperty.call(e,"evnvironment")&&t.uint32(104).uint32(e.evnvironment),null!=e.ap&&Object.hasOwnProperty.call(e,"ap")&&t.uint32(114).string(e.ap),null!=e.session&&Object.hasOwnProperty.call(e,"session")&&t.uint32(122).string(e.session),null!=e.room_session_id&&Object.hasOwnProperty.call(e,"room_session_id")&&t.uint32(128).uint64(e.room_session_id),null!=e.protocol_type&&Object.hasOwnProperty.call(e,"protocol_type")&&t.uint32(136).uint32(e.protocol_type),null!=e.setting_video_bitrate&&Object.hasOwnProperty.call(e,"setting_video_bitrate")&&t.uint32(144).uint32(e.setting_video_bitrate),null!=e.setting_audio_bitrate&&Object.hasOwnProperty.call(e,"setting_audio_bitrate")&&t.uint32(152).uint32(e.setting_audio_bitrate),null!=e.setting_video_fps&&Object.hasOwnProperty.call(e,"setting_video_fps")&&t.uint32(160).uint32(e.setting_video_fps),t},e}(),i.PlayQualityInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.stream_id="",e.prototype.session_id=0,e.prototype.video_width=0,e.prototype.video_height=0,e.prototype.ipv4=0,e.prototype.ipv6="",e.prototype.resource_type=0,e.prototype.infos=o.emptyArray,e.prototype.room_id="",e.prototype.session="",e.prototype.room_session_id=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.protocol_type=0,e.prototype.product=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,"timestamp_offset_begin")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,"timestamp_offset_end")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.stream_id&&Object.hasOwnProperty.call(e,"stream_id")&&t.uint32(26).string(e.stream_id),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(32).uint32(e.session_id),null!=e.video_width&&Object.hasOwnProperty.call(e,"video_width")&&t.uint32(40).uint32(e.video_width),null!=e.video_height&&Object.hasOwnProperty.call(e,"video_height")&&t.uint32(48).uint32(e.video_height),null!=e.ipv4&&Object.hasOwnProperty.call(e,"ipv4")&&t.uint32(56).uint32(e.ipv4),null!=e.ipv6&&Object.hasOwnProperty.call(e,"ipv6")&&t.uint32(66).string(e.ipv6),null!=e.resource_type&&Object.hasOwnProperty.call(e,"resource_type")&&t.uint32(72).uint32(e.resource_type),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)s.logreport.PlayQualityInfo.encode(e.infos[r],t.uint32(82).fork()).ldelim();return null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(90).string(e.room_id),null!=e.session&&Object.hasOwnProperty.call(e,"session")&&t.uint32(106).string(e.session),null!=e.room_session_id&&Object.hasOwnProperty.call(e,"room_session_id")&&t.uint32(112).uint64(e.room_session_id),null!=e.protocol_type&&Object.hasOwnProperty.call(e,"protocol_type")&&t.uint32(120).uint32(e.protocol_type),null!=e.product&&Object.hasOwnProperty.call(e,"product")&&t.uint32(128).uint32(e.product),t},e}(),i.ChargeInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.timestamp_diff_flag=0,e.prototype.timestamp_diff=0,e.prototype.room_id="",e.prototype.infos=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,"timestamp_offset_begin")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,"timestamp_offset_end")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.timestamp_diff_flag&&Object.hasOwnProperty.call(e,"timestamp_diff_flag")&&t.uint32(24).uint32(e.timestamp_diff_flag),null!=e.timestamp_diff&&Object.hasOwnProperty.call(e,"timestamp_diff")&&t.uint32(32).uint32(e.timestamp_diff),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(42).string(e.room_id),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)s.logreport.ChargeInfo.encode(e.infos[r],t.uint32(802).fork()).ldelim();return t},e}(),i.HardwareInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.sys_cpu_used=0,e.prototype.app_cpu_used=0,e.prototype.sys_mem_used=0,e.prototype.app_mem_used=0,e.prototype.sample_time_offset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.sys_cpu_used&&Object.hasOwnProperty.call(e,"sys_cpu_used")&&t.uint32(8).uint32(e.sys_cpu_used),null!=e.app_cpu_used&&Object.hasOwnProperty.call(e,"app_cpu_used")&&t.uint32(16).uint32(e.app_cpu_used),null!=e.sys_mem_used&&Object.hasOwnProperty.call(e,"sys_mem_used")&&t.uint32(24).uint32(e.sys_mem_used),null!=e.app_mem_used&&Object.hasOwnProperty.call(e,"app_mem_used")&&t.uint32(32).uint32(e.app_mem_used),null!=e.sample_time_offset&&Object.hasOwnProperty.call(e,"sample_time_offset")&&t.uint32(40).uint32(e.sample_time_offset),t},e}(),i.PublishQualityInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.audio_bitrate=0,e.prototype.video_bitrate=0,e.prototype.video_capture_fps=0,e.prototype.video_network_fps=0,e.prototype.uplink_plr=0,e.prototype.rtt=0,e.prototype.audio_network_fps=0,e.prototype.captured_sound_level=0,e.prototype.quality=0,e.prototype.sample_time_offset=0,e.prototype.sample_time_window=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.audio_bitrate&&Object.hasOwnProperty.call(e,"audio_bitrate")&&t.uint32(8).uint32(e.audio_bitrate),null!=e.video_bitrate&&Object.hasOwnProperty.call(e,"video_bitrate")&&t.uint32(16).uint32(e.video_bitrate),null!=e.video_capture_fps&&Object.hasOwnProperty.call(e,"video_capture_fps")&&t.uint32(24).uint32(e.video_capture_fps),null!=e.video_network_fps&&Object.hasOwnProperty.call(e,"video_network_fps")&&t.uint32(32).uint32(e.video_network_fps),null!=e.uplink_plr&&Object.hasOwnProperty.call(e,"uplink_plr")&&t.uint32(40).uint32(e.uplink_plr),null!=e.rtt&&Object.hasOwnProperty.call(e,"rtt")&&t.uint32(48).uint32(e.rtt),null!=e.audio_network_fps&&Object.hasOwnProperty.call(e,"audio_network_fps")&&t.uint32(56).uint32(e.audio_network_fps),null!=e.captured_sound_level&&Object.hasOwnProperty.call(e,"captured_sound_level")&&t.uint32(64).uint32(e.captured_sound_level),null!=e.quality&&Object.hasOwnProperty.call(e,"quality")&&t.uint32(72).uint32(e.quality),null!=e.sample_time_offset&&Object.hasOwnProperty.call(e,"sample_time_offset")&&t.uint32(80).uint32(e.sample_time_offset),null!=e.sample_time_window&&Object.hasOwnProperty.call(e,"sample_time_window")&&t.uint32(800).uint32(e.sample_time_window),t},e}(),i.PlayQualityInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.audio_bitrate=0,e.prototype.video_bitrate=0,e.prototype.video_network_fps=0,e.prototype.audio_break_count=0,e.prototype.video_break_count=0,e.prototype.downlink_plr=0,e.prototype.peer_to_peer_plr=0,e.prototype.peer_to_peer_delay=0,e.prototype.audio_network_fps=0,e.prototype.audio_break_duration=0,e.prototype.video_break_duration=0,e.prototype.audio_break_rate=0,e.prototype.video_break_rate=0,e.prototype.audio_break_cancel=0,e.prototype.video_break_cancel=0,e.prototype.rtt=0,e.prototype.rendered_sound_level=0,e.prototype.audio_break_cancel_duration=0,e.prototype.video_break_cancel_duration=0,e.prototype.audio_decode_time=0,e.prototype.video_decode_time=0,e.prototype.real_sampling_interval=0,e.prototype.mos=0,e.prototype.audio_decode_fps=0,e.prototype.video_decode_fps=0,e.prototype.video_frames_decoded=0,e.prototype.video_frames_dropped=0,e.prototype.quality=0,e.prototype.evaluation_quality=0,e.prototype.break_stat_duration=0,e.prototype.sample_time_offset=0,e.prototype.sample_time_window=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.audio_bitrate&&Object.hasOwnProperty.call(e,"audio_bitrate")&&t.uint32(8).uint32(e.audio_bitrate),null!=e.video_bitrate&&Object.hasOwnProperty.call(e,"video_bitrate")&&t.uint32(16).uint32(e.video_bitrate),null!=e.video_network_fps&&Object.hasOwnProperty.call(e,"video_network_fps")&&t.uint32(24).uint32(e.video_network_fps),null!=e.audio_break_count&&Object.hasOwnProperty.call(e,"audio_break_count")&&t.uint32(32).uint32(e.audio_break_count),null!=e.video_break_count&&Object.hasOwnProperty.call(e,"video_break_count")&&t.uint32(40).uint32(e.video_break_count),null!=e.downlink_plr&&Object.hasOwnProperty.call(e,"downlink_plr")&&t.uint32(48).uint32(e.downlink_plr),null!=e.peer_to_peer_plr&&Object.hasOwnProperty.call(e,"peer_to_peer_plr")&&t.uint32(56).uint32(e.peer_to_peer_plr),null!=e.peer_to_peer_delay&&Object.hasOwnProperty.call(e,"peer_to_peer_delay")&&t.uint32(64).uint32(e.peer_to_peer_delay),null!=e.audio_network_fps&&Object.hasOwnProperty.call(e,"audio_network_fps")&&t.uint32(72).uint32(e.audio_network_fps),null!=e.audio_break_duration&&Object.hasOwnProperty.call(e,"audio_break_duration")&&t.uint32(80).uint32(e.audio_break_duration),null!=e.video_break_duration&&Object.hasOwnProperty.call(e,"video_break_duration")&&t.uint32(88).uint32(e.video_break_duration),null!=e.audio_break_rate&&Object.hasOwnProperty.call(e,"audio_break_rate")&&t.uint32(96).uint32(e.audio_break_rate),null!=e.video_break_rate&&Object.hasOwnProperty.call(e,"video_break_rate")&&t.uint32(104).uint32(e.video_break_rate),null!=e.audio_break_cancel&&Object.hasOwnProperty.call(e,"audio_break_cancel")&&t.uint32(112).uint32(e.audio_break_cancel),null!=e.video_break_cancel&&Object.hasOwnProperty.call(e,"video_break_cancel")&&t.uint32(120).uint32(e.video_break_cancel),null!=e.rtt&&Object.hasOwnProperty.call(e,"rtt")&&t.uint32(128).uint32(e.rtt),null!=e.rendered_sound_level&&Object.hasOwnProperty.call(e,"rendered_sound_level")&&t.uint32(136).uint32(e.rendered_sound_level),null!=e.audio_break_cancel_duration&&Object.hasOwnProperty.call(e,"audio_break_cancel_duration")&&t.uint32(144).uint32(e.audio_break_cancel_duration),null!=e.video_break_cancel_duration&&Object.hasOwnProperty.call(e,"video_break_cancel_duration")&&t.uint32(152).uint32(e.video_break_cancel_duration),null!=e.audio_decode_time&&Object.hasOwnProperty.call(e,"audio_decode_time")&&t.uint32(160).uint32(e.audio_decode_time),null!=e.video_decode_time&&Object.hasOwnProperty.call(e,"video_decode_time")&&t.uint32(168).uint32(e.video_decode_time),null!=e.real_sampling_interval&&Object.hasOwnProperty.call(e,"real_sampling_interval")&&t.uint32(176).uint32(e.real_sampling_interval),null!=e.mos&&Object.hasOwnProperty.call(e,"mos")&&t.uint32(184).int32(e.mos),null!=e.audio_decode_fps&&Object.hasOwnProperty.call(e,"audio_decode_fps")&&t.uint32(192).uint32(e.audio_decode_fps),null!=e.video_decode_fps&&Object.hasOwnProperty.call(e,"video_decode_fps")&&t.uint32(200).uint32(e.video_decode_fps),null!=e.video_frames_decoded&&Object.hasOwnProperty.call(e,"video_frames_decoded")&&t.uint32(208).uint32(e.video_frames_decoded),null!=e.video_frames_dropped&&Object.hasOwnProperty.call(e,"video_frames_dropped")&&t.uint32(216).uint32(e.video_frames_dropped),null!=e.quality&&Object.hasOwnProperty.call(e,"quality")&&t.uint32(224).int32(e.quality),null!=e.evaluation_quality&&Object.hasOwnProperty.call(e,"evaluation_quality")&&t.uint32(232).int32(e.evaluation_quality),null!=e.break_stat_duration&&Object.hasOwnProperty.call(e,"break_stat_duration")&&t.uint32(240).uint32(e.break_stat_duration),null!=e.sample_time_offset&&Object.hasOwnProperty.call(e,"sample_time_offset")&&t.uint32(248).uint32(e.sample_time_offset),null!=e.sample_time_window&&Object.hasOwnProperty.call(e,"sample_time_window")&&t.uint32(800).uint32(e.sample_time_window),t},e}(),i.ChargeInfo=function(){function e(e){if(this.play_stream_resolution_infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.is_publishing=0,e.prototype.play_stream_resolution_infos=o.emptyArray,e.prototype.play_max_audio_bitrate=0,e.prototype.no_playing=0,e.prototype.p2p_charge_info=null,e.prototype.sample_time_offset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.is_publishing&&Object.hasOwnProperty.call(e,"is_publishing")&&t.uint32(8).uint32(e.is_publishing),null!=e.play_stream_resolution_infos&&e.play_stream_resolution_infos.length)for(var r=0;r<e.play_stream_resolution_infos.length;++r)s.logreport.ResolutionInfo.encode(e.play_stream_resolution_infos[r],t.uint32(18).fork()).ldelim();return null!=e.play_max_audio_bitrate&&Object.hasOwnProperty.call(e,"play_max_audio_bitrate")&&t.uint32(24).uint32(e.play_max_audio_bitrate),null!=e.no_playing&&Object.hasOwnProperty.call(e,"no_playing")&&t.uint32(32).uint32(e.no_playing),null!=e.p2p_charge_info&&Object.hasOwnProperty.call(e,"p2p_charge_info")&&s.logreport.P2PChargeInfo.encode(e.p2p_charge_info,t.uint32(42).fork()).ldelim(),null!=e.sample_time_offset&&Object.hasOwnProperty.call(e,"sample_time_offset")&&t.uint32(48).uint32(e.sample_time_offset),t},e}(),i.ResolutionInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.video_width=0,e.prototype.video_height=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.video_width&&Object.hasOwnProperty.call(e,"video_width")&&t.uint32(8).uint32(e.video_width),null!=e.video_height&&Object.hasOwnProperty.call(e,"video_height")&&t.uint32(16).uint32(e.video_height),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(24).uint32(e.count),t},e}(),i.P2PChargeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.media_inc=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.data_inc=o.Long?o.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.media_inc&&Object.hasOwnProperty.call(e,"media_inc")&&t.uint32(8).uint64(e.media_inc),null!=e.data_inc&&Object.hasOwnProperty.call(e,"data_inc")&&t.uint32(16).uint64(e.data_inc),t},e}(),i.NoBillingEvent=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.platform_info="",e.prototype.room_id="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.platform_info&&Object.hasOwnProperty.call(e,"platform_info")&&t.uint32(10).string(e.platform_info),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(18).string(e.room_id),t},e}(),i.DynQualityEvent=function(){function e(e){if(this.dyn_quality_infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.seq_no="",e.prototype.num=0,e.prototype.dyn_quality_infos=o.emptyArray,e.prototype.device_id="",e.prototype.latitude=0,e.prototype.longitude=0,e.prototype.country="",e.prototype.region="",e.prototype.city="",e.prototype.isp="",e.prototype.ve_mode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.seq_no&&Object.hasOwnProperty.call(e,"seq_no")&&t.uint32(10).string(e.seq_no),null!=e.num&&Object.hasOwnProperty.call(e,"num")&&t.uint32(16).uint32(e.num),null!=e.dyn_quality_infos&&e.dyn_quality_infos.length)for(var r=0;r<e.dyn_quality_infos.length;++r)s.logreport.DynQualityInfos.encode(e.dyn_quality_infos[r],t.uint32(26).fork()).ldelim();return null!=e.device_id&&Object.hasOwnProperty.call(e,"device_id")&&t.uint32(34).string(e.device_id),null!=e.latitude&&Object.hasOwnProperty.call(e,"latitude")&&t.uint32(40).uint32(e.latitude),null!=e.longitude&&Object.hasOwnProperty.call(e,"longitude")&&t.uint32(48).uint32(e.longitude),null!=e.country&&Object.hasOwnProperty.call(e,"country")&&t.uint32(58).string(e.country),null!=e.region&&Object.hasOwnProperty.call(e,"region")&&t.uint32(66).string(e.region),null!=e.city&&Object.hasOwnProperty.call(e,"city")&&t.uint32(74).string(e.city),null!=e.isp&&Object.hasOwnProperty.call(e,"isp")&&t.uint32(82).string(e.isp),null!=e.ve_mode&&Object.hasOwnProperty.call(e,"ve_mode")&&t.uint32(88).uint32(e.ve_mode),t},e}(),i.DynQualityInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.timestamp_offset_end=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.server_ip="",e.prototype.infos=o.emptyArray,e.prototype.network_type=0,e.prototype.stream_id="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,"timestamp_offset_begin")&&t.uint32(8).uint64(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,"timestamp_offset_end")&&t.uint32(16).uint64(e.timestamp_offset_end),null!=e.server_ip&&Object.hasOwnProperty.call(e,"server_ip")&&t.uint32(26).string(e.server_ip),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)s.logreport.DynQualityInfo.encode(e.infos[r],t.uint32(34).fork()).ldelim();return null!=e.network_type&&Object.hasOwnProperty.call(e,"network_type")&&t.uint32(40).uint32(e.network_type),null!=e.stream_id&&Object.hasOwnProperty.call(e,"stream_id")&&t.uint32(50).string(e.stream_id),t},e}(),i.DynQualityInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.time=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.plr=0,e.prototype.rtt=0,e.prototype.score=0,e.prototype.sample_time=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(8).uint64(e.time),null!=e.plr&&Object.hasOwnProperty.call(e,"plr")&&t.uint32(16).uint32(e.plr),null!=e.rtt&&Object.hasOwnProperty.call(e,"rtt")&&t.uint32(24).uint32(e.rtt),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(32).uint32(e.score),null!=e.sample_time&&Object.hasOwnProperty.call(e,"sample_time")&&t.uint32(40).uint32(e.sample_time),t},e}(),i),e.exports=s},6348:function(e,t,r){"use strict";var i,A=r(4799),n=A.Reader,o=A.Writer,s=A.util,a=A.roots.default||(A.roots.default={});a.webrtc_cmd=((i={}).MetadataPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.width=0,e.prototype.height=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(8).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(16).uint32(e.height),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.MetadataPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.width=e.uint32();break;case 2:i.height=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),i.MetadataAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.MetadataAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.VideoStreamSubscribeReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).uint32(e.type),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.VideoStreamSubscribeReq;e.pos<r;){var A=e.uint32();A>>>3==1?i.type=e.uint32():e.skipType(7&A)}return i},e}(),i.VideoStreamSubscribeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.VideoStreamSubscribeRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.VideoStreamFallbackTypeReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).uint32(e.type),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.VideoStreamFallbackTypeReq;e.pos<r;){var A=e.uint32();A>>>3==1?i.type=e.uint32():e.skipType(7&A)}return i},e}(),i.VideoStreamFallbackTypeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.VideoStreamFallbackTypeRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.VideoStreamChangePush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.change_type=0,e.prototype.video_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.change_type&&Object.hasOwnProperty.call(e,"change_type")&&t.uint32(8).uint32(e.change_type),null!=e.video_type&&Object.hasOwnProperty.call(e,"video_type")&&t.uint32(16).uint32(e.video_type),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.VideoStreamChangePush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.change_type=e.uint32();break;case 2:i.video_type=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),i.VideoStreamChangeAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.VideoStreamChangeAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.UserUnregisteredSEIFilterReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.sei_filter="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.sei_filter&&Object.hasOwnProperty.call(e,"sei_filter")&&t.uint32(10).string(e.sei_filter),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.UserUnregisteredSEIFilterReq;e.pos<r;){var A=e.uint32();A>>>3==1?i.sei_filter=e.string():e.skipType(7&A)}return i},e}(),i.UserUnregisteredSEIFilterRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.UserUnregisteredSEIFilterRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.NetQualityGradeReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.tx_quality=0,e.prototype.rx_quality=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.tx_quality&&Object.hasOwnProperty.call(e,"tx_quality")&&t.uint32(8).sint32(e.tx_quality),null!=e.rx_quality&&Object.hasOwnProperty.call(e,"rx_quality")&&t.uint32(16).sint32(e.rx_quality),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.NetQualityGradeReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.tx_quality=e.sint32();break;case 2:i.rx_quality=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),i.NetQualityGradeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.NetQualityGradeRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.NetQualityGradePush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.tx_quality=0,e.prototype.rx_quality=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.tx_quality&&Object.hasOwnProperty.call(e,"tx_quality")&&t.uint32(8).sint32(e.tx_quality),null!=e.rx_quality&&Object.hasOwnProperty.call(e,"rx_quality")&&t.uint32(16).sint32(e.rx_quality),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.NetQualityGradePush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.tx_quality=e.sint32();break;case 2:i.rx_quality=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),i.NetQualityGradeAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.NetQualityGradeAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.PeerExtendParams=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.keyframe_intv=0,e.prototype.min_play_buf_level_ms=0,e.prototype.tc_type=0,e.prototype.video_content_type=0,e.prototype.sei_filter_pass=0,e.prototype.client_class_type=0,e.prototype.video_stream_type=null,e.prototype.ktv_device_delay=0,Object.defineProperty(e.prototype,"stream_type",{get:s.oneOfGetter(t=["video_stream_type"]),set:s.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.keyframe_intv&&Object.hasOwnProperty.call(e,"keyframe_intv")&&t.uint32(8).sint32(e.keyframe_intv),null!=e.min_play_buf_level_ms&&Object.hasOwnProperty.call(e,"min_play_buf_level_ms")&&t.uint32(16).sint32(e.min_play_buf_level_ms),null!=e.tc_type&&Object.hasOwnProperty.call(e,"tc_type")&&t.uint32(24).sint32(e.tc_type),null!=e.video_content_type&&Object.hasOwnProperty.call(e,"video_content_type")&&t.uint32(32).sint32(e.video_content_type),null!=e.sei_filter_pass&&Object.hasOwnProperty.call(e,"sei_filter_pass")&&t.uint32(40).sint32(e.sei_filter_pass),null!=e.client_class_type&&Object.hasOwnProperty.call(e,"client_class_type")&&t.uint32(48).sint32(e.client_class_type),null!=e.video_stream_type&&Object.hasOwnProperty.call(e,"video_stream_type")&&t.uint32(56).sint32(e.video_stream_type),null!=e.ktv_device_delay&&Object.hasOwnProperty.call(e,"ktv_device_delay")&&t.uint32(64).sint32(e.ktv_device_delay),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.PeerExtendParams;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.keyframe_intv=e.sint32();break;case 2:i.min_play_buf_level_ms=e.sint32();break;case 3:i.tc_type=e.sint32();break;case 4:i.video_content_type=e.sint32();break;case 5:i.sei_filter_pass=e.sint32();break;case 6:i.client_class_type=e.sint32();break;case 7:i.video_stream_type=e.sint32();break;case 8:i.ktv_device_delay=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),i.StreamPropertyUpdate=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.enable_stream_alignment_when_mix=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.enable_stream_alignment_when_mix&&Object.hasOwnProperty.call(e,"enable_stream_alignment_when_mix")&&t.uint32(8).sint32(e.enable_stream_alignment_when_mix),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.StreamPropertyUpdate;e.pos<r;){var A=e.uint32();A>>>3==1?i.enable_stream_alignment_when_mix=e.sint32():e.skipType(7&A)}return i},e}(),i.StreamPropertyUpdateAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.StreamPropertyUpdateAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),i.WebrtcCmdReqMsg=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.meta_data_push=null,e.prototype.video_stream_sub=null,e.prototype.video_fallback_type=null,e.prototype.video_change_push=null,e.prototype.usr_sei_filter=null,e.prototype.net_quality_grade=null,e.prototype.net_quality_grade_push=null,e.prototype.peer_extend_param=null,e.prototype.stream_property_update=null,Object.defineProperty(e.prototype,"body",{get:s.oneOfGetter(t=["meta_data_push","video_stream_sub","video_fallback_type","video_change_push","usr_sei_filter","net_quality_grade","net_quality_grade_push","peer_extend_param","stream_property_update"]),set:s.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.meta_data_push&&Object.hasOwnProperty.call(e,"meta_data_push")&&a.webrtc_cmd.MetadataPush.encode(e.meta_data_push,t.uint32(10).fork()).ldelim(),null!=e.video_stream_sub&&Object.hasOwnProperty.call(e,"video_stream_sub")&&a.webrtc_cmd.VideoStreamSubscribeReq.encode(e.video_stream_sub,t.uint32(18).fork()).ldelim(),null!=e.video_fallback_type&&Object.hasOwnProperty.call(e,"video_fallback_type")&&a.webrtc_cmd.VideoStreamFallbackTypeReq.encode(e.video_fallback_type,t.uint32(26).fork()).ldelim(),null!=e.video_change_push&&Object.hasOwnProperty.call(e,"video_change_push")&&a.webrtc_cmd.VideoStreamChangePush.encode(e.video_change_push,t.uint32(34).fork()).ldelim(),null!=e.usr_sei_filter&&Object.hasOwnProperty.call(e,"usr_sei_filter")&&a.webrtc_cmd.UserUnregisteredSEIFilterReq.encode(e.usr_sei_filter,t.uint32(42).fork()).ldelim(),null!=e.net_quality_grade&&Object.hasOwnProperty.call(e,"net_quality_grade")&&a.webrtc_cmd.NetQualityGradeReq.encode(e.net_quality_grade,t.uint32(50).fork()).ldelim(),null!=e.net_quality_grade_push&&Object.hasOwnProperty.call(e,"net_quality_grade_push")&&a.webrtc_cmd.NetQualityGradePush.encode(e.net_quality_grade_push,t.uint32(58).fork()).ldelim(),null!=e.peer_extend_param&&Object.hasOwnProperty.call(e,"peer_extend_param")&&a.webrtc_cmd.PeerExtendParams.encode(e.peer_extend_param,t.uint32(66).fork()).ldelim(),null!=e.stream_property_update&&Object.hasOwnProperty.call(e,"stream_property_update")&&a.webrtc_cmd.StreamPropertyUpdate.encode(e.stream_property_update,t.uint32(74).fork()).ldelim(),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.WebrtcCmdReqMsg;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.meta_data_push=a.webrtc_cmd.MetadataPush.decode(e,e.uint32());break;case 2:i.video_stream_sub=a.webrtc_cmd.VideoStreamSubscribeReq.decode(e,e.uint32());break;case 3:i.video_fallback_type=a.webrtc_cmd.VideoStreamFallbackTypeReq.decode(e,e.uint32());break;case 4:i.video_change_push=a.webrtc_cmd.VideoStreamChangePush.decode(e,e.uint32());break;case 5:i.usr_sei_filter=a.webrtc_cmd.UserUnregisteredSEIFilterReq.decode(e,e.uint32());break;case 6:i.net_quality_grade=a.webrtc_cmd.NetQualityGradeReq.decode(e,e.uint32());break;case 7:i.net_quality_grade_push=a.webrtc_cmd.NetQualityGradePush.decode(e,e.uint32());break;case 8:i.peer_extend_param=a.webrtc_cmd.PeerExtendParams.decode(e,e.uint32());break;case 9:i.stream_property_update=a.webrtc_cmd.StreamPropertyUpdate.decode(e,e.uint32());break;default:e.skipType(7&A)}}return i},e}(),i.WebrtcCmdRspMsg=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.meta_data_ack=null,e.prototype.video_stream_sub=null,e.prototype.video_fallback_type=null,e.prototype.video_change_ack=null,e.prototype.usr_sei_filter=null,e.prototype.net_quality_grade=null,e.prototype.net_quality_grade_ack=null,e.prototype.stream_property_update_ack=null,Object.defineProperty(e.prototype,"body",{get:s.oneOfGetter(t=["meta_data_ack","video_stream_sub","video_fallback_type","video_change_ack","usr_sei_filter","net_quality_grade","net_quality_grade_ack","stream_property_update_ack"]),set:s.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.meta_data_ack&&Object.hasOwnProperty.call(e,"meta_data_ack")&&a.webrtc_cmd.MetadataAck.encode(e.meta_data_ack,t.uint32(10).fork()).ldelim(),null!=e.video_stream_sub&&Object.hasOwnProperty.call(e,"video_stream_sub")&&a.webrtc_cmd.VideoStreamSubscribeRsp.encode(e.video_stream_sub,t.uint32(18).fork()).ldelim(),null!=e.video_fallback_type&&Object.hasOwnProperty.call(e,"video_fallback_type")&&a.webrtc_cmd.VideoStreamFallbackTypeRsp.encode(e.video_fallback_type,t.uint32(26).fork()).ldelim(),null!=e.video_change_ack&&Object.hasOwnProperty.call(e,"video_change_ack")&&a.webrtc_cmd.VideoStreamChangeAck.encode(e.video_change_ack,t.uint32(34).fork()).ldelim(),null!=e.usr_sei_filter&&Object.hasOwnProperty.call(e,"usr_sei_filter")&&a.webrtc_cmd.UserUnregisteredSEIFilterRsp.encode(e.usr_sei_filter,t.uint32(42).fork()).ldelim(),null!=e.net_quality_grade&&Object.hasOwnProperty.call(e,"net_quality_grade")&&a.webrtc_cmd.NetQualityGradeRsp.encode(e.net_quality_grade,t.uint32(50).fork()).ldelim(),null!=e.net_quality_grade_ack&&Object.hasOwnProperty.call(e,"net_quality_grade_ack")&&a.webrtc_cmd.NetQualityGradeAck.encode(e.net_quality_grade_ack,t.uint32(58).fork()).ldelim(),null!=e.stream_property_update_ack&&Object.hasOwnProperty.call(e,"stream_property_update_ack")&&a.webrtc_cmd.StreamPropertyUpdateAck.encode(e.stream_property_update_ack,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.webrtc_cmd.WebrtcCmdRspMsg;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.meta_data_ack=a.webrtc_cmd.MetadataAck.decode(e,e.uint32());break;case 2:i.video_stream_sub=a.webrtc_cmd.VideoStreamSubscribeRsp.decode(e,e.uint32());break;case 3:i.video_fallback_type=a.webrtc_cmd.VideoStreamFallbackTypeRsp.decode(e,e.uint32());break;case 4:i.video_change_ack=a.webrtc_cmd.VideoStreamChangeAck.decode(e,e.uint32());break;case 5:i.usr_sei_filter=a.webrtc_cmd.UserUnregisteredSEIFilterRsp.decode(e,e.uint32());break;case 6:i.net_quality_grade=a.webrtc_cmd.NetQualityGradeRsp.decode(e,e.uint32());break;case 7:i.net_quality_grade_ack=a.webrtc_cmd.NetQualityGradeAck.decode(e,e.uint32());break;case 8:i.stream_property_update_ack=a.webrtc_cmd.StreamPropertyUpdateAck.decode(e,e.uint32());break;default:e.skipType(7&A)}}return i},e}(),i),e.exports=a},4212:function(e,t,r){"use strict";var i,A,n,o=r(4799),s=o.Reader,a=o.Writer,c=o.util,g=o.roots.default||(o.roots.default={});g.webrtc_proto_v2=((n={}).CmdType=(i={},(A=Object.create(i))[i[0]="NONE"]=0,A[i[1]="LOGIN_REQ"]=1,A[i[2]="LOGIN_RSP"]=2,A[i[3]="CREATE_SESSION_REQ"]=3,A[i[4]="CREATE_SESSION_RSP"]=4,A[i[5]="CREATE_SESSION_WITH_SDP_REQ"]=5,A[i[6]="CREATE_SESSION_WITH_SDP_RSP"]=6,A[i[7]="SESSION_RESET_PUSH"]=7,A[i[8]="SESSION_RESET_ACK"]=8,A[i[9]="PUBLISH_EVENT_PUSH"]=9,A[i[10]="PLAY_EVENT_PUSH"]=10,A[i[11]="MEDIA_DESC_REQ"]=11,A[i[12]="MEDIA_DESC_RSP"]=12,A[i[13]="CANDIDATE_INFO_REQ"]=13,A[i[14]="CANDIDATE_INFO_RSP"]=14,A[i[15]="CLOSE_SESSION_REQ"]=15,A[i[16]="CLOSE_SESSION_RSP"]=16,A[i[17]="MEDIA_DESC_PUSH"]=17,A[i[18]="MEDIA_DESC_ACK"]=18,A[i[19]="CANDIDATE_INFO_PUSH"]=19,A[i[20]="CANDIDATE_INFO_ACK"]=20,A[i[21]="CLOSE_SESSION_PUSH"]=21,A[i[22]="CLOSE_SESSION_ACK"]=22,A[i[23]="STREAM_STATUS_NOTIFY"]=23,A[i[24]="STREAM_STATUS_NOTIFY_ACK"]=24,A[i[25]="STREAM_STATUS_NOTIFY_PUSH"]=25,A[i[26]="STREAM_STATUS_NOTIFY_PUSH_ACK"]=26,A[i[27]="BROADCASTER_STATUS_NOTIFY"]=27,A[i[28]="BROADCASTER_STATUS_ACK"]=28,A[i[29]="ACTIVATE_AUDIO_PLAY_STREAM_REQ"]=29,A[i[30]="ACTIVATE_AUDIO_PLAY_STREAM_RSP"]=30,A[i[31]="ACTIVATE_VIDEO_PLAY_STREAM_REQ"]=31,A[i[32]="ACTIVATE_VIDEO_PLAY_STREAM_RSP"]=32,A[i[33]="CLIENT_INFO_PUSH"]=33,A[i[34]="CLIENT_INFO_ACK"]=34,A[i[35]="NET_QUALITY_PROBE_REQ"]=35,A[i[36]="NET_QUALITY_PROBE_RSP"]=36,A[i[37]="NET_QUALITY_INFO_PUSH"]=37,A[i[38]="NET_QUALITY_INFO_ACK"]=38,A[i[39]="ACTIVATE_SEI_INSERT_REQ"]=39,A[i[40]="ACTIVATE_SEI_INSERT_RSP"]=40,A[i[41]="PEER2_PEER_NET_STATS_GET_REQ"]=41,A[i[42]="PEER2_PEER_NET_STATS_GET_RSP"]=42,A[i[43]="CMD_REQ"]=43,A[i[44]="CMD_RSP"]=44,A[i[45]="CMD_PUSH"]=45,A[i[46]="CMD_ACK"]=46,A[i[47]="WEBRTC_DISPATCH_REQ"]=47,A[i[48]="WEBRTC_DISPATCH_RSP"]=48,A),n.Head=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.cmd=0,e.prototype.seq=0,e.prototype.session_id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(8).uint32(e.cmd),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint32(e.seq),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(24).uint32(e.session_id),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.Head;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.cmd=e.uint32();break;case 2:i.seq=e.uint32();break;case 3:i.session_id=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),n.SessionInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.session_id=0,e.prototype.session_token="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(8).uint32(e.session_id),null!=e.session_token&&Object.hasOwnProperty.call(e,"session_token")&&t.uint32(18).string(e.session_token),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.SessionInfo;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.session_id=e.uint32();break;case 2:i.session_token=e.string();break;default:e.skipType(7&A)}}return i},e}(),n.LoginReq=function(){function e(e){if(this.sessions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.appid=0,e.prototype.user_id="",e.prototype.tokenType=0,e.prototype.token="",e.prototype.sessions=c.emptyArray,e.prototype.roomid="",e.prototype.sdk_version=0,e.prototype.app="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(8).uint32(e.appid),null!=e.user_id&&Object.hasOwnProperty.call(e,"user_id")&&t.uint32(18).string(e.user_id),null!=e.tokenType&&Object.hasOwnProperty.call(e,"tokenType")&&t.uint32(24).int32(e.tokenType),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(34).string(e.token),null!=e.sessions&&e.sessions.length)for(var r=0;r<e.sessions.length;++r)g.webrtc_proto_v2.SessionInfo.encode(e.sessions[r],t.uint32(42).fork()).ldelim();return null!=e.roomid&&Object.hasOwnProperty.call(e,"roomid")&&t.uint32(50).string(e.roomid),null!=e.sdk_version&&Object.hasOwnProperty.call(e,"sdk_version")&&t.uint32(56).uint32(e.sdk_version),null!=e.app&&Object.hasOwnProperty.call(e,"app")&&t.uint32(66).string(e.app),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.LoginReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.appid=e.uint32();break;case 2:i.user_id=e.string();break;case 3:i.tokenType=e.int32();break;case 4:i.token=e.string();break;case 5:i.sessions&&i.sessions.length||(i.sessions=[]),i.sessions.push(g.webrtc_proto_v2.SessionInfo.decode(e,e.uint32()));break;case 6:i.roomid=e.string();break;case 7:i.sdk_version=e.uint32();break;case 8:i.app=e.string();break;default:e.skipType(7&A)}}return i},e}(),n.LoginRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.prototype.tokenType=0,e.prototype.token="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).int32(e.result),null!=e.tokenType&&Object.hasOwnProperty.call(e,"tokenType")&&t.uint32(16).int32(e.tokenType),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(26).string(e.token),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.LoginRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.result=e.int32();break;case 2:i.tokenType=e.int32();break;case 3:i.token=e.string();break;default:e.skipType(7&A)}}return i},e}(),n.CreateSessionReq=function(){function e(e){if(this.area_id_list=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.prototype.stream_id="",e.prototype.turn_server_host="",e.prototype.roomid="",e.prototype.strAuthParam="",e.prototype.params="",e.prototype.area_type=0,e.prototype.area_id_list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).sint32(e.type),null!=e.stream_id&&Object.hasOwnProperty.call(e,"stream_id")&&t.uint32(18).string(e.stream_id),null!=e.turn_server_host&&Object.hasOwnProperty.call(e,"turn_server_host")&&t.uint32(26).string(e.turn_server_host),null!=e.roomid&&Object.hasOwnProperty.call(e,"roomid")&&t.uint32(34).string(e.roomid),null!=e.strAuthParam&&Object.hasOwnProperty.call(e,"strAuthParam")&&t.uint32(42).string(e.strAuthParam),null!=e.params&&Object.hasOwnProperty.call(e,"params")&&t.uint32(50).string(e.params),null!=e.area_type&&Object.hasOwnProperty.call(e,"area_type")&&t.uint32(56).int32(e.area_type),null!=e.area_id_list&&e.area_id_list.length){t.uint32(66).fork();for(var r=0;r<e.area_id_list.length;++r)t.int32(e.area_id_list[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CreateSessionReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.type=e.sint32();break;case 2:i.stream_id=e.string();break;case 3:i.turn_server_host=e.string();break;case 4:i.roomid=e.string();break;case 5:i.strAuthParam=e.string();break;case 6:i.params=e.string();break;case 7:i.area_type=e.int32();break;case 8:if(i.area_id_list&&i.area_id_list.length||(i.area_id_list=[]),2==(7&A))for(var n=e.uint32()+e.pos;e.pos<n;)i.area_id_list.push(e.int32());else i.area_id_list.push(e.int32());break;default:e.skipType(7&A)}}return i},e}(),n.CreateSessionRsp=function(){function e(e){if(this.gw_nodes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.prototype.turn_server="",e.prototype.turn_username="",e.prototype.turn_auth_key="",e.prototype.session_id=0,e.prototype.session_token="",e.prototype.gw_version=0,e.prototype.gw_nodes=c.emptyArray,e.prototype.gw_nodes_ttl=0,e.prototype.client_ip="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),null!=e.turn_server&&Object.hasOwnProperty.call(e,"turn_server")&&t.uint32(18).string(e.turn_server),null!=e.turn_username&&Object.hasOwnProperty.call(e,"turn_username")&&t.uint32(26).string(e.turn_username),null!=e.turn_auth_key&&Object.hasOwnProperty.call(e,"turn_auth_key")&&t.uint32(34).string(e.turn_auth_key),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(40).uint32(e.session_id),null!=e.session_token&&Object.hasOwnProperty.call(e,"session_token")&&t.uint32(50).string(e.session_token),null!=e.gw_version&&Object.hasOwnProperty.call(e,"gw_version")&&t.uint32(56).uint32(e.gw_version),null!=e.gw_nodes&&e.gw_nodes.length)for(var r=0;r<e.gw_nodes.length;++r)t.uint32(66).string(e.gw_nodes[r]);return null!=e.gw_nodes_ttl&&Object.hasOwnProperty.call(e,"gw_nodes_ttl")&&t.uint32(72).uint32(e.gw_nodes_ttl),null!=e.client_ip&&Object.hasOwnProperty.call(e,"client_ip")&&t.uint32(82).string(e.client_ip),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CreateSessionRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.result=e.sint32();break;case 2:i.turn_server=e.string();break;case 3:i.turn_username=e.string();break;case 4:i.turn_auth_key=e.string();break;case 5:i.session_id=e.uint32();break;case 6:i.session_token=e.string();break;case 7:i.gw_version=e.uint32();break;case 8:i.gw_nodes&&i.gw_nodes.length||(i.gw_nodes=[]),i.gw_nodes.push(e.string());break;case 9:i.gw_nodes_ttl=e.uint32();break;case 10:i.client_ip=e.string();break;default:e.skipType(7&A)}}return i},e}(),n.CreateSessionWithSdpReq=function(){function e(e){if(this.area_id_list=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.prototype.stream_id="",e.prototype.sdp="",e.prototype.mini_sdp=c.newBuffer([]),e.prototype.media_server_host="",e.prototype.strAuthParam="",e.prototype.roomid="",e.prototype.params="",e.prototype.params_ext=c.newBuffer([]),e.prototype.area_type=0,e.prototype.area_id_list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).sint32(e.type),null!=e.stream_id&&Object.hasOwnProperty.call(e,"stream_id")&&t.uint32(18).string(e.stream_id),null!=e.sdp&&Object.hasOwnProperty.call(e,"sdp")&&t.uint32(26).string(e.sdp),null!=e.mini_sdp&&Object.hasOwnProperty.call(e,"mini_sdp")&&t.uint32(34).bytes(e.mini_sdp),null!=e.media_server_host&&Object.hasOwnProperty.call(e,"media_server_host")&&t.uint32(42).string(e.media_server_host),null!=e.strAuthParam&&Object.hasOwnProperty.call(e,"strAuthParam")&&t.uint32(50).string(e.strAuthParam),null!=e.roomid&&Object.hasOwnProperty.call(e,"roomid")&&t.uint32(58).string(e.roomid),null!=e.params&&Object.hasOwnProperty.call(e,"params")&&t.uint32(66).string(e.params),null!=e.params_ext&&Object.hasOwnProperty.call(e,"params_ext")&&t.uint32(74).bytes(e.params_ext),null!=e.area_type&&Object.hasOwnProperty.call(e,"area_type")&&t.uint32(80).int32(e.area_type),null!=e.area_id_list&&e.area_id_list.length){t.uint32(90).fork();for(var r=0;r<e.area_id_list.length;++r)t.int32(e.area_id_list[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CreateSessionWithSdpReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.type=e.sint32();break;case 2:i.stream_id=e.string();break;case 3:i.sdp=e.string();break;case 4:i.mini_sdp=e.bytes();break;case 5:i.media_server_host=e.string();break;case 6:i.strAuthParam=e.string();break;case 7:i.roomid=e.string();break;case 8:i.params=e.string();break;case 9:i.params_ext=e.bytes();break;case 10:i.area_type=e.int32();break;case 11:if(i.area_id_list&&i.area_id_list.length||(i.area_id_list=[]),2==(7&A))for(var n=e.uint32()+e.pos;e.pos<n;)i.area_id_list.push(e.int32());else i.area_id_list.push(e.int32());break;default:e.skipType(7&A)}}return i},e}(),n.CreateSessionWithSdpRsp=function(){function e(e){if(this.gw_nodes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.prototype.gw_version=0,e.prototype.sdp="",e.prototype.mini_sdp=c.newBuffer([]),e.prototype.session_token="",e.prototype.gw_nodes=c.emptyArray,e.prototype.gw_nodes_ttl=0,e.prototype.client_ip="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),null!=e.gw_version&&Object.hasOwnProperty.call(e,"gw_version")&&t.uint32(16).uint32(e.gw_version),null!=e.sdp&&Object.hasOwnProperty.call(e,"sdp")&&t.uint32(26).string(e.sdp),null!=e.mini_sdp&&Object.hasOwnProperty.call(e,"mini_sdp")&&t.uint32(34).bytes(e.mini_sdp),null!=e.session_token&&Object.hasOwnProperty.call(e,"session_token")&&t.uint32(42).string(e.session_token),null!=e.gw_nodes&&e.gw_nodes.length)for(var r=0;r<e.gw_nodes.length;++r)t.uint32(50).string(e.gw_nodes[r]);return null!=e.gw_nodes_ttl&&Object.hasOwnProperty.call(e,"gw_nodes_ttl")&&t.uint32(56).uint32(e.gw_nodes_ttl),null!=e.client_ip&&Object.hasOwnProperty.call(e,"client_ip")&&t.uint32(66).string(e.client_ip),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CreateSessionWithSdpRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.result=e.sint32();break;case 2:i.gw_version=e.uint32();break;case 3:i.sdp=e.string();break;case 4:i.mini_sdp=e.bytes();break;case 5:i.session_token=e.string();break;case 6:i.gw_nodes&&i.gw_nodes.length||(i.gw_nodes=[]),i.gw_nodes.push(e.string());break;case 7:i.gw_nodes_ttl=e.uint32();break;case 8:i.client_ip=e.string();break;default:e.skipType(7&A)}}return i},e}(),n.SessionResetPush=function(){function e(e){if(this.session_ids=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dwTimeStamp=0,e.prototype.cResetType=0,e.prototype.session_ids=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.dwTimeStamp&&Object.hasOwnProperty.call(e,"dwTimeStamp")&&t.uint32(8).uint32(e.dwTimeStamp),null!=e.cResetType&&Object.hasOwnProperty.call(e,"cResetType")&&t.uint32(16).uint32(e.cResetType),null!=e.session_ids&&e.session_ids.length){t.uint32(26).fork();for(var r=0;r<e.session_ids.length;++r)t.uint32(e.session_ids[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.SessionResetPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.dwTimeStamp=e.uint32();break;case 2:i.cResetType=e.uint32();break;case 3:if(i.session_ids&&i.session_ids.length||(i.session_ids=[]),2==(7&A))for(var n=e.uint32()+e.pos;e.pos<n;)i.session_ids.push(e.uint32());else i.session_ids.push(e.uint32());break;default:e.skipType(7&A)}}return i},e}(),n.SessionResetAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.SessionResetAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.PublishEventPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.event=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(8).sint32(e.event),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.PublishEventPush;e.pos<r;){var A=e.uint32();A>>>3==1?i.event=e.sint32():e.skipType(7&A)}return i},e}(),n.PlayEventPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.event=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(8).sint32(e.event),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.PlayEventPush;e.pos<r;){var A=e.uint32();A>>>3==1?i.event=e.sint32():e.skipType(7&A)}return i},e}(),n.MediaDescReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.prototype.update=0,e.prototype.sdp="",e.prototype.mini_sdp=c.newBuffer([]),e.prototype.params_ext=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).uint32(e.type),null!=e.update&&Object.hasOwnProperty.call(e,"update")&&t.uint32(16).uint32(e.update),null!=e.sdp&&Object.hasOwnProperty.call(e,"sdp")&&t.uint32(26).string(e.sdp),null!=e.mini_sdp&&Object.hasOwnProperty.call(e,"mini_sdp")&&t.uint32(34).bytes(e.mini_sdp),null!=e.params_ext&&Object.hasOwnProperty.call(e,"params_ext")&&t.uint32(42).bytes(e.params_ext),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.MediaDescReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.type=e.uint32();break;case 2:i.update=e.uint32();break;case 3:i.sdp=e.string();break;case 4:i.mini_sdp=e.bytes();break;case 5:i.params_ext=e.bytes();break;default:e.skipType(7&A)}}return i},e}(),n.MediaDescRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.prototype.sdp="",e.prototype.mini_sdp=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),null!=e.sdp&&Object.hasOwnProperty.call(e,"sdp")&&t.uint32(18).string(e.sdp),null!=e.mini_sdp&&Object.hasOwnProperty.call(e,"mini_sdp")&&t.uint32(26).bytes(e.mini_sdp),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.MediaDescRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.result=e.sint32();break;case 2:i.sdp=e.string();break;case 3:i.mini_sdp=e.bytes();break;default:e.skipType(7&A)}}return i},e}(),n.OneCandidateInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.candidate="",e.prototype.sdpMid="",e.prototype.sdpMLineIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.candidate&&Object.hasOwnProperty.call(e,"candidate")&&t.uint32(10).string(e.candidate),null!=e.sdpMid&&Object.hasOwnProperty.call(e,"sdpMid")&&t.uint32(18).string(e.sdpMid),null!=e.sdpMLineIndex&&Object.hasOwnProperty.call(e,"sdpMLineIndex")&&t.uint32(24).sint32(e.sdpMLineIndex),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.OneCandidateInfo;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.candidate=e.string();break;case 2:i.sdpMid=e.string();break;case 3:i.sdpMLineIndex=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.CandidateInfoReq=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.infos=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)g.webrtc_proto_v2.OneCandidateInfo.encode(e.infos[r],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CandidateInfoReq;e.pos<r;){var A=e.uint32();A>>>3==1?(i.infos&&i.infos.length||(i.infos=[]),i.infos.push(g.webrtc_proto_v2.OneCandidateInfo.decode(e,e.uint32()))):e.skipType(7&A)}return i},e}(),n.CandidateInfoRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CandidateInfoRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.CloseSessionReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.reason=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(8).sint32(e.reason),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CloseSessionReq;e.pos<r;){var A=e.uint32();A>>>3==1?i.reason=e.sint32():e.skipType(7&A)}return i},e}(),n.CloseSessionRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CloseSessionRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.MediaDescPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.prototype.sdp="",e.prototype.mini_sdp=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).uint32(e.type),null!=e.sdp&&Object.hasOwnProperty.call(e,"sdp")&&t.uint32(18).string(e.sdp),null!=e.mini_sdp&&Object.hasOwnProperty.call(e,"mini_sdp")&&t.uint32(26).bytes(e.mini_sdp),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.MediaDescPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.type=e.uint32();break;case 2:i.sdp=e.string();break;case 3:i.mini_sdp=e.bytes();break;default:e.skipType(7&A)}}return i},e}(),n.MediaDescAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.MediaDescAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.CandidateInfoPush=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.infos=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)g.webrtc_proto_v2.OneCandidateInfo.encode(e.infos[r],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CandidateInfoPush;e.pos<r;){var A=e.uint32();A>>>3==1?(i.infos&&i.infos.length||(i.infos=[]),i.infos.push(g.webrtc_proto_v2.OneCandidateInfo.decode(e,e.uint32()))):e.skipType(7&A)}return i},e}(),n.CandidateInfoAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CandidateInfoAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.IpPort=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Ip="",e.prototype.Port=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.Ip&&Object.hasOwnProperty.call(e,"Ip")&&t.uint32(10).string(e.Ip),null!=e.Port&&Object.hasOwnProperty.call(e,"Port")&&t.uint32(16).uint32(e.Port),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.IpPort;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.Ip=e.string();break;case 2:i.Port=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),n.CloseSessionPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.reason=0,e.prototype.err_info="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(8).sint32(e.reason),null!=e.err_info&&Object.hasOwnProperty.call(e,"err_info")&&t.uint32(18).string(e.err_info),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CloseSessionPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.reason=e.sint32();break;case 2:i.err_info=e.string();break;default:e.skipType(7&A)}}return i},e}(),n.DenyInfo=function(){function e(e){if(this.ins=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.action=0,e.prototype.err=0,e.prototype.ins=c.emptyArray,e.prototype.action_delay=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).uint32(e.action),null!=e.err&&Object.hasOwnProperty.call(e,"err")&&t.uint32(16).uint32(e.err),null!=e.ins&&e.ins.length)for(var r=0;r<e.ins.length;++r)g.webrtc_proto_v2.IpPort.encode(e.ins[r],t.uint32(26).fork()).ldelim();return null!=e.action_delay&&Object.hasOwnProperty.call(e,"action_delay")&&t.uint32(32).uint32(e.action_delay),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.DenyInfo;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.action=e.uint32();break;case 2:i.err=e.uint32();break;case 3:i.ins&&i.ins.length||(i.ins=[]),i.ins.push(g.webrtc_proto_v2.IpPort.decode(e,e.uint32()));break;case 4:i.action_delay=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),n.CloseSessionAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CloseSessionAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.StreamStatusNotify=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mic_status=0,e.prototype.camera_status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.mic_status&&Object.hasOwnProperty.call(e,"mic_status")&&t.uint32(8).sint32(e.mic_status),null!=e.camera_status&&Object.hasOwnProperty.call(e,"camera_status")&&t.uint32(16).sint32(e.camera_status),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.StreamStatusNotify;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.mic_status=e.sint32();break;case 2:i.camera_status=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.StreamStatusNotifyAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.StreamStatusNotifyAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.StreamStatusNotifyPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mic_status=0,e.prototype.camera_status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.mic_status&&Object.hasOwnProperty.call(e,"mic_status")&&t.uint32(8).sint32(e.mic_status),null!=e.camera_status&&Object.hasOwnProperty.call(e,"camera_status")&&t.uint32(16).sint32(e.camera_status),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.StreamStatusNotifyPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.mic_status=e.sint32();break;case 2:i.camera_status=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.StreamStatusNotifyPushAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.StreamStatusNotifyPushAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.BroadcasterStatusNotify=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.BroadcasterStatusNotify;e.pos<r;){var A=e.uint32();A>>>3==1?i.status=e.uint32():e.skipType(7&A)}return i},e}(),n.BroadcasterStatusAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.BroadcasterStatusAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.ActivateAudioPlayStreamReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.active=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.active&&Object.hasOwnProperty.call(e,"active")&&t.uint32(8).sint32(e.active),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ActivateAudioPlayStreamReq;e.pos<r;){var A=e.uint32();A>>>3==1?i.active=e.sint32():e.skipType(7&A)}return i},e}(),n.ActivateAudioPlayStreamRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ActivateAudioPlayStreamRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.ActivateVideoPlayStreamReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.active=0,e.prototype.layer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.active&&Object.hasOwnProperty.call(e,"active")&&t.uint32(8).sint32(e.active),null!=e.layer&&Object.hasOwnProperty.call(e,"layer")&&t.uint32(16).sint32(e.layer),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ActivateVideoPlayStreamReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.active=e.sint32();break;case 2:i.layer=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.ActivateVideoPlayStreamRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ActivateVideoPlayStreamRsp;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.ClientInfoPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.client_ip="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.client_ip&&Object.hasOwnProperty.call(e,"client_ip")&&t.uint32(18).string(e.client_ip),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ClientInfoPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.client_ip=e.string();break;default:e.skipType(7&A)}}return i},e}(),n.ClientInfoAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ClientInfoAck;e.pos<r;){var A=e.uint32();A>>>3==1?i.result=e.sint32():e.skipType(7&A)}return i},e}(),n.NetQualityProbeReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.action=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).sint32(e.action),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.NetQualityProbeReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.action=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.NetQualityProbeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(16).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.NetQualityProbeRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.result=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.NetQualityInfoPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.lossrate=0,e.prototype.rtt=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.lossrate&&Object.hasOwnProperty.call(e,"lossrate")&&t.uint32(16).uint32(e.lossrate),null!=e.rtt&&Object.hasOwnProperty.call(e,"rtt")&&t.uint32(24).uint32(e.rtt),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.NetQualityInfoPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.lossrate=e.uint32();break;case 3:i.rtt=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),n.NetQualityInfoAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(16).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.NetQualityInfoAck;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.result=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.ActivateSEIInsertReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.action=0,e.prototype.info_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).sint32(e.action),null!=e.info_type&&Object.hasOwnProperty.call(e,"info_type")&&t.uint32(24).uint32(e.info_type),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ActivateSEIInsertReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.action=e.sint32();break;case 3:i.info_type=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),n.ActivateSEIInsertRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(16).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.ActivateSEIInsertRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.result=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n.Peer2PeerNetStatsGetReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.Peer2PeerNetStatsGetReq;e.pos<r;){var A=e.uint32();A>>>3==1?i.peer_id=e.uint32():e.skipType(7&A)}return i},e}(),n.Peer2PeerNetStatsGetRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.prototype.peer_id=0,e.prototype.p2p_lost_rate=0,e.prototype.p2p_rtt=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).sint32(e.result),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(16).uint32(e.peer_id),null!=e.p2p_lost_rate&&Object.hasOwnProperty.call(e,"p2p_lost_rate")&&t.uint32(24).uint32(e.p2p_lost_rate),null!=e.p2p_rtt&&Object.hasOwnProperty.call(e,"p2p_rtt")&&t.uint32(32).uint32(e.p2p_rtt),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.Peer2PeerNetStatsGetRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.result=e.sint32();break;case 2:i.peer_id=e.uint32();break;case 3:i.p2p_lost_rate=e.uint32();break;case 4:i.p2p_rtt=e.uint32();break;default:e.skipType(7&A)}}return i},e}(),n.CmdReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.cmd_id=0,e.prototype.body=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.cmd_id&&Object.hasOwnProperty.call(e,"cmd_id")&&t.uint32(16).uint32(e.cmd_id),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CmdReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.cmd_id=e.uint32();break;case 3:i.body=e.bytes();break;default:e.skipType(7&A)}}return i},e}(),n.CmdRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.cmd_id=0,e.prototype.body=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.cmd_id&&Object.hasOwnProperty.call(e,"cmd_id")&&t.uint32(16).uint32(e.cmd_id),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CmdRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.cmd_id=e.uint32();break;case 3:i.body=e.bytes();break;default:e.skipType(7&A)}}return i},e}(),n.CmdPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.cmd_id=0,e.prototype.body=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.cmd_id&&Object.hasOwnProperty.call(e,"cmd_id")&&t.uint32(16).uint32(e.cmd_id),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CmdPush;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.cmd_id=e.uint32();break;case 3:i.body=e.bytes();break;default:e.skipType(7&A)}}return i},e}(),n.CmdAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.peer_id=0,e.prototype.cmd_id=0,e.prototype.body=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.peer_id&&Object.hasOwnProperty.call(e,"peer_id")&&t.uint32(8).uint32(e.peer_id),null!=e.cmd_id&&Object.hasOwnProperty.call(e,"cmd_id")&&t.uint32(16).uint32(e.cmd_id),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.CmdAck;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.peer_id=e.uint32();break;case 2:i.cmd_id=e.uint32();break;case 3:i.body=e.bytes();break;default:e.skipType(7&A)}}return i},e}(),n.WebRTCDispatchReq=function(){function e(e){if(this.area_id_list=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.prototype.stream_id="",e.prototype.area_type=0,e.prototype.area_id_list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).sint32(e.type),null!=e.stream_id&&Object.hasOwnProperty.call(e,"stream_id")&&t.uint32(18).string(e.stream_id),null!=e.area_type&&Object.hasOwnProperty.call(e,"area_type")&&t.uint32(80).int32(e.area_type),null!=e.area_id_list&&e.area_id_list.length){t.uint32(90).fork();for(var r=0;r<e.area_id_list.length;++r)t.int32(e.area_id_list[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.WebRTCDispatchReq;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.type=e.sint32();break;case 2:i.stream_id=e.string();break;case 10:i.area_type=e.int32();break;case 11:if(i.area_id_list&&i.area_id_list.length||(i.area_id_list=[]),2==(7&A))for(var n=e.uint32()+e.pos;e.pos<n;)i.area_id_list.push(e.int32());else i.area_id_list.push(e.int32());break;default:e.skipType(7&A)}}return i},e}(),n.WebRTCDispatchRsp=function(){function e(e){if(this.gw_nodes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.gw_nodes=c.emptyArray,e.prototype.gw_nodes_ttl=0,e.prototype.client_ip="",e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.gw_nodes&&e.gw_nodes.length)for(var r=0;r<e.gw_nodes.length;++r)t.uint32(10).string(e.gw_nodes[r]);return null!=e.gw_nodes_ttl&&Object.hasOwnProperty.call(e,"gw_nodes_ttl")&&t.uint32(16).uint32(e.gw_nodes_ttl),null!=e.client_ip&&Object.hasOwnProperty.call(e,"client_ip")&&t.uint32(26).string(e.client_ip),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(32).sint32(e.result),t},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new g.webrtc_proto_v2.WebRTCDispatchRsp;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.gw_nodes&&i.gw_nodes.length||(i.gw_nodes=[]),i.gw_nodes.push(e.string());break;case 2:i.gw_nodes_ttl=e.uint32();break;case 3:i.client_ip=e.string();break;case 4:i.result=e.sint32();break;default:e.skipType(7&A)}}return i},e}(),n),e.exports=g},5515:function(e){e.exports=function(){function e(t,r,i){function A(o,s){if(!r[o]){if(!t[o]){if(n)return n(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){return A(t[o][1][e]||e)}),c,c.exports,e,t,r,i)}return r[o].exports}for(var n=void 0,o=0;o<i.length;o++)A(i[o]);return A}return e}()({1:[function(e,t,r){"use strict";var i=(0,e("./adapter_factory.js").adapterFactory)({window:window});t.exports=i},{"./adapter_factory.js":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.adapterFactory=g;var i=c(e("./utils")),A=c(e("./chrome/chrome_shim")),n=c(e("./edge/edge_shim")),o=c(e("./firefox/firefox_shim")),s=c(e("./safari/safari_shim")),a=c(e("./common_shim"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function g(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=i.log,c=i.detectBrowser(e),g={browserDetails:c,commonShim:a,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(c.browser){case"chrome":if(!A||!A.shimPeerConnection||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),g;r("adapter.js shimming chrome."),g.browserShim=A,A.shimGetUserMedia(e),A.shimMediaStream(e),A.shimPeerConnection(e),A.shimOnTrack(e),A.shimAddTrackRemoveTrack(e),A.shimGetSendersWithDtmf(e),A.shimGetStats(e),A.shimSenderReceiverGetStats(e),A.fixNegotiationNeeded(e),a.shimRTCIceCandidate(e),a.shimConnectionState(e),a.shimMaxMessageSize(e),a.shimSendThrowTypeError(e),a.removeAllowExtmapMixed(e);break;case"firefox":if(!o||!o.shimPeerConnection||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),g;r("adapter.js shimming firefox."),g.browserShim=o,o.shimGetUserMedia(e),o.shimPeerConnection(e),o.shimOnTrack(e),o.shimRemoveStream(e),o.shimSenderGetStats(e),o.shimReceiverGetStats(e),o.shimRTCDataChannel(e),a.shimRTCIceCandidate(e),a.shimConnectionState(e),a.shimMaxMessageSize(e),a.shimSendThrowTypeError(e);break;case"edge":if(!n||!n.shimPeerConnection||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),g;r("adapter.js shimming edge."),g.browserShim=n,n.shimGetUserMedia(e),n.shimGetDisplayMedia(e),n.shimPeerConnection(e),n.shimReplaceTrack(e),a.shimMaxMessageSize(e),a.shimSendThrowTypeError(e);break;case"safari":if(!s||!t.shimSafari)return r("Safari shim is not included in this adapter release."),g;r("adapter.js shimming safari."),g.browserShim=s,s.shimRTCIceServerUrls(e),s.shimCreateOfferLegacy(e),s.shimCallbacksAPI(e),s.shimLocalStreamsAPI(e),s.shimRemoteStreamsAPI(e),s.shimTrackEventTransceiver(e),s.shimGetUserMedia(e),a.shimRTCIceCandidate(e),a.shimMaxMessageSize(e),a.shimSendThrowTypeError(e),a.removeAllowExtmapMixed(e);break;default:r("Unsupported browser!")}return g}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=e("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return A.shimGetUserMedia}});var n=e("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return n.shimGetDisplayMedia}}),r.shimMediaStream=a,r.shimOnTrack=c,r.shimGetSendersWithDtmf=g,r.shimGetStats=u,r.shimSenderReceiverGetStats=l,r.shimAddTrackRemoveTrackWithNative=h,r.shimAddTrackRemoveTrack=d,r.shimPeerConnection=p,r.fixNegotiationNeeded=C;var o=s(e("../utils.js"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function c(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(i){var A=void 0;A=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===i.track.id})):{track:i.track};var n=new Event("track");n.track=i.track,n.receiver=A,n.transceiver={receiver:A},n.streams=[t.stream],r.dispatchEvent(n)})),t.stream.getTracks().forEach((function(i){var A=void 0;A=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===i.id})):{track:i};var n=new Event("track");n.track=i,n.receiver=A,n.transceiver={receiver:A},n.streams=[t.stream],r.dispatchEvent(n)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else o.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function g(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===t.kind?e.createDTMFSender(t):null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var A=r.apply(this,arguments);return A||(A=t(this,e),this._senders.push(A)),A};var A=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){A.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function u(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,i){var A=this,n=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?t.apply(this,[function(e){n[1](s(o(e)))},arguments[0]]):new Promise((function(e,r){t.apply(A,[function(t){e(s(o(t)))},r])})).then(r,i)}}}function l(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var A=e.RTCPeerConnection.prototype.getReceivers;A&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=A.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),o.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],r=void 0,i=void 0,A=void 0;return this.getSenders().forEach((function(e){e.track===t&&(r?A=!0:r=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(i?A=!0:i=e),e.track===t})),A||r&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return n.apply(this,arguments)}}}}function h(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(i)&&this._shimmedLocalStreams[r.id].push(i):this._shimmedLocalStreams[r.id]=[r,i],i};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var i=this.getSenders();r.apply(this,arguments);var A=this.getSenders().filter((function(e){return-1===i.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(A)};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};var A=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var i=t._shimmedLocalStreams[r].indexOf(e);-1!==i&&t._shimmedLocalStreams[r].splice(i,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),A.apply(this,arguments)}}function d(e){if(e.RTCPeerConnection){var t=o.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return h(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var A=new e.MediaStream(t.getTracks());this._streams[t.id]=A,this._reverseStreams[A.id]=t,t=A}i.apply(this,[t])};var A=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},A.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var i=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var A=[].slice.call(arguments,1);if(1!==A.length||!A[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var n=this._streams[r.id];if(n)n.addTrack(t),Promise.resolve().then((function(){i.dispatchEvent(new Event("negotiationneeded"))}));else{var o=new e.MediaStream([t]);this._streams[r.id]=o,this._reverseStreams[o.id]=r,this.addStream(o)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var i=a(e,r);t[0].apply(null,[i])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return a(e,t)}))}}));var n=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=c(this,arguments[0]),n.apply(this,arguments)):n.apply(this,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var r=void 0;Object.keys(this._streams).forEach((function(i){t._streams[i].getTracks().find((function(t){return e.track===t}))&&(r=t._streams[i])})),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function a(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t];r=r.replace(new RegExp(e._streams[i.id].id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:r})}function c(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],A=e._streams[i.id];r=r.replace(new RegExp(i.id,"g"),A.id)})),new RTCSessionDescription({type:t.type,sdp:r})}}function p(e){if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function C(e){o.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,r){"use strict";function i(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var i=r.video&&r.video.width,A=r.video&&r.video.height;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:r.video&&r.video.frameRate||3}},i&&(r.video.mandatory.maxWidth=i),A&&(r.video.mandatory.maxHeight=A),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=i},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimGetUserMedia=s;var A=n(e("../utils.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var o=A.log;function s(e){var t=e&&e.navigator;if(t.mediaDevices){var r=A.detectBrowser(e),n=function(e){if("object"!==(void 0===e?"undefined":i(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var A="object"===i(e[r])?e[r]:{ideal:e[r]};void 0!==A.exact&&"number"==typeof A.exact&&(A.min=A.max=A.exact);var n=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==A.ideal){t.optional=t.optional||[];var o={};"number"==typeof A.ideal?(o[n("min",r)]=A.ideal,t.optional.push(o),(o={})[n("max",r)]=A.ideal,t.optional.push(o)):(o[n("",r)]=A.ideal,t.optional.push(o))}void 0!==A.exact&&"number"!=typeof A.exact?(t.mandatory=t.mandatory||{},t.mandatory[n("",r)]=A.exact):["min","max"].forEach((function(e){void 0!==A[e]&&(t.mandatory=t.mandatory||{},t.mandatory[n(e,r)]=A[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,A){if(r.version>=61)return A(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===i(e.audio)){var s=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===i(e.video)){var a=e.video.facingMode;a=a&&("object"===(void 0===a?"undefined":i(a))?a:{ideal:a});var c=r.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||c)){delete e.video.facingMode;var g=void 0;if("environment"===a.exact||"environment"===a.ideal?g=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(g=["front"]),g)return t.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return g.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&g.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=a.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),o("chrome: "+JSON.stringify(e)),A(e)}))}e.video=n(e.video)}return o("chrome: "+JSON.stringify(e)),A(e)},a=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},c=function(e,r,i){s(e,(function(e){t.webkitGetUserMedia(e,r,(function(e){i&&i(a(e))}))}))};if(t.getUserMedia=c.bind(t),t.mediaDevices.getUserMedia){var g=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return g(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}}},{"../utils.js":15}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimRTCIceCandidate=a,r.shimMaxMessageSize=c,r.shimSendThrowTypeError=g,r.shimConnectionState=u,r.removeAllowExtmapMixed=l;var A=s(e("sdp")),n=o(e("./utils"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function a(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),n=A.default.parseCandidate(e.candidate),o=Object.assign(r,n);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,n.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function c(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=n.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=function(e){if(!e||!e.sdp)return!1;var t=A.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=A.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r},o=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r},s=function(e,r){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var n=A.default.matchPrefix(e.sdp,"a=max-message-size:");return n.length>0?i=parseInt(n[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(i=2147483637),i},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,r(arguments[0])){var e=i(arguments[0]),t=o(e),A=s(arguments[0],e),n=void 0;n=0===t&&0===A?Number.POSITIVE_INFINITY:0===t||0===A?Math.max(t,A):Math.min(t,A);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return n}}),this._sctp=c}return a.apply(this,arguments)}}}function g(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},n.wrapPeerConnectionEvent(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var i=arguments[0];if("open"===e.readyState&&t.sctp&&(i.length||i.size||i.byteLength)>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}function u(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}}function l(e){if(e.RTCPeerConnection){var t=n.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),r.apply(this,arguments)}}}}},{"./utils":15,sdp:17}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var i=e("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var A=e("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return A.shimGetDisplayMedia}}),r.shimPeerConnection=g,r.shimReplaceTrack=u;var n=c(e("../utils")),o=e("./filtericeservers"),s=a(e("rtcpeerconnection-shim"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function g(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){r.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var i=(0,s.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,o.filterIceServers)(e.iceServers,t.version),n.log("ICE servers after filtering:",e.iceServers)),new i(e)},e.RTCPeerConnection.prototype=i.prototype}function u(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.filterIceServers=n;var i=A(e("../utils"));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&i.deprecated("RTCIceServer.url","RTCIceServer.urls");var A="string"==typeof t;return A&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!r?(r=!0,!0):t&&!r})),delete e.url,e.urls=A?t[0]:t,!!t.length}}))}},{"../utils":15}],9:[function(e,t,r){"use strict";function i(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=i},{}],10:[function(e,t,r){"use strict";function i(e){var t=e&&e.navigator,r=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},i=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e).catch((function(e){return Promise.reject(r(e))}))}}Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetUserMedia=i},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=e("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return A.shimGetUserMedia}});var n=e("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return n.shimGetDisplayMedia}}),r.shimOnTrack=a,r.shimPeerConnection=c,r.shimSenderGetStats=g,r.shimReceiverGetStats=u,r.shimRemoveStream=l,r.shimRTCDataChannel=h;var o=s(e("../utils"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){"object"===(void 0===e?"undefined":i(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function c(e){var t=o.detectBrowser(e);if("object"===(void 0===e?"undefined":i(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var A={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,i){return n.apply(this,[e||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=A[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:A[t.type]||t.type}))}))}return e})).then(r,i)}}}function g(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function u(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),o.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function l(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})}function h(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,r){"use strict";function i(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=i},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimGetUserMedia=o;var A=n(e("../utils"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){var t=A.detectBrowser(e),r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,i){A.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var o=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":i(e))&&"object"===i(e.audio)&&(e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","mozAutoGainControl"),o(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},n&&n.prototype.getSettings){var a=n.prototype.getSettings;n.prototype.getSettings=function(){var e=a.apply(this,arguments);return o(e,"mozAutoGainControl","autoGainControl"),o(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var c=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":i(e))&&(e=JSON.parse(JSON.stringify(e)),o(e,"autoGainControl","mozAutoGainControl"),o(e,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[e])}}}}},{"../utils":15}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimLocalStreamsAPI=o,r.shimRemoteStreamsAPI=s,r.shimCallbacksAPI=a,r.shimGetUserMedia=c,r.shimConstraints=g,r.shimRTCIceServerUrls=u,r.shimTrackEventTransceiver=l,r.shimCreateOfferLegacy=h;var A=n(e("../utils"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getTracks().forEach((function(i){return t.call(r,i,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,r){return r&&(this._localStreams?this._localStreams.includes(r)||this._localStreams.push(r):this._localStreams=[r]),t.call(this,e,r)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var i=e.getTracks();this.getSenders().forEach((function(e){i.includes(e.track)&&t.removeTrack(e)}))}})}}function s(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}}function a(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,A=t.createAnswer,n=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var i=r.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var r=A.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return t?(r.then(e,t),Promise.resolve()):r};var a=function(e,t,r){var i=n.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i};t.setLocalDescription=a,t.setRemoteDescription=a=function(e,t,r){var i=o.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i},t.addIceCandidate=a=function(e,t,r){var i=s.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i}}}function c(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,i=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return i(g(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,i){t.mediaDevices.getUserMedia(e).then(r,i)}.bind(t))}function g(e){return e&&void 0!==e.video?Object.assign({},e,{video:A.compactObject(e.video)}):e}function u(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var i=[],n=0;n<e.iceServers.length;n++){var o=e.iceServers[n];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(A.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,i.push(o)):i.push(e.iceServers[n])}e.iceServers=i}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}function l(e){"object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function h(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video")}return t.apply(this,arguments)}}},{"../utils":15}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.extractVersion=s,r.wrapPeerConnectionEvent=a,r.disableLog=c,r.disableWarnings=g,r.log=u,r.deprecated=l,r.detectBrowser=h,r.compactObject=d,r.walkStats=p,r.filterStats=C;var n=!0,o=!0;function s(e,t,r){var i=e.match(t);return i&&i.length>=r&&parseInt(i[r],10)}function a(e,t,r){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,A=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return A.apply(this,arguments);var n=function(e){var t=r(e);t&&i(t)};return this._eventMap=this._eventMap||{},this._eventMap[i]=n,A.apply(this,[e,n])};var n=i.removeEventListener;i.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return n.apply(this,arguments);var i=this._eventMap[r];return delete this._eventMap[r],n.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function c(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":i(e))+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function g(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":i(e))+". Please use a boolean."):(o=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function u(){if("object"===("undefined"==typeof window?"undefined":i(window))){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function l(e,t){o&&console.warn(e+" is deprecated, please use "+t+" instead.")}function h(e){var t=e.navigator,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;if(t.mozGetUserMedia)r.browser="firefox",r.version=s(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)r.browser="chrome",r.version=s(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=s(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=s(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return r}function d(e){return"object"!==(void 0===e?"undefined":i(e))?e:Object.keys(e).reduce((function(t,r){var n="object"===i(e[r]),o=n?d(e[r]):e[r],s=n&&!Object.keys(o).length;return void 0===o||s?t:Object.assign(t,A({},r,o))}),{})}function p(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((function(i){i.endsWith("Id")?p(e,e.get(t[i]),r):i.endsWith("Ids")&&t[i].forEach((function(t){p(e,e.get(t),r)}))})))}function C(e,t,r){var i=r?"outbound-rtp":"inbound-rtp",A=new Map;if(null===t)return A;var n=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&n.push(e)})),n.forEach((function(t){e.forEach((function(r){r.type===i&&r.trackId===t.id&&p(e,r,A)}))})),A}},{}],16:[function(e,t,r){"use strict";var i=e("sdp");function A(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function n(e,t,r,A,n){var o=i.writeRtpDescription(e.kind,t);if(o+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":n||"active"),o+="a=mid:"+e.mid+"\r\n",o+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var a="msid:"+(A?A.id:"-")+" "+s+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),o}function o(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var A="string"==typeof i;return A&&(i=[i]),i=i.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)})),delete e.url,e.urls=A?i[0]:i,!!i.length}}))}function s(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},A=function(e,t,r,A){var n=i(e.parameters.apt,r),o=i(t.parameters.apt,A);return n&&o&&n.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach((function(i){for(var n=0;n<t.codecs.length;n++){var o=t.codecs[n];if(i.name.toLowerCase()===o.name.toLowerCase()&&i.clockRate===o.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&o.parameters.apt&&!A(i,o,e.codecs,t.codecs))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(i.numChannels,o.numChannels),r.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter((function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var i=0;i<t.headerExtensions.length;i++){var A=t.headerExtensions[i];if(e.uri===A.uri){r.headerExtensions.push(A);break}}})),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function c(e,t){var r=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return r||e.addRemoteCandidate(t),!r}function g(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}t.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}function l(t,r,i,A){var n=new Event("track");n.track=r,n.receiver=i,n.transceiver={receiver:i},n.streams=A,e.setTimeout((function(){t._dispatchEvent("track",n)}))}var h=function(r){var A=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){A[e]=n[e].bind(n)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw g("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=o(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var s=r.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=i.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(h.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(h.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),h.prototype.onicecandidate=null,h.prototype.onaddstream=null,h.prototype.ontrack=null,h.prototype.onremovestream=null,h.prototype.onsignalingstatechange=null,h.prototype.oniceconnectionstatechange=null,h.prototype.onconnectionstatechange=null,h.prototype.onicegatheringstatechange=null,h.prototype.onnegotiationneeded=null,h.prototype.ondatachannel=null,h.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},h.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},h.prototype.getConfiguration=function(){return this._config},h.prototype.getLocalStreams=function(){return this.localStreams},h.prototype.getRemoteStreams=function(){return this.remoteStreams},h.prototype._createTransceiver=function(e,t){var r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},h.prototype.addTrack=function(t,r){if(this._isClosed)throw g("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var i;if(this.transceivers.find((function(e){return e.track===t})))throw g("InvalidAccessError","Track already exists.");for(var A=0;A<this.transceivers.length;A++)this.transceivers[A].track||this.transceivers[A].kind!==t.kind||(i=this.transceivers[A]);return i||(i=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),i.track=t,i.stream=r,i.rtpSender=new e.RTCRtpSender(t,i.dtlsTransport),i.rtpSender},h.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach((function(t){r.addTrack(t,e)}));else{var i=e.clone();e.getTracks().forEach((function(e,t){var r=i.getTracks()[t];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),i.getTracks().forEach((function(e){r.addTrack(e,i)}))}},h.prototype.removeTrack=function(t){if(this._isClosed)throw g("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find((function(e){return e.rtpSender===t}));if(!r)throw g("InvalidAccessError","Sender was not created by this connection.");var i=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(i)&&this.localStreams.indexOf(i)>-1&&this.localStreams.splice(this.localStreams.indexOf(i),1),this._maybeFireNegotiationNeeded()},h.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var r=t.getSenders().find((function(t){return t.track===e}));r&&t.removeTrack(r)}))},h.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},h.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},h.prototype._createIceGatherer=function(t,r){var i=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var A=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(A,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;A.state=r?"completed":"gathering",null!==i.transceivers[t].bufferedCandidateEvents&&i.transceivers[t].bufferedCandidateEvents.push(e)},A.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),A},h.prototype._gather=function(t,r){var A=this,n=this.transceivers[r].iceGatherer;if(!n.onlocalcandidate){var o=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,n.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),n.onlocalcandidate=function(e){if(!(A.usingBundle&&r>0)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:r};var s=e.candidate,a=!s||0===Object.keys(s).length;if(a)"new"!==n.state&&"gathering"!==n.state||(n.state="completed");else{"new"===n.state&&(n.state="gathering"),s.component=1,s.ufrag=n.getLocalParameters().usernameFragment;var c=i.writeCandidate(s);o.candidate=Object.assign(o.candidate,i.parseCandidate(c)),o.candidate.candidate=c,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var g=i.getMediaSections(A._localDescription.sdp);g[o.candidate.sdpMLineIndex]+=a?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",A._localDescription.sdp=i.getDescription(A._localDescription.sdp)+g.join("");var u=A.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==A.iceGatheringState&&(A.iceGatheringState="gathering",A._emitGatheringStateChange()),a||A._dispatchEvent("icecandidate",o),u&&(A._dispatchEvent("icecandidate",new Event("icecandidate")),A.iceGatheringState="complete",A._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){n.onlocalcandidate(e)}))}),0)}},h.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var i=new e.RTCDtlsTransport(r);return i.ondtlsstatechange=function(){t._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:i}},h.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},h.prototype._transceive=function(e,r,A){var n=s(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(n.encodings=e.sendEncodingParameters,n.rtcp={cname:i.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(n.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(n)),A&&e.rtpReceiver&&n.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),n.encodings=e.recvEncodingParameters.length?e.recvEncodingParameters:[{}],n.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(n.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(n.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(n))},h.prototype.setLocalDescription=function(e){var t,r,A=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(g("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,A.signalingState)||A._isClosed)return Promise.reject(g("InvalidStateError","Can not set local "+e.type+" in state "+A.signalingState));if("offer"===e.type)t=i.splitSections(e.sdp),r=t.shift(),t.forEach((function(e,t){var r=i.parseRtpParameters(e);A.transceivers[t].localCapabilities=r})),A.transceivers.forEach((function(e,t){A._gather(e.mid,t)}));else if("answer"===e.type){t=i.splitSections(A._remoteDescription.sdp),r=t.shift();var n=i.matchPrefix(r,"a=ice-lite").length>0;t.forEach((function(e,t){var o=A.transceivers[t],a=o.iceGatherer,c=o.iceTransport,g=o.dtlsTransport,u=o.localCapabilities,l=o.remoteCapabilities;if(!(i.isRejected(e)&&0===i.matchPrefix(e,"a=bundle-only").length||o.rejected)){var h=i.getIceParameters(e,r),d=i.getDtlsParameters(e,r);n&&(d.role="server"),A.usingBundle&&0!==t||(A._gather(o.mid,t),"new"===c.state&&c.start(a,h,n?"controlling":"controlled"),"new"===g.state&&g.start(d));var p=s(u,l);A._transceive(o,p.codecs.length>0,!1)}}))}return A._localDescription={type:e.type,sdp:e.sdp},A._updateSignalingState("offer"===e.type?"have-local-offer":"stable"),Promise.resolve()},h.prototype.setRemoteDescription=function(A){var n=this;if(-1===["offer","answer"].indexOf(A.type))return Promise.reject(g("TypeError",'Unsupported type "'+A.type+'"'));if(!a("setRemoteDescription",A.type,n.signalingState)||n._isClosed)return Promise.reject(g("InvalidStateError","Can not set remote "+A.type+" in state "+n.signalingState));var o={};n.remoteStreams.forEach((function(e){o[e.id]=e}));var h=[],d=i.splitSections(A.sdp),p=d.shift(),C=i.matchPrefix(p,"a=ice-lite").length>0,I=i.matchPrefix(p,"a=group:BUNDLE ").length>0;n.usingBundle=I;var f=i.matchPrefix(p,"a=ice-options:")[0];return n.canTrickleIceCandidates=!!f&&f.substr(14).split(" ").indexOf("trickle")>=0,d.forEach((function(a,g){var l=i.splitLines(a),d=i.getKind(a),f=i.isRejected(a)&&0===i.matchPrefix(a,"a=bundle-only").length,E=l[0].substr(2).split(" ")[2],Q=i.getDirection(a,p),B=i.parseMsid(a),m=i.getMid(a)||i.generateIdentifier();if(f||"application"===d&&("DTLS/SCTP"===E||"UDP/DTLS/SCTP"===E))n.transceivers[g]={mid:m,kind:d,protocol:E,rejected:!0};else{var y,v,_,S,w,D,b,k,R;!f&&n.transceivers[g]&&n.transceivers[g].rejected&&(n.transceivers[g]=n._createTransceiver(d,!0));var N,T,L=i.parseRtpParameters(a);f||(N=i.getIceParameters(a,p),(T=i.getDtlsParameters(a,p)).role="client"),b=i.parseRtpEncodingParameters(a);var M=i.parseRtcpParameters(a),O=i.matchPrefix(a,"a=end-of-candidates",p).length>0,P=i.matchPrefix(a,"a=candidate:").map((function(e){return i.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===A.type||"answer"===A.type)&&!f&&I&&g>0&&n.transceivers[g]&&(n._disposeIceAndDtlsTransports(g),n.transceivers[g].iceGatherer=n.transceivers[0].iceGatherer,n.transceivers[g].iceTransport=n.transceivers[0].iceTransport,n.transceivers[g].dtlsTransport=n.transceivers[0].dtlsTransport,n.transceivers[g].rtpSender&&n.transceivers[g].rtpSender.setTransport(n.transceivers[0].dtlsTransport),n.transceivers[g].rtpReceiver&&n.transceivers[g].rtpReceiver.setTransport(n.transceivers[0].dtlsTransport)),"offer"!==A.type||f)"answer"!==A.type||f||(v=(y=n.transceivers[g]).iceGatherer,_=y.iceTransport,S=y.dtlsTransport,w=y.rtpReceiver,D=y.sendEncodingParameters,k=y.localCapabilities,n.transceivers[g].recvEncodingParameters=b,n.transceivers[g].remoteCapabilities=L,n.transceivers[g].rtcpParameters=M,P.length&&"new"===_.state&&(!C&&!O||I&&0!==g?P.forEach((function(e){c(y.iceTransport,e)})):_.setRemoteCandidates(P)),I&&0!==g||("new"===_.state&&_.start(v,N,"controlling"),"new"===S.state&&S.start(T)),!s(y.localCapabilities,y.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&y.sendEncodingParameters[0].rtx&&delete y.sendEncodingParameters[0].rtx,n._transceive(y,"sendrecv"===Q||"recvonly"===Q,"sendrecv"===Q||"sendonly"===Q),!w||"sendrecv"!==Q&&"sendonly"!==Q?delete y.rtpReceiver:(R=w.track,B?(o[B.stream]||(o[B.stream]=new e.MediaStream),r(R,o[B.stream]),h.push([R,w,o[B.stream]])):(o.default||(o.default=new e.MediaStream),r(R,o.default),h.push([R,w,o.default]))));else{(y=n.transceivers[g]||n._createTransceiver(d)).mid=m,y.iceGatherer||(y.iceGatherer=n._createIceGatherer(g,I)),P.length&&"new"===y.iceTransport.state&&(!O||I&&0!==g?P.forEach((function(e){c(y.iceTransport,e)})):y.iceTransport.setRemoteCandidates(P)),k=e.RTCRtpReceiver.getCapabilities(d),t<15019&&(k.codecs=k.codecs.filter((function(e){return"rtx"!==e.name}))),D=y.sendEncodingParameters||[{ssrc:1001*(2*g+2)}];var F,G=!1;"sendrecv"===Q||"sendonly"===Q?(G=!y.rtpReceiver,w=y.rtpReceiver||new e.RTCRtpReceiver(y.dtlsTransport,d),G&&(R=w.track,B&&"-"===B.stream||(B?(o[B.stream]||(o[B.stream]=new e.MediaStream,Object.defineProperty(o[B.stream],"id",{get:function(){return B.stream}})),Object.defineProperty(R,"id",{get:function(){return B.track}}),F=o[B.stream]):(o.default||(o.default=new e.MediaStream),F=o.default)),F&&(r(R,F),y.associatedRemoteMediaStreams.push(F)),h.push([R,w,F]))):y.rtpReceiver&&y.rtpReceiver.track&&(y.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===y.rtpReceiver.track.id}));t&&u(t,e)})),y.associatedRemoteMediaStreams=[]),y.localCapabilities=k,y.remoteCapabilities=L,y.rtpReceiver=w,y.rtcpParameters=M,y.sendEncodingParameters=D,y.recvEncodingParameters=b,n._transceive(n.transceivers[g],!1,G)}}})),void 0===n._dtlsRole&&(n._dtlsRole="offer"===A.type?"active":"passive"),n._remoteDescription={type:A.type,sdp:A.sdp},n._updateSignalingState("offer"===A.type?"have-remote-offer":"stable"),Object.keys(o).forEach((function(t){var r=o[t];if(r.getTracks().length){if(-1===n.remoteStreams.indexOf(r)){n.remoteStreams.push(r);var i=new Event("addstream");i.stream=r,e.setTimeout((function(){n._dispatchEvent("addstream",i)}))}h.forEach((function(e){r.id===e[2].id&&l(n,e[0],e[1],[r])}))}})),h.forEach((function(e){e[2]||l(n,e[0],e[1],[])})),e.setTimeout((function(){n&&n.transceivers&&n.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},h.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},h.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},h.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},h.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},h.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},h.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(g("InvalidStateError","Can not call createOffer after close"));var A=r.transceivers.filter((function(e){return"audio"===e.kind})).length,o=r.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(A=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(o=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(r.transceivers.forEach((function(e){"audio"===e.kind?--A<0&&(e.wantReceive=!1):"video"===e.kind&&--o<0&&(e.wantReceive=!1)}));A>0||o>0;)A>0&&(r._createTransceiver("audio"),A--),o>0&&(r._createTransceiver("video"),o--);var a=i.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(A,n){var o=A.track,s=A.kind,a=A.mid||i.generateIdentifier();A.mid=a,A.iceGatherer||(A.iceGatherer=r._createIceGatherer(n,r.usingBundle));var c=e.RTCRtpSender.getCapabilities(s);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),A.remoteCapabilities&&A.remoteCapabilities.codecs&&A.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(A.remoteCapabilities&&A.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var g=A.sendEncodingParameters||[{ssrc:1001*(2*n+1)}];o&&t>=15019&&"video"===s&&!g[0].rtx&&(g[0].rtx={ssrc:g[0].ssrc+1}),A.wantReceive&&(A.rtpReceiver=new e.RTCRtpReceiver(A.dtlsTransport,s)),A.localCapabilities=c,A.sendEncodingParameters=g})),"max-compat"!==r._config.bundlePolicy&&(a+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(e,t){a+=n(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),a+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,a+="a="+i.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(a+="a=end-of-candidates\r\n"))}));var c=new e.RTCSessionDescription({type:"offer",sdp:a});return Promise.resolve(c)},h.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(g("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(g("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var A=i.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(A+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),A+="a=ice-options:trickle\r\n";var o=i.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(e,i){if(!(i+1>o)){if(e.rejected)return"application"===e.kind?A+="DTLS/SCTP"===e.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?A+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(A+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(A+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var a;e.stream&&("audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=s(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,A+=n(e,c,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(A+="a=rtcp-rsize\r\n")}}));var a=new e.RTCSessionDescription({type:"answer",sdp:A});return Promise.resolve(a)},h.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(A,n){if(!r._remoteDescription)return n(g("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var s=0;s<r.transceivers.length;s++)if(r.transceivers[s].mid===e.sdpMid){o=s;break}var a=r.transceivers[o];if(!a)return n(g("OperationError","Can not add ICE candidate"));if(a.rejected)return A();var u=Object.keys(e.candidate).length>0?i.parseCandidate(e.candidate):{};if("tcp"===u.protocol&&(0===u.port||9===u.port))return A();if(u.component&&1!==u.component)return A();if((0===o||o>0&&a.iceTransport!==r.transceivers[0].iceTransport)&&!c(a.iceTransport,u))return n(g("OperationError","Can not add ICE candidate"));var l=e.candidate.trim();0===l.indexOf("a=")&&(l=l.substr(2)),(t=i.getMediaSections(r._remoteDescription.sdp))[o]+="a="+(u.type?l:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=i.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var h=0;h<r.transceivers.length&&(r.transceivers[h].rejected||(r.transceivers[h].iceTransport.addRemoteCandidate({}),(t=i.getMediaSections(r._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=i.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));h++);A()}))},h.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)})),!r)throw g("InvalidAccessError","Invalid selector.");return r.getStats()}var i=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&i.push(e[t].getStats())}))})),Promise.all(i).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var i=r.prototype.getStats;r.prototype.getStats=function(){return i.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(r){e[r].type=A(e[r]),t.set(r,e[r])})),t}))}}}));var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),h}},{sdp:17}],17:[function(e,t,r){"use strict";var i={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},i.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},i.getDescription=function(e){var t=i.splitSections(e);return t&&t[0]},i.getMediaSections=function(e){var t=i.splitSections(e);return t.shift(),t},i.matchPrefix=function(e,t){return i.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},i.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":r.relatedAddress=t[i+1];break;case"rport":r.relatedPort=parseInt(t[i+1],10);break;case"tcptype":r.tcpType=t[i+1];break;case"ufrag":r.ufrag=t[i+1],r.usernameFragment=t[i+1];break;default:r[t[i]]=t[i+1]}return r},i.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},i.parseIceOptions=function(e){return e.substr(14).split(" ")},i.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},i.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},i.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.parseFmtp=function(e){for(var t,r={},i=e.substr(e.indexOf(" ")+1).split(";"),A=0;A<i.length;A++)r[(t=i[A].trim().split("="))[0].trim()]=t[1];return r},i.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach((function(t){i.push(e.parameters[t]?t+"="+e.parameters[t]:t)})),t+="a=fmtp:"+r+" "+i.join(";")+"\r\n"}return t},i.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},i.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},i.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(r.attribute=e.substr(t+1,i-t-1),r.value=e.substr(i+1)):r.attribute=e.substr(t+1),r},i.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},i.getMid=function(e){var t=i.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},i.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:i.matchPrefix(e+t,"a=fingerprint:").map(i.parseFingerprint)}},i.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},i.getIceParameters=function(e,t){var r=i.splitLines(e);return{usernameFragment:(r=r.concat(i.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:r.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},i.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},i.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=i.splitLines(e)[0].split(" "),A=3;A<r.length;A++){var n=r[A],o=i.matchPrefix(e,"a=rtpmap:"+n+" ")[0];if(o){var s=i.parseRtpMap(o),a=i.matchPrefix(e,"a=fmtp:"+n+" ");switch(s.parameters=a.length?i.parseFmtp(a[0]):{},s.rtcpFeedback=i.matchPrefix(e,"a=rtcp-fb:"+n+" ").map(i.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return i.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(i.parseExtmap(e))})),t},i.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){r+=i.writeRtpMap(e),r+=i.writeFmtp(e),r+=i.writeRtcpFb(e)}));var A=0;return t.codecs.forEach((function(e){e.maxptime>A&&(A=e.maxptime)})),A>0&&(r+="a=maxptime:"+A+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=i.writeExtmap(e)})),r},i.parseRtpEncodingParameters=function(e){var t,r=[],A=i.parseRtpParameters(e),n=-1!==A.fecMechanisms.indexOf("RED"),o=-1!==A.fecMechanisms.indexOf("ULPFEC"),s=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),a=s.length>0&&s[0].ssrc,c=i.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===a&&(t=c[0][1]),A.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var i={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&t&&(i.rtx={ssrc:t}),r.push(i),n&&((i=JSON.parse(JSON.stringify(i))).fec={ssrc:a,mechanism:o?"red+ulpfec":"red"},r.push(i))}})),0===r.length&&a&&r.push({ssrc:a});var g=i.matchPrefix(e,"b=");return g.length&&(g=0===g[0].indexOf("b=TIAS:")?parseInt(g[0].substr(7),10):0===g[0].indexOf("b=AS:")?1e3*parseInt(g[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=g}))),r},i.parseRtcpParameters=function(e){var t={},r=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var A=i.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=A.length>0,t.compound=0===A.length;var n=i.matchPrefix(e,"a=rtcp-mux");return t.mux=n.length>0,t},i.parseMsid=function(e){var t,r=i.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var A=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return A.length>0?{stream:(t=A[0].value.split(" "))[0],track:t[1]}:void 0},i.generateSessionId=function(){return Math.random().toString().substr(2,21)},i.writeSessionBoilerplate=function(e,t,r){var A=void 0!==t?t:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||i.generateSessionId())+" "+A+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.writeMediaSection=function(e,t,r,A){var n=i.writeRtpDescription(e.kind,t);if(n+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),n+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),n+="a=mid:"+e.mid+"\r\n",n+=e.direction?"a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var o="msid:"+A.id+" "+e.rtpSender.track.id+"\r\n";n+="a="+o,n+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(n+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,n+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return n+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(n+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),n},i.getDirection=function(e,t){for(var r=i.splitLines(e),A=0;A<r.length;A++)switch(r[A]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[A].substr(2)}return t?i.getDirection(t):"sendrecv"},i.getKind=function(e){return i.splitLines(e)[0].split(" ")[0].substr(2)},i.isRejected=function(e){return"0"===e.split(" ",2)[1]},i.parseMLine=function(e){var t=i.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},i.parseOLine=function(e){var t=i.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},i.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=i.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=i)},{}]},{},[1])(1)},4545:function(e,t,r){"undefined"!=typeof self&&self,e.exports=function(e,t){return i=[function(e,t,r){var i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}function A(e){var t=Math.clz32(e&-e);return e?31-t:t}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var n={},o={};function s(e,t){var r,i,A;return t?(A=0<=(e>>>=0)&&e<256)&&(i=o[e])?i:(r=c(e,0,!0),A&&(o[e]=r),r):(A=-128<=(e|=0)&&e<128)&&(i=n[e])?i:(r=c(e,e<0?-1:0,!1),A&&(n[e]=r),r)}function a(e,t){if(isNaN(e))return t?f:I;if(t){if(e<0)return f;if(d<=e)return y}else{if(e<=-p)return v;if(p<=e+1)return m}return e<0?a(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,i){return new r(e,t,i)}r.fromInt=s,r.fromNumber=a,r.fromBits=c;var g=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if(t="number"==typeof t?(r=t,!1):!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?f:I;if((r=r||10)<2||36<r)throw RangeError("radix");var i;if(0<(i=e.indexOf("-")))throw Error("interior hyphen");if(0===i)return u(e.substring(1),t,r).neg();for(var A=a(g(r,8)),n=I,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+s),r);n=(s<8?(s=a(g(r,s)),n.mul(s)):n=n.mul(A)).add(a(c))}return n.unsigned=t,n}function l(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=l;var h=4294967296,d=h*h,p=d/2,C=s(1<<24),I=s(0),f=(r.ZERO=I,s(0,!0)),E=(r.UZERO=f,s(1)),Q=(r.ONE=E,s(1,!0)),B=(r.UONE=Q,s(-1)),m=(r.NEG_ONE=B,c(-1,2147483647,!1)),y=(r.MAX_VALUE=m,c(-1,-1,!0)),v=(r.MAX_UNSIGNED_VALUE=y,c(0,-2147483648,!1)),_=(r.MIN_VALUE=v,r.prototype);return _.toInt=function(){return this.unsigned?this.low>>>0:this.low},_.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},_.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";var t,r;if(this.isNegative())return this.eq(v)?(r=a(e),r=(t=this.div(r)).mul(r).sub(this),t.toString(e)+r.toInt().toString(e)):"-"+this.neg().toString(e);for(var i=a(g(e,6),this.unsigned),A=this,n="";;){var o=A.div(i),s=(A.sub(o.mul(i)).toInt()>>>0).toString(e);if((A=o).isZero())return s+n;for(;s.length<6;)s="0"+s;n=""+s+n}},_.getHighBits=function(){return this.high},_.getHighBitsUnsigned=function(){return this.high>>>0},_.getLowBits=function(){return this.low},_.getLowBitsUnsigned=function(){return this.low>>>0},_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(v)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},_.isZero=function(){return 0===this.high&&0===this.low},_.eqz=_.isZero,_.isNegative=function(){return!this.unsigned&&this.high<0},_.isPositive=function(){return this.unsigned||0<=this.high},_.isOdd=function(){return 1==(1&this.low)},_.isEven=function(){return 0==(1&this.low)},_.equals=function(e){return i(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},_.eq=_.equals,_.notEquals=function(e){return!this.eq(e)},_.neq=_.notEquals,_.ne=_.notEquals,_.lessThan=function(e){return this.comp(e)<0},_.lt=_.lessThan,_.lessThanOrEqual=function(e){return this.comp(e)<=0},_.lte=_.lessThanOrEqual,_.le=_.lessThanOrEqual,_.greaterThan=function(e){return 0<this.comp(e)},_.gt=_.greaterThan,_.greaterThanOrEqual=function(e){return 0<=this.comp(e)},_.gte=_.greaterThanOrEqual,_.ge=_.greaterThanOrEqual,_.compare=function(e){var t,r;return i(e)||(e=l(e)),this.eq(e)?0:(t=this.isNegative(),r=e.isNegative(),t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1)},_.comp=_.compare,_.negate=function(){return!this.unsigned&&this.eq(v)?v:this.not().add(E)},_.neg=_.negate,_.add=function(e){i(e)||(e=l(e));var t=0,r=0,A=0,n=0;return r+=(A=A+((n+=(65535&this.low)+(65535&e.low))>>>16)+((this.low>>>16)+(e.low>>>16)))>>>16,c((A&=65535)<<16|(n&=65535),((t+=(r+=(65535&this.high)+(65535&e.high))>>>16)+((this.high>>>16)+(e.high>>>16))&65535)<<16|(r&=65535),this.unsigned)},_.subtract=function(e){return i(e)||(e=l(e)),this.add(e.neg())},_.sub=_.subtract,_.multiply=function(e){var r,A,n,o,s,g,u,h,d,p;return this.isZero()?this:(i(e)||(e=l(e)),t?c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):e.isZero()?this.unsigned?f:I:this.eq(v)?e.isOdd()?v:I:e.eq(v)?this.isOdd()?v:I:this.isNegative()?e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg():e.isNegative()?this.mul(e.neg()).neg():this.lt(C)&&e.lt(C)?a(this.toNumber()*e.toNumber(),this.unsigned):(o=e.high>>>16,s=65535&e.high,g=e.low>>>16,p=(p=d=h=u=0)+((h=h+((d+=(n=65535&this.low)*(e=65535&e.low))>>>16)+(A=this.low>>>16)*e)>>>16)+((h=(65535&h)+n*g)>>>16),c((h&=65535)<<16|(d&=65535),(u=(u=(u+=(p+=(r=65535&this.high)*e)>>>16)+((p=(65535&p)+A*g)>>>16)+((p=(65535&p)+n*s)>>>16))+((this.high>>>16)*e+r*g+A*s+n*o)&65535)<<16|(p&=65535),this.unsigned)))},_.mul=_.multiply,_.divide=function(e){if((e=i(e)?e:l(e)).isZero())throw Error("division by zero");var r,A,n;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?f:I;if(this.unsigned){if((e=e.unsigned?e:e.toUnsigned()).gt(this))return f;if(e.gt(this.shru(1)))return Q;A=f}else{if(this.eq(v))return e.eq(E)||e.eq(B)?v:e.eq(v)?E:(n=this.shr(1).div(e).shl(1)).eq(I)?e.isNegative()?E:B:(r=this.sub(e.mul(n)),n.add(r.div(e)));if(e.eq(v))return this.unsigned?f:I;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();A=I}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),s=o<=48?1:g(2,o-48),u=a(n),h=u.mul(e);h.isNegative()||h.gt(r);)h=(u=a(n-=s,this.unsigned)).mul(e);u.isZero()&&(u=E),A=A.add(u),r=r.sub(h)}return A},_.div=_.divide,_.modulo=function(e){return i(e)||(e=l(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},_.mod=_.modulo,_.rem=_.modulo,_.not=function(){return c(~this.low,~this.high,this.unsigned)},_.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},_.clz=_.countLeadingZeros,_.countTrailingZeros=function(){return this.low?A(this.low):A(this.high)+32},_.ctz=_.countTrailingZeros,_.and=function(e){return i(e)||(e=l(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},_.or=function(e){return i(e)||(e=l(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},_.xor=function(e){return i(e)||(e=l(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},_.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},_.shl=_.shiftLeft,_.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},_.shr=_.shiftRight,_.shiftRightUnsigned=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},_.shru=_.shiftRightUnsigned,_.shr_u=_.shiftRightUnsigned,_.rotateLeft=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?c(this.low<<e|this.high>>>(t=32-e),this.high<<e|this.low>>>t,this.unsigned):c(this.high<<(e-=32)|this.low>>>(t=32-e),this.low<<e|this.high>>>t,this.unsigned)},_.rotl=_.rotateLeft,_.rotateRight=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?c(this.high<<(t=32-e)|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned):c(this.low<<(t=32-(e-=32))|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)},_.rotr=_.rotateRight,_.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},_.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},_.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},_.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,i){return i?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},e.default=r,"default"in e?e.default:e}({});void 0!==(t=function(){return i}.apply(t,[]))&&(e.exports=t)},function(e,t,r){(function(t){var i;e.exports=(i=function(e){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),!(i=!(i=!(i="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:i)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:i)&&void 0!==t&&t.crypto?t.crypto:i))try{i=r(14)}catch(o){}var A=Object.create||function(e){return n.prototype=e,e=new n,n.prototype=null,e};function n(){}var o={},s=o.lib={},a=s.Base={extend:function(e){var t=A(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,r=e.words,i=this.sigBytes,A=e.sigBytes;if(this.clamp(),i%4)for(var n=0;n<A;n++)t[i+n>>>2]|=(r[n>>>2]>>>24-n%4*8&255)<<24-(i+n)%4*8;else for(var o=0;o<A;o+=4)t[i+o>>>2]=r[o>>>2];return this.sigBytes+=A,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new c.init(t,e)}}),g=o.enc={},u=g.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],A=0;A<r;A++){var n=t[A>>>2]>>>24-A%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(r,t/2)}},l=g.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],A=0;A<r;A++)i.push(String.fromCharCode(t[A>>>2]>>>24-A%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(r,t)}},h=g.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,i=this._data,A=i.words,n=i.sigBytes,o=this.blockSize,s=n/(4*o),a=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o;if(t=e.min(4*a,n),a){for(var g=0;g<a;g+=o)this._doProcessBlock(A,g);r=A.splice(0,a),i.sigBytes-=t}return new c.init(r,t)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(s.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}}),o.algo={});return o}(Math),i)}).call(this,r(13))},function(t,r){t.exports=e},function(e,t,r){function i(e){var t;return(n[e]||(t=n[e]={i:e,l:!1,exports:{}},A[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var A,n;e.exports=(A=[function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r,i;function A(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===A||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}e=e.exports={};try{r="function"==typeof setTimeout?setTimeout:A}catch(e){r=A}try{i="function"==typeof clearTimeout?clearTimeout:n}catch(e){i=n}var s,a=[],c=!1,g=-1;function u(){c&&s&&(c=!1,s.length?a=s.concat(a):g=-1,a.length)&&l()}function l(){if(!c){var e=o(u);c=!0;for(var t=a.length;t;){for(s=a,a=[];++g<t;)s&&s[g].run();g=-1,t=a.length}s=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===n||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function d(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new h(e,t)),1!==a.length||c||o(l)},h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.prependListener=d,e.prependOnceListener=d,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,r){(function(t,r,i,A){e.exports=function e(t,r,i){function A(n,o){if(!r[n]){if(!t[n])throw(s=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",s;var s=r[n]={exports:{}};t[n][0].call(s.exports,(function(e){return A(t[n][1][e]||e)}),s,s.exports,e,t,r,i)}return r[n].exports}for(var n=0;n<i.length;n++)A(i[n]);return A}({1:[function(e,t,r){"use strict";var i=e("./utils"),A=e("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,A,o,s,a,c=[],g=0,u=e.length,l="string"!==i.getTypeOf(e);g<e.length;)a=u-g,A=l?(t=e[g++],r=g<u?e[g++]:0,g<u?e[g++]:0):(t=e.charCodeAt(g++),r=g<u?e.charCodeAt(g++):0,g<u?e.charCodeAt(g++):0),o=(3&t)<<4|r>>4,s=1<a?(15&r)<<2|A>>6:64,a=2<a?63&A:64,c.push(n.charAt(t>>2)+n.charAt(o)+n.charAt(s)+n.charAt(a));return c.join("")},r.decode=function(e){var t,r,i,o,s,a=0,c=0;if("data:"===e.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var g,u=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===n.charAt(64)&&u--,e.charAt(e.length-2)===n.charAt(64)&&u--,u%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=new(A.uint8array?Uint8Array:Array)(0|u);a<e.length;)t=n.indexOf(e.charAt(a++))<<2|(o=n.indexOf(e.charAt(a++)))>>4,r=(15&o)<<4|(o=n.indexOf(e.charAt(a++)))>>2,i=(3&o)<<6|(s=n.indexOf(e.charAt(a++))),g[c++]=t,64!==o&&(g[c++]=r),64!==s&&(g[c++]=i);return g}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var i=e("./external"),A=e("./stream/DataWorker"),n=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,r,i,A){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=i,this.compressedContent=A}s.prototype={getContentWorker:function(){var e=new A(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new A(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new n).pipe(new o("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var i=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var i=e("./utils"),A=function(){for(var e=[],t=0;t<256;t++){for(var r=t,i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r}return e}();t.exports=function(e,t){return void 0!==e&&e.length?("string"!==i.getTypeOf(e)?function(e,t,r){var i=A,n=0+r;e^=-1;for(var o=0;o<n;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}:function(e,t,r){var i=A,n=0+r;e^=-1;for(var o=0;o<n;o++)e=e>>>8^i[255&(e^t.charCodeAt(o))];return-1^e})(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";e="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:e}},{lie:37}],7:[function(e,t,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,A=e("pako"),n=e("./utils"),o=e("./stream/GenericWorker"),s=i?"uint8array":"array";function a(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",n.inherits(a,o),a.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(n.transformTo(s,e.data),!1)},a.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},a.prototype._createPako=function(){this._pako=new A[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new a("Deflate",e)},r.uncompressWorker=function(){return new a("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function i(e,t){for(var r="",i=0;i<t;i++)r+=String.fromCharCode(255&e),e>>>=8;return r}function A(e,t,r,A,o,g){var u=e.file,l=e.compression,h=g!==s.utf8encode,d=n.transformTo("string",g(u.name)),p=n.transformTo("string",s.utf8encode(u.name)),C=u.comment,I=(g=n.transformTo("string",g(C)),n.transformTo("string",s.utf8encode(C))),f=p.length!==u.name.length,E=(C=I.length!==C.length,""),Q=u.dir,B=u.date,m={crc32:0,compressedSize:0,uncompressedSize:0};return t&&!r||(m.crc32=e.crc32,m.compressedSize=e.compressedSize,m.uncompressedSize=e.uncompressedSize),r=0,t&&(r|=8),h||!f&&!C||(r|=2048),e=0,t=0,Q&&(e|=16),"UNIX"===o?(t=798,e|=(65535&((h=u.unixPermissions)?h:Q?16893:33204))<<16):(t=20,e|=63&(u.dosPermissions||0)),o=B.getUTCHours(),o=(o=((o<<=6)|B.getUTCMinutes())<<5)|B.getUTCSeconds()/2,h=B.getUTCFullYear()-1980,h=(h=((h<<=4)|B.getUTCMonth()+1)<<5)|B.getUTCDate(),f&&(Q=i(1,1)+i(a(d),4)+p,E+="up"+i(Q.length,2)+Q),C&&(u=i(1,1)+i(a(g),4)+I,E+="uc"+i(u.length,2)+u),B="",B=(B=(B=(B=(B=(B=(B=(B=(B=(B+="\n\0")+i(r,2))+l.magic)+i(o,2))+i(h,2))+i(m.crc32,4))+i(m.compressedSize,4))+i(m.uncompressedSize,4))+i(d.length,2))+i(E.length,2),{fileRecord:c.LOCAL_FILE_HEADER+B+d+E,dirRecord:c.CENTRAL_FILE_HEADER+i(t,2)+B+i(g.length,2)+"\0\0\0\0"+i(e,4)+i(A,4)+d+E+g}}var n=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),a=e("../crc32"),c=e("../signature");function g(e,t,r,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(g,o),g.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-i-1))/r:100}}))},g.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;t?(e=A(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:e.fileRecord,meta:{percent:0}})):this.accumulate=!0},g.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=A(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:(t=e,c.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e;r=function(e,t,r,A,o){return o=n.transformTo("string",o(A)),c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(r,4)+i(o.length,2)+o}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName),this.push({data:r,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},g.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},g.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var i=e("../compressions"),A=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var n=new A(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,r){o++;var A=function(e,t){if(t=i[e=e||t])return t;throw new Error(e+" is not a valid compression method !")}(r.options.compression,t.compression),s=r.dir,a=r.date;r._compressWorker(A,r.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:s,date:a,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(n)})),n.entriesCount=o}catch(e){n.error(e)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e,t=new i;for(e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var i=e("./utils"),A=e("./external"),n=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),a=e("./nodejsUtils");t.exports=function(e,t){var r=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),a.isNode&&a.isStream(e)?A.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new o(t);return r.load(e),r})).then((function(e){var r=[A.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var n=0;n<i.length;n++)r.push(function(e){return new A.Promise((function(t,r){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",(function(e){r(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}(i[n]));return A.Promise.all(r)})).then((function(e){for(var A=(e=e.shift()).files,n=0;n<A.length;n++){var o=A[n],s=o.fileNameStr,a=i.resolve(o.fileNameStr);r.file(a,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(r.file(a).unsafeOriginalName=s)}return e.zipComment.length&&(r.comment=e.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var i=e("../utils"),A=e("../stream/GenericWorker");function n(e,t){A.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(n,A),n.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},n.prototype.pause=function(){return!!A.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var i=e("readable-stream").Readable;function A(e,t,r){i.call(this,t),this._helper=e;var A=this;e.on("data",(function(e,t){A.push(e)||A._helper.pause(),r&&r(t)})).on("error",(function(e){A.emit("error",e)})).on("end",(function(){A.push(null)}))}e("../utils").inherits(A,i),A.prototype._read=function(){this._helper.resume()},t.exports=A},{"../utils":32,"readable-stream":16}],14:[function(e,r,i){"use strict";r.exports={isNode:void 0!==t,newBufferFrom:function(e,r){if(t.from&&t.from!==Uint8Array.from)return t.from(e,r);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,r)},allocBuffer:function(e){return t.alloc?t.alloc(e):((e=new t(e)).fill(0),e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function i(e,t,r){var i=o.getTypeOf(t),n=o.extend(r||{},c);n.date=n.date||new Date,null!==n.compression&&(n.compression=n.compression.toUpperCase()),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=p(e)),n.createFolders&&(a=function(e){var t=(e="/"===e.slice(-1)?e.substring(0,e.length-1):e).lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&A.call(this,a,!0);var a="string"===i&&!1===n.binary&&!1===n.base64;r&&void 0!==r.binary||(n.binary=!a),(t instanceof g&&0===t.uncompressedSize||n.dir||!t||0===t.length)&&(n.base64=!1,n.binary=!0,t="",n.compression="STORE"),i=t instanceof g||t instanceof s?t:h.isNode&&h.isStream(t)?new d(e,t):o.prepareContent(e,t,n.binary,n.optimizedBinaryString,n.base64),r=new u(e,i,n),this.files[e]=r}function A(e,t){return t=void 0!==t?t:c.createFolders,e=p(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]}var n=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),c=e("./defaults"),g=e("./compressedObject"),u=e("./zipObject"),l=e("./generate"),h=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){return"/"!==e.slice(-1)&&(e+="/"),e};function C(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,i;for(t in this.files)i=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,i)},filter:function(e){var t=[];return this.forEach((function(r,i){e(r,i)&&t.push(i)})),t},file:function(e,t,r){var A;return 1!==arguments.length?(i.call(this,e=this.root+e,t,r),this):C(e)?(A=e,this.filter((function(e,t){return!t.dir&&A.test(e)}))):(t=this.files[this.root+e])&&!t.dir?t:null},folder:function(e){var t,r;return e?C(e)?this.filter((function(t,r){return r.dir&&e.test(t)})):(t=A.call(this,t=this.root+e),(r=this.clone()).root=t.name,r):this},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t={};try{if((t=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=t.type.toLowerCase(),t.compression=t.compression.toUpperCase(),"binarystring"===t.type&&(t.type="string"),!t.type)throw new Error("No output type specified.");o.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var r=l.generateWorker(this,t,t.comment||this.comment||"")}catch(e){(r=new s("error")).error(e)}return new a(r,t.type||"string",t.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var i=e("./DataReader");function A(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(A,i),A.prototype.byteAt=function(e){return this.data[this.zero+e]},A.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),A=e.charCodeAt(3),n=this.length-4;0<=n;--n)if(this.data[n]===t&&this.data[n+1]===r&&this.data[n+2]===i&&this.data[n+3]===A)return n-this.zero;return-1},A.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),A=(e=e.charCodeAt(3),this.readData(4));return t===A[0]&&r===A[1]&&i===A[2]&&e===A[3]},A.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?[]:(t=this.data.slice(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=A},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var i=e("../utils");function A(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}A.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=A},{"../utils":32}],19:[function(e,t,r){"use strict";var i=e("./Uint8ArrayReader");function A(e){i.call(this,e)}e("../utils").inherits(A,i),A.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=A},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var i=e("./DataReader");function A(e){i.call(this,e)}e("../utils").inherits(A,i),A.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},A.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},A.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},A.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=A},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var i=e("./ArrayReader");function A(e){i.call(this,e)}e("../utils").inherits(A,i),A.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?new Uint8Array(0):(t=this.data.subarray(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=A},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var i=e("../utils"),A=e("../support"),n=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),a=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||A.uint8array?"nodebuffer"===t?new s(e):A.uint8array?new a(i.transformTo("uint8array",e)):new n(i.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var i=e("./GenericWorker"),A=e("../utils");function n(e){i.call(this,"ConvertWorker to "+e),this.destType=e}A.inherits(n,i),n.prototype.processChunk=function(e){this.push({data:A.transformTo(this.destType,e.data),meta:e.meta})},t.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var i=e("./GenericWorker"),A=e("../crc32");function n(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(n,i),n.prototype.processChunk=function(e){this.streamInfo.crc32=A(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var i=e("../utils"),A=e("./GenericWorker");function n(e){A.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(n,A),n.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),A.prototype.processChunk.call(this,e)},t.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var i=e("../utils"),A=e("./GenericWorker");function n(e){A.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(n,A),n.prototype.cleanUp=function(){A.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var e;return!(!this.isPaused||this.isFinished||(e=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),e))},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,r,i){"use strict";var A=e("../utils"),n=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),c=e("../external"),g=null;if(a.nodestream)try{g=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,r){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=r,A.checkSupport(i),this._worker=e.pipe(new n(i)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return r=this,i=e,new c.Promise((function(e,n){var o=[],a=r._internalType,c=r._outputType,g=r._mimeType;r.on("data",(function(e,t){o.push(e),i&&i(t)})).on("error",(function(e){o=[],n(e)})).on("end",(function(){try{var r=function(e,t,r){switch(e){case"blob":return A.newBlob(A.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return A.transformTo(e,t)}}(c,function(e,r){for(var i=0,A=null,n=0,o=0;o<r.length;o++)n+=r[o].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(A=new Uint8Array(n),o=0;o<r.length;o++)A.set(r[o],i),i+=r[o].length;return A;case"nodebuffer":return t.concat(r);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),g);e(r)}catch(r){n(r)}o=[]})).resume()}));var r,i},on:function(e,t){var r=this;return this._worker.on(e,"data"===e?function(e){t.call(r,e.data,e.meta)}:function(){A.delay(t,arguments,r)}),this},resume:function(){return A.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(A.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:"nodebuffer"!==this._outputType},e)}},r.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var A=new ArrayBuffer(0);try{i.blob=0===new Blob([A],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(A),i.blob=0===n.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var i=e("./utils"),A=e("./support"),n=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function g(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){if(A.nodebuffer)return n.newBufferFrom(e,"utf-8");for(var t,r,i,o,s=e,a=s.length,c=0,g=0;g<a;g++)55296==(64512&(r=s.charCodeAt(g)))&&g+1<a&&56320==(64512&(i=s.charCodeAt(g+1)))&&(r=65536+(r-55296<<10)+(i-56320),g++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new(A.uint8array?Uint8Array:Array)(c),g=o=0;o<c;g++)55296==(64512&(r=s.charCodeAt(g)))&&g+1<a&&56320==(64512&(i=s.charCodeAt(g+1)))&&(r=65536+(r-55296<<10)+(i-56320),g++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},r.utf8decode=function(e){if(A.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");for(var t,r,n,o=e=i.transformTo(A.uint8array?"uint8array":"array",e),a=o.length,c=new Array(2*a),g=t=0;g<a;)if((r=o[g++])<128)c[t++]=r;else if(4<(n=s[r]))c[t++]=65533,g+=n-1;else{for(r&=2===n?31:3===n?15:7;1<n&&g<a;)r=r<<6|63&o[g++],n--;1<n?c[t++]=65533:r<65536?c[t++]=r:(c[t++]=55296|(r-=65536)>>10&1023,c[t++]=56320|1023&r)}return c.length!==t&&(c.subarray?c=c.subarray(0,t):c.length=t),i.applyFromCharCode(c)},i.inherits(c,o),c.prototype.processChunk=function(e){var t=i.transformTo(A.uint8array?"uint8array":"array",e.data),n=(this.leftOver&&this.leftOver.length&&(A.uint8array?(n=t,(t=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),t.set(n,this.leftOver.length)):t=this.leftOver.concat(t),this.leftOver=null),function(e,t){for(var r=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=r&&128==(192&e[r]);)r--;return!(r<0||0===r)&&r+s[e[r]]>t?r:t}(t)),o=t;n!==t.length&&(A.uint8array?(o=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(o=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:r.utf8decode(o),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,i.inherits(g,o),g.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";var A=e("./support"),n=e("./base64"),o=e("./nodejsUtils"),s=e("./external");function a(e){return e}function c(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(e,t,r){var i=[],A=0,n=e.length;if(n<=r)return String.fromCharCode.apply(null,e);for(;A<n;)i.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(A,Math.min(A+r,n)):e.subarray(A,Math.min(A+r,n)))),A+=r;return i.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return A.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return A.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=i.getTypeOf(e),A=!0;if("uint8array"===r?A=g.applyCanBeUsed.uint8array:"nodebuffer"===r&&(A=g.applyCanBeUsed.nodebuffer),A)for(;1<t;)try{return g.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return g.stringifyByChar(e)}function l(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}i.applyFromCharCode=u;var h={};h.string={string:a,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},h.array={string:u,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return l(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return o.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:a},i.transformTo=function(e,t){if(t=t||"",!e)return t;i.checkSupport(e);var r=i.getTypeOf(t);return h[r][e](t)},i.resolve=function(e){for(var t=e.split("/"),r=[],i=0;i<t.length;i++){var A=t[i];"."===A||""===A&&0!==i&&i!==t.length-1||(".."===A?r.pop():r.push(A))}return r.join("/")},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":A.nodebuffer&&o.isBuffer(e)?"nodebuffer":A.uint8array&&e instanceof Uint8Array?"uint8array":A.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!A[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){for(var t,r="",i=0;i<(e||"").length;i++)r+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return r},i.delay=function(e,t,i){r((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},i.extend=function(){for(var e,t={},r=0;r<arguments.length;r++)for(e in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],e)&&void 0===t[e]&&(t[e]=arguments[r][e]);return t},i.prepareContent=function(e,t,r,o,a){return s.Promise.resolve(t).then((function(e){return A.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,r){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){r(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var g=i.getTypeOf(t);return g?("arraybuffer"===g?t=i.transformTo("uint8array",t):"string"===g&&(a?t=n.decode(t):r&&!0!==o&&(t=c(g=t,new(A.uint8array?Uint8Array:Array)(g.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var i=e("./reader/readerFor"),A=e("./utils"),n=e("./signature"),o=e("./zipEntry"),s=e("./support");function a(e){this.files=[],this.loadOptions=e}a.prototype={checkSignature:function(e){var t;if(!this.reader.readAndCheckSignature(e))throw this.reader.index-=4,t=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+A.pretty(t)+", expected "+A.pretty(e)+")")},isSignature:function(e,t){var r=this.reader.index;return this.reader.setIndex(e),e=this.reader.readString(4)===t,this.reader.setIndex(r),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array";t=A.transformTo(t,e),this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var e,t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===A.MAX_VALUE_16BITS||this.diskWithCentralDirStart===A.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===A.MAX_VALUE_16BITS||this.centralDirRecords===A.MAX_VALUE_16BITS||this.centralDirSize===A.MAX_VALUE_32BITS||this.centralDirOffset===A.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}if(e=this.centralDirOffset+this.centralDirSize,0<(e=t-(e=this.zip64?e+20+(12+this.zip64EndOfCentralSize):e)))this.isSignature(t,n.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=a},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var i=e("./reader/readerFor"),A=e("./utils"),n=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),a=e("./compressions"),c=e("./support");function g(e,t){this.options=e,this.loadOptions=t}g.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t;if(e.skip(22),this.fileNameLength=e.readInt(2),t=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(t),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in a)if(Object.prototype.hasOwnProperty.call(a,t)&&a[t].magic===e)return a[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+A.pretty(this.compressionMethod)+" unknown (inner file : "+A.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){var e;this.extraFields[1]&&(e=i(this.extraFields[1].value),this.uncompressedSize===A.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===A.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===A.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===A.MAX_VALUE_32BITS)&&(this.diskNumberStart=e.readInt(4))},readExtraFields:function(e){var t,r,i,A=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<A;)t=e.readInt(2),r=e.readInt(2),i=e.readData(r),this.extraFields[t]={id:t,length:r,value:i};e.setIndex(A)},handleUTF8:function(){var e,t=c.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment)):(null!==(e=this.findExtraFieldUnicodePath())?this.fileNameStr=e:(e=A.transformTo(t,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e)),null!==(e=this.findExtraFieldUnicodeComment())?this.fileCommentStr=e:(e=A.transformTo(t,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(e)))},findExtraFieldUnicodePath:function(){var e,t=this.extraFields[28789];return t&&1===(e=i(t.value)).readInt(1)&&o(this.fileName)===e.readInt(4)?s.utf8decode(e.readData(t.length-5)):null},findExtraFieldUnicodeComment:function(){var e,t=this.extraFields[25461];return t&&1===(e=i(t.value)).readInt(1)&&o(this.fileComment)===e.readInt(4)?s.utf8decode(e.readData(t.length-5)):null}},t.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function i(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var A=e("./stream/StreamHelper"),n=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),a=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(r=e.toLowerCase())||"text"===r,n=("binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker(),!this._dataBinary);n&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!n&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new a("error")).error(e)}return new A(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){var r;return this._data instanceof s&&this._data.compression.magic===e.magic?this._data.getCompressedWorker():(r=this._decompressWorker(),this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t))},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new n(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)i.prototype[c[u]]=g;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var r,i,A,n,o=e.MutationObserver||e.WebKitMutationObserver,s=o?(i=0,o=new o(c),A=e.document.createTextNode(""),o.observe(A,{characterData:!0}),function(){A.data=i=++i%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)}:((n=new e.MessageChannel).port1.onmessage=c,function(){n.port2.postMessage(0)}),a=[];function c(){var e,t;r=!0;for(var i=a.length;i;){for(t=a,a=[],e=-1;++e<i;)t[e]();i=a.length}r=!1}t.exports=function(e){1!==a.push(e)||r||s()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var i=e("immediate");function A(){}var n={},o=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,e!==A&&h(this,e)}function g(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){i((function(){var i;try{i=t(r)}catch(i){return n.reject(e,i)}i===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,i)}))}function l(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function i(t){r||(r=!0,n.reject(e,t))}function A(t){r||(r=!0,n.resolve(e,t))}var o=d((function(){t(A,i)}));"error"===o.status&&i(o.value)}function d(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=c).prototype.finally=function(e){var t;return"function"!=typeof e?this:(t=this.constructor,this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))})))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var r;return"function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o?this:(r=new this.constructor(A),this.state!==a?u(r,this.state===s?e:t,this.outcome):this.queue.push(new g(r,e,t)),r)},g.prototype.callFulfilled=function(e){n.resolve(this.promise,e)},g.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},g.prototype.callRejected=function(e){n.reject(this.promise,e)},g.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},n.resolve=function(e,t){var r=d(l,t);if("error"===r.status)return n.reject(e,r.value);if(r=r.value)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,A=e.queue.length;++i<A;)e.queue[i].callFulfilled(t)}return e},n.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:n.resolve(new this(A),e)},c.reject=function(e){var t=new this(A);return n.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,a=-1,c=new this(A);++a<r;)!function(e,A){t.resolve(e).then((function(e){o[A]=e,++s!==r||i||(i=!0,n.resolve(c,o))}),(function(e){i||(i=!0,n.reject(c,e))}))}(e[a],a);return c},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var i=-1,o=new this(A);++i<t;)this.resolve(e[i]).then((function(e){r||(r=!0,n.resolve(o,e))}),(function(e){r||(r=!0,n.reject(o,e))}));return o}},{immediate:36}],38:[function(e,t,r){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var i=e("./zlib/deflate"),A=e("./utils/common"),n=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),a=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=A.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=((e=this.options).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0,i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy));if(0!==t)throw new Error(o[t]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?n.string2buf(e.dictionary):"[object ArrayBuffer]"===a.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(t=i.deflateSetDictionary(this.strm,e)))throw new Error(o[t]);this._dict_set=!0}}function g(e,t){if((t=new c(t)).push(e,!0),t.err)throw t.msg||o[t.err];return t.result}c.prototype.push=function(e,t){var r,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?n.string2buf(e):"[object ArrayBuffer]"===a.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new A.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=i.deflate(s,o))&&0!==r)return this.onEnd(r),!(this.ended=!0)}while(0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?n.buf2binstring(A.shrinkBuf(s.output,s.next_out)):A.shrinkBuf(s.output,s.next_out)),(0<s.avail_in||0===s.avail_out)&&1!==r);return 4===o?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),!(s.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):A.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=c,r.deflate=g,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,g(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,g(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var i=e("./zlib/inflate"),A=e("./utils/common"),n=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),a=e("./zlib/zstream"),c=e("./zlib/gzheader"),g=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=A.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;if(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0,(e=i.inflateInit2(this.strm,t.windowBits))!==o.Z_OK)throw new Error(s[e]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function l(e,t){if((t=new u(t)).push(e,!0),t.err)throw t.msg||s[t.err];return t.result}u.prototype.push=function(e,t){var r,s,a,c,u,l=this.strm,h=this.options.chunkSize,d=this.options.dictionary,p=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,l.input="string"==typeof e?n.binstring2buf(e):"[object ArrayBuffer]"===g.call(e)?new Uint8Array(e):e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new A.Buf8(h),l.next_out=0,l.avail_out=h),(r=i.inflate(l,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&d&&(u="string"==typeof d?n.string2buf(d):"[object ArrayBuffer]"===g.call(d)?new Uint8Array(d):d,r=i.inflateSetDictionary(this.strm,u)),r===o.Z_BUF_ERROR&&!0===p&&(r=o.Z_OK,p=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),!(this.ended=!0)}while(!l.next_out||0!==l.avail_out&&r!==o.Z_STREAM_END&&(0!==l.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=n.utf8border(l.output,l.next_out),a=l.next_out-u,c=n.buf2string(l.output,u),l.next_out=a,l.avail_out=h-a,a&&A.arraySet(l.output,l.output,u,a,0),this.onData(c)):this.onData(A.shrinkBuf(l.output,l.next_out))),0===l.avail_in&&0===l.avail_out&&(p=!0),(0<l.avail_in||0===l.avail_out)&&r!==o.Z_STREAM_END);return(s=r===o.Z_STREAM_END?o.Z_FINISH:s)===o.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(l.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):A.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=u,r.inflate=l,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},r.ungzip=l},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,A=(r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)},{arraySet:function(e,t,r,i,A){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),A);else for(var n=0;n<i;n++)e[A+n]=t[r+n]},flattenChunks:function(e){for(var t,r,i,A,n=t=0,o=e.length;n<o;n++)t+=e[n].length;for(A=new Uint8Array(t),n=r=0,o=e.length;n<o;n++)A.set(i=e[n],r),r+=i.length;return A}}),n={arraySet:function(e,t,r,i,A){for(var n=0;n<i;n++)e[A+n]=t[r+n]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,A)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,n))},r.setTyped(i)},{}],42:[function(e,t,r){"use strict";var i=e("./common"),A=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch(e){A=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){n=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function a(e,t){if(t<65537&&(e.subarray&&n||!e.subarray&&A))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,r.string2buf=function(e){for(var t,r,A,n,o=e.length,s=0,a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(A=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(A-56320),a++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new i.Buf8(s),a=n=0;n<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(A=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(A-56320),a++),r<128?t[n++]=r:(r<2048?t[n++]=192|r>>>6:(r<65536?t[n++]=224|r>>>12:(t[n++]=240|r>>>18,t[n++]=128|r>>>12&63),t[n++]=128|r>>>6&63),t[n++]=128|63&r);return t},r.buf2binstring=function(e){return a(e,e.length)},r.binstring2buf=function(e){for(var t=new i.Buf8(e.length),r=0,A=t.length;r<A;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){for(var r,i,A,n=t||e.length,s=new Array(2*n),c=r=0;c<n;)if((i=e[c++])<128)s[r++]=i;else if(4<(A=o[i]))s[r++]=65533,c+=A-1;else{for(i&=2===A?31:3===A?15:7;1<A&&c<n;)i=i<<6|63&e[c++],A--;1<A?s[r++]=65533:i<65536?s[r++]=i:(s[r++]=55296|(i-=65536)>>10&1023,s[r++]=56320|1023&i)}return a(s,r)},r.utf8border=function(e,t){for(var r=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=r&&128==(192&e[r]);)r--;return!(r<0||0===r)&&r+o[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,i){for(var A=65535&e|0,n=e>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;n=n+(A=A+t[i++]|0)|0,--o;);A%=65521,n%=65521}return A|n<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var i=function(){for(var e=[],t=0;t<256;t++){for(var r=t,i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r}return e}();t.exports=function(e,t,r,A){var n=i,o=A+r;e^=-1;for(var s=A;s<o;s++)e=e>>>8^n[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,r){"use strict";var i,A=e("../utils/common"),n=e("./trees"),o=e("./adler32"),s=e("./crc32"),a=e("./messages"),c=-2,g=258,u=262,l=113;function h(e,t){return e.msg=a[t],t}function d(e){return(e<<1)-(4<e?9:0)}function p(e){for(var t=e.length;0<=--t;)e[t]=0}function C(e){var t=e.state,r=t.pending;0!==(r=r>e.avail_out?e.avail_out:r)&&(A.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending)&&(t.pending_out=0)}function I(e,t){n._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,C(e.strm)}function f(e,t){e.pending_buf[e.pending++]=t}function E(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function Q(e,t){var r,i,A=e.max_chain_length,n=e.strstart,o=e.prev_length,s=e.nice_match,a=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,c=e.window,l=e.w_mask,h=e.prev,d=e.strstart+g,p=c[n+o-1],C=c[n+o];e.prev_length>=e.good_match&&(A>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+o]===C&&c[r+o-1]===p&&c[r]===c[n]&&c[++r]===c[n+1]){for(n+=2,r++;c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<d;);if(i=g-(d-n),n=d-g,o<i){if(e.match_start=t,s<=(o=i))break;p=c[n+o-1],C=c[n+o]}}}while((t=h[t&l])>a&&0!=--A);return o<=e.lookahead?o:e.lookahead}function B(e){var t,r,i,n,a,c,g,l,h,d=e.w_size;do{if(l=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-u)){for(A.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=r=e.hash_size;i=e.head[--t],e.head[t]=d<=i?i-d:0,--r;);for(t=r=d;i=e.prev[--t],e.prev[t]=d<=i?i-d:0,--r;);l+=d}if(0===e.strm.avail_in)break;if(c=e.window,g=e.strstart+e.lookahead,h=void 0,r=0===(h=l<(h=(a=e.strm).avail_in)?l:h)?0:(a.avail_in-=h,A.arraySet(c,a.input,a.next_in,h,g),1===a.state.wrap?a.adler=o(a.adler,c,h,g):2===a.state.wrap&&(a.adler=s(a.adler,c,h,g)),a.next_in+=h,a.total_in+=h,h),e.lookahead+=r,3<=e.lookahead+e.insert)for(e.ins_h=e.window[n=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+3-1])&e.hash_mask,e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function m(e,t){for(var r,i;;){if(e.lookahead<u){if(B(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(r=0,3<=e.lookahead&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-u&&(e.match_length=Q(e,r)),3<=e.match_length)if(i=n._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}function y(e,t){for(var r,i,A;;){if(e.lookahead<u){if(B(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(r=0,3<=e.lookahead&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-u&&(e.match_length=Q(e,r),e.match_length<=5)&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2),3<=e.prev_length&&e.match_length<=e.prev_length){for(A=e.strstart+e.lookahead-3,i=n._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(I(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=n._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=n._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}function v(e,t,r,i,A){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=A}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(1146),this.dyn_dtree=new A.Buf16(122),this.bl_tree=new A.Buf16(78),p(this.dyn_ltree),p(this.dyn_dtree),p(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(16),this.heap=new A.Buf16(573),p(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(573),p(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:l,e.adler=2===t.wrap?0:1,t.last_flush=0,n._tr_init(t),0):h(e,c)}function w(e){var t=S(e);return 0===t&&((e=e.state).window_size=2*e.w_size,p(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t}function D(e,t,r,i,n,o){if(!e)return c;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),n<1||9<n||8!==r||i<8||15<i||t<0||9<t||o<0||4<o)return h(e,c);8===i&&(i=9);var a=new _;return(e.state=a).strm=e,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=n+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new A.Buf8(2*a.w_size),a.head=new A.Buf16(a.hash_size),a.prev=new A.Buf16(a.w_size),a.lit_bufsize=1<<n+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new A.Buf8(a.pending_buf_size),a.d_buf=+a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=r,w(e)}i=[new v(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,I(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(I(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&I(e,!1),1)})),new v(4,4,8,4,m),new v(4,5,16,8,m),new v(4,6,32,32,m),new v(4,4,16,16,y),new v(8,16,32,32,y),new v(8,16,128,128,y),new v(8,32,128,256,y),new v(32,128,258,1024,y),new v(32,258,258,4096,y)],r.deflateInit=function(e,t){return D(e,t,8,15,8,0)},r.deflateInit2=D,r.deflateReset=w,r.deflateResetKeep=S,r.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):c},r.deflate=function(e,t){var r,A,o,a;if(!e||!e.state||5<t||t<0)return e?h(e,c):c;if(A=e.state,!e.output||!e.input&&0!==e.avail_in||666===A.status&&4!==t)return h(e,0===e.avail_out?-5:c);if(A.strm=e,r=A.last_flush,A.last_flush=t,42===A.status&&(2===A.wrap?(e.adler=0,f(A,31),f(A,139),f(A,8),A.gzhead?(f(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),f(A,255&A.gzhead.time),f(A,A.gzhead.time>>8&255),f(A,A.gzhead.time>>16&255),f(A,A.gzhead.time>>24&255),f(A,9===A.level?2:2<=A.strategy||A.level<2?4:0),f(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(f(A,255&A.gzhead.extra.length),f(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(e.adler=s(e.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(f(A,0),f(A,0),f(A,0),f(A,0),f(A,0),f(A,9===A.level?2:2<=A.strategy||A.level<2?4:0),f(A,3),A.status=l)):(u=8+(A.w_bits-8<<4)<<8,u|=(2<=A.strategy||A.level<2?0:A.level<6?1:6===A.level?2:3)<<6,0!==A.strstart&&(u|=32),u+=31-u%31,A.status=l,E(A,u),0!==A.strstart&&(E(A,e.adler>>>16),E(A,65535&e.adler)),e.adler=1)),69===A.status)if(A.gzhead.extra){for(o=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>o&&(e.adler=s(e.adler,A.pending_buf,A.pending-o,o)),C(e),o=A.pending,A.pending!==A.pending_buf_size));)f(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>o&&(e.adler=s(e.adler,A.pending_buf,A.pending-o,o)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(73===A.status)if(A.gzhead.name){o=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>o&&(e.adler=s(e.adler,A.pending_buf,A.pending-o,o)),C(e),o=A.pending,A.pending===A.pending_buf_size)){a=1;break}}while(a=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,f(A,a),0!==a);A.gzhead.hcrc&&A.pending>o&&(e.adler=s(e.adler,A.pending_buf,A.pending-o,o)),0===a&&(A.gzindex=0,A.status=91)}else A.status=91;if(91===A.status)if(A.gzhead.comment){o=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>o&&(e.adler=s(e.adler,A.pending_buf,A.pending-o,o)),C(e),o=A.pending,A.pending===A.pending_buf_size)){a=1;break}}while(a=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,f(A,a),0!==a);A.gzhead.hcrc&&A.pending>o&&(e.adler=s(e.adler,A.pending_buf,A.pending-o,o)),0===a&&(A.status=103)}else A.status=103;if(103===A.status&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&C(e),A.pending+2<=A.pending_buf_size&&(f(A,255&e.adler),f(A,e.adler>>8&255),e.adler=0,A.status=l)):A.status=l),0!==A.pending){if(C(e),0===e.avail_out)return A.last_flush=-1,0}else if(0===e.avail_in&&d(t)<=d(r)&&4!==t)return h(e,-5);if(666===A.status&&0!==e.avail_in)return h(e,-5);if(0!==e.avail_in||0!==A.lookahead||0!==t&&666!==A.status){var u=2===A.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}(A,t):3===A.strategy?function(e,t){for(var r,i,A,o,s=e.window;;){if(e.lookahead<=g){if(B(e),e.lookahead<=g&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(i=s[A=e.strstart-1])===s[++A]&&i===s[++A]&&i===s[++A]){for(o=e.strstart+g;i===s[++A]&&i===s[++A]&&i===s[++A]&&i===s[++A]&&i===s[++A]&&i===s[++A]&&i===s[++A]&&i===s[++A]&&A<o;);e.match_length=g-(o-A),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(r=n._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}(A,t):i[A.level].func(A,t);if(3!==u&&4!==u||(A.status=666),1===u||3===u)return 0===e.avail_out&&(A.last_flush=-1),0;if(2===u&&(1===t?n._tr_align(A):5!==t&&(n._tr_stored_block(A,0,0,!1),3===t)&&(p(A.head),0===A.lookahead)&&(A.strstart=0,A.block_start=0,A.insert=0),C(e),0===e.avail_out))return A.last_flush=-1,0}return 4===t&&(A.wrap<=0||(2===A.wrap?(f(A,255&e.adler),f(A,e.adler>>8&255),f(A,e.adler>>16&255),f(A,e.adler>>24&255),f(A,255&e.total_in),f(A,e.total_in>>8&255),f(A,e.total_in>>16&255),f(A,e.total_in>>24&255)):(E(A,e.adler>>>16),E(A,65535&e.adler)),C(e),0<A.wrap&&(A.wrap=-A.wrap),0===A.pending))?1:0},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==l&&666!==t?h(e,c):(e.state=null,t===l?h(e,-3):0):c},r.deflateSetDictionary=function(e,t){var r,i,n,s,a,g,u,l=t.length;if(!e||!e.state)return c;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return c;for(1===s&&(e.adler=o(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(p(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new A.Buf8(r.w_size),A.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),u=e.avail_in,a=e.next_in,g=e.input,e.avail_in=l,e.next_in=0,e.input=t,B(r);3<=r.lookahead;){for(i=r.strstart,n=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--n;);r.strstart=i,r.lookahead=2,B(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=g,e.avail_in=u,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,i,A,n,o,s,a=e.state,c=e.next_in,g=e.input,u=c+(e.avail_in-5),l=e.next_out,h=e.output,d=l-(t-e.avail_out),p=l+(e.avail_out-257),C=a.dmax,I=a.wsize,f=a.whave,E=a.wnext,Q=a.window,B=a.hold,m=a.bits,y=a.lencode,v=a.distcode,_=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{for(m<15&&(B+=g[c++]<<m,B+=g[c++]<<(m+=8),m+=8),r=y[B&_];;){if(B>>>=i=r>>>24,m-=i,0==(i=r>>>16&255))h[l++]=65535&r;else{if(!(16&i)){if(0==(64&i)){r=y[(65535&r)+(B&(1<<i)-1)];continue}if(32&i){a.mode=12;break e}e.msg="invalid literal/length code",a.mode=30;break e}for(A=65535&r,(i&=15)&&(m<i&&(B+=g[c++]<<m,m+=8),A+=B&(1<<i)-1,B>>>=i,m-=i),m<15&&(B+=g[c++]<<m,B+=g[c++]<<(m+=8),m+=8),r=v[B&S];;){if(B>>>=i=r>>>24,m-=i,!(16&(i=r>>>16&255))){if(0==(64&i)){r=v[(65535&r)+(B&(1<<i)-1)];continue}e.msg="invalid distance code",a.mode=30;break e}if(n=65535&r,m<(i&=15)&&(B+=g[c++]<<m,(m+=8)<i)&&(B+=g[c++]<<m,m+=8),C<(n+=B&(1<<i)-1)){e.msg="invalid distance too far back",a.mode=30;break e}if(B>>>=i,m-=i,(i=l-d)<n){if(f<(i=n-i)&&a.sane){e.msg="invalid distance too far back",a.mode=30;break e}if(s=Q,(o=0)===E){if(o+=I-i,i<A){for(A-=i;h[l++]=Q[o++],--i;);o=l-n,s=h}}else if(E<i){if(o+=I+E-i,(i-=E)<A){for(A-=i;h[l++]=Q[o++],--i;);if(o=0,E<A){for(A-=i=E;h[l++]=Q[o++],--i;);o=l-n,s=h}}}else if(o+=E-i,i<A){for(A-=i;h[l++]=Q[o++],--i;);o=l-n,s=h}for(;2<A;)h[l++]=s[o++],h[l++]=s[o++],h[l++]=s[o++],A-=3;A&&(h[l++]=s[o++],1<A)&&(h[l++]=s[o++])}else{for(o=l-n;h[l++]=h[o++],h[l++]=h[o++],h[l++]=h[o++],2<(A-=3););A&&(h[l++]=h[o++],1<A)&&(h[l++]=h[o++])}break}}break}}while(c<u&&l<p);c-=A=m>>3,B&=(1<<(m-=A<<3))-1,e.next_in=c,e.next_out=l,e.avail_in=c<u?u-c+5:5-(c-u),e.avail_out=l<p?p-l+257:257-(l-p),a.hold=B,a.bits=m}},{}],49:[function(e,t,r){"use strict";var i=e("../utils/common"),A=e("./adler32"),n=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),a=-2;function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):a}function l(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):a}function h(e,t){var r,i;return!e||!e.state||(i=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?a:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,l(e))}function d(e,t){var r;return e?(r=new g,(e.state=r).window=null,0!==(r=h(e,t))&&(e.state=null),r):a}var p,C,I=!0;function f(e,t,r,A){var n;return null===(e=e.state).window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new i.Buf8(e.wsize)),A>=e.wsize?(i.arraySet(e.window,t,r-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(A<(n=e.wsize-e.wnext)&&(n=A),i.arraySet(e.window,t,r-A,n,e.wnext),(A-=n)?(i.arraySet(e.window,t,r-A,A,0),e.wnext=A,e.whave=e.wsize):(e.wnext+=n,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=n))),0}r.inflateReset=l,r.inflateReset2=h,r.inflateResetKeep=u,r.inflateInit=function(e){return d(e,15)},r.inflateInit2=d,r.inflate=function(e,t){var r,g,u,l,h,d,E,Q,B,m,y,v,_,S,w,D,b,k,R,N,T,L,M,O,P=0,F=new i.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return a;12===(r=e.state).mode&&(r.mode=13),h=e.next_out,u=e.output,l=e.next_in,g=e.input,Q=r.hold,B=r.bits,m=d=e.avail_in,y=E=e.avail_out,L=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap)r.mode=13;else{for(;B<16;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(2&r.wrap&&35615===Q)F[r.check=0]=255&Q,F[1]=Q>>>8&255,r.check=n(r.check,F,2,0),B=Q=0,r.mode=2;else if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&Q)<<8)+(Q>>8))%31)e.msg="incorrect header check",r.mode=30;else if(8!=(15&Q))e.msg="unknown compression method",r.mode=30;else{if(B-=4,T=8+(15&(Q>>>=4)),0===r.wbits)r.wbits=T;else if(T>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<T,e.adler=r.check=1,r.mode=512&Q?10:12,B=Q=0}}break;case 2:for(;B<16;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(r.flags=Q,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=Q>>8&1),512&r.flags&&(F[0]=255&Q,F[1]=Q>>>8&255,r.check=n(r.check,F,2,0)),B=Q=0,r.mode=3;case 3:for(;B<32;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}r.head&&(r.head.time=Q),512&r.flags&&(F[0]=255&Q,F[1]=Q>>>8&255,F[2]=Q>>>16&255,F[3]=Q>>>24&255,r.check=n(r.check,F,4,0)),B=Q=0,r.mode=4;case 4:for(;B<16;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}r.head&&(r.head.xflags=255&Q,r.head.os=Q>>8),512&r.flags&&(F[0]=255&Q,F[1]=Q>>>8&255,r.check=n(r.check,F,2,0)),B=Q=0,r.mode=5;case 5:if(1024&r.flags){for(;B<16;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}r.length=Q,r.head&&(r.head.extra_len=Q),512&r.flags&&(F[0]=255&Q,F[1]=Q>>>8&255,r.check=n(r.check,F,2,0)),B=Q=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((v=d<(v=r.length)?d:v)&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,g,l,v,T)),512&r.flags&&(r.check=n(r.check,g,v,l)),d-=v,l+=v,r.length-=v),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===d)break e;for(v=0;T=g[l+v++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T)),T&&v<d;);if(512&r.flags&&(r.check=n(r.check,g,v,l)),d-=v,l+=v,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===d)break e;for(v=0;T=g[l+v++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T)),T&&v<d;);if(512&r.flags&&(r.check=n(r.check,g,v,l)),d-=v,l+=v,T)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;B<16;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(Q!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}B=Q=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;B<32;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}e.adler=r.check=c(Q),B=Q=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=h,e.avail_out=E,e.next_in=l,e.avail_in=d,r.hold=Q,r.bits=B,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last)Q>>>=7&B,B-=7&B,r.mode=27;else{for(;B<3;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}switch(r.last=1&Q,--B,3&(Q>>>=1)){case 0:r.mode=14;break;case 1:U=x=void 0;var U,x=r;if(I){for(p=new i.Buf32(512),C=new i.Buf32(32),U=0;U<144;)x.lens[U++]=8;for(;U<256;)x.lens[U++]=9;for(;U<280;)x.lens[U++]=7;for(;U<288;)x.lens[U++]=8;for(s(1,x.lens,0,288,p,0,x.work,{bits:9}),U=0;U<32;)x.lens[U++]=5;s(2,x.lens,0,32,C,0,x.work,{bits:5}),I=!1}if(x.lencode=p,x.lenbits=9,x.distcode=C,x.distbits=5,r.mode=20,6!==t)break;Q>>>=2,B-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}Q>>>=2,B-=2}break;case 14:for(Q>>>=7&B,B-=7&B;B<32;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if((65535&Q)!=(Q>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&Q,B=Q=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(v=r.length){if(0===(v=E<(v=d<v?d:v)?E:v))break e;i.arraySet(u,g,l,v,h),d-=v,l+=v,E-=v,h+=v,r.length-=v}else r.mode=12;break;case 17:for(;B<14;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(r.nlen=257+(31&Q),B-=5,r.ndist=1+(31&(Q>>>=5)),B-=5,r.ncode=4+(15&(Q>>>=5)),Q>>>=4,B-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;B<3;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}r.lens[G[r.have++]]=7&Q,Q>>>=3,B-=3}for(;r.have<19;)r.lens[G[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L=s(0,r.lens,0,19,r.lencode,0,r.work,M={bits:r.lenbits}),r.lenbits=M.bits,L){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;D=(P=r.lencode[Q&(1<<r.lenbits)-1])>>>16&255,b=65535&P,!((w=P>>>24)<=B);){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(b<16)Q>>>=w,B-=w,r.lens[r.have++]=b;else{if(16===b){for(O=w+2;B<O;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(Q>>>=w,B-=w,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}T=r.lens[r.have-1],v=3+(3&Q),Q>>>=2,B-=2}else if(17===b){for(O=w+3;B<O;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}T=0,v=3+(7&(Q>>>=w)),Q>>>=3,B=B-w-3}else{for(O=w+7;B<O;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}T=0,v=11+(127&(Q>>>=w)),Q>>>=7,B=B-w-7}if(r.have+v>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;v--;)r.lens[r.have++]=T}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,L=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,M={bits:r.lenbits}),r.lenbits=M.bits,L){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,L=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M={bits:r.distbits}),r.distbits=M.bits,L){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=d&&258<=E){e.next_out=h,e.avail_out=E,e.next_in=l,e.avail_in=d,r.hold=Q,r.bits=B,o(e,y),h=e.next_out,u=e.output,E=e.avail_out,l=e.next_in,g=e.input,d=e.avail_in,Q=r.hold,B=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;D=(P=r.lencode[Q&(1<<r.lenbits)-1])>>>16&255,b=65535&P,!((w=P>>>24)<=B);){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(D&&0==(240&D)){for(k=w,R=D,N=b;D=(P=r.lencode[N+((Q&(1<<k+R)-1)>>k)])>>>16&255,b=65535&P,!(k+(w=P>>>24)<=B);){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}Q>>>=k,B-=k,r.back+=k}if(Q>>>=w,B-=w,r.back+=w,r.length=b,0===D){r.mode=26;break}if(32&D){r.back=-1,r.mode=12;break}if(64&D){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&D,r.mode=22;case 22:if(r.extra){for(O=r.extra;B<O;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}r.length+=Q&(1<<r.extra)-1,Q>>>=r.extra,B-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;D=(P=r.distcode[Q&(1<<r.distbits)-1])>>>16&255,b=65535&P,!((w=P>>>24)<=B);){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(0==(240&D)){for(k=w,R=D,N=b;D=(P=r.distcode[N+((Q&(1<<k+R)-1)>>k)])>>>16&255,b=65535&P,!(k+(w=P>>>24)<=B);){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}Q>>>=k,B-=k,r.back+=k}if(Q>>>=w,B-=w,r.back+=w,64&D){e.msg="invalid distance code",r.mode=30;break}r.offset=b,r.extra=15&D,r.mode=24;case 24:if(r.extra){for(O=r.extra;B<O;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}r.offset+=Q&(1<<r.extra)-1,Q>>>=r.extra,B-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===E)break e;if(r.offset>(v=y-E)){if((v=r.offset-v)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}_=v>r.wnext?r.wsize-(v-=r.wnext):r.wnext-v,v>r.length&&(v=r.length),S=r.window}else S=u,_=h-r.offset,v=r.length;for(E-=v=E<v?E:v,r.length-=v;u[h++]=S[_++],--v;);0===r.length&&(r.mode=21);break;case 26:if(0===E)break e;u[h++]=r.length,E--,r.mode=21;break;case 27:if(r.wrap){for(;B<32;){if(0===d)break e;d--,Q|=g[l++]<<B,B+=8}if(e.total_out+=y-=E,r.total+=y,y&&(e.adler=r.check=(r.flags?n:A)(r.check,u,y,h-y)),y=E,(r.flags?Q:c(Q))!==r.check){e.msg="incorrect data check",r.mode=30;break}B=Q=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;B<32;){if(0===d)break e;d--,Q+=g[l++]<<B,B+=8}if(Q!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}B=Q=0}r.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;default:return a}return e.next_out=h,e.avail_out=E,e.next_in=l,e.avail_in=d,r.hold=Q,r.bits=B,(r.wsize||y!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&f(e,e.output,e.next_out,y-e.avail_out)?(r.mode=31,-4):(y-=e.avail_out,e.total_in+=m-=e.avail_in,e.total_out+=y,r.total+=y,r.wrap&&y&&(e.adler=r.check=(r.flags?n:A)(r.check,u,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),L=(0==m&&0===y||4===t)&&0===L?-5:L)},r.inflateEnd=function(e){var t;return e&&e.state?((t=e.state).window&&(t.window=null),e.state=null,0):a},r.inflateGetHeader=function(e,t){return e&&e.state&&0!=(2&(e=e.state).wrap)?((e.head=t).done=!1,0):a},r.inflateSetDictionary=function(e,t){var r,i=t.length;return!e||!e.state||0!==(r=e.state).wrap&&11!==r.mode?a:11===r.mode&&A(1,t,i,0)!==r.check?-3:f(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,0)},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var i=e("../utils/common"),A=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,a,c,g,u,l){var h,d,p,C,I,f,E,Q,B,m=l.bits,y=0,v=0,_=0,S=0,w=0,D=0,b=0,k=0,R=0,N=0,T=null,L=0,M=new i.Buf16(16),O=new i.Buf16(16),P=null,F=0;for(y=0;y<=15;y++)M[y]=0;for(v=0;v<a;v++)M[t[r+v]]++;for(w=m,S=15;1<=S&&0===M[S];S--);if(S<w&&(w=S),0===S)c[g++]=20971520,c[g++]=20971520,l.bits=1;else{for(_=1;_<S&&0===M[_];_++);for(w<_&&(w=_),y=k=1;y<=15;y++)if((k=(k<<1)-M[y])<0)return-1;if(0<k&&(0===e||1!==S))return-1;for(O[1]=0,y=1;y<15;y++)O[y+1]=O[y]+M[y];for(v=0;v<a;v++)0!==t[r+v]&&(u[O[t[r+v]]++]=v);if(f=0===e?(T=P=u,19):1===e?(T=A,L-=257,P=n,F-=257,256):(T=o,P=s,-1),y=_,I=g,b=v=N=0,p=-1,C=(R=1<<(D=w))-1,1===e&&852<R||2===e&&592<R)return 1;for(;;){for(B=u[v]<f?(Q=0,u[v]):u[v]>f?(Q=P[F+u[v]],T[L+u[v]]):(Q=96,0),h=1<<(E=y-b),_=d=1<<D;c[I+(N>>b)+(d-=h)]=E<<24|Q<<16|B|0,0!==d;);for(h=1<<y-1;N&h;)h>>=1;if(N=0!==h?(N&h-1)+h:0,v++,0==--M[y]){if(y===S)break;y=t[r+u[v]]}if(w<y&&(N&C)!==p){for(I+=_,k=1<<(D=y-(b=0===b?w:b));D+b<S&&!((k-=M[D+b])<=0);)D++,k<<=1;if(R+=1<<D,1===e&&852<R||2===e&&592<R)return 1;c[p=N&C]=w<<24|D<<16|I-g|0}}0!==N&&(c[I+N]=y-b<<24|64<<16|0),l.bits=w}return 0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var i=e("../utils/common");function A(e){for(var t=e.length;0<=--t;)e[t]=0}var n=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],a=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576),g=(A(c),new Array(60)),u=(A(g),new Array(512)),l=(A(u),new Array(256)),h=(A(l),new Array(29));A(h);var d,p,C,I=new Array(30);function f(e,t,r,i,A){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=A,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Q(e){return e<256?u[e]:u[256+(e>>>7)]}function B(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function m(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function y(e,t,r){m(e,r[2*t],r[2*t+1])}function v(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function _(e,t,r){for(var i,A=new Array(16),n=0,o=1;o<=15;o++)A[o]=n=n+r[o-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=v(A[s]++,s))}}function S(e){for(var t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function w(e){8<e.bi_valid?B(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function D(e,t,r,i){var A=2*t,n=2*r;return e[A]<e[n]||e[A]===e[n]&&i[t]<=i[r]}function b(e,t,r){for(var i=e.heap[r],A=r<<1;A<=e.heap_len&&(A<e.heap_len&&D(t,e.heap[A+1],e.heap[A],e.depth)&&A++,!D(t,i,e.heap[A],e.depth));)e.heap[r]=e.heap[A],r=A,A<<=1;e.heap[r]=i}function k(e,t,r){var i,A,s,a,c=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],A=e.pending_buf[e.l_buf+c],c++,0==i?y(e,A,t):(y(e,(s=l[A])+256+1,t),0!==(a=n[s])&&m(e,A-=h[s],a),y(e,s=Q(--i),r),0!==(a=o[s])&&m(e,i-=I[s],a)),c<e.last_lit;);y(e,256,t)}function R(e,t){var r,i,A,n=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<a;r++)0!==n[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):n[2*r+1]=0;for(;e.heap_len<2;)n[2*(A=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[A]=0,e.opt_len--,s&&(e.static_len-=o[2*A+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)b(e,n,r);for(A=a;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,n,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,n[2*A]=n[2*r]+n[2*i],e.depth[A]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,n[2*r+1]=n[2*i+1]=A,e.heap[1]=A++,b(e,n,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var g,u,l,h,d,p=e,C=t.dyn_tree,I=t.max_code,f=t.stat_desc.static_tree,E=t.stat_desc.has_stree,Q=t.stat_desc.extra_bits,B=t.stat_desc.extra_base,m=t.stat_desc.max_length,y=0,v=0;v<=15;v++)p.bl_count[v]=0;for(C[2*p.heap[p.heap_max]+1]=0,g=p.heap_max+1;g<573;g++)m<(v=C[2*C[2*(u=p.heap[g])+1]+1]+1)&&(v=m,y++),C[2*u+1]=v,I<u||(p.bl_count[v]++,h=0,B<=u&&(h=Q[u-B]),p.opt_len+=(d=C[2*u])*(v+h),E&&(p.static_len+=d*(f[2*u+1]+h)));if(0!==y){do{for(v=m-1;0===p.bl_count[v];)v--}while(p.bl_count[v]--,p.bl_count[v+1]+=2,p.bl_count[m]--,0<(y-=2));for(v=m;0!==v;v--)for(u=p.bl_count[v];0!==u;)I<(l=p.heap[--g])||(C[2*l+1]!==v&&(p.opt_len+=(v-C[2*l+1])*C[2*l],C[2*l+1]=v),u--)}_(n,c,e.bl_count)}function N(e,t,r){var i,A,n=-1,o=t[1],s=0,a=7,c=4;for(0===o&&(a=138,c=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)A=o,o=t[2*(i+1)+1],++s<a&&A===o||(s<c?e.bl_tree[2*A]+=s:0!==A?(A!==n&&e.bl_tree[2*A]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,n=A,c=(s=0)===o?(a=138,3):A===o?(a=6,3):(a=7,4))}function T(e,t,r){var i,A,n=-1,o=t[1],s=0,a=7,c=4;for(0===o&&(a=138,c=3),i=0;i<=r;i++)if(A=o,o=t[2*(i+1)+1],!(++s<a&&A===o)){if(s<c)for(;y(e,A,e.bl_tree),0!=--s;);else 0!==A?(A!==n&&(y(e,A,e.bl_tree),s--),y(e,16,e.bl_tree),m(e,s-3,2)):s<=10?(y(e,17,e.bl_tree),m(e,s-3,3)):(y(e,18,e.bl_tree),m(e,s-11,7));n=A,c=(s=0)===o?(a=138,3):A===o?(a=6,3):(a=7,4)}}A(I);var L=!1;function M(e,t,r,A){m(e,0+(A?1:0),3),A=t,t=r,w(r=e),B(r,t),B(r,~t),i.arraySet(r.pending_buf,r.window,A,t,r.pending),r.pending+=t}r._tr_init=function(e){if(!L){for(var t,r,i,A,a=new Array(16),Q=i=0;Q<28;Q++)for(h[Q]=i,t=0;t<1<<n[Q];t++)l[i++]=Q;for(l[i-1]=Q,Q=A=0;Q<16;Q++)for(I[Q]=A,t=0;t<1<<o[Q];t++)u[A++]=Q;for(A>>=7;Q<30;Q++)for(I[Q]=A<<7,t=0;t<1<<o[Q]-7;t++)u[256+A++]=Q;for(r=0;r<=15;r++)a[r]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,a[8]++;for(;t<=255;)c[2*t+1]=9,t++,a[9]++;for(;t<=279;)c[2*t+1]=7,t++,a[7]++;for(;t<=287;)c[2*t+1]=8,t++,a[8]++;for(_(c,287,a),t=0;t<30;t++)g[2*t+1]=5,g[2*t]=v(t,5);d=new f(c,n,257,286,15),p=new f(g,o,0,30,15),C=new f(new Array(0),s,0,19,7),L=!0}e.l_desc=new E(e.dyn_ltree,d),e.d_desc=new E(e.dyn_dtree,p),e.bl_desc=new E(e.bl_tree,C),e.bi_buf=0,e.bi_valid=0,S(e)},r._tr_stored_block=M,r._tr_flush_block=function(e,t,r,i){var A,n,o,s=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,r=0;r<=31;r++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*r])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(r=32;r<256;r++)if(0!==e.dyn_ltree[2*r])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),s=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*a[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(n=e.static_len+3+7>>>3)<=(A=e.opt_len+3+7>>>3)&&(A=n)):A=n=r+5,r+4<=A&&-1!==t)M(e,t,r,i);else if(4===e.strategy||n===A)m(e,2+(i?1:0),3),k(e,c,g);else{m(e,4+(i?1:0),3);var u=e,l=(t=e.l_desc.max_code+1,r=e.d_desc.max_code+1,s+1);for(m(u,t-257,5),m(u,r-1,5),m(u,l-4,4),o=0;o<l;o++)m(u,u.bl_tree[2*a[o]+1],3);T(u,u.dyn_ltree,t-1),T(u,u.dyn_dtree,r-1),k(e,e.dyn_ltree,e.dyn_dtree)}S(e),i&&w(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(l[r]+256+1)]++,e.dyn_dtree[2*Q(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){m(e,2,3),y(e,256,c),16===e.bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e){"use strict";var t,r,i,n,o,s,a,c,g;function u(e){delete o[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=o[e];if(t){s=!0;try{var r=t.callback,i=t.args;switch(i.length){case 0:r();break;case 1:r(i[0]);break;case 2:r(i[0],i[1]);break;case 3:r(i[0],i[1],i[2]);break;default:r.apply(void 0,i)}}finally{u(e),s=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&l(+t.data.slice(i.length))}e.setImmediate||(n=1,s=!(o={}),a=e.document,c=(c=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&c.setTimeout?c:e,g="[object process]"==={}.toString.call(e.process)?function(e){A.nextTick((function(){l(e)}))}:function(){var t,r;if(e.postMessage&&!e.importScripts)return t=!0,r=e.onmessage,e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){l(e.data)},function(e){r.port2.postMessage(e)}):a&&"onreadystatechange"in a.createElement("script")?(t=a.documentElement,function(e){var r=a.createElement("script");r.onreadystatechange=function(){l(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}):function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];return o[n]={callback:e,args:t},g(n),n++},c.clearImmediate=u)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,r(4).Buffer,r(8).setImmediate,r(0),r(1))},,function(e,t,r){"use strict";(function(e){var i=r(5),A=r(6),n=r(7);function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(e=null===e?new a(t):e).length=t,e}function a(e,t,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,r);if("number"!=typeof e)return c(this,e,t,r);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}function c(e,t,r,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var A=e,o=t,c=r;if(c<0||o.byteLength<c)throw new RangeError("'offset' is out of bounds");if(o.byteLength<c+(i||0))throw new RangeError("'length' is out of bounds");return o=void 0===c&&void 0===i?new Uint8Array(o):void 0===i?new Uint8Array(o,c):new Uint8Array(o,c,i),a.TYPED_ARRAY_SUPPORT?(A=o).__proto__=a.prototype:A=l(A,o),A}if("string"==typeof t){if(c=e,i=t,a.isEncoding(o="string"==typeof(o=r)&&""!==o?o:"utf8"))return(i=(c=s(c,A=0|d(i,o))).write(i,o))!==A?c.slice(0,i):c;throw new TypeError('"encoding" must be a valid string encoding')}var g;if(r=e,a.isBuffer(i=t))return 0!==(r=s(r,g=0|h(i.length))).length&&i.copy(r,0,0,g),r;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||(g=i.length)!=g?s(r,0):l(r,i);if("Buffer"===i.type&&n(i.data))return l(r,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(g(t),e=s(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var i=0;i<r;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var r=(e="string"!=typeof e?""+e:e).length;if(0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return b(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(e).length;default:if(i)return b(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var A,n=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=t,s=r,a=this.length;(!s||s<0||a<s)&&(s=a);for(var c="",g=o=!o||o<0?0:o;g<s;++g)c+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(this[g]);return c;case"utf8":case"utf-8":return Q(this,t,r);case"ascii":a=t;var u=r,l="";u=Math.min(this.length,u);for(var h=a;h<u;++h)l+=String.fromCharCode(127&this[h]);return l;case"latin1":case"binary":o=t;var d=r,p="";d=Math.min(this.length,d);for(var C=o;C<d;++C)p+=String.fromCharCode(this[C]);return p;case"base64":return I=this,A=r,0===(f=t)&&A===I.length?i.fromByteArray(I):i.fromByteArray(I.slice(f,A));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var I=t,f=r,E=this.slice(I,f),B="",m=0;m<E.length;m+=2)B+=String.fromCharCode(E[m]+256*E[m+1]);return B;default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function C(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function I(e,t,r,i,A){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,(r=(r=isNaN(r)?A?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(A)return-1;r=e.length-1}else if(r<0){if(!A)return-1;r=0}if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:f(e,t,r,i,A);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(A?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):f(e,[t],r,i,A);throw new TypeError("val must be string, number or Buffer")}function f(e,t,r,i,A){var n=1,o=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o/=n=2,s/=2,r/=2}function a(e,t){return 1===n?e[t]:e.readUInt16BE(t*n)}if(A)for(var c=-1,g=r;g<o;g++)if(a(e,g)===a(t,-1===c?0:g-c)){if(g-(c=-1===c?g:c)+1===s)return c*n}else-1!==c&&(g-=g-c),c=-1;else for(g=r=o<r+s?o-s:r;0<=g;g--){for(var u=!0,l=0;l<s;l++)if(a(e,g+l)!==a(t,l)){u=!1;break}if(u)return g}return-1}function E(e,t,r,i){return R(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function Q(e,t,r){r=Math.min(e.length,r);for(var i=[],A=t;A<r;){var n,o,s,a,c=e[A],g=null,u=239<c?4:223<c?3:191<c?2:1;if(A+u<=r)switch(u){case 1:c<128&&(g=c);break;case 2:128==(192&(n=e[A+1]))&&127<(a=(31&c)<<6|63&n)&&(g=a);break;case 3:o=e[A+2],128==(192&(n=e[A+1]))&&128==(192&o)&&2047<(a=(15&c)<<12|(63&n)<<6|63&o)&&(a<55296||57343<a)&&(g=a);break;case 4:o=e[A+2],s=e[A+3],128==(192&(n=e[A+1]))&&128==(192&o)&&128==(192&s)&&65535<(a=(15&c)<<18|(63&n)<<12|(63&o)<<6|63&s)&&a<1114112&&(g=a)}null===g?(g=65533,u=1):65535<g&&(i.push((g-=65536)>>>10&1023|55296),g=56320|1023&g),i.push(g),A+=u}var l=i,h=l.length;if(h<=4096)return String.fromCharCode.apply(String,l);for(var d="",p=0;p<h;)d+=String.fromCharCode.apply(String,l.slice(p,p+=4096));return d}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function m(e,t,r,i,A,n){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(A<t||t<n)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function y(e,t,r,i){t<0&&(t=65535+t+1);for(var A=0,n=Math.min(e.length-r,2);A<n;++A)e[r+A]=(t&255<<8*(i?A:1-A))>>>8*(i?A:1-A)}function v(e,t,r,i){t<0&&(t=4294967295+t+1);for(var A=0,n=Math.min(e.length-r,4);A<n;++A)e[r+A]=t>>>8*(i?A:3-A)&255}function _(e,t,r,i){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function S(e,t,r,i,n){return n||_(e,0,r,4),A.write(e,t,r,i,23,4),r+4}function w(e,t,r,i,n){return n||_(e,0,r,8),A.write(e,t,r,i,52,8),r+8}t.Buffer=a,t.SlowBuffer=function(e){return a.alloc(+(e=+e!=e?0:e))},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,r){return c(null,e,t,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}),a.alloc=function(e,t,r){return g(e),e<=0||void 0===t?s(null,e):"string"==typeof r?s(null,e).fill(t,r):s(null,e).fill(t)},a.allocUnsafe=function(e){return u(null,e)},a.allocUnsafeSlow=function(e){return u(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,i=t.length,A=0,n=Math.min(r,i);A<n;++A)if(e[A]!==t[A]){r=e[A],i=t[A];break}return r<i?-1:i<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!n(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(A=t=0;A<e.length;++A)t+=e[A].length;for(var r=a.allocUnsafe(t),i=0,A=0;A<e.length;++A){var o=e[A];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?Q(this,0,e):p.apply(this,arguments)},a.prototype.equals=function(e){if(a.isBuffer(e))return this===e||0===a.compare(this,e);throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r)&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,i,A){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===A&&(A=this.length),(t=void 0===t?0:t)<0||r>e.length||i<0||A>this.length)throw new RangeError("out of range index");if(A<=i&&r<=t)return 0;if(A<=i)return-1;if(r<=t)return 1;if(this===e)return 0;for(var n=(A>>>=0)-(i>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(n,o),c=this.slice(i,A),g=e.slice(t,r),u=0;u<s;++u)if(c[u]!==g[u]){n=c[u],o=g[u];break}return n<o?-1:o<n?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return I(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return I(this,e,t,r,!1)},a.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var A=this.length-t;if((void 0===r||A<r)&&(r=A),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var n,o,s,a,c=!1;;)switch(i){case"hex":var g=e,u=t,l=r,h=(u=Number(u)||0,this.length-u);if((!l||(l=Number(l))>h)&&(l=h),(h=g.length)%2!=0)throw new TypeError("Invalid hex string");h/2<l&&(l=h/2);for(var d=0;d<l;++d){var p=parseInt(g.substr(2*d,2),16);if(isNaN(p))return d;this[u+d]=p}return d;case"utf8":case"utf-8":return a=r,R(b(e,(s=this).length-(h=t)),s,h,a);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return s=this,a=t,o=r,R(k(e),s,a,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n=r,R(function(e,t){for(var r,i,A=[],n=0;n<e.length&&!((t-=2)<0);++n)i=(r=e.charCodeAt(n))>>8,A.push(r%256),A.push(i);return A}(e,this.length-(o=t)),this,o,n);default:if(c)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),c=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(A=this.subarray(e,t)).__proto__=a.prototype;else for(var i=t-e,A=new a(i,void 0),n=0;n<i;++n)A[n]=this[n+e];return A},a.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=this[e],A=1,n=0;++n<t&&(A*=256);)i+=this[e+n]*A;return i},a.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=this[e+--t],A=1;0<t&&(A*=256);)i+=this[e+--t]*A;return i},a.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=this[e],A=1,n=0;++n<t&&(A*=256);)i+=this[e+n]*A;return i>=(A*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=t,A=1,n=this[e+--i];0<i&&(A*=256);)n+=this[e+--i]*A;return n>=(A*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){return t||B(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},a.prototype.readInt16BE=function(e,t){return t||B(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},a.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),A.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),A.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),A.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),A.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,i){e=+e,t|=0,r|=0,i||m(this,e,t,r,Math.pow(2,8*r)-1,0);var A=1,n=0;for(this[t]=255&e;++n<r&&(A*=256);)this[t+n]=e/A&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,i){e=+e,t|=0,r|=0,i||m(this,e,t,r,Math.pow(2,8*r)-1,0);var A=r-1,n=1;for(this[t+A]=255&e;0<=--A&&(n*=256);)this[t+A]=e/n&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):y(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):y(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):v(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):v(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,r,i){e=+e,t|=0,i||m(this,e,t,r,(i=Math.pow(2,8*r-1))-1,-i);var A=0,n=1,o=0;for(this[t]=255&e;++A<r&&(n*=256);)e<0&&0===o&&0!==this[t+A-1]&&(o=1),this[t+A]=(e/n>>0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,i){e=+e,t|=0,i||m(this,e,t,r,(i=Math.pow(2,8*r-1))-1,-i);var A=r-1,n=1,o=0;for(this[t+A]=255&e;0<=--A&&(n*=256);)e<0&&0===o&&0!==this[t+A+1]&&(o=1),this[t+A]=(e/n>>0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):y(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):y(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):v(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):v(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return w(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return w(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,i){if(r=r||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),(i=0<i&&i<r?r:i)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var A,n=(i=e.length-t<i-r?e.length-t+r:i)-r;if(this===e&&r<t&&t<i)for(A=n-1;0<=A;--A)e[A+t]=this[A+r];else if(n<1e3||!a.TYPED_ARRAY_SUPPORT)for(A=0;A<n;++A)e[A+t]=this[A+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+n),t);return n},a.prototype.fill=function(e,t,r,i){if("string"==typeof e){var A;if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length&&(A=e.charCodeAt(0))<256&&(e=A),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(!(r<=t))if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(s=t;s<r;++s)this[s]=e;else for(var n=a.isBuffer(e)?e:b(new a(e,i).toString()),o=n.length,s=0;s<r-t;++s)this[s+t]=n[s%o];return this};var D=/[^+\/0-9A-Za-z-_]/g;function b(e,t){var r;t=t||1/0;for(var i=e.length,A=null,n=[],o=0;o<i;++o){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!A){if(56319<r){-1<(t-=3)&&n.push(239,191,189);continue}if(o+1===i){-1<(t-=3)&&n.push(239,191,189);continue}A=r;continue}if(r<56320){-1<(t-=3)&&n.push(239,191,189),A=r;continue}r=65536+(A-55296<<10|r-56320)}else A&&-1<(t-=3)&&n.push(239,191,189);if(A=null,r<128){if(--t<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function k(e){return i.toByteArray(function(e){if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(D,"")).length<2)return"";for(var t;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,i){for(var A=0;A<i&&!(A+r>=t.length||A>=e.length);++A)t[A+r]=e[A];return A}}).call(this,r(0))},function(e,t,r){"use strict";t.byteLength=function(e){return 3*((e=a(e))[0]+(e=e[1]))/4-e},t.toByteArray=function(e){for(var t,r=(i=a(e))[0],i=i[1],o=new n(3*(r+i)/4-i),s=0,c=0<i?r-4:r,g=0;g<c;g+=4)t=A[e.charCodeAt(g)]<<18|A[e.charCodeAt(g+1)]<<12|A[e.charCodeAt(g+2)]<<6|A[e.charCodeAt(g+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===i&&(t=A[e.charCodeAt(g)]<<2|A[e.charCodeAt(g+1)]>>4,o[s++]=255&t),1===i&&(t=A[e.charCodeAt(g)]<<10|A[e.charCodeAt(g+1)]<<4|A[e.charCodeAt(g+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o},t.fromByteArray=function(e){for(var t,r=e.length,A=r%3,n=[],o=0,s=r-A;o<s;o+=16383)n.push(function(e,t,r){for(var A,n=[],o=t;o<r;o+=3)n.push(i[(A=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+i[A>>12&63]+i[A>>6&63]+i[63&A]);return n.join("")}(e,o,s<o+16383?s:o+16383));return 1==A?n.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2==A&&n.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),n.join("")};for(var i=[],A=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=o[s],A[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return[e=-1===(e=e.indexOf("="))?t:e,e===t?0:4-e%4]}A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,i,A){var n,o,s=8*A-i-1,a=(1<<s)-1,c=a>>1,g=-7,u=r?A-1:0,l=r?-1:1;for(A=e[t+u],u+=l,n=A&(1<<-g)-1,A>>=-g,g+=s;0<g;n=256*n+e[t+u],u+=l,g-=8);for(o=n&(1<<-g)-1,n>>=-g,g+=i;0<g;o=256*o+e[t+u],u+=l,g-=8);if(0===n)n=1-c;else{if(n===a)return o?NaN:1/0*(A?-1:1);o+=Math.pow(2,i),n-=c}return(A?-1:1)*o*Math.pow(2,n-i)},t.write=function(e,t,r,i,A,n){var o,s,a=8*n-A-1,c=(1<<a)-1,g=c>>1,u=23===A?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:n-1,h=i?1:-1;for(n=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-o))<1&&(o--,i*=2),2<=(t+=1<=o+g?u/i:u*Math.pow(2,1-g))*i&&(o++,i/=2),c<=o+g?(s=0,o=c):1<=o+g?(s=(t*i-1)*Math.pow(2,A),o+=g):(s=t*Math.pow(2,g-1)*Math.pow(2,A),o=0));8<=A;e[r+l]=255&s,l+=h,s/=256,A-=8);for(o=o<<A|s,a+=A;0<a;e[r+l]=255&o,l+=h,o/=256,a-=8);e[r+l-h]|=128*n}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,A=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(A.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new n(A.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(9),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(e,t,r){(function(e,t){!function(e){"use strict";var r,i,A,n,o,s,a,c,g,u;function l(e){delete s[e]}function h(e){if(a)setTimeout(h,0,e);else{var t=s[e];if(t){a=!0;try{var r=t.callback,i=t.args;switch(i.length){case 0:r();break;case 1:r(i[0]);break;case 2:r(i[0],i[1]);break;case 3:r(i[0],i[1],i[2]);break;default:r.apply(void 0,i)}}finally{l(e),a=!1}}}}e.setImmediate||(o=1,a=!(s={}),c=e.document,g=(g=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&g.setTimeout?g:e,u="[object process]"==={}.toString.call(e.process)?function(e){t.nextTick((function(){h(e)}))}:function(){var t,r;if(e.postMessage&&!e.importScripts)return t=!0,r=e.onmessage,e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}()?(A="setImmediate$"+Math.random()+"$",n=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(A)&&h(+t.data.slice(A.length))},e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),function(t){e.postMessage(A+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(h,0,e)},g.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];return s[o]={callback:e,args:t},u(o),o++},g.clearImmediate=l)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(0),r(1))},function(e,t,r){"use strict";r.r(t),r.d(t,"ZegoLogger",(function(){return Te})),r.d(t,"ZegoDataReport",(function(){return h})),r.d(t,"createZegoWebSocket",(function(){return u})),r.d(t,"LoggerStateCenter",(function(){return o})),s.getInstance=function(){return s.instance||(s.instance=new s).init(),s.instance},s.prototype.init=function(){},Object.defineProperty(s.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(e){this._testEnvironment=e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ENV",{get:function(){return this._ENV},set:function(e){this._ENV=e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e},enumerable:!1,configurable:!0}),s.instance=new s;var i,A,n,o=s;function s(){this._testEnvironment=!0,this._ENV=0,this._debug=!0}(t=i=i||{})[t.BROWSER=0]="BROWSER",t[t.WEIXINMINI=1]="WEIXINMINI",(A=A||{})[A.DEFAULT=0]="DEFAULT",(t=n=n||{})[t.DISABLE=0]="DISABLE",t[t.WEBSOCKET=1]="WEBSOCKET",t[t.HTTPS=2]="HTTPS";var a={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},c=(g.prototype.init=function(){var e=this;this._websocket&&(this.readyState=0,this._websocket.onOpen((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onopen&&(e.onopen(t),e._websocket.onClose((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onclose&&e.onclose(t)})),e._websocket.onMessage((function(t){"function"==typeof e.onmessage&&e.onmessage(t)})))})),this._websocket.onError((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onerror&&e.onerror(t)})))},g.prototype.onopen=function(e){},g.prototype.onerror=function(e){},g.prototype.onclose=function(e){},g.prototype.onmessage=function(e){},g.prototype.send=function(e){this._websocket&&this._websocket.send({data:e})},g.prototype.close=function(){this._websocket&&this._websocket.close()},g);function g(e,t){this.url=e,this.readyState=3,this.init()}function u(e,t){return new(t%2===i.BROWSER?WebSocket:c)(e)}var l=function(){return(l=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},h=(d.prototype.newReport=function(e,t){this.dataStatistics[e]={event_time:Date.now(),time_consumed:0,seq:e,error:0,message:"success",event:t,events:[]}},d.prototype.addMsgExt=function(e,t){this.dataStatistics[e]?this.dataStatistics[e].msg_ext=t:console.warn("".concat(e," not exist"))},d.prototype.addMsgInfo=function(e,t){this.dataStatistics[e]?Object.assign(this.dataStatistics[e],t):console.warn("".concat(e," not exist"))},d.prototype.eventStart=function(e,t){this.dataStatistics[e]?null!=this.dataStatistics[e].events?this.dataStatistics[e].events.push({event:t,event_time:Date.now(),time_consumed:0}):this.logger.warn("zd.es.0 no events"):this.logger.warn("zd.es.0 no seq match")},d.prototype.eventEnd=function(e,t,r){if(this.dataStatistics[e]){var i=this.dataStatistics[e].events;if(i&&0!==i.length){for(var A=i.length-1;0<=A;A--)if(i[A].event==t&&0==i[A].time_consumed){i[A].time_consumed=Date.now()-i[A].event_time;break}}else this.logger.info("zd.ee.0 no events")}else this.logger.info("zd.ee.0 no seq match")},d.prototype.eventEndWithMsg=function(e,t,r){if(this.dataStatistics[e]){var i=this.dataStatistics[e].events;if(i){for(var A=i.length-1;0<=A;A--)if(i[A].event==t&&0==i[A].time_consumed){i[A].time_consumed=Date.now()-i[A].event_time,null==i[A].msg_ext&&(i[A].msg_ext={}),i[A].msg_ext=l({},r);break}}else this.logger.warn("zd.ee.0 no events")}else this.logger.warn("zd.ee.0 no seq match")},d.prototype.eventEndWithMsgInfo=function(e,t,r){if(this.dataStatistics[e]){var i=this.dataStatistics[e].events;if(i){for(var A=i.length-1;0<=A;A--)if(i[A].event==t&&0==i[A].time_consumed){i[A].time_consumed=Date.now()-i[A].event_time,Object.assign(i[A],r);break}}else this.logger.warn("zd.ee.0 no events")}else this.logger.warn("zd.ee.0 no seq match")},d.prototype.addEventInfo=function(e,t,r,i){if(this.dataStatistics[e]){var A=this.dataStatistics[e].events;if(null!=A){for(var n=A.length-1;0<=n;n--)if(A[n].event==t&&null!=A[n].time_consumed){null==A[n].msg_ext?A[n].msg_ext={}:A[n].msg_ext&&(A[n].msg_ext[r]=i);break}}else this.logger.warn("zd.aei.0 no events")}else this.logger.warn("zd.aei.0 no seq match")},d.prototype.addEventMsg=function(e,t,r,i){if(this.dataStatistics[e]){var A=this.dataStatistics[e].events;if(null!=A){for(var n=A.length-1;0<=n;n--)if(A[n].event==t){A[n][r]=i;break}}else this.logger.warn("zd.aem.0 no events")}else this.logger.warn("zd.aem.0 no seq match")},d.prototype.addEvent=function(e,t,r){this.dataStatistics[e]?this.dataStatistics[e].events&&this.dataStatistics[e].events.push(r?{event:t,event_time:Date.now(),msg_ext:r}:{event:t,event_time:Date.now()}):this.logger.warn("zd.ae.0 no seq match")},d.prototype.uploadReport=function(e,t,r,i){var A=this.dataStatistics[e];null!=A&&(t&&(A.event=t),A.time_consumed=Date.now()-A.event_time,r&&this.addMsgInfo(e,{error:r.code,message:r.message||r.msg+" "+(i||"")}),this.logger.report(A),delete this.dataStatistics[e])},d);function d(e){this.dataStatistics={},this.logger=e}var p,C=["00","01","02","03","04","05","06","07","08","09"];function I(){var e=new Date;return[e.getFullYear()+"/",(C[e.getMonth()+1]||e.getMonth()+1)+"/",(C[e.getDate()]||e.getDate())+" ",(C[e.getHours()]||e.getHours())+":",(C[e.getMinutes()]||e.getMinutes())+":",C[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")}function f(e){this.cache=e}(t=p=p||{}).WEBSOCKET_STATE_CHANGE="zl.net.wsc",t.OPEN_WS="zl.net.opws",Object.defineProperty(ve.prototype,"url",{get:function(){return this.configState.url},set:function(e){this.configState.url=e},enumerable:!1,configurable:!0}),Object.defineProperty(ve.prototype,"strategy",{get:function(){return this.senderBuilder.strategy},enumerable:!1,configurable:!0}),ve.prototype.setStrategy=function(e){this.senderBuilder.setStrategy(e),this.sender=this.senderBuilder.build()},ve.prototype.addRemoteWsLog=function(e){if(this.configState.env!=i.BROWSER)throw new Error("cannot use net strategy on  mini program");var t;this.closed()&&(t=this.url,this.url="",this.openWebSocketLogServer(t)),this.cache.push(e),this.connected()&&this.sender&&this.sender.active()},ve.prototype.stopWebSocketServer=function(){this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null)},ve.prototype.updateSender=function(){this.websocket instanceof WebSocket&&this.configState.useStrategy&&(this.senderBuilder.setWs(this.websocket),this.senderBuilder.setCache(this.cache),this.sender=this.senderBuilder.build())},ve.prototype.updateWebSocketState=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.websocketState,A="";switch(e){case"onconnecting":this.websocketState="never_opened"===this.websocketState?"first_connecting":"reconnecting";break;case"onopen":this.websocketState="connected";break;case"onclosed":this.websocketState="closed";var n=t[0];n&&(A+=" close code=".concat(n.code));break;case"onerror":this.websocketState="error"}e=p.WEBSOCKET_STATE_CHANGE+" log ws state change: ".concat(i," -> ").concat(this.websocketState),A&&(e+=A),this.innerLogger.info(e)},ve.prototype.openWebSocketLogServer=function(e){var t=this;this.url!=e&&((this.url&&""!==this.url||"never_opened"===this.websocketState)&&this.innerLogger.info(p.OPEN_WS+" log url change to: ".concat(e)),this.url=e)&&(this.stopWebSocketServer(),this.websocket=u(e,this.configState.env),this.updateSender(),this.updateWebSocketState("onconnecting"),this.websocket.onopen=function(){var e;t.configState.useStrategy&&null!=(e=t.sender)&&e.active(),t.updateWebSocketState("onopen")},this.websocket.onclose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];console.warn("onclose   websocket error:",e),t.updateWebSocketState.apply(t,function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||((i=i||Array.prototype.slice.call(t,0,A))[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))}(["onclosed"],e,!1))},this.websocket.onmessage=function(){},this.websocket.onerror=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];console.warn("open log websocket error:",e),t.updateWebSocketState("onerror")})},ve.prototype.closed=function(){return null==this.websocket||2==this.websocket.readyState||3==this.websocket.readyState},ve.prototype.connected=function(){return null!==this.websocket&&1==this.websocket.readyState},ve.prototype.connecting=function(){return null!==this.websocket&&0==this.websocket.readyState},ve.prototype.wsSend=function(e){this.websocket&&this.websocket.send(e)},ve.prototype.destroy=function(){this.websocket=null};var E,Q=ve,B=(ye.prototype.active=function(){var e=this;this.ws&&1===this.ws.readyState&&0!==this.cache.size()&&this.strategy.canSendLog()&&(this.strategy.getLog().forEach((function(t){e.ws.send(t)})),this.strategy.onSendLog())},ye),m=(E=function(e,t){return(E=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e){function t(t){return e.call(this,t)||this}var r=t,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function A(){this.constructor=r}return E(r,i),r.prototype=null===i?Object.create(i):(A.prototype=i.prototype,new A),t.prototype.getLog=function(){return this.cache.clear()},t.prototype.canSendLog=function(){return 0<this.cache.size()},t.prototype.onSendLog=function(){},t}(f));re=function(e,t){return(re=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(me,te=f),me.prototype.canSendLog=function(){return!this.locked&&0<this.cache.size()},me.prototype.getLog=function(){for(var e=[],t=0;t<this.maxPacketLen-4e3;){var r=this.cache.getOneLogPacket();if(!r||r.length<=0)break;t+=r.length||0,e.push(r)}return e},me.prototype.onSendLog=function(){var e=this;this.locked=!0,setTimeout((function(){e.locked=!1,e.onCanSendActive&&e.onCanSendActive()}),this.maxDelay)},ee=function(e,t){return(ee=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(Be,$=t=me);var y=Be,v=(X=function(e,t){return(X=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(){return null!==Z&&Z.apply(this,arguments)||this});if("function"!=typeof(R=Z=t)&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function _(){this.constructor=v}X(v,R),v.prototype=null===R?Object.create(R):(_.prototype=R.prototype,new _),W=function(e,t){return(W=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var S=function(){return null!==V&&V.apply(this,arguments)||this};if("function"!=typeof(R=V=t)&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function w(){this.constructor=S}function D(){this.url="",this.env=i.BROWSER,this.useStrategy=!0,this.token="",this.deviceid=k.id()}W(S,R),S.prototype=null===R?Object.create(R):(w.prototype=R.prototype,new w),j=function(e,t){return(j=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}j(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}((function(){return null!==z&&z.apply(this,arguments)||this}),z=t),Object.defineProperty(Qe.prototype,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Qe.prototype.setWs=function(e){this.ws=e},Qe.prototype.setCache=function(e){this.cache=e},Qe.prototype.setStrategy=function(e){e&&(this._strategy=e)},Qe.prototype.build=function(){if(this.ws&&this.cache)return new B(this.ws,this.cache,this._strategy!==A.DEFAULT?new m(this.cache):new y(this.cache));throw new Error("cannot build log sender")};var b=Qe,k=(Ee.isEnvSupport=function(){return!(!window||!window.localStorage)},Ee.bin2hex=function(e){for(var t,r="",i=0,A=(e+="").length;i<A;i++)r+=(t=e.charCodeAt(i).toString(16)).length<2?"0"+t:t;return r},Ee.getCanvasFingerprint=function(e){var t=document.createElement("canvas"),r=((r=t.getContext("2d")).textBaseline="top",r.font="14px 'Arial'",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",r.fillText(e,2,15),r.fillStyle="rgba(102, 204, 0, 0.7)",r.fillText(e,4,17),t.toDataURL().replace("data:image/png;base64,",""));return e=atob(r),this.bin2hex(e.slice(-16,-12))},Ee.generateUUID=function(){var e,t,r;return(t=localStorage.getItem(this.storageKey))||(e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(36)})),r=this.getCanvasFingerprint("hello, zego")+t.slice(8),localStorage.setItem(this.storageKey,r),t)},Ee.id=function(){var e;return Ee.isEnvSupport()?((e=localStorage.getItem(this.storageKey))||(e=Ee.generateUUID(),localStorage.setItem(this.storageKey,e)),e):""},Ee.storageKey="z_deviceID",Ee),R=(Object.defineProperty(fe.prototype,"buffer",{get:function(){return this.queue},set:function(e){this.queue=e},enumerable:!1,configurable:!0}),fe.prototype.push=function(e){if(!e)throw new Error("item null!");e&&this.queue.push(e)},fe.prototype.pop=function(){return this.queue.shift()},fe.prototype.front=function(){return this.queue[0]},fe);function N(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))}function T(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!((A=0<(A=n.trys).length&&A[A.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}K=function(e,t){return(K=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var L=function(){return(L=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},M=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(Ie,Y=R),Ie.prototype.size=function(){return this.queue.length},Ie.prototype.getOneLogPacket=function(){for(var e="";0<this.queue.length;){if(4e3<(e+this.queue[0]).length)return e;var t=JSON.parse(this.queue[0]);t=L(L({},t),{userid:t.userid||this.configState.roomid,roomid:t.roomid||this.configState.roomid,userName:t.userName||this.configState.userName}),e=e+JSON.stringify(t)+"\n",this.queue.shift()}return""===e?void 0:e},Ie.prototype.clear=function(){for(var e=[];0<this.queue.length;){var t=this.getOneLogPacket();if(!t)break;e.push(t)}return e},Ie),O=(Ce.prototype.save=function(e){return this.dbSaver.save(this.tableName,{log:e})},Ce.prototype.queryList=function(e){return this.dbSaver.queryByCursor(this.tableName,e)},Ce.prototype.delete=function(e){return this.dbSaver.deleteItems(this.tableName,e)},Ce.prototype.storedBytesSize=function(){var e=this;return new Promise((function(t,r){return i=e,n=function(){var e,i;return function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!((A=0<(A=n.trys).length&&A[A.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(A){return e=this.dbSaver.openCursor(this.tableName),i=0,e.onsuccess=function(e){(e=null==(e=e.target)?void 0:e.result)?(i+=e.value.log.length,e.continue()):t(i)},e.onerror=function(e){r(e)},[2]}))},new(A=(A=void 0)||Promise)((function(e,t){function r(e){try{s(n.next(e))}catch(e){t(e)}}function o(e){try{s(n.throw(e))}catch(e){t(e)}}function s(t){var i;t.done?e(t.value):((i=t.value)instanceof A?i:new A((function(e){e(i)}))).then(r,o)}s((n=n.apply(i,[])).next())}));var i,A,n}))},Ce.prototype.lines=function(){return this.dbSaver.lines(this.tableName)},Ce.prototype.deleteByCount=function(e){return this.dbSaver.deleteByCount(this.tableName,e)},Ce.prototype.deleteAll=function(){return this.dbSaver.deleteAll(this.tableName)},Ce),P=(pe.prototype.openDB=function(e){return N(this,void 0,void 0,(function(){var t,r,i=this;return T(this,(function(A){switch(A.label){case 0:return t=window.indexedDB.open(e.database,e.version),r=this,[4,new Promise((function(r){t.onupgradeneeded=function(t){var r=t.target&&t.target.result;e.tableList.forEach((function(e){var t;r.objectStoreNames.contains(e.tableName)||(t=r.createObjectStore(e.tableName,{keyPath:"id",autoIncrement:!0}),e.tableItems.forEach((function(e){e.index&&t.createIndex(e.itemName,e.itemName,{unique:e.unique})})))}))},t.onsuccess=function(e){i.db=e=e.target&&e.target.result,r(t)}}))];case 1:return r.dbRequest=A.sent(),[2]}}))}))},pe.prototype.checkConn=function(){if(!this.dbRequest&&!this.db)throw new Error("indexDB not open")},pe.prototype.save=function(e,t){var r=this;return new Promise((function(i,A){return N(r,void 0,void 0,(function(){var r,n;return T(this,(function(o){return this.checkConn(),r=this.db.transaction([e],"readwrite").objectStore(e),(n=r.add(t)).onsuccess=function(e){i(n.result)},n.onerror=function(e){A("save item fail")},[2]}))}))}))},pe.prototype.update=function(e,t){var r=this;return new Promise((function(e,t){r.checkConn(),e()}))},pe.prototype.queryById=function(e,t){var r=this;return new Promise((function(i,A){return N(r,void 0,void 0,(function(){var r,n;return T(this,(function(o){return this.checkConn(),r=this.db.transaction([e]).objectStore(e),(n=r.get(t)).onsuccess=function(e){i(n.result?n.result:null)},n.onerror=function(e){A()},[2]}))}))}))},pe.prototype.queryByCursor=function(e,t){var r=this;return new Promise((function(i,A){return N(r,void 0,void 0,(function(){var r,n;return T(this,(function(o){return this.checkConn(),n=this.db.transaction([e]).objectStore(e),r=[],(n=n.openCursor()).onsuccess=function(e){(e=null==(e=e.target)?void 0:e.result)&&(!t||r.length<t)?(r.push(e.value),e.continue()):i(r)},n.onerror=function(e){A()},[2]}))}))}))},pe.prototype.lines=function(e){var t=this;return new Promise((function(r,i){return N(t,void 0,void 0,(function(){var t,A;return T(this,(function(n){return this.checkConn(),t=(t=this.db.transaction([e]).objectStore(e)).openCursor(),A=0,t.onsuccess=function(e){(e=null==(e=e.target)?void 0:e.result)?(A++,e.continue()):r(A)},t.onerror=function(e){i()},[2]}))}))}))},pe.prototype.openCursor=function(e){return this.checkConn(),this.db.transaction([e]).objectStore(e).openCursor()},pe.prototype.deleteById=function(e,t){var r=this;return new Promise((function(i,A){return N(r,void 0,void 0,(function(){var r;return T(this,(function(n){return this.checkConn(),(r=(r=this.db.transaction([e],"readwrite").objectStore(e)).delete(t)).onsuccess=function(e){i()},r.onerror=function(e){A()},[2]}))}))}))},pe.prototype.deleteByCount=function(e,t){var r=this;return new Promise((function(i,A){return N(r,void 0,void 0,(function(){var r,A;return T(this,(function(n){switch(n.label){case 0:this.checkConn(),r=8192,n.label=1;case 1:return 0<t?[4,this.queryByCursor(e,Math.min(t,r))]:[3,4];case 2:return 0===(A=n.sent()).length?[3,4]:(t-=r,[4,this.deleteItems(e,A)]);case 3:return n.sent(),[3,1];case 4:return i(),[2]}}))}))}))},pe.prototype.deleteAll=function(e){var t=this;return new Promise((function(r,i){return N(t,void 0,void 0,(function(){var t;return T(this,(function(A){return this.checkConn(),(t=(t=this.db.transaction([e],"readwrite").objectStore(e)).clear()).onsuccess=function(e){r()},t.onerror=function(e){i()},[2]}))}))}))},pe.prototype.deleteItems=function(e,t){var r=this;return new Promise((function(i){return N(r,void 0,void 0,(function(){var r;return T(this,(function(A){switch(A.label){case 0:return this.checkConn(),r=this.db.transaction([e],"readwrite").objectStore(e),[4,Promise.all(t.map((function(e){return new Promise((function(t,i){var A=r.delete(e.id);A.onsuccess=function(e){t()},A.onerror=function(e){i()}}))})))];case 1:return A.sent(),i(),[2]}}))}))}))},pe),F={version:1,database:"zego_logger_db",tableList:[{tableName:"zego_log",tableItems:[{itemName:"log",index:!1,unique:!1}]}]};function G(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))}function U(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!((A=0<(A=n.trys).length&&A[A.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function x(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))}function H(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!((A=0<(A=n.trys).length&&A[A.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}J=function(e,t){return(J=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}J(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(de,q=R);var q,J,Y,K,z,j,V,W,Z,X,$,ee,te,re,ie=de,Ae=function(){return(Ae=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},ne=(he.prototype.pushTask=function(e,t,r,i,A){e={task:e},t&&(e=Ae(Ae({},e),{args:t})),r&&(e=Ae(Ae({},e),{successCallback:r})),i&&(e=Ae(Ae({},e),{errorCallback:i})),A&&(e=Ae(Ae({},e),{completeCallback:A})),this.queue.push(e)},he.prototype.runTaskQueueItem=function(e){return G(this,void 0,void 0,(function(){var t,r;return U(this,(function(i){switch(i.label){case 0:t=null,i.label=1;case 1:return i.trys.push([1,4,5,6]),e&&e.args?t=e.task.apply(e,e.args):e&&(t=e.task()),t instanceof Promise?[4,t]:[3,3];case 2:t=i.sent(),i.label=3;case 3:return e.successCallback&&e.successCallback(t),[3,6];case 4:if(r=i.sent(),e.errorCallback)return e.errorCallback(r),[3,6];throw r;case 5:return e.completeCallback&&e.completeCallback(),[7];case 6:return[2]}}))}))},he.prototype.runATask=function(){return G(this,void 0,void 0,(function(){var e;return U(this,(function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:(e=this.queue.shift())?[4,this.runTaskQueueItem(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},he.prototype.runAllTask=function(){return G(this,void 0,void 0,(function(){var e;return U(this,(function(t){switch(t.label){case 0:return 0<this.queue.length?(e=this.queue.shift())?[4,this.runTaskQueueItem(e)]:[3,2]:[3,3];case 1:t.sent(),t.label=2;case 2:return[3,0];case 3:return[2]}}))}))},he.prototype.size=function(){return this.queue.length},he),oe=(t=r(2),r.n(t)),se=(le.prototype.writeLine=function(e){e&&""!==e&&this.cacheLines.push(e)},le.prototype.saveAs=function(e,t){var r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=t,r.click()},le.prototype.createZip=function(){return e=this,r=function(){var e,t;return function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!((A=0<(A=n.trys).length&&A[A.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(r){switch(r.label){case 0:e=new oe.a,t="",0<this.cacheLines.length&&(t=this.cacheLines.join("\n"),this.cacheLines=[]),t=new Blob([t],{type:"text/plain;charset=utf-8"}),e.file("log.txt",t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.generateAsync({type:"blob"})];case 2:return[2,r.sent()];case 3:throw t=r.sent(),console.error("create zip file failed",t),t;case 4:return[2]}}))},new(t=(t=void 0)||Promise)((function(i,A){function n(e){try{s(r.next(e))}catch(e){A(e)}}function o(e){try{s(r.throw(e))}catch(e){A(e)}}function s(e){var r;e.done?i(e.value):((r=e.value)instanceof t?r:new t((function(e){e(r)}))).then(n,o)}s((r=r.apply(e,[])).next())}));var e,t,r},le),ae=(ue.prototype.isUploadFieldReady=function(){return!!(this.configState.appid&&this.configState.userid&&""!==this.configState.userid&&this.configState.token&&""!==this.configState.token&&this.configState.deviceid&&""!==this.configState.deviceid)},ue.prototype.setUploadUrl=function(e){this.uploadUrl=e},ue.prototype.upload=function(e){return x(this,void 0,void 0,(function(){var t=this;return H(this,(function(r){if(this.isUploadFieldReady())return[2,new Promise((function(r,i){return x(t,void 0,void 0,(function(){var t,A=this;return H(this,(function(n){switch(n.label){case 0:return t=function(){return x(A,void 0,void 0,(function(){var t,r,A=this;return H(this,(function(n){switch(n.label){case 0:this.updateLocked=!0,(t=new FormData).append("logs",e),t.append("hello",this.configState.appid.toString()),t.append("appid",this.configState.appid.toString()),t.append("uin",this.configState.userid.toString()),t.append("timestamp",(new Date).getTime().toString()),t.append("token",this.configState.token),t.append("deviceid",this.configState.deviceid),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,ce.post(this.uploadUrl,t)];case 2:if(0!==(r=n.sent()).code)throw new Error("upload logs failed, error=".concat(JSON.stringify(r)));return[3,5];case 3:return r=n.sent(),i(r),[3,5];case 4:return setTimeout((function(){return x(A,void 0,void 0,(function(){return H(this,(function(e){switch(e.label){case 0:return this.updateLocked=!1,[4,this.taskQueue.runATask()];case 1:return e.sent(),[2]}}))}))}),100),[7];case 5:return[2]}}))}))},this.updateLocked?(this.taskQueue.pushTask(t,[],(function(){r()}),(function(e){i(e)})),[3,3]):[3,1];case 1:return[4,t()];case 2:n.sent(),r(),n.label=3;case 3:return[2]}}))}))}))];throw new Error("cannot upload logs, please login room before you upload logs.")}))}))},ue),ce=(ge.post=function(e,t){return new Promise((function(r,i){try{var A=new XMLHttpRequest;A.open("POST",e,!0),A.responseType="json",A.send(t),A.onreadystatechange=function(){A.readyState===XMLHttpRequest.DONE&&(200===A.status?r(A.response):i("request fail. status="+A.status))}}catch(r){i(r)}}))},ge);function ge(){}function ue(e){this.configState=e,this.defaultDomain="detaillog-global.zego.im",this.uploadUrl="https://".concat(this.defaultDomain,"/log/userupload"),this.taskQueue=new ne,this.updateLocked=!1}function le(){this.cacheLines=[]}function he(){this.queue=[]}function de(){return null!==q&&q.apply(this,arguments)||this}function pe(){}function Ce(e){this.dbSaver=e,this.tableName="zego_log"}function Ie(e){var t=Y.call(this)||this;return t.configState=e,t}function fe(){this.queue=[]}function Ee(){}function Qe(){this._strategy=A.DEFAULT}function Be(e){return(e=$.call(this,e)||this).maxDelay=10,e.maxPacketLen=20480,e}function me(){var e=null!==te&&te.apply(this,arguments)||this;return e.maxDelay=10,e.maxPacketLen=20480,e.locked=!1,e}function ye(e,t,r){this.ws=e,this.cache=t,this.strategy=r,this.strategy.onCanSendActive=this.active.bind(this)}function ve(e,t,r){this.cache=e,this.configState=t,this.innerLogger=r,this.websocket=null,this.websocketState="never_opened",this.senderBuilder=new b,this.sender=null}function _e(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))}function Se(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!((A=0<(A=n.trys).length&&A[A.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function we(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))}function De(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!((A=0<(A=n.trys).length&&A[A.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var be=function(){return(be=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},ke=(Oe.prototype.build=function(e){var t=be(be({},JSON.parse(e)),{sdkid:this.sdkid});if(++this.buildedCount%100==0)return(e=JSON.stringify(t)).substring(1,e.length-1);for(r in t)this.excludedKeys.includes(r)||(t[r]===this.logCtx[r]?delete t[r]:this.logCtx[r]=t[r]);var r,i=[];for(r in t)this.excludedKeys.includes(r)?i.push(t[r]):i.push("".concat(r,":").concat(t[r]));return i.join(",")},Oe.prototype.buildFullMessageLog=function(e){return e=JSON.parse(e),e=be(be(be({},this.logCtx),e),{sdkid:this.sdkid}),JSON.stringify(e)},Oe),Re=(Object.defineProperty(Me.prototype,"dbOpened",{get:function(){return this._dbOpened},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"dbTryOpened",{get:function(){return this._dbTryOpen},enumerable:!1,configurable:!0}),Me.prototype.makeStorageSpace=function(){return _e(this,void 0,void 0,(function(){var e;return Se(this,(function(t){switch(t.label){case 0:return[4,this.logModel.lines()];case 1:return 153600<(e=t.sent())?[4,this.logModel.deleteByCount(e/2)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},Me.prototype.makeStorageSpaceUpload=function(){return _e(this,void 0,void 0,(function(){var e,t=this;return Se(this,(function(r){return this.zipLogEnabled?(e=function(){return _e(t,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:return[4,this.logModel.lines()];case 1:return 3072<e.sent()?[4,this.startASdkUploadTask()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},[2,new Promise((function(r,i){return _e(t,void 0,void 0,(function(){var t;return Se(this,(function(A){switch(A.label){case 0:return this.dbOpened?[3,1]:(this.dbTaskQueue.pushTask(e,[],(function(){r()}),(function(e){i(e)})),[3,5]);case 1:return A.trys.push([1,3,,4]),[4,e()];case 2:return A.sent(),[3,4];case 3:return t=A.sent(),i(t),[2];case 4:r(),A.label=5;case 5:return[2]}}))}))}))]):[2]}))}))},Me.prototype.openDB=function(){return _e(this,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:return this._dbTryOpen?[2]:(this._dbTryOpen=!0,[4,this.dbSaver.openDB(F)]);case 1:return e.sent(),this._dbOpened=!0,[4,this.makeStorageSpace()];case 2:return e.sent(),[4,this.dbTaskQueue.runAllTask()];case 3:return e.sent(),[4,this.uploadTaskQueue.runATask()];case 4:return e.sent(),this.activeSaving(),[2]}}))}))},Me.prototype.shouldOpenDB=function(){return this.zipLogEnabled&&Me.isEnvSupport()&&!this._dbOpened&&!this._dbTryOpen},Me.prototype.enable=function(){this.zipLogEnabled||(this.zipLogEnabled=!0,this.shouldOpenDB()&&this.openDB())},Me.prototype.saveLog=function(e){this.shouldOpenDB()&&this.openDB(),this.cache.push(this.zipLogBuilder.build(e)),this.activeSaving()},Me.prototype.removeLogList=function(e){return _e(this,void 0,void 0,(function(){return Se(this,(function(t){switch(t.label){case 0:return 0===e.length?[2]:[4,this.logModel.delete(e)];case 1:return t.sent(),[2]}}))}))},Me.prototype.empty=function(){return _e(this,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:return[4,this.logModel.queryList(1)];case 1:return[2,0===e.sent().length]}}))}))},Me.prototype.activeSaving=function(){var e,t=this;this.zipLogEnabled&&this.dbOpened&&!this.activating&&(this.activating=!0,(e=function(){var r=t.cache.front();r?t.logModel.save(r).then((function(){t.cache.pop(),e()})).catch((function(e){t.activating=!1,console.error(e)})):t.activating=!1})())},Me.isEnvSupport=function(){return!(!window||!("indexedDB"in window))},Me.prototype.uploadTask=function(){return _e(this,void 0,void 0,(function(){var e,t,r;return Se(this,(function(i){switch(i.label){case 0:return[4,this.logModel.lines()];case 1:e=i.sent(),t=function(){var t,i,A;return Se(this,(function(n){switch(n.label){case 0:return[4,r.logModel.queryList(Math.min(3145728,e))];case 1:return t=n.sent(),e-=3145728,t.length<=0?[2,"break"]:(i=new se,t.forEach((function(e){i.writeLine(e.log)})),[4,i.createZip()]);case 2:return A=n.sent(),[4,r.zipLogUploader.upload(A)];case 3:return n.sent(),[4,r.logModel.delete(t)];case 4:return n.sent(),[2]}}))},r=this,i.label=2;case 2:return 0<e?[5,t()]:[3,4];case 3:return"break"===i.sent()?[3,4]:[3,2];case 4:return[2]}}))}))},Me.prototype.startASdkUploadTask=function(){var e=this;return new Promise((function(t,r){return _e(e,void 0,void 0,(function(){var e=this;return Se(this,(function(i){return this.uploadTaskQueue.pushTask((function(){return _e(e,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:return[4,this.uploadTask()];case 1:return e.sent(),[2]}}))}))}),[],(function(){t()}),(function(e){r(e)}),(function(){0<e.uploadTaskQueue.size()&&e.uploadTaskQueue.runATask()})),this.dbOpened&&1===this.uploadTaskQueue.size()&&this.uploadTaskQueue.runATask(),[2]}))}))}))},Me.prototype.startAUserUploadTask=function(){var e=this;return new Promise((function(t,r){return _e(e,void 0,void 0,(function(){var e=this;return Se(this,(function(i){return this.userLastUploadSuccess=!1,this.userUploading=!0,this.uploadTaskQueue.pushTask((function(){return _e(e,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:return this.userUploading=!0,[4,this.uploadTask()];case 1:return e.sent(),[2]}}))}))}),[],(function(){e.userLastUploadSuccess=!0,e.userUploading=!1,t()}),(function(t){e.userUploading=!1,r(t)}),(function(){0<e.uploadTaskQueue.size()&&e.uploadTaskQueue.runATask()})),this.dbOpened&&1===this.uploadTaskQueue.size()&&this.uploadTaskQueue.runATask(),[2]}))}))}))},Me.prototype.setUploadUrl=function(e){this.zipLogUploader.setUploadUrl(e)},Me.prototype.startUpload=function(){return _e(this,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:if(!this.zipLogEnabled)throw new Error("zip logs upload is not enabled.");if(0!==this.userLastUploadTime&&performance.now()-this.userLastUploadTime<6e4&&this.userLastUploadSuccess||this.userUploading)throw new Error("Logs upload failed. Do not report frequently.");return this.userLastUploadTime=performance.now(),[4,this.startAUserUploadTask()];case 1:return e.sent(),[2]}}))}))},Me.prototype.destroy=function(){},Me),Ne=function(){return(Ne=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},Te=(Object.defineProperty(Le.prototype,"url",{get:function(){return this.configState.url||""},set:function(e){this.configState.url=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"logType",{get:function(){return this.configState.logType||n.DISABLE},set:function(e){this.configState.logType=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"env",{get:function(){return this.configState.env},set:function(e){this.configState.env=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"appid",{get:function(){return this.configState.appid},set:function(e){this.configState.appid=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"roomid",{get:function(){return this.configState.roomid},set:function(e){this.configState.roomid=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"sessionid",{get:function(){return this.configState.sessionid},set:function(e){this.configState.sessionid=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"userid",{get:function(){return this.configState.userid},set:function(e){this.configState.userid=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"userName",{get:function(){return this.configState.userName},set:function(e){this.configState.userName=e},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"version",{get:function(){return this.configState.userName},set:function(e){this.configState.version=e},enumerable:!1,configurable:!0}),Le.prototype.setLogLevel=function(e){return void 0!==(e=a[e])&&(this.logLevel=e,!0)},Le.prototype.setRemoteLogLevel=function(e){return void 0!==(e=a[e])&&(this.logRemoteLevel=e,!0)},Le.prototype.setSessionInfo=function(e,t,r,i,A,n){this.appid=e,this.roomid=t,this.sessionid=r,this.userid=i,this.userName=A,this.version=n},Le.prototype.setTokenInfo=function(e,t){this.configState.token=e,t&&(this.configState.userid=t)},Le.prototype.setZipLogConfig=function(e,t){1===e&&this.zipLogContext?this.zipLogContext.enable():0==e&&t&&this.zipLogContext&&(this.zipLogContext.destroy(),this.zipLogContext=null)},Le.prototype.setZipLogUploadUrl=function(e){this.zipLogContext&&this.zipLogContext.setUploadUrl(e)},Le.prototype.makeZipLogSpaceUpload=function(){return we(this,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return this.zipLogContext?[4,this.zipLogContext.makeStorageSpaceUpload()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},Le.prototype.uploadStorageLog=function(){return we(this,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return this.zipLogContext?[4,this.zipLogContext.startUpload()]:[3,2];case 1:return e.sent(),[3,3];case 2:throw new Error("cannot use zip log module");case 3:return[2]}}))}))},Le.prototype.report=function(e){e=this.logReportParamList(a.REPORT,e),this.logLevel!==a.DISABLE&&this.logLevel<=a.REPORT&&console.debug(e),this.RemoteLog(a.REPORT,e,!0)},Le.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(a.DEBUG,e.join(""));this.logLevel!==a.DISABLE&&this.logLevel<=a.DEBUG&&console.debug(r),this.log(a.DEBUG,r)},Le.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(a.INFO,e.join(""));this.logLevel!==a.DISABLE&&this.logLevel<=a.INFO&&console.info(r),this.log(a.INFO,r)},Le.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(a.WARN,e.join(""));this.logLevel!==a.DISABLE&&this.logLevel<=a.WARN&&console.warn(r),this.log(a.WARN,r)},Le.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(a.ERROR,e.join(""));this.logLevel!==a.DISABLE&&this.logLevel<=a.ERROR&&(console.error(r),this.env%2===i.BROWSER&&window&&this.stateCenter.debug&&window.alert(e.join("").substr(e.join("").indexOf(" ")+1,4500))),this.log(a.ERROR,r)},Le.prototype.log=function(e,t){this.logRemoteLevel!==a.DISABLE&&this.logRemoteLevel<=e&&(this.RemoteLog(e,t),this.zipLogContext)&&this.zipLogContext.saveLog(t)},Le.prototype.setLogServer=function(e){if(this.isDestroy)return!1;try{return e.startsWith("wss:")?(this.logType=n.WEBSOCKET,this.netContext.openWebSocketLogServer(e)):e.startsWith("https:")?(this.logType=n.HTTPS,this.openHttpsLogServer(e)):this.logType=n.DISABLE,!0}catch(e){return this.error(JSON.stringify(e)),!1}},Le.prototype.stopLogServer=function(){this.logType==n.WEBSOCKET?this.stopWebSocketServer():this.logType==n.HTTPS&&(this.SendHttpsLog(),this.stopHttpsServer()),this.logType=n.DISABLE},Le.prototype.stopWebSocketServer=function(){this.netContext.stopWebSocketServer()},Le.prototype.openHttpsLogServer=function(e){var t=this;(this.url=e)&&(this.stopHttpsServer(),this.logUploadTimer||(this.logUploadTimer=setInterval((function(){t.SendHttpsLog()}),this.logUploadInterval)))},Le.prototype.stopHttpsServer=function(){this.logUploadTimer&&(clearInterval(this.logUploadTimer),this.logUploadTimer=null)},Le.prototype.RemoteLog=function(e,t,r){return void 0===r&&(r=!1),we(this,void 0,void 0,(function(){return De(this,(function(i){if(""!=this.url&&!this.isDestroy)if(this.logType==n.WEBSOCKET)this.RemoteWebSocketLog(e,t);else if(this.logType==n.HTTPS)this.RemoteHttpsLog(e,t,r);else if(this.logLevel!==a.DISABLE&&this.logLevel<=e)for(this.logCache.push(t);this.logCache.size()>this.logCacheMax;)this.logCache.pop();return[2]}))}))},Le.prototype.clearLogCache=function(){var e=this;this.netContext.connected()&&this.logCache.clear().forEach((function(t){e.netContext.wsSend(t)}))},Le.prototype.clearCache=function(){0!==this.logCache.size()&&this.clearLogCache()},Le.prototype.saveLog=function(e){this.logCache.size()<this.logCacheMax&&this.logCache.push(e)},Le.prototype.websocketSendLog=function(e){this.netContext.connected()?this.netContext.wsSend(e):this.saveLog(e)},Le.prototype.RemoteWebSocketLog=function(e,t){return we(this,void 0,void 0,(function(){var e;return De(this,(function(r){return"string"==typeof t&&4e3<t.length?console.info("log over maximum, ignore"):this.configState.useStrategy&&this.env==i.BROWSER?this.netContext.addRemoteWsLog(t):this.netContext.closed()?(e=this.url,this.url="",this.setLogServer(e),this.saveLog(t)):this.netContext.connecting()?this.saveLog(t):this.netContext.connected()&&(this.clearCache(),this.websocketSendLog(t)),[2]}))}))},Le.prototype.RemoteHttpsLog=function(e,t,r){this.logCache.push(t),(this.logCache.size()>=this.logCacheMax||!0===r)&&this.SendHttpsLog()},Le.prototype.logParamList=function(e,t){var r={time:r=I(),level:e,action:(t=[t.substr(0,t.indexOf(" "))||t,t.substr(t.indexOf(" ")+1,4500)||t])[0],content:t[1],appid:this.appid,roomid:this.roomid,userid:this.userid,userName:this.userName,sessionid:this.sessionid};return JSON.stringify(r)},Le.prototype.logReportParamList=function(e,t){var r=I(),A=this.env%2===i.BROWSER?"rtc":"ali";return t=Ne(Ne({},t),{time:r,level:e,console:A,appid:this.appid,room_id:this.roomid,roomid:this.roomid,userid:this.userid,id_name:this.userid,userName:this.userName,sessionid:this.sessionid,sdk_version:this.version,test_environment:this.stateCenter.testEnvironment,version:this.version,event_id:this.appid+"_"+this.userid+"_"+t.event_time+"_"+t.seq}),JSON.stringify(t)},Le.prototype.SendHttpsLog=function(){0!=this.logCache.size()&&(this.env%2===i.BROWSER?this.SendHttpsLogWeb():this.SendHttpsLogWeChatMini())},Le.prototype.SendHttpsLogWeb=function(){var e=this,t=this.logCache.buffer.join("\n"),r=this.logCache.buffer,i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState){if(200==i.status){if(0==i.responseText.length)return;try{var t=JSON.parse(i.responseText).interval;"number"==typeof t&&e.logUploadInterval!==t&&(e.timeInterval=t,e.openHttpsLogServer(e.url))}catch(t){e.logCache.buffer=r.concat(e.logCache.buffer),console.log("send result failed "+t)}}else e.logCache.buffer=r.concat(e.logCache.buffer),console.log("send failed "+i.status);r=null}},i.open("POST",this.url,!0),0==this.env?i.send(t):1==this.env&&(i.setRequestHeader("content-type","application/json"),i.send(JSON.stringify({user_id:this.userid,log:t}))),this.logCache.buffer=[]},Le.prototype.SendHttpsLogWeChatMini=function(){},Le.prototype.destroy=function(){this.stopLogServer(),this.logUploadTimer&&clearTimeout(this.logUploadTimer),o.instance=void 0,this.netContext.destroy(),this.zipLogContext&&this.zipLogContext.destroy(),this.url=""},Le.logVersion="1.4.0",Le);function Le(e){var t=this;this.logLevel=a.INFO,this.logRemoteLevel=0,this.logUploadTimer=null,this.logUploadInterval=1e4,this.existUserID=!1,this.isDestroy=!1,this.logCacheMax=8192,this.innerLogger={debug:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.debug.apply(t,e)},info:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.info.apply(t,e)},warn:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.warn.apply(t,e)},error:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.error.apply(t,e)}},this.stateCenter=o.getInstance(),this.configState=new D,this.configState.env=e,this.logCache=new M(this.configState),this.netContext=new Q(this.logCache,this.configState,this.innerLogger),this.env==i.BROWSER&&Re.isEnvSupport()&&(this.zipLogContext=new Re(this.configState))}function Me(e){this.configState=e,this.dbSaver=new P,this.logModel=new O(this.dbSaver),this._dbOpened=!1,this._dbTryOpen=!1,this.cache=new ie,this.activating=!1,this.dbTaskQueue=new ne,this.uploadTaskQueue=new ne,this.zipLogEnabled=!1,this.userLastUploadTime=0,this.userLastUploadSuccess=!1,this.userUploading=!1,this.zipLogUploader=new ae(this.configState),this.zipLogBuilder=new ke(this.configState)}function Oe(e){this.configState=e,this.logCtx={},this.excludedKeys=["time","action","content","sdkid"],this.buildedCount=0,this.sdkid=crypto.getRandomValues(new Uint8Array(5)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():62<t?"-":"_")),"")}}],n={},i.m=A,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var A in e)i.d(r,A,function(t){return e[t]}.bind(null,A));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10))},function(e,t,r){e.exports=function(e){for(var t=Math,r=e,i=r.lib,A=i.WordArray,n=i.Hasher,o=r.algo,s=[],a=0;a<64;a++)s[a]=4294967296*t.abs(t.sin(a+1))|0;var c=o.MD5=n.extend({_doReset:function(){this._hash=new A.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var i=t+r,A=e[i];e[i]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8)}var n=this._hash.words,o=e[t+0],a=e[t+1],c=e[t+2],d=e[t+3],p=e[t+4],C=e[t+5],I=e[t+6],f=e[t+7],E=e[t+8],Q=e[t+9],B=e[t+10],m=e[t+11],y=e[t+12],v=e[t+13],_=e[t+14],S=e[t+15],w=n[0],D=n[1],b=n[2],k=n[3];w=g(w,D,b,k,o,7,s[0]),k=g(k,w,D,b,a,12,s[1]),b=g(b,k,w,D,c,17,s[2]),D=g(D,b,k,w,d,22,s[3]),w=g(w,D,b,k,p,7,s[4]),k=g(k,w,D,b,C,12,s[5]),b=g(b,k,w,D,I,17,s[6]),D=g(D,b,k,w,f,22,s[7]),w=g(w,D,b,k,E,7,s[8]),k=g(k,w,D,b,Q,12,s[9]),b=g(b,k,w,D,B,17,s[10]),D=g(D,b,k,w,m,22,s[11]),w=g(w,D,b,k,y,7,s[12]),k=g(k,w,D,b,v,12,s[13]),b=g(b,k,w,D,_,17,s[14]),w=u(w,D=g(D,b,k,w,S,22,s[15]),b,k,a,5,s[16]),k=u(k,w,D,b,I,9,s[17]),b=u(b,k,w,D,m,14,s[18]),D=u(D,b,k,w,o,20,s[19]),w=u(w,D,b,k,C,5,s[20]),k=u(k,w,D,b,B,9,s[21]),b=u(b,k,w,D,S,14,s[22]),D=u(D,b,k,w,p,20,s[23]),w=u(w,D,b,k,Q,5,s[24]),k=u(k,w,D,b,_,9,s[25]),b=u(b,k,w,D,d,14,s[26]),D=u(D,b,k,w,E,20,s[27]),w=u(w,D,b,k,v,5,s[28]),k=u(k,w,D,b,c,9,s[29]),b=u(b,k,w,D,f,14,s[30]),w=l(w,D=u(D,b,k,w,y,20,s[31]),b,k,C,4,s[32]),k=l(k,w,D,b,E,11,s[33]),b=l(b,k,w,D,m,16,s[34]),D=l(D,b,k,w,_,23,s[35]),w=l(w,D,b,k,a,4,s[36]),k=l(k,w,D,b,p,11,s[37]),b=l(b,k,w,D,f,16,s[38]),D=l(D,b,k,w,B,23,s[39]),w=l(w,D,b,k,v,4,s[40]),k=l(k,w,D,b,o,11,s[41]),b=l(b,k,w,D,d,16,s[42]),D=l(D,b,k,w,I,23,s[43]),w=l(w,D,b,k,Q,4,s[44]),k=l(k,w,D,b,y,11,s[45]),b=l(b,k,w,D,S,16,s[46]),w=h(w,D=l(D,b,k,w,c,23,s[47]),b,k,o,6,s[48]),k=h(k,w,D,b,f,10,s[49]),b=h(b,k,w,D,_,15,s[50]),D=h(D,b,k,w,C,21,s[51]),w=h(w,D,b,k,y,6,s[52]),k=h(k,w,D,b,d,10,s[53]),b=h(b,k,w,D,B,15,s[54]),D=h(D,b,k,w,a,21,s[55]),w=h(w,D,b,k,E,6,s[56]),k=h(k,w,D,b,S,10,s[57]),b=h(b,k,w,D,I,15,s[58]),D=h(D,b,k,w,v,21,s[59]),w=h(w,D,b,k,p,6,s[60]),k=h(k,w,D,b,m,10,s[61]),b=h(b,k,w,D,c,15,s[62]),D=h(D,b,k,w,Q,21,s[63]),n[0]=n[0]+w|0,n[1]=n[1]+D|0,n[2]=n[2]+b|0,n[3]=n[3]+k|0},_doFinalize:function(){var e=this._data,r=e.words,i=8*this._nDataBytes,A=8*e.sigBytes;r[A>>>5]|=128<<24-A%32;var n=t.floor(i/4294967296),o=i;r[15+(A+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),r[14+(A+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,a=s.words,c=0;c<4;c++){var g=a[c];a[c]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)}return s},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function g(e,t,r,i,A,n,o){var s=e+(t&r|~t&i)+A+o;return(s<<n|s>>>32-n)+t}function u(e,t,r,i,A,n,o){var s=e+(t&i|r&~i)+A+o;return(s<<n|s>>>32-n)+t}function l(e,t,r,i,A,n,o){var s=e+(t^r^i)+A+o;return(s<<n|s>>>32-n)+t}function h(e,t,r,i,A,n,o){var s=e+(r^(t|~i))+A+o;return(s<<n|s>>>32-n)+t}return r.MD5=n._createHelper(c),r.HmacMD5=n._createHmacHelper(c),e.MD5}(r(1))},function(e,t,r){e.exports=function(e){for(var t=e,r=t.lib.BlockCipher,i=t.algo,A=[],n=[],o=[],s=[],a=[],c=[],g=[],u=[],l=[],h=[],d=[],p=0;p<256;p++)d[p]=p<128?p<<1:p<<1^283;var C=0,I=0;for(p=0;p<256;p++){var f=I^I<<1^I<<2^I<<3^I<<4;A[C]=f=f>>>8^255&f^99,n[f]=C;var E=d[C],Q=d[E],B=d[Q],m=257*d[f]^16843008*f;o[C]=m<<24|m>>>8,s[C]=m<<16|m>>>16,a[C]=m<<8|m>>>24,c[C]=m,g[f]=(m=16843009*B^65537*Q^257*E^16843008*C)<<24|m>>>8,u[f]=m<<16|m>>>16,l[f]=m<<8|m>>>24,h[f]=m,C?(C=E^d[d[d[B^E]]],I^=d[d[I]]):C=I=1}var y=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,i=4*((this._nRounds=r+6)+1),n=this._keySchedule=[],o=0;o<i;o++)o<r?n[o]=t[o]:(c=n[o-1],o%r?r>6&&o%r==4&&(c=A[c>>>24]<<24|A[c>>>16&255]<<16|A[c>>>8&255]<<8|A[255&c]):(c=A[(c=c<<8|c>>>24)>>>24]<<24|A[c>>>16&255]<<16|A[c>>>8&255]<<8|A[255&c],c^=y[o/r|0]<<24),n[o]=n[o-r]^c);for(var s=this._invKeySchedule=[],a=0;a<i;a++){if(o=i-a,a%4)var c=n[o];else c=n[o-4];s[a]=a<4||o<=4?c:g[A[c>>>24]]^u[A[c>>>16&255]]^l[A[c>>>8&255]]^h[A[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,a,c,A)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,g,u,l,h,n),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,i,A,n,o,s){for(var a=this._nRounds,c=e[t]^r[0],g=e[t+1]^r[1],u=e[t+2]^r[2],l=e[t+3]^r[3],h=4,d=1;d<a;d++){var p=i[c>>>24]^A[g>>>16&255]^n[u>>>8&255]^o[255&l]^r[h++],C=i[g>>>24]^A[u>>>16&255]^n[l>>>8&255]^o[255&c]^r[h++],I=i[u>>>24]^A[l>>>16&255]^n[c>>>8&255]^o[255&g]^r[h++],f=i[l>>>24]^A[c>>>16&255]^n[g>>>8&255]^o[255&u]^r[h++];c=p,g=C,u=I,l=f}p=(s[c>>>24]<<24|s[g>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[h++],C=(s[g>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^r[h++],I=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&g])^r[h++],f=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[g>>>8&255]<<8|s[255&u])^r[h++],e[t]=p,e[t+1]=C,e[t+2]=I,e[t+3]=f},keySize:8});return t.AES=r._createHelper(v),e.AES}(r(1),(r(15),r(4),r(9),r(18)))},function(e,t,r){e.exports=r(1).enc.Utf8},function(e,t,r){function i(e){var t;return(c[e]||(t=c[e]={i:e,l:!1,exports:{}},a[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var A,n,o,s,a,c;e.exports=(A=r(8),n=r(4),o=r(5),s=r(6),a=[function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=t.ListNode=t.ENUM_CONNECT_STATE=t.ENUM_NETWORK_STATE=t.SOCKET_DISCONNECT=t.errorList=t.Queue=t.getSeq=t.E_CLIENT_TYPE=t.ENUM_LOG_LEVEL=t.ENUM_REMOTE_TYPE=t.ZEGO_BROWSER_TYPE=t.ZEGO_ENV=t.PROTO_VERSION=void 0,t.PROTO_VERSION="1.0.2",(A=t.ZEGO_ENV||(t.ZEGO_ENV={}))[A.BROWSER=0]="BROWSER",A[A.WEIXINMINI=1]="WEIXINMINI",(A=t.ZEGO_BROWSER_TYPE||(t.ZEGO_BROWSER_TYPE={}))[A.IE=0]="IE",A[A.FIREFOX=1]="FIREFOX",A[A.CHROME=2]="CHROME",A[A.SAFARI=3]="SAFARI",A[A.OPERA=4]="OPERA",A[A.WEIXIN=5]="WEIXIN",A[A.WEIXINMINI=6]="WEIXINMINI",A[A.UNKOWN=7]="UNKOWN",(A=t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={}))[A.DISABLE=0]="DISABLE",A[A.WEBSOCKET=1]="WEBSOCKET",A[A.HTTPS=2]="HTTPS",t.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},(A=t.E_CLIENT_TYPE||(t.E_CLIENT_TYPE={}))[A.ClientType_None=0]="ClientType_None",A[A.ClientType_H5=1]="ClientType_H5",A[A.ClientType_SmallPragram=2]="ClientType_SmallPragram",A[A.ClientType_Webrtc=3]="ClientType_Webrtc",t.getSeq=(i=1,function(){return i++}),n.prototype.isEmpty=function(){return 0==this.items.length},n.prototype.enqueue=function(e){this.items.push(e)},n.prototype.dequeue=function(){return this.isEmpty()?"Underflow":this.items.shift()},n.prototype.front=function(){return this.isEmpty()?"No elements in Queue":this.items[0]},n.prototype.size=function(){return this.items.length},n.prototype.clear=function(){this.items=[]},n.prototype.all=function(){return this.items};var i,A=n;function n(){this.items=[],this.items=[]}t.Queue=A,t.errorList={TIMEOUT:{code:100001,msg:"network timeout"},DATAEXIST:{code:100002,msg:"data exist"},BROKEN:{code:100003,msg:"network broken"}},t.SOCKET_DISCONNECT=-1,(A=t.ENUM_NETWORK_STATE||(t.ENUM_NETWORK_STATE={}))[A.offline=0]="offline",A[A.online=1]="online",(A=t.ENUM_CONNECT_STATE||(t.ENUM_CONNECT_STATE={}))[A.disconnected=0]="disconnected",A[A.connecting=1]="connecting",A[A.connected=2]="connected",Object.defineProperty(s.prototype,"id",{get:function(){return this._id||null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),s.prototype.hasNext=function(){return this.next&&this.next.id},s.prototype.hasPrev=function(){return this.prev&&this.prev.id};var o=s;function s(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}function a(){this.start=new o,this.end=new o,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}t.ListNode=o,a.prototype.insertBefore=function(e,t){return(t=new o(this._idCounter,t)).next=e,t.prev=e.prev,e.prev&&(e.prev.next=t),e.prev=t,++this._idCounter,++this._numNodes,t},a.prototype.addLast=function(e){return this.insertBefore(this.end,e)},a.prototype.add=function(e){return this.addLast(e)},a.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},a.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},a.prototype.size=function(){return this._numNodes},a.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(0<=e)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw"Index out of bounds.";return r},a.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},a.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},a.prototype.removeFirst=function(){return 0<this._numNodes&&this.start.next?this.remove(this.start.next):null},a.prototype.removeLast=function(){return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):null},a.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},a.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},a.prototype.find=function(e){for(var t=this.start,r=!1,i=null;t.hasNext()&&!r;)e(t=t.next)&&(i=t,r=!0);return i},a.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},a.prototype.push=function(e){return this.addLast(e)},a.prototype.unshift=function(e){this.insertBefore(0<this._numNodes?this.start.next:this.end,e)},a.prototype.pop=function(){return this.removeLast()},a.prototype.shift=function(){return this.removeFirst()},t.LinkedList=a},function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},A=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=t.suppressInstrumentation=t.ROOT_CONTEXT=t.BaseContext=t.setSpan=t.getSpanContext=t.getSpan=t.createContextKey=void 0,r(16));function o(e){return Symbol.for(e)}var s=(t.createContextKey=o)("OpenTelemetry Context Key SUPPRESS_INSTRUMENTATION"),a=o("OpenTelemetry Context Key SPAN");function c(e){return e.getValue(a)||void 0}function g(e){this.name=e,this.contextManager=new n.StackContextManager}t.getSpan=c,t.getSpanContext=function(e){return null==(e=c(e))?void 0:e.context()},t.setSpan=function(e,t){return e.setValue(a,t)},t.BaseContext=r=function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,i){var A=new e(r._currentContext);return A._currentContext.set(t,i),A},r.deleteValue=function(t){var i=new e(r._currentContext);return i._currentContext.delete(t),i}},t.ROOT_CONTEXT=new r,t.suppressInstrumentation=function(e){return e.setValue(s,!0)},g.getInstance=function(e){return void 0===e&&(e="context"),this._instance||(this._instance=new g(e)),this._instance},g.prototype.active=function(){return this.contextManager.active()},g.prototype.with=function(e,t,r){for(var i,n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,A([e,t,r],n))},g.prototype._getContextManager=function(){return this.contextManager},t.ContextAPI=g},function(e,t,r){"use strict";var i,A;Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.TraceFlags=t.SpanKind=t.SpanStatusCode=void 0,(i=t.SpanStatusCode||(t.SpanStatusCode={}))[i.UNSET=0]="UNSET",i[i.OK=1]="OK",i[i.ERROR=2]="ERROR",(i=t.SpanKind||(t.SpanKind={}))[i.INTERNAL=0]="INTERNAL",i[i.SERVER=1]="SERVER",i[i.CLIENT=2]="CLIENT",i[i.PRODUCER=3]="PRODUCER",i[i.CONSUMER=4]="CONSUMER",(A=i=t.TraceFlags||(t.TraceFlags={}))[A.NONE=0]="NONE",A[A.SAMPLED=1]="SAMPLED",t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:i.NONE}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=t.ZegoLog=void 0,A.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join("");console.log(r)},A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join("");console.debug(r)},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join("");console.info(r)},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join("");console.warn(r)},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join("");console.error(r)};var i=A;function A(){}i=new(t.ZegoLog=i),t.log=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAIL_TIME=t.FAIL_MAX_COUNT=t.FAIL_COUNT=t.STORE_SIZE=t.CACHE_SIZE=t.BUCKET_CONFIG=t.DEFAULT_CONFIG=void 0,t.DEFAULT_CONFIG={importantLevel:0,reportSize:3e3,reportNum:10,bps:16e3,netTimeout:10},t.BUCKET_CONFIG={bucketSize:1e4,tokensPerInterval:1600},t.CACHE_SIZE={totalAvailCache:102400,cacheMaxSize:2e4,cacheDelPer:.2},t.STORE_SIZE={totalDBSize:2048e3,storeDelPer:.2},t.FAIL_COUNT=5,t.FAIL_MAX_COUNT=10,t.FAIL_TIME=30},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},A=(Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=t.calculateMemSize=t.analyzeKey=t.getCurrentTime=t.getCurrentEnv=t.getBrowser=void 0,r(0)),n=i(r(31)),o=(t.getBrowser=function(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),r=-1!=e.indexOf("Firefox"),i=null!=window.opr,n=e.indexOf("Chrome")&&window.chrome,o=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version");return e=e.toLowerCase().match(/MicroMessenger/i)&&"micromessenger"===e.toLowerCase().match(/MicroMessenger/i)[0],t?A.ZEGO_BROWSER_TYPE.IE:r?A.ZEGO_BROWSER_TYPE.FIREFOX:i?A.ZEGO_BROWSER_TYPE.OPERA:n?A.ZEGO_BROWSER_TYPE.CHROME:o?A.ZEGO_BROWSER_TYPE.SAFARI:e?A.ZEGO_BROWSER_TYPE.WEIXIN:A.ZEGO_BROWSER_TYPE.UNKOWN},t.getCurrentEnv=function(){var e=window.navigator.userAgent;return new Promise((function(t){-1==e.indexOf("MicroMessage")?t(A.ZEGO_ENV.BROWSER):wx.miniProgram.getEnv((function(e){}))}))},["00","01","02","03","04","05","06","07","08","09"]);t.getCurrentTime=function(){var e=new Date;return[e.getFullYear()+"/",(o[e.getMonth()+1]||e.getMonth()+1)+"/",(o[e.getDate()]||e.getDate())+" ",(o[e.getHours()]||e.getHours())+":",(o[e.getMinutes()]||e.getMinutes())+":",o[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")},t.analyzeKey=function(e){return e=e.split("_"),{level:Number(e[0]),timestamp:e[1],seq:e[2]}},t.calculateMemSize=function(e){return n.default(e)},t.uuid=function(e,t){var r,i,A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];if(t=t||A.length,e)for(r=0;r<e;r++)n[r]=A[0|Math.random()*t];else for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",r=0;r<36;r++)n[r]||(i=0|16*Math.random(),n[r]=A[19==r?3&i|8:i]);return n.join("")}},function(e,t,r){"use strict";var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o};function n(e){var t,r,A;if(null!=e&&Array.isArray(e))try{for(var n=i(e),o=n.next();!o.done;o=n.next()){var s=o.value;if(null!=s)if(A){if(typeof s!==A)return!1}else A=typeof s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeAttributes=t.isAttributeValue=void 0,t.isAttributeValue=n,t.sanitizeAttributes=function(e){var t,r,o={};if(null!=e&&"object"==typeof e)try{for(var s=i(Object.entries(e)),a=s.next();!a.done;a=s.next()){var c=A(a.value,2),g=c[0],u=c[1];n(u)&&(o[g]=Array.isArray(u)?u.slice():u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdGenerator=void 0;var i=Array(32);function A(e){return function(){for(var t=0;t<2*e;t++)i[t]=Math.floor(16*Math.random())+48,58<=i[t]&&(i[t]+=39);return String.fromCharCode.apply(null,i.slice(0,2*e))}}t.IdGenerator=function(){this.generateTraceId=A(16),this.generateSpanId=A(8),this.generateEventId=A(4)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=t.SDK_INFO=t.SemanticResourceAttributes=void 0,t.SemanticResourceAttributes={PROCESS_RUNTIME_NAME:"process.runtime.name",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version"},t.SDK_INFO=((i={})[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME]="opentelemetry",i[t.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="browser",i[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]="webjs",i[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=t.VERSION,i),A.empty=function(){return A.EMPTY},A.createTelemetrySDKResource=function(){var e;return new A(((e={})[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=t.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],e[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME]=t.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME],e[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=t.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION],e))},A.prototype.merge=function(e){return e&&Object.keys(e.attributes).length?new A(Object.assign({},this.attributes,e.attributes)):this},A.EMPTY=new A({});var i=A;function A(e){this.attributes=e}t.Resource=i},function(e,t,r){"use strict";var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0,r(6)),o=r(1),s=r(2),a=r(7),c=r(17);function g(e,t,r,i,A,n,o,c){void 0===c&&(c=[]),this.attributes={},this.links=[],this.events=[],this.status={code:s.SpanStatusCode.UNSET},this.endTime=0,this._ended=!1,this._duration=0,this.exported=!0,this.contextAPI=e.context,this.reporter=e.reporter,this.spanProcessor=e.spanProcessor,this.parentTracer=e,this.name=r,this.level=i,this.spanContext=A,this.parentSpanId=o,this.kind=n,this.links=c,this.startTime=Date.now(),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._traceParams=e.getActiveTraceParams(),this._idGenerator=new a.IdGenerator}g.prototype.context=function(){return this.spanContext},g.prototype.setAttribute=function(e,t){return null==t||0===e.length||!n.isAttributeValue(t)||Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=t),this},g.prototype.appendAttribute=function(e,t){return null==t||0===e.length||!n.isAttributeValue(t)||Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]&&Array.isArray(this.attributes[e])?this.attributes[e].push(t):this.attributes[e]=[t]),this},g.prototype.setAttributes=function(e){var t,r;try{for(var n=i(Object.entries(e)),o=n.next();!o.done;o=n.next()){var s=A(o.value,2);this.setAttribute(s[0],s[1])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},g.prototype.addEvent=function(e,t,r){this.events.length>=this._traceParams.numberOfEventsPerSpan&&this.events.shift();var i=this._idGenerator.generateEventId();return c.isTimeInput(t)&&(void 0===r&&(r=t),t=void 0),void 0===r&&(r=c.hrTime()),this.events.push({name:e,attributes:t,time:c.timeInputToHrTime(r),event_id:i}),this},g.prototype.setStatus=function(e){return this.status=e,this},g.prototype.updateName=function(e){return this.name=e,this},g.prototype.end=function(e){var t,r=this;this._isSpanEnded()||(this._ended=!0,this.resource=this.parentTracer.resource,this.spanProcessor.spanBeforeEnd&&this.spanProcessor.spanBeforeEnd(this),t=c.getCurrentTime(),this.setAttribute("e_time_s",t),this.endTime=Date.now(),this._duration=this.endTime-this.startTime,this.contextAPI.with(o.suppressInstrumentation(this.contextAPI.active()),(function(){var t=r.toReporterSpan(r);r.spanProcessor.spanEnd&&r.spanProcessor.spanEnd(t,r.level),t.droped||!1===e||(delete t.droped,r.reporter.report(JSON.stringify(t),r.level))})))},g.prototype.spanReport=function(){var e=this.toReporterSpan(this);this.reporter.report(JSON.stringify(e),this.level)},g.prototype.isRecording=function(){return!1===this._ended},Object.defineProperty(g.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),g.prototype._isSpanEnded=function(){return this._ended},g.prototype.toReporterSpan=function(e){var t=[],r=(e.events.forEach((function(e){var r={};Object.keys(e).forEach((function(t){"name"===t&&(r[t]=e[t]),"time"===t&&(r.timestamp=c.hrTimeToMilliseconds(e[t])),"attributes"===t&&(r.tags=e[t])})),t.push(r)})),[]);return e.links.forEach((function(e){r.push({span_id:e.context.spanId,trace_id:e.context.traceId})})),{trace_id:e.spanContext.traceId,parent_span_id:e.parentSpanId,name:e.name,span_id:e.spanContext.spanId,kind:e.kind,start_time:e.startTime,end_time:e.endTime,duration:e.duration,logs:t,tags:e.attributes,links:r}},t.Span=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSpan=void 0;var i=r(3),A=r(9);function n(e,t){this.spanId=e,this.span=t}n.prototype.setAttribute=function(e,t){var r=this;return this.span?this.span.setAttribute(e,t):this._activeSpan().then((function(){r.span&&r.span.setAttribute(e,t)})),this},n.prototype.setAttributes=function(e){var t=this;return this.span?this.span.setAttributes(e):this._activeSpan().then((function(){t.span&&t.span.setAttributes(e)})),this},n.prototype.appendAttribute=function(e,t){var r=this;return this.span?this.span.appendAttribute(e,t):this._activeSpan().then((function(){r.span&&r.span.appendAttribute(e,t)})),this},n.prototype.addEvent=function(e,t,r){var i=this;return this.span?this.span.addEvent(e,t,r):this._activeSpan().then((function(){i.span&&i.span.addEvent(e,t,r)})),this},n.prototype.setStatus=function(e){var t=this;return this.span?this.span.setStatus(e):this._activeSpan().then((function(){t.span&&t.span.setStatus(e)})),this},n.prototype.updateName=function(e){var t=this;return this.span?this.span.updateName(e):this._activeSpan().then((function(){t.span&&t.span.updateName(e)})),this},n.prototype.end=function(e){var t=this;void 0===e&&(e=!0),this.span?this.span.end(e):this._activeSpan(!0).then((function(){t.span&&t.span.end(e),t._spanEnd()}))},n.prototype.setSpanActive=function(e){this.activeCallback=e},n.prototype.setSpanEnd=function(e){this.endCallback=e},n.prototype.spanReport=function(){var e;null!=(e=this.span)&&e.spanReport()},n.prototype._spanEnd=function(){this._isSpanNoop()||(this.removeStoreItem(this.spanId),this.endCallback&&this.endCallback(this.spanInfo))},n.prototype._isSpanNoop=function(){return"noop"===this.spanId},n.prototype._activeSpan=function(e){var t=this;return void 0===e&&(e=!1),new Promise((function(r,i){t.store.getItem(t.spanId).then((function(i){var o=new A.Span(n.tracer,n.tracer.context.active(),i.name,i.level,i.spanContext,i.kind,i.parentSpanId,i.links);o.setStatus(i.status),o.setAttributes(i.attributes),t.span=o,t.activeCallback&&t.activeCallback(t.spanId,e),r()})).catch((function(e){i(e)}))}))},n.prototype.removeStoreItem=function(e){var t=this;this.store.getItem(e).then((function(r){r&&t.store.removeItem(e).then((function(){i.log.log("remove suc")})).catch((function(e){i.log.warn("remove fail")}))}))},t.ZegoSpan=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoStore=t.ZegoWechatMiniStore=t.ZEGO_ENV=void 0;var i,A,n=r(12),o=((A=i=t.ZEGO_ENV||(t.ZEGO_ENV={}))[A.BROWSER=0]="BROWSER",A[A.WEIXINMINI=1]="WEIXINMINI",r(3)),s=(a.prototype.getItem=function(e){var t=this;return new Promise((function(r,i){try{r(wx.getStorageSync(t.keyPrefix+e))}catch(r){i(r)}}))},a.prototype.setItem=function(e,t){var r=this;return new Promise((function(i,A){try{wx.setStorageSync(r.keyPrefix+e,t),i()}catch(i){A(i)}}))},a.prototype.removeItem=function(e){var t=this;return new Promise((function(r,i){try{r(wx.removeStorageSync(t.keyPrefix+e))}catch(r){i(r)}}))},a.prototype.clear=function(){return new Promise((function(e,t){try{wx.clearStorageSync(),e()}catch(e){t(e)}}))},a.prototype.keys=function(){var e=this;return new Promise((function(t,r){try{var i=wx.getStorageInfoSync().keys,A=(o.log.warn("keys",i),[]);i.forEach((function(t){0==t.indexOf(e.keyPrefix)&&A.push(t.replace(e.keyPrefix,""))})),o.log.warn("keyArr",JSON.stringify(A)),A.sort(),t(A)}catch(t){r(t)}}))},a);function a(e){this.storeName=e,this.keyPrefix=e+"/"}t.ZegoWechatMiniStore=s,t.createZegoStore=function(e,t,r){return t===i.BROWSER?n.createInstance({name:e+":"+(r||"store")}):new s(e)}},function(e,t){e.exports=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicCode=t.ZegoTracer=t.ZegoSpan=void 0;var i=r(14),A=(Object.defineProperty(t,"ZegoTracer",{enumerable:!0,get:function(){return i.ZegoTracer}}),r(46)),n=(Object.defineProperty(t,"DynamicCode",{enumerable:!0,get:function(){return A.DynamicCode}}),r(10));Object.defineProperty(t,"ZegoSpan",{enumerable:!0,get:function(){return n.ZegoSpan}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoTracer=void 0;var i=r(15),A=r(21),n=r(10),o=r(22),s=r(3),a=r(1),c=r(8),g=r(23),u=r(39),l=r(11),h=r(44),d=r(45);function p(){this._maxTracingSpanSize=o.DEFAULT_MAX_SPAN_SIZE,this.level=0,this.log=new h.ZegoLog,this.stateCenter=new d.StateCenter(this.log)}p.prototype.init=function(e){this.options=e,this.name=e.product,this.reporter=new g.ZegoDataReport(this.name,this.stateCenter),this.reporter.init({appID:e.appID,env:e.env||0,importantLevel:e.importantLevel,levels:e.levels,deviceID:e.deviceID,bps:e.bps,serverUrl:e.serverUrl}),this.tracer=new i.Tracer({name:this.name,version:e.version},{resource:new c.Resource(e.resources)},this.reporter,{spanStart:e.spanStart,spanBeforeEnd:e.spanBeforeEnd,spanEnd:e.spanEnd}),this.reporter.setProcessData(this.tracer.resource.attributes),this.initRoot(this.options),this.dyStore=l.createZegoStore(e.product+"_"+e.appID+"_dy",e.env||0)},p.prototype.initRoot=function(e){this.rootSpan=this.tracer.startSpan("root",0);var t=a.setSpan(this.tracer.context.active(),this.rootSpan);this.tracer.context._getContextManager()._currentContext=t,this.rootSpan.end()},p.prototype.createSpan=function(e,t,r){var i,c;return e<=this.level?(i=a.setSpan(this.tracer.context.active(),r&&r.parent?r.parent.span:this.rootSpan),c=[],r&&r.linkSpans&&(r.linkSpans.forEach((function(e){c.push({context:e.span.context()})})),delete r.linkSpans),t=this.tracer.startSpan(t,e,Object.assign({},r,{links:c}),i),e=new n.ZegoSpan(t.spanContext.spanId,t),n.ZegoSpan.tracer=this.tracer,e):(s.log.warn("createSpan level not fix"),new n.ZegoSpan(o.NOOP_SPAN_ID,new A.NoopSpan))},p.prototype.setLogger=function(e){this.stateCenter.logger=e},p.prototype.setTimeOffset=function(e){this.reporter.setTimeOffset(e)},p.prototype.setWaitNtpTimeout=function(e){this.reporter.setWaitNtpTimeout(e)},p.prototype.setLogLevel=function(e){return this.stateCenter._log.setLogLevel(e)},p.prototype.startReport=function(e){return this.reporter.startReport(e)},p.prototype.setConfig=function(e){this.reporter.setConfig(e)},p.prototype.loadJs=function(e,t,r,i,A,n){return u.loadJS(e,this.dyStore,t,r,i,A,n)},p.prototype.flush=function(e){this.reporter.flush(e)},p.prototype.setUnloadState=function(e){this.reporter.setUnloadState(e)},p.prototype.shutdown=function(){this.reporter.saveDataBeforeUnload()},p.prototype.destroy=function(){this.reporter.uninit()},p.prototype.setSampleConfig=function(e){this.level=e.level||this.level},p.prototype.setResource=function(e){this.tracer.setResource(e),this.reporter.setProcessData(this.tracer.resource.attributes)},p.prototype.setNetStateCheck=function(){this.reporter.setNetStateCheck()},t.ZegoTracer=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;var i=r(6),A=r(1),n=r(2),o=r(7),s=r(8),a=r(9),c=r(18),g=r(19);function u(e,t,r,i){var n=g.mergeConfig(t);this._traceParams=n.traceParams,this._idGenerator=new o.IdGenerator,this.resource=null!=(n=t.resource)?n:s.Resource.createTelemetrySDKResource(),this.instrumentationLibrary=e,t=Math.random().toString(36).slice(-6),this.context=new A.ContextAPI(t),this.reporter=r,this.spanProcessor=i||{}}u.prototype.startSpan=function(e,t,r,o){var s,g,u,l=function(e,t){if(!e.root)return A.getSpanContext(t)}(r=void 0===r?{}:r,o=void 0===o?this.context.active():o),h=this._idGenerator.generateSpanId(),d=(l&&c.isSpanContextValid(l)?(s=l.traceId,g=l.traceState,u=l.spanId):s=this._idGenerator.generateTraceId(),l=null!=(l=r.kind)?l:n.SpanKind.INTERNAL,null!=(d=r.links)?d:[]),p=(r=i.sanitizeAttributes(r.attributes),n.TraceFlags.NONE);return(o=new a.Span(this,o,e,t,{traceId:s,spanId:h,traceFlags:p,traceState:g},l,u,d)).setAttributes(r),this.spanProcessor.spanStart&&this.spanProcessor.spanStart(o),o},u.prototype.setResource=function(e){this.resource=this.resource.merge(new s.Resource(e))},u.prototype.getActiveTraceParams=function(){return this._traceParams},t.Tracer=u},function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},A=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.StackContextManager=void 0,r(1));function o(){this._enabled=!1,this._currentContext=n.ROOT_CONTEXT}o.prototype._bindFunction=function(e,t){function r(){for(var r=this,A=[],n=0;n<arguments.length;n++)A[n]=arguments[n];return i.with(t,(function(){return e.apply(r,A)}))}void 0===t&&(t=n.ROOT_CONTEXT);var i=this;return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),r},o.prototype.active=function(){return this._currentContext},o.prototype.bind=function(e,t){return void 0===(t=void 0===t?n.ROOT_CONTEXT:t)&&(t=this.active()),"function"==typeof e?this._bindFunction(e,t):e},o.prototype.disable=function(){return this._currentContext=n.ROOT_CONTEXT,this._enabled=!1,this},o.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=n.ROOT_CONTEXT),this},o.prototype.with=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=this._currentContext;this._currentContext=e||n.ROOT_CONTEXT;try{return t.call.apply(t,A([r],i))}finally{this._currentContext=s}},t.StackContextManager=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTime=t.isTimeInput=t.hrTimeToMilliseconds=t.hrTimeDuration=t.timeInputToHrTime=t.isTimeInputHrTime=t.hrTime=void 0;var i=Math.pow(10,9),A=["00","01","02","03","04","05","06","07","08","09"];function n(e){e/=1e3;var t=Math.trunc(e);return[t,Number((e-t).toFixed(9))*i]}function o(){var e,t=performance.timeOrigin;return"number"!=typeof t?(e=performance).timing&&e.timing.fetchStart:t}function s(e){var t=n(o()),r=(e=n("number"==typeof e?e:performance.now()),t[0]+e[0]);return i<(t=t[1]+e[1])&&(t-=i,r+=1),[r,t]}function a(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.hrTime=s,t.isTimeInputHrTime=a,t.timeInputToHrTime=function(e){if(a(e))return e;if("number"==typeof e)return(e<o()?s:n)(e);if(e instanceof Date)return n(e.getTime());throw TypeError("Invalid input type")},t.hrTimeDuration=function(e,t){var r=t[0]-e[0];return(t=t[1]-e[1])<0&&(--r,t+=i),[r,t]},t.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},t.isTimeInput=function(e){return a(e)||"number"==typeof e||e instanceof Date},t.getCurrentTime=function(){var e=new Date;return[e.getFullYear()+"/",(A[e.getMonth()+1]||e.getMonth()+1)+"/",(A[e.getDate()]||e.getDate())+" ",(A[e.getHours()]||e.getHours())+":",(A[e.getMinutes()]||e.getMinutes())+":",A[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0,r=r(2);var i=/^([0-9a-f]{32})$/i,A=/^[0-9a-f]{16}$/i;function n(e){return i.test(e)&&e!==t.INVALID_TRACEID}function o(e){return A.test(e)&&e!==t.INVALID_SPANID}t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:r.TraceFlags.NONE},t.isValidTraceId=n,t.isValidSpanId=o,t.isSpanContextValid=function(e){return n(e.traceId)&&o(e.spanId)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;var i=r(20);t.mergeConfig=function(e){var t=Object.assign({},i.DEFAULT_CONFIG,e);return t.traceParams=Object.assign({},i.DEFAULT_CONFIG.traceParams,e.traceParams||{}),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=void 0,t.DEFAULT_CONFIG={traceParams:{numberOfAttributesPerSpan:128,numberOfLinksPerSpan:128,numberOfEventsPerSpan:128}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpan=void 0;var i=r(2);function A(e){void 0===e&&(e=i.INVALID_SPAN_CONTEXT),this._spanContext=e}A.prototype.context=function(){return this._spanContext},A.prototype.setAttribute=function(e,t){return this},A.prototype.appendAttribute=function(e,t){return this},A.prototype.setAttributes=function(e){return this},A.prototype.addEvent=function(e,t,r){return this},A.prototype.setStatus=function(e){return this},A.prototype.updateName=function(e){return this},A.prototype.end=function(e){},A.prototype.isRecording=function(){return!1},A.prototype.spanReport=function(){},A.prototype.recordException=function(e,t){},t.NoopSpan=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_SPAN_ID=t.SCHEDULED_DELAY_MILLIS=t.DEFAULT_MAX_SPAN_SIZE=t.readSpanKeys=void 0,t.readSpanKeys=["name","level","kind","spanContext","parentSpanId","startTime","endTime","status","attributes","links","events","duration","ended","resource","instrumentationLibrary"],t.DEFAULT_MAX_SPAN_SIZE=1e3,t.SCHEDULED_DELAY_MILLIS=3e3,t.NOOP_SPAN_ID="noop"},function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},A=this&&this.__awaiter||function(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var a=[o,s];if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(A=2&a[0]?i.return:a[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,a[1])).done)return A;switch(i=0,(a=A?[2&a[0],A.value]:a)[0]){case 0:case 1:A=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(A=0<(A=n.trys).length&&A[A.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!A||a[1]>A[0]&&a[1]<A[3]))n.label=a[1];else if(6===a[0]&&n.label<A[1])n.label=A[1],A=a;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(a)}}a=t.call(e,n)}catch(s){a=[6,s],i=0}finally{r=A=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoDataReport=void 0,r(0)),g=r(24),u=r(30),l=r(38),h=r(5),d=r(4);function p(e,t){this.stateCenter=t,this.QUEUE_MAX=100,this.cacheMaxSize=d.CACHE_SIZE.cacheMaxSize,this.cacheDelPer=d.CACHE_SIZE.cacheDelPer,this.state="normal",this.forceDataTotalLen=0,this.reportPackagesSize=0,this.staticConfig={totalAvailCache:d.CACHE_SIZE.totalAvailCache,totalDBSize:d.STORE_SIZE.totalDBSize,bps:1600},this.dataInDb=[],this.listenerList={progressUpdate:[],forceResult:[],postFail:[],dataDroped:[]},this.tempBuffer=[],this.traceType={MEM_I_API:0,MEM_O_DONE:0,MEM_O_DUMP:0,MEM_I_LOAD:0,DB_O_DROP:0,DB_O_DONE:0,DB_I_BACKUP:0},this.isPaused=!1,this.pro="json",this.isLoadReportData=!1,this.dropCount=0,this.timeInterval=!1,this.isWaitNtpTimeout=!1,this.waitNtpTimeout=2e3,this.postDataState="",this.product=e,this.reportMap=new Map}p.prototype.init=function(e){return A(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){switch(r.label){case 0:return this.config=i(i({},d.DEFAULT_CONFIG),e),this.config.env%2!=1&&this.bindWindowListener(),this.zegoService=new g.ZegoService(this.config.env||c.ZEGO_ENV.BROWSER,this.config.bps||d.DEFAULT_CONFIG.bps,this.product,this.pro,this.stateCenter),this.zegoService.setLogUrlParams({product:this.product,signature:this.config.token||"",appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),this.config.serverUrl&&this.zegoService.setLogServer(this.config.serverUrl),this.zegoService.setPostSucCallback(this.product,this.postSucHandler.bind(this)),this.zegoService.setPostFailCallback(this.product,(function(e){return A(t,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return this.stateCenter.logger.warn("zt.zd.i fail"),this.postDataState="fail",this.dropCount++,this.storePackagesDataToDB(e),[4,this.storePendingDataToDB(1)];case 1:return t.sent(),this._actionListener("postFail"),[2]}}))}))})),this.initPendingQueue(),this.storeHandler=new u.ZegoStoreHandler(this.product+"_"+this.config.appID+"_datareporter",h.uuid(6),this.config,this.traceType,this.staticConfig,this.stateCenter),this.storeHandler.setDropCallBack((function(e){t.traceType.DB_O_DROP+=h.calculateMemSize(e),t._actionListener("dataDroped",e)})),[4,this.storeHandler.loadPendingData()];case 1:return r.sent(),this.storeHandler.init().then((function(){t.loadReportData()})).catch((function(e){console.warn(e)})),this.startReportTimer(),this.setWaitNtpTimer(),this.checkCacheDataTimer(),[2]}}))}))},p.prototype.uninit=function(){this.isWaitNtpTimeout=!1,this.ntpTimer&&(clearTimeout(this.ntpTimer),this.ntpTimer=null),this.zegoService.destroy()},p.prototype.setConfig=function(e){"object"==typeof e&&"number"==typeof e.bps&&(this.config.bps=e.bps,this.zegoService.setBps(this.config.bps)),"object"==typeof e&&"number"==typeof e.totalDBSize&&(this.staticConfig.totalDBSize=e.totalDBSize),"object"==typeof e&&"string"==typeof e.serverUrl&&""!==e.serverUrl&&(this.config.serverUrl=e.serverUrl,this.zegoService.setLogServer(this.config.serverUrl))},p.prototype.pause=function(){this.isPaused=!0},p.prototype.resume=function(){this.isPaused=!1;var e=(t=this.pendingQueue.getPendingDataInfo()).pendingDataSize,t=t.size;this.checkPendingQueue(e,t)},p.prototype.startReport=function(e){var t=e.get("userID"),r=e.get("token");return!(!t||"string"!=typeof t||!r||"string"!=typeof r||(this.startCommonField=e,this.config.userID=t,this.config.token=r,this.zegoService.setLogUrlParams({product:this.product,signature:this.config.token,appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),this.isWithNtp()&&this.bufferDump(),(t=e.get("serverUrl"))&&(this.config.serverUrl=t,this.zegoService.setLogServer(this.config.serverUrl)),this.isConfigOK(this.config)&&(e=(r=this.pendingQueue.getPendingDataInfo()).pendingDataSize,t=r.size,this.checkPendingQueue(e,t)),0))},p.prototype.setTimeOffset=function(e){var t=this;this.clientTimeOffset=e,this.tempBuffer.forEach((function(e){(e=e.data).tags.time_offset||(e.tags.time_offset=t.clientTimeOffset)})),this.config.userID&&this.bufferDump()},p.prototype.setProcessData=function(e){this.stateCenter.processData=e},p.prototype.on=function(e,t){return this._bindListener(e,t)},p.prototype.off=function(e,t){return this._deleteListener(e,t)},p.prototype.report=function(e,t){var r;if(15e3<e.length)return!1;try{r=JSON.parse(e)}catch(e){return!1}return this.stateCenter._log.debug(e+" "+t),(null!=r&&r.id_name||null!=(e=null==r?void 0:r.tags)&&e.id_name||this.config.userID)&&this.isWithNtp()?(null!=r&&r.id_name||null!=(e=null==r?void 0:r.tags)&&e.id_name?this.clientTimeOffset&&(r.tags.time_offset=this.clientTimeOffset):(this.clientTimeOffset&&(r.tags.time_offset=this.clientTimeOffset),r.tags.id_name=this.config.userID),this.dumpData(JSON.stringify(r),t)):this.tempBuffer.push({data:r,level:t}),!0},p.prototype.setUnloadState=function(e){this.unloadLevel=e,this.state="unload"},p.prototype.dumpData=function(e,t){var r=this,i=h.calculateMemSize(e),A=(this.traceType.MEM_I_API+=i,c.getSeq()),n=(new Date).getTime(),o={seq:A,content:e,level:t,timestamp:n};"unload"===this.state?void 0!==this.unloadLevel&&t<=this.unloadLevel?(this.storeHandler.saveDataToStorage(o),this.pendingQueue.enqueue(o,t)):this.stateCenter._log.debug("level is low"):t<=this.config.importantLevel?(o.key=t+"_"+n+"_"+A,this.dataInDb.push(o.key),this.storeHandler.storeData(o).then((function(e){r.pendingQueue.enqueue(o,t),r.traceType.DB_I_BACKUP+=i})).catch((function(e){var i=r.dataInDb.findIndex((function(e){return e===o.key}));-1<i&&r.dataInDb.splice(i,1),r.pendingQueue.enqueue(o,t)}))):this.pendingQueue.enqueue(o,t),"force"===this.state&&(n=h.calculateMemSize(e),this.forceDataTotalLen+=n)},p.prototype.isWithNtp=function(){return this.isWaitNtpTimeout||void 0!==this.clientTimeOffset},p.prototype.bufferDump=function(){var e,t=this.tempBuffer.shift();t&&(e=t.data,t=t.level,e.tags.id_name=this.config.userID,this.dumpData(JSON.stringify(e),t),this.bufferDump())},p.prototype.isConfigOK=function(e){return""!==e.userID&&""!==e.token&&""!==e.server},p.prototype.testSize=function(e){},p.prototype.flush=function(e){var t;"force"!==this.state&&(this.state="force",t=16e6,"object"==typeof e&&"number"==typeof e.bps&&(t=e.bps),this.zegoService.setBps(t),this.forceDataTotalLen=this.storeHandler.storeSize+this.pendingQueue.pendingDataSize+this.reportPackagesSize,t=(e=this.pendingQueue.getPendingDataInfo()).pendingDataSize,e=e.size,0<t?this.checkPendingQueue(t,e):this.loadReportData())},p.prototype.setWaitNtpTimeout=function(e){this.waitNtpTimeout=e},p.prototype.setWaitNtpTimer=function(){var e=this;this.ntpTimer=setTimeout((function(){e.isWaitNtpTimeout=!0,e.config.userID&&e.bufferDump()}),this.waitNtpTimeout)},p.prototype.startReportTimer=function(){var e=this,t=(this.stateCenter._log.debug("startReportTimer "+new Date),this.timeInterval=!0,(r=this.pendingQueue.getPendingDataInfo()).pendingDataSize),r=r.size;this.checkPendingQueue(t,r),this.reportTimer=window.setTimeout((function(){e.startReportTimer()}),3e4)},p.prototype.checkCacheDataTimer=function(){return A(this,void 0,void 0,(function(){var e,t,r=this;return n(this,(function(i){switch(i.label){case 0:return t=this.pendingQueue.getPendingDataInfo(),e=t.pendingDataSize,t=t.size,e>this.config.reportSize||t>this.config.reportNum?[4,this.checkPendingQueue(e,t)]:[3,2];case 1:return i.sent(),[3,3];case 2:this.loadReportData(),i.label=3;case 3:return this.checkDataTimer=window.setTimeout((function(){r.checkCacheDataTimer()}),15e3),[2]}}))}))},p.prototype.bindWindowListener=function(){var e=this,t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i);navigator.userAgent.indexOf("Firefox"),window.addEventListener(t?"pagehide":"beforeunload",(function(){window.event&&(window.event.cancelBubble=!0),e.saveDataBeforeUnload()}))},p.prototype.saveDataBeforeUnload=function(){var e=(e=this.pendingQueue.readStoreData(1)).storeArr,t=(this.storeHandler.resetCommonStore(),[]);t.push.apply(t,s(e)),e=this.zegoService.readReportQueueData(),t.push.apply(t,s(e)),0<t.length&&this.storeHandler.storePendingData(t)},p.prototype.setNetStateCheck=function(){"fail"===this.postDataState&&this.zegoService.handleNetConnect()},p.prototype.postSucHandler=function(e,t,r){return A(this,void 0,void 0,(function(){var r,i,A,o,s,a=this;return n(this,(function(n){switch(n.label){case 0:for(this.stateCenter._log.debug("post suc"),this.postDataState="suc",e.forEach((function(e){a.traceType.MEM_O_DONE+=h.calculateMemSize(e.content)})),r=function(t){var r=e[t];i.storeHandler.removeDataItem(r).then((function(e){r.key&&a.reportMap.delete(r.key)})).catch((function(e){}))},i=this,A=0;A<e.length;A++)r(A);return this.reportPackagesSize-=t,s=this.pendingQueue.getPendingDataInfo(),o=s.pendingDataSize,s=s.size,o>this.config.reportSize||s>this.config.reportNum?[4,this.checkPendingQueue(o,s)]:[3,2];case 1:return n.sent(),[3,3];case 2:this.loadReportData(),n.label=3;case 3:return"force"===this.state&&0==this.reportPackagesSize&&(o=this.reportPackagesSize+this.pendingQueue.pendingDataSize+this.storeHandler.storeSize,s=1-Number((o/this.forceDataTotalLen).toFixed(2)),this.listenerList.progressUpdate&&this._actionListener("progressUpdate",s),0<this.storeHandler.storeSize)&&this.loadReportData((function(e){0===e&&(a.state="normal",a.zegoService.setBps(a.config.bps||d.DEFAULT_CONFIG.bps),a.listenerList.forceSuccessCallback)&&a._actionListener("forceResult","SUCCESS")})),[2]}}))}))},p.prototype.checkPendingQueue=function(e,t){return A(this,void 0,void 0,(function(){var r,i,A,o,s;return n(this,(function(n){switch(n.label){case 0:return e>this.config.reportSize||t>this.config.reportNum||["force","unload"].includes(this.state)||this.timeInterval?(this.timeInterval=!1,!this.isPaused&&this.config.userID&&this.config.token&&this.config.serverUrl?[3,3]:(this.stateCenter._log.debug("isPaused "+this.isPaused+" "+this.userID+" "+this.config.token+" "+this.config.serverUrl),e>=this.cacheMaxSize||this.staticConfig.totalAvailCache<=0?[4,this.storePendingDataToDB(this.cacheDelPer)]:[3,2])):[3,7];case 1:n.sent(),n.label=2;case 2:return[2];case 3:return this.zegoService.reportAllowed()?[3,6]:(this.zegoService.resumeReport(),e>=this.cacheMaxSize||this.staticConfig.totalAvailCache<=0?[4,this.storePendingDataToDB(this.cacheDelPer)]:[3,5]);case 4:n.sent(),n.label=5;case 5:return[2];case 6:if(A=this.pendingQueue.readReportData(this.config.reportSize),r=A.totalLen,A=A.reportDataArr,r<=0)return[2];for(A=this.setCommonField(A),this.zegoService.report(i=A.packageArr,A=A.packageLen,this.product,"unload"===this.state),o=0;o<i.length;o++)this.reportMap.set((s=i[o]).key,s);this.reportPackagesSize+=A,this.pendingQueue.refresh(r),n.label=7;case 7:return[2]}}))}))},p.prototype.initPendingQueue=function(){var e=this;this.pendingQueue=new l.PendingQueue(this.config.levels,this.product,this.staticConfig,this.stateCenter),this.pendingQueue.setListener({enCallback:function(t,r,i){return A(e,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.checkPendingQueue(i,r)];case 1:return e.sent(),[2]}}))}))}})},p.prototype.loadDBDataToMem=function(){var e=this;this.storeHandler.readStoreDataItem().then((function(t){var r=h.calculateMemSize(t.content);e.traceType.MEM_I_LOAD+=r,e.pendingQueue.enqueue(t,t.level)})).catch((function(e){}))},p.prototype.storePendingDataToDB=function(e){return A(this,void 0,void 0,(function(){var t,r,i,A,o,s,c,g,u;return n(this,(function(l){switch(l.label){case 0:r=this.pendingQueue.readStoreData(e),t=r.totalLen,r=r.storeArr,i=function(e){var r,i;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,A.storeDataItem(e,t)];case 1:return n.sent(),r=e.level+"_"+e.timestamp+"_"+e.seq,-1<(i=A.dataInDb.findIndex((function(e){return e===r})))&&A.dataInDb.splice(i,1),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))},A=this,l.label=1;case 1:l.trys.push([1,6,7,8]),o=a(r),s=o.next(),l.label=2;case 2:return s.done?[3,5]:[5,i(c=s.value)];case 3:l.sent(),l.label=4;case 4:return s=o.next(),[3,2];case 5:return[3,8];case 6:return c=l.sent(),g={error:c},[3,8];case 7:try{s&&!s.done&&(u=o.return)&&u.call(o)}finally{if(g)throw g.error}return[7];case 8:return[2]}}))}))},p.prototype.storePackagesDataToDB=function(e){var t=this;e.length&&e.forEach((function(e){t.storeHandler.storeData(e).then((function(r){var i=h.calculateMemSize(e.content);t.traceType.MEM_O_DUMP+=i})).catch((function(e){}))}))},p.prototype.storeDataItem=function(e,t){var r=this;return new Promise((function(t,i){return A(r,void 0,void 0,(function(){var r;return n(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,this.storeHandler.storeData(e)];case 1:return A.sent(),r=h.calculateMemSize(e.content),this.traceType.MEM_O_DUMP+=r,t(),[3,3];case 2:return r=A.sent(),i(r),[3,3];case 3:return[2]}}))}))}))},p.prototype.loadReportData=function(e){var t=this;this.storeHandler.storeSize<=0||this.isLoadReportData||(this.isLoadReportData=!0,this.storeHandler.loadDBData(this.config.reportSize,5,Math.floor(this.cacheMaxSize/3),(function(e){return-1<t.dataInDb.indexOf(e)})).then((function(r){t.isLoadReportData=!1,r.datas.forEach((function(e){var r;t.reportMap.has(e.key)||t.pendingQueue.findInQueue(e)||(r=h.calculateMemSize(e.content),t.traceType.MEM_I_LOAD+=r,t.pendingQueue.enqueue(e,e.level),t.dataInDb.push(e.key))})),e&&e(r.len)})).catch((function(e){t.isLoadReportData=!1})))},p.prototype.setCommonField=function(e){var t=this,r=0;return e.forEach((function(e){var i,A,n=JSON.parse(e.content);if(t.startCommonField)try{for(var s=a(t.startCommonField),c=s.next();!c.done;c=s.next()){var g=o(c.value,2),u=g[0];"userID"!==u&&"token"!==u&&"serverUrl"!==u&&(n[u]=g[1])}}catch(e){i={error:e}}finally{try{c&&!c.done&&(A=s.return)&&A.call(s)}finally{if(i)throw i.error}}r+=h.calculateMemSize(n),e.content=JSON.stringify(n)})),{packageArr:e,packageLen:r}},p.prototype._bindListener=function(e,t){return!!this.listenerList[e]&&"function"==typeof t&&(-1==this.listenerList[e].indexOf(t)&&this.listenerList[e].push(t),!0)},p.prototype._deleteListener=function(e,t){var r;return!!this.listenerList[e]&&(r=this.listenerList[e],t?r.splice(r.indexOf(t),1):this.listenerList[e]=[],!0)},p.prototype._actionListener=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.listenerList[e]&&this.listenerList[e].forEach((function(e){try{e.apply(void 0,s(t))}catch(e){}}))},t.ZegoDataReport=p},function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},A=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoService=void 0,r(0)),o=r(25),s=r(29),a=r(4);function c(e,t,r,i,A){var s,a,c,g=this;this.env=e,this.product=r,this.pro=i,this.stateCenter=A,this.isDestroy=!1,this.websocket=null,this.packageLen=0,this.packagesDataSize=0,this.PACKAGE_MAX_LEN=5,this.msgID=0,this.logUploadTimer=null,this.logUploadInterval=1e4,this.logCacheSend=[],this.logCacheMax=100,this.reportDataCheckInterval=1e3,this.postSucCallbackList={},this.postFailCallbackList={},this.failCount=0,this.failStartTime=0,this.netWorkFail=!1,this.networkState=n.ENUM_NETWORK_STATE.online,this.state=n.ENUM_CONNECT_STATE.disconnected,this.wsFrequentShutdownCounter=(a=s=0,c=function(){a=s=0},{onOpen:function(){s=performance.now()},onClose:function(){0<s&&(performance.now()-s<100?(a++,g.stateCenter.logger.info("zt.rzs.wfsc frequently shutdown.")):c())},isOutOfMaxTimes:function(){return 10<=a}}),this.bindWindowListener(),this.networkState=n.ENUM_NETWORK_STATE.online,this.service=new o.LogService(e,r,i,A),this.setBps(t),this.reportQueue=new n.Queue}c.prototype.destroy=function(){var e;null!=(e=this.websocket)&&e.close(),this.service.closeSocket(),this.logUploadTimer&&clearTimeout(this.logUploadTimer),this.reportQueue.clear(),this.isDestroy=!0},c.prototype.bindWindowListener=function(){var e=this;window.addEventListener("offline",(function(){e.networkState=n.ENUM_NETWORK_STATE.offline})),window.addEventListener("online",(function(t){e.handleNetConnect()}))},c.prototype.handleNetConnect=function(){this.networkState=n.ENUM_NETWORK_STATE.online;var e=this.url;this.url="",this.setLogServer(e),this.netWorkFail=!1},c.prototype.setLogServer=function(e){try{return e.startsWith("wss:")||e.startsWith("ws:")?(this.logType=n.ENUM_REMOTE_TYPE.WEBSOCKET,this.openWebSocketLogServer(e)):e.startsWith("https:")||e.startsWith("http:")?(this.logType=n.ENUM_REMOTE_TYPE.HTTPS,this.openHttpsLogServer(e)):this.logType=n.ENUM_REMOTE_TYPE.DISABLE,!0}catch(e){return!1}},c.prototype.setLogUrlParams=function(e){this.logParams=e},c.prototype.openWebSocketLogServer=function(e){var t=this;this.url!=e&&(this.url=e)&&(this.stopWebSocketServer(),this.logParams.id_name)&&(this.wsFrequentShutdownCounter.isOutOfMaxTimes()?(this.stateCenter.logger.warn("zt.rzs.owsls frequently shutdown too many times. cannot create socket anymore."),this.state=n.ENUM_CONNECT_STATE.disconnected):(this.state=n.ENUM_CONNECT_STATE.connecting,e=e+"?product="+this.logParams.product+"&appid="+this.logParams.appid+"&token="+encodeURIComponent(this.logParams.signature)+"&deviceid="+this.logParams.deviceid+"&id_name="+this.logParams.id_name,this.service.createSocket(e),this.service.openHandler((function(){t.service.onPush(),t.service.startCheck(),t.stateCenter.logger.info("zt.rzs.owsls socket open"),t.openHandler(),t.wsFrequentShutdownCounter.onOpen()})),this.service.closeHandler((function(e){t.stateCenter.logger.warn("zt.rzs.owsls socket close "+JSON.stringify(e.code||e)),t.state=n.ENUM_CONNECT_STATE.disconnected,t.service.closeSocket(),t.wsFrequentShutdownCounter.onClose()})),this.service.errorHandler((function(e){t.stateCenter.logger.warn("zt.rzs.owsls socket error "+JSON.stringify(e.code||e)),t.state=n.ENUM_CONNECT_STATE.disconnected,t.service.closeSocket()}))))},c.prototype.stopWebSocketServer=function(){this.service.closeSocket()},c.prototype.openHttpsLogServer=function(e){(this.url=e)&&this.stopHttpsServer()},c.prototype.stopHttpsServer=function(){this.logUploadTimer&&(clearInterval(this.logUploadTimer),this.logUploadTimer=null)},c.prototype.SendHttpsLog=function(e,t,r,i){this.env===n.ZEGO_ENV.BROWSER?this.SendHttpsLogWeb(e,t,r,i):this.SendHttpsLogWeChatMini(e,t,r,i)},c.prototype.SendHttpsLogWeb=function(e,t,r,i){var A=this,n=(e=JSON.stringify({body:{data:e}}),new XMLHttpRequest);n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){if(0!=n.responseText.length)try{var e=JSON.parse(n.responseText).interval;"number"==typeof e&&A.logUploadInterval!==e&&A.openHttpsLogServer(A.url),r&&r()}catch(e){i&&i()}}else i&&i()},n.open("POST",this.url,!0),n.send(e)},c.prototype.SendHttpsLogWeChatMini=function(e,t,r,i){var A=this;e={appid:this.logParams.appid+"",timestamp:(new Date).getTime()+"",token:this.logParams.signature,id_name:this.logParams.id_name,product:this.logParams.product,message_id:++this.msgID,req_sdk:1,s:JSON.stringify({speed_detail:e})},wx.request({url:this.url,data:JSON.stringify(e),method:"POST",success:function(e){0!=e.data.length&&("number"==typeof(e=e&&e.data&&e.data.interval)&&A.logUploadInterval!==e&&A.openHttpsLogServer(A.url),r)&&r()},fail:function(e){i&&i()}})},c.prototype.openHandler=function(){this.state=n.ENUM_CONNECT_STATE.connected,this.startReport()},c.prototype.setPostSucCallback=function(e,t){this.postSucCallbackList[e]=t},c.prototype.setPostFailCallback=function(e,t){this.postFailCallbackList[e]=t},c.prototype.reportAllowed=function(){return this.packageLen<this.PACKAGE_MAX_LEN},c.prototype.report=function(e,t,r,i){this.packageLen++,this.packagesDataSize+=t,this.reportQueue.enqueue({reportDatas:e,dataLen:t,product:r}),this.netWorkFail=!1,this.failCount=0,this.failStartTime=0,this.startReport(i)},c.prototype.setBps=function(e){this.tokenBucket=new s.TokenBucket(a.BUCKET_CONFIG.bucketSize,e/8,"sec")},c.prototype.startReport=function(e){var t,r,i,A,o=this;this.isDestroy||(this.logType===n.ENUM_REMOTE_TYPE.WEBSOCKET&&this.state===n.ENUM_CONNECT_STATE.disconnected?(t=this.url,this.url="",this.setLogServer(t)):0<this.reportQueue.size()&&(t=this.reportQueue.dequeue(),r=t.reportDatas,i=t.dataLen,A=t.product,new Date,e?this.sendReport(r,i,A):this.tokenBucket.removeTokens(i,(function(){o.sendReport(r,i,A)}))))},c.prototype.failTooMuch=function(){if(this.failCount<=0)return!1;1==this.failCount&&(this.failStartTime=Date.now());var e=(Date.now()-this.failStartTime)/1e3;return this.failCount>=a.FAIL_COUNT&&e>a.FAIL_TIME||this.failCount>=a.FAIL_MAX_COUNT},c.prototype.sendReport=function(e,t,r){var i=this;this.reportData(e,t,r,(function(){i.failCount=0,i.failStartTime=0,i.packageLen--,i.packagesDataSize-=t,i.postSucCallbackList[r]&&i.postSucCallbackList[r](e,t,r)}),(function(A){var n;i.reportQueue.enqueue({reportDatas:e,dataLen:t,product:r}),i.failCount++,i.failTooMuch()?(i.netWorkFail=!0,n=i.decodeReportQueue(),Object.keys(i.postFailCallbackList).forEach((function(e){i.postFailCallbackList[r](n[e])}))):i.startReport()}))},c.prototype.resumeReport=function(){!0===this.netWorkFail&&this.networkState===n.ENUM_NETWORK_STATE.online&&(this.netWorkFail=!1,this.startReport())},c.prototype.reportData=function(e,t,r,i,A){var o=this,s=[];e.forEach((function(e){s.push(JSON.parse(e.content))})),this.logType==n.ENUM_REMOTE_TYPE.WEBSOCKET?this.networkState===n.ENUM_NETWORK_STATE.offline?A&&A(n.errorList.BROKEN):this.service.sendMessage("report",s,i,(function(e){var t;o.state===n.ENUM_CONNECT_STATE.disconnected&&e===n.SOCKET_DISCONNECT&&(t=o.url,o.url="",o.setLogServer(t)),A&&A(e)})):this.logType==n.ENUM_REMOTE_TYPE.HTTPS&&this.SendHttpsLog(s,t,i,(function(){A&&A()}))},c.prototype.unsigned2signed=function(e){var t=parseInt(e,10);if(256<t)return t%256;for(var r=[];0<t;)r.push(t%2!=0?1:0),t=Number(t/2);for(r.reverse();r.length<8;)r.unshift(0);var i="";if(1==(r=r.join("")).substr(0,1)){for(var A=1;A<r.length;A++)1==r.substr(A,1)?i+=0:i+=1;return"-"+(parseInt(i,2)+1)}for(A=0;A<r.length;A++)i+=r.substr(A,1);return parseInt(i,2)},c.prototype.decodeReportQueue=function(){for(var e={},t=this.reportQueue.size(),r=0;r<t;r++){var i,n=(i=this.reportQueue.dequeue()).reportDatas,o=i.dataLen;e[i=i.product]||(e[i]=[]),e[i]=A(e[i],n),this.reportQueue.enqueue({reportDatas:n,dataLen:o,product:i})}return e},c.prototype.readReportQueueData=function(){for(var e=[],t=this.reportQueue.size(),r=0;r<t;r++){var i=this.reportQueue.dequeue();e.push.apply(e,A(i.reportDatas))}return e},t.ZegoService=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=void 0;var i=r(26),A=r(4),n=r(0);function o(e,t,r,A){this.env=e,this.product=t,this.pro=r,this.stateCenter=A,this.service=new i.ZegoSocketService(this.env,this.product,this.pro,this.stateCenter),this.cmdSeq=0,this.responseRouters={}}o.prototype.handleSendCommandMsgRsp=function(e){var t,r,i=this,A=this.service.sendCommandMap[e.messageId||(null==(A=null==e?void 0:e.data)?void 0:A.message_id)];null!=A&&(r=A._data,delete this.service.sendCommandMap[e.messageId||(null==(t=null==e?void 0:e.data)?void 0:t.message_id)],this.service.sendCommandList.remove(A),0===e.code?setTimeout((function(){r&&null!=r.success&&r.success(e,i.cmdSeq)}),0):setTimeout((function(){r&&null!=r.error&&r.error(e,i.cmdSeq)}),0))},o.prototype.onPush=function(){var e=this;this.service.onMessage=function(t){e.handleSendCommandMsgRsp(t)}},o.prototype.closeHandler=function(e){this.service.closeHandler(e)},o.prototype.openHandler=function(e){this.service.openHandler(e)},o.prototype.errorHandler=function(e){this.service.errorHandler(e)},o.prototype.getHeader=function(e){return{Protocol:"req",cmd:e,appid:123,seq:++this.cmdSeq,session_id:""}},o.prototype.startCheck=function(){this.service.startCheck()},o.prototype.stopCheck=function(){this.service.stopCheck()},o.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},o.prototype.createSocket=function(e){this.service.createSocket(e),this.responseRouters={}},o.prototype.closeSocket=function(){this.service.closeSocket()},o.prototype.sendMessage=function(e,t,r,i,o,s){return this.service.isDisConnect()?(i&&i(n.SOCKET_DISCONNECT),0):(o=o||this.getHeader(e),this.service.sendMessage(o,t,r,i,{timeOut:1e3*A.DEFAULT_CONFIG.netTimeout}))},o.prototype.on=function(e,t){this.responseRouters[e]=t},t.LogService=o},function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},A=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSocketService=void 0,r(27)),n=r(0),o=r(28);function s(e,t,r,i){this.product=t,this.pro=r,this.stateCenter=i,this.socket=null,this.sendCommandList=new n.LinkedList,this.sendCommandMap={},this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=3e4,this.sendDataCheckInterval=2e3,this.ENV=e}s.prototype.createSocket=function(e){this.socket=A.createZegoWebSocket(e,this.ENV),this.socket.binaryType="arraybuffer"},s.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},s.prototype.isDisConnect=function(){return!this.socket||1!==this.socket.readyState},s.prototype.sendMessage=function(e,t,r,A,n){void 0===r&&(r=null),void 0===A&&(A=null),void 0===n&&(n={timeOut:6e3});var s=i(i({},this.stateCenter.processData),{time_upload:Date.now()});return s={data:t={message_id:e.seq,product:this.product,s:JSON.stringify({speed_detail:t,process:s})},seq:e.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeOut:n.timeOut,success:r,error:A},n=this.sendCommandList.push(s),this.sendCommandMap[s.seq]=n,this.socket&&"pb"!==this.pro&&(this.stateCenter._log.debug("upload data",JSON.stringify(t)),r=o.deflate(JSON.stringify(t),{to:"string"}),this.socket.send(r)),e.seq},s.prototype.checkSendMessageList=function(e){for(var t=e.getFirst();null!=t;)e.remove(t),t._data&&t._data.error&&setTimeout((function(){t&&t._data&&t._data.error&&t._data.error(n.errorList.TIMEOUT,t._data.data.message_id,t._data.data.s)}),0),t=e.getFirst()},s.prototype.checkMessageListTimeout=function(e,t){for(var r=e.getFirst(),i=Date.parse(new Date+""),A=0;!(null==r||r._data&&r._data.sendTime+r._data.timeOut>i||(r._data&&delete t[r._data.data.message_id],e.remove(r),r._data&&null==r._data.error||r._data&&r._data.sendTime+this.sendDataDropTimeout<i||r&&r._data&&r._data.error&&r._data.error(n.errorList.TIMEOUT,r._data.data.message_id,r._data.data.s),++A>=this.sendDataCheckOnceCount));)r=e.getFirst()},s.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},s.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},s.prototype.openHandler=function(e){var t=this;this.socket&&(this.socket.onopen=function(r){t.responseHandler(),e(r)})},s.prototype.responseHandler=function(){var e=this;this.socket&&(this.socket.onmessage=function(t){t="string"==typeof t.data?JSON.parse(t.data):JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t.data))),e.onMessage(t)})},s.prototype.closeHandler=function(e){this.socket&&(this.socket.onclose=function(t){e(t)})},s.prototype.errorHandler=function(e){this.socket&&(this.socket.onerror=e)},s.prototype.onMessage=function(e){},t.ZegoSocketService=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoWebSocket=t.ZegoWeiXinMiniWebSocket=void 0;var i=r(0),A=(n.prototype.init=function(){var e=this;this._websocket&&(this.readyState=0,this._websocket.onOpen((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onopen&&(e.onopen(t),e._websocket.onClose((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onclose&&e.onclose(t)})),e._websocket.onMessage((function(t){"function"==typeof e.onmessage&&e.onmessage(t)})))})),this._websocket.onError((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onerror&&e.onerror(t)})))},n.prototype.onopen=function(e){},n.prototype.onerror=function(e){},n.prototype.onclose=function(e){},n.prototype.onmessage=function(e){},n.prototype.send=function(e){this._websocket&&this._websocket.send({data:e})},n.prototype.close=function(){this._websocket&&this._websocket.close()},n);function n(e,t){this.url=e,this.readyState=3,this._websocket=wx.connectSocket({url:e}),this.init()}t.ZegoWeiXinMiniWebSocket=A,t.createZegoWebSocket=function(e,t){return new(t===i.ZEGO_ENV.BROWSER?WebSocket:A)(e)}},function(e,t,r){!function(e){"use strict";function t(e){for(var t=e.length;0<=--t;)e[t]=0}var r=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576),s=(t(o),new Array(60)),a=(t(s),new Array(512)),c=(t(a),new Array(256)),g=(t(c),new Array(29));t(g);var u,l,h,d=new Array(30);function p(e,t,r,i,A){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=A,this.has_stree=e&&e.length}function C(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function I(e){for(var t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0}function f(e){8<e.bi_valid?M(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function E(e,t,r,i){var A=2*t,n=2*r;return e[A]<e[n]||e[A]===e[n]&&i[t]<=i[r]}function Q(e,t,A){var n,o,s,a,u=0;if(0!==e.sym_next)for(;n=255&e.pending_buf[e.sym_buf+u++],n+=(255&e.pending_buf[e.sym_buf+u++])<<8,o=e.pending_buf[e.sym_buf+u++],0==n?P(e,o,t):(P(e,(s=c[o])+256+1,t),0!==(a=r[s])&&O(e,o-=g[s],a),s=L(--n),P(e,s,A),0!==(a=i[s])&&O(e,n-=d[s],a)),u<e.sym_next;);P(e,256,t)}function B(e,t){var r,i,A,n=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<a;r++)0!==n[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):n[2*r+1]=0;for(;e.heap_len<2;)n[2*(A=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[A]=0,e.opt_len--,s&&(e.static_len-=o[2*A+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)U(e,n,r);for(A=a;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],U(e,n,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,n[2*A]=n[2*r]+n[2*i],e.depth[A]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,n[2*r+1]=n[2*i+1]=A,e.heap[1]=A++,U(e,n,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var g,u,l,h,d,p=e,C=t.dyn_tree,I=t.max_code,f=t.stat_desc.static_tree,E=t.stat_desc.has_stree,Q=t.stat_desc.extra_bits,B=t.stat_desc.extra_base,m=t.stat_desc.max_length,y=0,v=0;v<=15;v++)p.bl_count[v]=0;for(C[2*p.heap[p.heap_max]+1]=0,g=p.heap_max+1;g<573;g++)(v=C[2*C[2*(u=p.heap[g])+1]+1]+1)>m&&(v=m,y++),C[2*u+1]=v,I<u||(p.bl_count[v]++,h=0,B<=u&&(h=Q[u-B]),p.opt_len+=(d=C[2*u])*(v+h),E&&(p.static_len+=d*(f[2*u+1]+h)));if(0!==y){do{for(v=m-1;0===p.bl_count[v];)v--}while(p.bl_count[v]--,p.bl_count[v+1]+=2,p.bl_count[m]--,0<(y-=2));for(v=m;0!==v;v--)for(u=p.bl_count[v];0!==u;)(l=p.heap[--g])>I||(C[2*l+1]!==v&&(p.opt_len+=(v-C[2*l+1])*C[2*l],C[2*l+1]=v),u--)}G(n,c,e.bl_count)}function m(e,t,r){var i,A,n=-1,o=t[1],s=0,a=7,c=4;for(0===o&&(a=138,c=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)A=o,o=t[2*(i+1)+1],++s<a&&A===o||(s<c?e.bl_tree[2*A]+=s:0!==A?(A!==n&&e.bl_tree[2*A]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,n=A,c=(s=0)===o?(a=138,3):A===o?(a=6,3):(a=7,4))}function y(e,t,r){var i,A,n=-1,o=t[1],s=0,a=7,c=4;for(0===o&&(a=138,c=3),i=0;i<=r;i++)if(A=o,o=t[2*(i+1)+1],!(++s<a&&A===o)){if(s<c)for(;P(e,A,e.bl_tree),0!=--s;);else 0!==A?(A!==n&&(P(e,A,e.bl_tree),s--),P(e,16,e.bl_tree),O(e,s-3,2)):s<=10?(P(e,17,e.bl_tree),O(e,s-3,3)):(P(e,18,e.bl_tree),O(e,s-11,7));n=A,c=(s=0)===o?(a=138,3):A===o?(a=6,3):(a=7,4)}}function v(e,t,r,i){O(e,0+(i?1:0),3),f(e),M(e,r),M(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r}function _(e,t){return e.msg=K[t],t}function S(e){return 2*e-(4<e?9:0)}function w(e,t){V(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ye(e.strm)}function D(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var r,i,A=e.max_chain_length,n=e.strstart,o=e.prev_length,s=e.nice_match,a=e.strstart>e.w_size-Ce?e.strstart-(e.w_size-Ce):0,c=e.window,g=e.w_mask,u=e.prev,l=e.strstart+pe,h=c[n+o-1],d=c[n+o];e.prev_length>=e.good_match&&(A>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+o]===d&&c[r+o-1]===h&&c[r]===c[n]&&c[++r]===c[n+1]){for(n+=2,r++;c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<l;);if(i=pe-(l-n),n=l-pe,o<i){if(e.match_start=t,s<=(o=i))break;h=c[n+o-1],d=c[n+o]}}}while((t=u[t&g])>a&&0!=--A);return o<=e.lookahead?o:e.lookahead}function R(e,t){for(var r,i,A,n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,s=e.strm.avail_in;r=65535,!(e.strm.avail_out<(A=e.bi_valid+42>>3)||(r=(A=e.strm.avail_out-A)<(r=r>(i=e.strstart-e.block_start)+e.strm.avail_in?i+e.strm.avail_in:r)?A:r)<n&&(0===r&&t!==te||t===X||r!==i+e.strm.avail_in)||(o=t===te&&r===i+e.strm.avail_in?1:0,j(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ye(e.strm),i&&(r<i&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(ve(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r),0!==o)););return(s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart)&&(e.insert=e.strstart),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==X&&t!==te&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(e.strm.avail_in>(A=e.window_size-e.strstart)&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,A+=e.w_size,e.insert>e.strstart)&&(e.insert=e.strstart),(A=A>e.strm.avail_in?e.strm.avail_in:A)&&(ve(e.strm,e.window,e.strstart,A),e.strstart+=A,e.insert+=A>e.w_size-e.insert?e.w_size-e.insert:A),e.high_water<e.strstart&&(e.high_water=e.strstart),n=(A=65535<e.pending_buf_size-(A=e.bi_valid+42>>3)?65535:e.pending_buf_size-A)>e.w_size?e.w_size:A,((i=e.strstart-e.block_start)>=n||(i||t===te)&&t!==X&&0===e.strm.avail_in&&i<=A)&&(j(e,e.block_start,r=A<i?A:i,o=t===te&&0===e.strm.avail_in&&r===i?1:0),e.block_start+=r,ye(e.strm)),o?3:1)}function N(e,t){for(var r,i;;){if(e.lookahead<Ce){if(_e(e),e.lookahead<Ce&&t===X)return 1;if(0===e.lookahead)break}if(r=0,3<=e.lookahead&&(e.ins_h=me(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-Ce&&(e.match_length=k(e,r)),3<=e.match_length)if(i=W(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){for(e.match_length--;e.strstart++,e.ins_h=me(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=me(e,e.ins_h,e.window[e.strstart+1]);else i=W(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2}function T(e,t){for(var r,i,A;;){if(e.lookahead<Ce){if(_e(e),e.lookahead<Ce&&t===X)return 1;if(0===e.lookahead)break}if(r=0,3<=e.lookahead&&(e.ins_h=me(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ce&&(e.match_length=k(e,r),e.match_length<=5)&&(e.strategy===ce||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2),3<=e.prev_length&&e.match_length<=e.prev_length){for(A=e.strstart+e.lookahead-3,i=W(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=A&&(e.ins_h=me(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(w(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=W(e,0,e.window[e.strstart-1]))&&w(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=W(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2}t(d);var L=function(e){return e<256?a[e]:a[256+(e>>>7)]},M=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},O=function(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,M(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},P=function(e,t,r){O(e,r[2*t],r[2*t+1])},F=function(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1},G=function(e,t,r){for(var i,A=new Array(16),n=0,o=1;o<=15;o++)A[o]=n=n+r[o-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=F(A[s]++,s))}},U=function(e,t,r){for(var i=e.heap[r],A=r<<1;A<=e.heap_len&&(A<e.heap_len&&E(t,e.heap[A+1],e.heap[A],e.depth)&&A++,!E(t,i,e.heap[A],e.depth));)e.heap[r]=e.heap[A],r=A,A<<=1;e.heap[r]=i},x=!1,H=v,q=function(e,t,r,i){for(var A=65535&e|0,n=e>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;n=n+(A=A+t[i++]|0)|0,--o;);A%=65521,n%=65521}return A|n<<16|0},J=new Uint32Array(function(){for(var e=[],t=0;t<256;t++){for(var r=t,i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r}return e}()),Y=function(e,t,r,i){var A=J,n=i+r;e^=-1;for(var o=i;o<n;o++)e=e>>>8^A[255&(e^t[o])];return-1^e},K={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},j=H,V=function(e,t,r,i){var A,a,c,g=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,r=0;r<=31;r++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*r])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(r=32;r<256;r++)if(0!==e.dyn_ltree[2*r])return 1;return 0}(e)),B(e,e.l_desc),B(e,e.d_desc),g=function(e){var t;for(m(e,e.dyn_ltree,e.l_desc.max_code),m(e,e.dyn_dtree,e.d_desc.max_code),B(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*n[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(a=e.static_len+3+7>>>3)<=(A=e.opt_len+3+7>>>3)&&(A=a)):A=a=r+5,r+4<=A&&-1!==t)v(e,t,r,i);else if(4===e.strategy||a===A)O(e,2+(i?1:0),3),Q(e,o,s);else{O(e,4+(i?1:0),3);var u=e,l=(t=e.l_desc.max_code+1,r=e.d_desc.max_code+1,g+1);for(O(u,t-257,5),O(u,r-1,5),O(u,l-4,4),c=0;c<l;c++)O(u,u.bl_tree[2*n[c]+1],3);y(u,u.dyn_ltree,t-1),y(u,u.dyn_dtree,r-1),Q(e,e.dyn_ltree,e.dyn_dtree)}I(e),i&&f(e)},W=function(e,t,r){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(c[r]+256+1)]++,e.dyn_dtree[2*L(t)]++),e.sym_next===e.sym_end},Z=function(e){O(e,2,3),P(e,256,o),16===e.bi_valid?(M(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},X=z.Z_NO_FLUSH,$=z.Z_PARTIAL_FLUSH,ee=z.Z_FULL_FLUSH,te=z.Z_FINISH,re=z.Z_BLOCK,ie=z.Z_OK,Ae=z.Z_STREAM_END,ne=z.Z_STREAM_ERROR,oe=z.Z_DATA_ERROR,se=z.Z_BUF_ERROR,ae=z.Z_DEFAULT_COMPRESSION,ce=z.Z_FILTERED,ge=z.Z_HUFFMAN_ONLY,ue=z.Z_RLE,le=z.Z_FIXED,he=z.Z_UNKNOWN,de=z.Z_DEFLATED,pe=258,Ce=262,Ie=42,fe=113,Ee=666,Qe=function(e){for(var t=e.length;0<=--t;)e[t]=0},Be=function(e){for(var t,r,i=e.w_size,A=t=e.hash_size;r=e.head[--A],e.head[A]=i<=r?r-i:0,--t;);for(A=t=i;r=e.prev[--A],e.prev[A]=i<=r?r-i:0,--t;);},me=function(e,t,r){return(t<<e.hash_shift^r)&e.hash_mask},ye=function(e){var t=e.state,r=t.pending;0!==(r=r>e.avail_out?e.avail_out:r)&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending)&&(t.pending_out=0)},ve=function(e,t,r,i){var A=e.avail_in;return 0===(A=i<A?i:A)?0:(e.avail_in-=A,t.set(e.input.subarray(e.next_in,e.next_in+A),r),1===e.state.wrap?e.adler=q(e.adler,t,A,r):2===e.state.wrap&&(e.adler=Y(e.adler,t,A,r)),e.next_in+=A,e.total_in+=A,A)},_e=function(e){var t,r,i=e.w_size;do{if(t=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-Ce)&&(e.window.set(e.window.subarray(i,i+i-t),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),Be(e),t+=i),0===e.strm.avail_in)break;if(t=ve(e.strm,e.window,e.strstart+e.lookahead,t),e.lookahead+=t,3<=e.lookahead+e.insert)for(e.ins_h=e.window[r=e.strstart-e.insert],e.ins_h=me(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=me(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ce&&0!==e.strm.avail_in)};function Se(e,t,r,i,A){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=A}var we=[new Se(0,0,0,0,R),new Se(4,4,8,4,N),new Se(4,5,16,8,N),new Se(4,6,32,32,N),new Se(4,4,16,16,T),new Se(8,16,32,32,T),new Se(8,16,128,128,T),new Se(8,32,128,256,T),new Se(32,128,258,1024,T),new Se(32,258,258,4096,T)];function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=de,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Qe(this.dyn_ltree),Qe(this.dyn_dtree),Qe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Qe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Qe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var be=function(e){var t;return!e||!(t=e.state)||t.strm!==e||t.status!==Ie&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==fe&&t.status!==Ee?1:0},ke=function(e){if(be(e))return _(e,ne);e.total_in=e.total_out=0,e.data_type=he;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Ie:fe,e.adler=2===t.wrap?0:1,t.last_flush=-2,function(e){if(!x){for(var t,n,f,E=new Array(16),Q=0,B=0;B<28;B++)for(g[B]=Q,t=0;t<1<<r[B];t++)c[Q++]=B;for(c[Q-1]=B,B=f=0;B<16;B++)for(d[B]=f,t=0;t<1<<i[B];t++)a[f++]=B;for(f>>=7;B<30;B++)for(d[B]=f<<7,t=0;t<1<<i[B]-7;t++)a[256+f++]=B;for(n=0;n<=15;n++)E[n]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,E[8]++;for(;t<=255;)o[2*t+1]=9,t++,E[9]++;for(;t<=279;)o[2*t+1]=7,t++,E[7]++;for(;t<=287;)o[2*t+1]=8,t++,E[8]++;for(G(o,287,E),t=0;t<30;t++)s[2*t+1]=5,s[2*t]=F(t,5);u=new p(o,r,257,286,15),l=new p(s,i,0,30,15),h=new p(new Array(0),A,0,19,7),x=!0}e.l_desc=new C(e.dyn_ltree,u),e.d_desc=new C(e.dyn_dtree,l),e.bl_desc=new C(e.bl_tree,h),e.bi_buf=0,e.bi_valid=0,I(e)}(t),ie},Re=function(e,t,r,i,A,n){if(!e)return ne;var o=1;if(t===ae&&(t=6),i<0?(o=0,i=-i):15<i&&(o=2,i-=16),A<1||9<A||r!==de||i<8||15<i||t<0||9<t||n<0||le<n||8===i&&1!==o)return _(e,ne);8===i&&(i=9);var s=new De;return(e.state=s).strm=e,s.status=Ie,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=A+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<A+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=n,s.method=r,(i=ke(o=e))===ie&&((o=o.state).window_size=2*o.w_size,Qe(o.head),o.max_lazy_match=we[o.level].max_lazy,o.good_match=we[o.level].good_length,o.nice_match=we[o.level].nice_length,o.max_chain_length=we[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),i};function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){}for(var Te=new Uint8Array(256),Le=0;Le<256;Le++)Te[Le]=252<=Le?6:248<=Le?5:240<=Le?4:224<=Le?3:192<=Le?2:1;function Me(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);for(var t,r,i,A,n=e.length,o=0,s=0;s<n;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<n&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),s=A=0;A<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<n&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[A++]=r:(r<2048?t[A++]=192|r>>>6:(r<65536?t[A++]=224|r>>>12:(t[A++]=240|r>>>18,t[A++]=128|r>>>12&63),t[A++]=128|r>>>6&63),t[A++]=128|63&r);return t}function Oe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Te[254]=Te[254]=1;var Pe=Object.prototype.toString,Fe=z.Z_NO_FLUSH,Ge=z.Z_SYNC_FLUSH,Ue=z.Z_FULL_FLUSH,xe=z.Z_FINISH,He=z.Z_OK,qe=z.Z_STREAM_END,Je=z.Z_DEFAULT_COMPRESSION,Ye=z.Z_DEFAULT_STRATEGY,Ke=z.Z_DEFLATED;function ze(e){this.options=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==Ne(r))throw new TypeError(r+"must be non-object");for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}}return e}({level:Je,method:Ke,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ye},e||{});var t,r=((e=this.options).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0,Re(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy));if(r!==He)throw new Error(K[r]);if(e.header&&(t=e.header,be(i=this.strm)||2!==i.state.wrap||(i.state.gzhead=t)),e.dictionary){var i="string"==typeof e.dictionary?Me(e.dictionary):"[object ArrayBuffer]"===Pe.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;if((r=function(e,t){var r=t.length;if(be(e))return ne;var i=e.state,A=i.wrap;if(2===A||1===A&&i.status!==Ie||i.lookahead)return ne;1===A&&(e.adler=q(e.adler,t,r,0)),i.wrap=0,r>=i.w_size&&(0===A&&(Qe(i.head),i.strstart=0,i.block_start=0,i.insert=0),(n=new Uint8Array(i.w_size)).set(t.subarray(r-i.w_size,r),0),t=n,r=i.w_size);var n=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,_e(i);3<=i.lookahead;){for(var a=i.strstart,c=i.lookahead-2;i.ins_h=me(i,i.ins_h,i.window[a+3-1]),i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++,--c;);i.strstart=a,i.lookahead=2,_e(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=o,e.input=s,e.avail_in=n,i.wrap=A,ie}(this.strm,i))!==He)throw new Error(K[r]);this._dict_set=!0}}function je(e,t){if((t=new ze(t)).push(e,!0),t.err)throw t.msg||K[t.err];return t.result}function Ve(e,t){return(t=t||{}).raw=!0,je(e,t)}function We(e,t){return(t=t||{}).gzip=!0,je(e,t)}ze.prototype.push=function(e,t){var r,i,A,n,o=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?xe:Fe,o.input="string"==typeof e?Me(e):"[object ArrayBuffer]"===Pe.call(e)?new Uint8Array(e):e,o.next_in=0,o.avail_in=o.input.length;;)if(0===o.avail_out&&(o.output=new Uint8Array(s),o.next_out=0,o.avail_out=s),(i===Ge||i===Ue)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if((r=function(e,t){if(be(e)||re<t||t<0)return e?_(e,ne):ne;var r=e.state;if(!e.output||0!==e.avail_in&&!e.input||r.status===Ee&&t!==te)return _(e,0===e.avail_out?se:ne);var i=r.last_flush;if(r.last_flush=t,0!==r.pending){if(ye(e),0===e.avail_out)return r.last_flush=-1,ie}else if(0===e.avail_in&&S(t)<=S(i)&&t!==te)return _(e,se);if(r.status===Ee&&0!==e.avail_in)return _(e,se);if(r.status===Ie&&0===r.wrap&&(r.status=fe),r.status===Ie&&(i=de+(r.w_bits-8<<4)<<8,i|=(r.strategy>=ge||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(i|=32),b(r,i+=31-i%31),0!==r.strstart&&(b(r,e.adler>>>16),b(r,65535&e.adler)),e.adler=1,r.status=fe,ye(e),0!==r.pending))return r.last_flush=-1,ie;if(57===r.status)if(e.adler=0,D(r,31),D(r,139),D(r,8),r.gzhead)D(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),D(r,255&r.gzhead.time),D(r,r.gzhead.time>>8&255),D(r,r.gzhead.time>>16&255),D(r,r.gzhead.time>>24&255),D(r,9===r.level?2:r.strategy>=ge||r.level<2?4:0),D(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(D(r,255&r.gzhead.extra.length),D(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Y(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(D(r,0),D(r,0),D(r,0),D(r,0),D(r,0),D(r,9===r.level?2:r.strategy>=ge||r.level<2?4:0),D(r,3),r.status=fe,ye(e),0!==r.pending)return r.last_flush=-1,ie;if(69===r.status){if(r.gzhead.extra){for(var A=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;r.pending+n>r.pending_buf_size;){var o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>A&&(e.adler=Y(e.adler,r.pending_buf,r.pending-A,A)),r.gzindex+=o,ye(e),0!==r.pending)return r.last_flush=-1,ie;A=0,n-=o}i=new Uint8Array(r.gzhead.extra),r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>A&&(e.adler=Y(e.adler,r.pending_buf,r.pending-A,A)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){var s,a=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Y(e.adler,r.pending_buf,r.pending-a,a)),ye(e),0!==r.pending)return r.last_flush=-1,ie;a=0}}while(s=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,D(r,s),0!=s);r.gzhead.hcrc&&r.pending>a&&(e.adler=Y(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){var c,g=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>g&&(e.adler=Y(e.adler,r.pending_buf,r.pending-g,g)),ye(e),0!==r.pending)return r.last_flush=-1,ie;g=0}}while(c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,D(r,c),0!=c);r.gzhead.hcrc&&r.pending>g&&(e.adler=Y(e.adler,r.pending_buf,r.pending-g,g))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ye(e),0!==r.pending))return r.last_flush=-1,ie;D(r,255&e.adler),D(r,e.adler>>8&255),e.adler=0}if(r.status=fe,ye(e),0!==r.pending)return r.last_flush=-1,ie}if(0!==e.avail_in||0!==r.lookahead||t!==X&&r.status!==Ee){if(i=0===r.level?R(r,t):r.strategy===ge?function(e,t){for(var r;;){if(0===e.lookahead&&(_e(e),0===e.lookahead)){if(t===X)return 1;break}if(e.match_length=0,r=W(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===ue?function(e,t){for(var r,i,A,n,o=e.window;;){if(e.lookahead<=pe){if(_e(e),e.lookahead<=pe&&t===X)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(i=o[A=e.strstart-1])===o[++A]&&i===o[++A]&&i===o[++A]){for(n=e.strstart+pe;i===o[++A]&&i===o[++A]&&i===o[++A]&&i===o[++A]&&i===o[++A]&&i===o[++A]&&i===o[++A]&&i===o[++A]&&A<n;);e.match_length=pe-(n-A),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(r=W(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=W(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2}(r,t):we[r.level].func(r,t),3!==i&&4!==i||(r.status=Ee),1===i||3===i)return 0===e.avail_out&&(r.last_flush=-1),ie;if(2===i&&(t===$?Z(r):t!==re&&(j(r,0,0,!1),t===ee)&&(Qe(r.head),0===r.lookahead)&&(r.strstart=0,r.block_start=0,r.insert=0),ye(e),0===e.avail_out))return r.last_flush=-1,ie}return t===te&&(r.wrap<=0||(2===r.wrap?(D(r,255&e.adler),D(r,e.adler>>8&255),D(r,e.adler>>16&255),D(r,e.adler>>24&255),D(r,255&e.total_in),D(r,e.total_in>>8&255),D(r,e.total_in>>16&255),D(r,e.total_in>>24&255)):(b(r,e.adler>>>16),b(r,65535&e.adler)),ye(e),0<r.wrap&&(r.wrap=-r.wrap),0===r.pending))?Ae:ie}(o,i))===qe)return 0<o.next_out&&this.onData(o.output.subarray(0,o.next_out)),n=void 0,r=be(A=this.strm)?ne:(n=A.state.status,A.state=null,n===fe?_(A,oe):ie),this.onEnd(r),this.ended=!0,r===He;if(0!==o.avail_out){if(0<i&&0<o.next_out)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(0===o.avail_in)break}else this.onData(o.output)}return!0},ze.prototype.onData=function(e){this.chunks.push(e)},ze.prototype.onEnd=function(e){e===He&&(this.result=function(e){for(var t=0,r=0,i=e.length;r<i;r++)t+=e[r].length;for(var A=new Uint8Array(t),n=0,o=0,s=e.length;n<s;n++){var a=e[n];A.set(a,o),o+=a.length}return A}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ze={Deflate:ze,deflate:H=je,deflateRaw:Ve,gzip:We,constants:z};e.Deflate=ze,e.constants=z,e.default=Ze,e.deflate=H,e.deflateRaw=Ve,e.gzip=We,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";function i(e,t,r,i){if(this.bucketSize=1,this.tokensPerInterval=1,this.interval=1e3,this.parentBucket=null,this.content=0,this.lastDrip=0,this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=i,this.content=0,this.lastDrip=+new Date}Object.defineProperty(t,"__esModule",{value:!0}),t.TokenBucket=void 0,i.prototype.removeTokens=function(e,t){var r=this;return this.bucketSize?e>this.bucketSize?(setTimeout(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null),0),!1):(this.drip(),e>this.content?i():this.parentBucket?this.parentBucket.removeTokens(e,(function(A,n){return A?t(A,null):e>r.content?i():(r.content-=e,void t(null,Math.min(n,r.content)))})):(this.content-=e,setTimeout(t.bind(null,null,this.content),0),!0)):(setTimeout(t.bind(null,null,e,Number.POSITIVE_INFINITY),0),!0);function i(){var i=Math.ceil(r.interval/r.tokensPerInterval*(e-r.content));return setTimeout((function(){r.removeTokens(e,t)}),i),!1}},i.prototype.tryRemoveTokens=function(e){if(this.bucketSize){if(e>this.bucketSize)return!1;if(this.drip(),e>this.content)return!1;if(this.parentBucket&&!this.parentBucket.tryRemoveTokens(e))return!1;this.content-=e}return!0},i.prototype.drip=function(){var e,t;this.tokensPerInterval?(t=+new Date,e=Math.max(t-this.lastDrip,0),this.lastDrip=t,t=e*(this.tokensPerInterval/this.interval),this.content=Math.min(this.content+t,this.bucketSize)):this.content=this.bucketSize},t.TokenBucket=i},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},A=this&&this.__generator||function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var a=[o,s];if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(A=2&a[0]?i.return:a[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,a[1])).done)return A;switch(i=0,(a=A?[2&a[0],A.value]:a)[0]){case 0:case 1:A=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(A=0<(A=n.trys).length&&A[A.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!A||a[1]>A[0]&&a[1]<A[3]))n.label=a[1];else if(6===a[0]&&n.label<A[1])n.label=A[1],A=a;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(a)}}a=t.call(e,n)}catch(s){a=[6,s],i=0}finally{r=A=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoStoreHandler=void 0,r(11)),s=r(5),a=r(4),c=n(r(12));function g(e,t,r,i,A,n){this.name=e,this.storeName=t,this.config=r,this.traceType=i,this.staticConfig=A,this.stateCenter=n,this.storeSize=0,this.storeTime=0,this.storeDelPer=a.STORE_SIZE.storeDelPer,this.updateTimeFreq=6e4,this.storeSleepInterval=6e5,this.droping=!1,this.bufferData=[],this.updateTimer=null,this.interSymbol="#",this.drops=[],this.storesKeys="",this.transStores=[],this.store=o.createZegoStore(e,r.env,t),this.commonStore=o.createZegoStore("data_common",r.env,"reporter")}Object.defineProperty(g.prototype,"KEY",{get:function(){return"z_t_"+this.config.appID},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"STORES_KEY",{get:function(){return"z_store_keys"},enumerable:!1,configurable:!0}),g.prototype.init=function(){return i(this,void 0,void 0,(function(){var e,t;return A(this,(function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.setCommonStoreState(),[4,this.transferStoreData()];case 1:return r.sent(),[4,this.commonStore.getItem(this.name+this.interSymbol+this.storeName)];case 2:return(e=r.sent())?[3,4]:[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,t={storeSize:this.storeSize,lock:0,pros:1})];case 3:return r.sent(),[3,5];case 4:t="string"==typeof e?JSON.parse(e):e,this.storeSize=t.storeSize,r.label=5;case 5:return[3,7];case 6:return r.sent(),[3,7];case 7:return[2]}}))}))},g.prototype.uninit=function(){this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)},g.prototype.setCommonStoreState=function(){var e=this,t=(this.getStorage(this.STORES_KEY)||"").split(";");this.transStores=t.filter((function(t){return t.includes(e.config.appID+"")})),t=t.filter((function(t){return!t.includes(e.config.appID+"")})),this.storesKeys=t.join(";")},g.prototype.resetCommonStore=function(){return i(this,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return this.saveStorage(this.STORES_KEY,this.storesKeys+(0<this.storesKeys.length?";":"")+this.name+this.interSymbol+this.storeName),[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,{storeSize:this.storeSize,lock:0,pros:0})];case 1:return e.sent(),[2]}}))}))},g.prototype.transferStoreData=function(){return i(this,void 0,void 0,(function(){var e,t,r,n,a=this;return A(this,(function(c){switch(c.label){case 0:return[4,this.commonStore.keys()];case 1:e=c.sent(),t=function(t){var n,c,g,u,l,h,d,p;return A(this,(function(C){switch(C.label){case 0:return(n=e[t])===r.name+r.interSymbol+r.storeName?[3,9]:[4,r.commonStore.getItem(n)];case 1:return(c="string"==typeof(c=C.sent())?JSON.parse(c):c).lock||c.pros&&!r.transStores.includes(n)?[3,9]:(u=n.split(r.interSymbol),[4,(l=o.createZegoStore(g=u[0],r.config.env,u=u[1])).keys()]);case 2:return 0!=(h=C.sent()).length?[3,3]:[3,8];case 3:return c.lock=1,[4,r.commonStore.setItem(n,c)];case 4:C.sent(),d=function(e){var t,n,o;return A(this,(function(c){switch(c.label){case 0:return[4,l.getItem(t=h[e])];case 1:return n=c.sent(),-1!==t.indexOf("pending")?n&&JSON.parse(n).forEach((function(e){return i(a,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return[4,this.storeData(e)];case 1:return t.sent(),[2]}}))}))})):(o=s.analyzeKey(t),r.storeData({level:o.level,timestamp:o.timestamp,seq:o=o.seq,content:n})),setTimeout((function(){return i(a,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,l.removeItem(t)];case 1:return e.sent(),[2]}}))}))}),300),[2]}}))},p=0,C.label=5;case 5:return p<h.length?[5,d(p)]:[3,8];case 6:C.sent(),C.label=7;case 7:return p++,[3,5];case 8:r.drops.push({name:g,storeName:u}),C.label=9;case 9:return[2]}}))},r=this,n=0,c.label=2;case 2:return n<e.length?[5,t(n)]:[3,5];case 3:c.sent(),c.label=4;case 4:return n++,[3,2];case 5:return this.transportStorageData(),setTimeout((function(){return i(a,void 0,void 0,(function(){var e,t,r;return A(this,(function(i){switch(i.label){case 0:e=0,i.label=1;case 1:if(!(e<this.drops.length))return[3,7];t=(r=this.drops[e]).name,r=r.storeName,i.label=2;case 2:return i.trys.push([2,5,,6]),[4,this.dropInstance(t,r)];case 3:return i.sent(),[4,this.commonStore.removeItem(t+this.interSymbol+r)];case 4:case 5:return i.sent(),[3,6];case 6:return e++,[3,1];case 7:return[2]}}))}))}),1e3),[2]}}))}))},g.prototype.dropInstance=function(e,t){return new Promise((function(r,i){c.default.dropInstance({name:e+":"+t}).then((function(){r()})).catch((function(e){i(e)}))}))},g.prototype.setDropCallBack=function(e){this.dropCallBack=e},g.prototype.storeData=function(e){var t=this;return new Promise((function(r,n){return i(t,void 0,void 0,(function(){var t,i,n,o,a=this;return A(this,(function(A){switch(A.label){case 0:i=e.content,n=(t=e.level)+"_"+(n=e.timestamp)+"_"+e.seq,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.store.getItem(n)];case 2:return A.sent()?(r(),[2]):[3,4];case 3:return A.sent(),[3,4];case 4:if(this.droping)return this.bufferData.push(e),[2];if(o=s.calculateMemSize(n)+s.calculateMemSize(i),this.staticConfig.totalDBSize-o<=0)return this.dropDBData(t,n,i).then((function(){a.droping=!1,a.bufferDump()})).catch((function(e){})),r(),[2];A.label=5;case 5:return A.trys.push([5,8,,9]),[4,this.store.setItem(n,i)];case 6:return A.sent(),this.storeSize+=o,this.staticConfig.totalDBSize-=o,[4,this.refreshStoreInfo()];case 7:return A.sent(),r(),[3,9];case 8:return"QuotaExceededError"===A.sent().name&&this.dropDBData(t,n,i).then((function(){a.droping=!1,a.bufferDump()})).catch((function(e){})),[3,9];case 9:return[2]}}))}))}))},g.prototype.loadPendingData=function(){return i(this,void 0,void 0,(function(){var e=this;return A(this,(function(t){switch(t.label){case 0:return[4,this.store.keys()];case 1:return t.sent().forEach((function(t){return i(e,void 0,void 0,(function(){var e,r=this;return A(this,(function(n){switch(n.label){case 0:return-1===t.indexOf("pending")?[3,3]:[4,this.store.getItem(t)];case 1:return(e=n.sent())?(JSON.parse(e).forEach((function(e){return i(r,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return[4,this.storeData(e)];case 1:return t.sent(),[2]}}))}))})),[4,this.store.removeItem(t)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))})),[2]}}))}))},g.prototype.storePendingData=function(e){return i(this,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return[4,this.store.setItem("pending"+(new Date).getTime(),JSON.stringify(e))];case 1:return t.sent(),[2]}}))}))},g.prototype.bufferDump=function(){return i(this,void 0,void 0,(function(){var e;return A(this,(function(t){switch(t.label){case 0:return(e=this.bufferData.pop())?[4,this.storeData(e)]:[3,2];case 1:t.sent(),this.bufferDump(),t.label=2;case 2:return[2]}}))}))},g.prototype.dropDBData=function(e,t,r){return i(this,void 0,void 0,(function(){var e=this;return A(this,(function(n){return this.droping=!0,[2,new Promise((function(n,o){return i(e,void 0,void 0,(function(){var e,i,a,c,g;return A(this,(function(A){switch(A.label){case 0:return A.trys.push([0,10,,11]),[4,this.store.keys()];case 1:(e=A.sent()).reverse(),i=Math.ceil(e.length*this.storeDelPer),a=0,A.label=2;case 2:return a<i?[4,this.store.getItem(e[a])]:[3,7];case 3:return null==(c=A.sent())?[3,6]:[4,this.store.removeItem(e[a])];case 4:return A.sent(),g=s.calculateMemSize(e[a])+s.calculateMemSize(c),this.staticConfig.totalDBSize+=g,this.storeSize-=g,[4,this.refreshStoreInfo()];case 5:A.sent(),this.dropCallBack(c),A.label=6;case 6:return a++,[3,2];case 7:return[4,this.store.setItem(t,r)];case 8:return A.sent(),this.storeSize+=s.calculateMemSize(t)+s.calculateMemSize(r),[4,this.refreshStoreInfo()];case 9:return A.sent(),n(),[3,11];case 10:return g=A.sent(),o(g),[3,11];case 11:return[2]}}))}))}))]}))}))},g.prototype.removeDataItem=function(e){var t=this;return new Promise((function(r,n){return i(t,void 0,void 0,(function(){var t,i,o,a,c;return A(this,(function(A){switch(A.label){case 0:t=(t=e.level)+"_"+(o=e.timestamp)+"_"+(a=e.seq),A.label=1;case 1:return A.trys.push([1,6,,7]),[4,this.store.getItem(t)];case 2:return(i=A.sent())?[4,this.store.removeItem(t)]:[3,5];case 3:return A.sent(),o=s.calculateMemSize(1==this.config.env?JSON.parse(i):i),a=s.calculateMemSize(t)+o,this.storeSize-=a,this.staticConfig.totalDBSize+=a,this.traceType.DB_O_DONE+=a,[4,this.refreshStoreInfo()];case 4:A.sent(),r(),A.label=5;case 5:return[3,7];case 6:return c=A.sent(),n(c),[3,7];case 7:return[2]}}))}))}))},g.prototype.refreshStoreInfo=function(){return i(this,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,this.commonStore.getItem(this.name+this.interSymbol+this.storeName)];case 1:return e.sent()?[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,{storeSize:this.storeSize,lock:0,pros:1})]:[3,3];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))},g.prototype.readStoreDataItem=function(){var e=this;return new Promise((function(t,r){return i(e,void 0,void 0,(function(){var e,i,n,o;return A(this,(function(A){switch(A.label){case 0:return A.trys.push([0,3,,4]),[4,this.store.keys()];case 1:return e=A.sent(),[4,this.store.getItem(e[0])];case 2:return i=A.sent(),n=s.analyzeKey(e[0]),t({level:o=n.level,timestamp:n.timestamp,seq:n=n.seq,content:i}),[3,4];case 3:return o=A.sent(),r(o),[3,4];case 4:return[2]}}))}))}))},g.prototype.loadDBData=function(e,t,r,n){var o=this;return new Promise((function(a,c){return i(o,void 0,void 0,(function(){var i,o,g,u,l,h,d,p,C,I;return A(this,(function(A){switch(A.label){case 0:return A.trys.push([0,6,,7]),[4,this.store.keys()];case 1:i=A.sent(),o=[],h=l=u=g=0,A.label=2;case 2:return h<i.length?n(i[h])?[3,4]:[4,this.store.getItem(i[h])]:[3,5];case 3:if(null==(d=A.sent()))return[3,4];if(p=s.analyzeKey(i[h]),o.push({level:C=p.level,timestamp:I=p.timestamp,seq:p=p.seq,content:d,key:i[h]}),C=s.calculateMemSize(d),u+=C,e<=(g+=C)&&(g=0,l++),t<=l&&r<=u)return[3,5];A.label=4;case 4:return h++,[3,2];case 5:return a({datas:o,len:u}),[3,7];case 6:return I=A.sent(),c(I),[3,7];case 7:return[2]}}))}))}))},g.prototype.sortKeys=function(e,t){void 0===t&&(t=!1),e.sort((function(e,t){return e=e.split("_"),+(t=t.split("_"))[0]-+e[0]||+t[1]-+e[1]||+t[2]-+e[2]})),t&&e.reverse()},g.prototype.saveStorage=function(e,t){try{localStorage.setItem(e,t)}catch(e){this.stateCenter._log.debug("storage set err")}},g.prototype.getStorage=function(e){try{return localStorage.getItem(e)}catch(e){this.stateCenter._log.debug("storage get err")}},g.prototype.saveDataToStorage=function(e){try{this.saveStorage(this.KEY+"_"+e.level+"_"+e.timestamp+"_"+e.seq,e.content)}catch(e){this.stateCenter._log.debug("saveDataToStorage "+JSON.stringify(e))}},g.prototype.transportStorageData=function(){for(var e=[],t=0;t<localStorage.length;t++){var r,i,A,n,o=localStorage.key(t);this.stateCenter._log.debug("transportStorageData "+o),null!=o&&o.startsWith(this.KEY)&&(A=o.replace(this.KEY+"_",""),r=(A=s.analyzeKey(A)).level,i=A.timestamp,A=A.seq,"string"==typeof(n=this.getStorage(o))&&this.storeData({level:r,timestamp:i,seq:A,content:n}),e.push(o))}setTimeout((function(){for(var t=0;t<e.length;t++)localStorage.removeItem(e[t])}),100)},t.ZegoStoreHandler=g},function(e,t,r){"use strict";var i=r(32),A=r(33).Buffer;function n(e){return function(t){if(A.isBuffer(t))return t.length;switch(typeof t){case"string":return t.length*i.STRING;case"boolean":return i.BOOLEAN;case"number":return i.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(t)?Symbol.keyFor(t).length*i.STRING:(t.toString().length-8)*i.STRING;case"object":if(Array.isArray(t))return t.map(n(e)).reduce((function(e,t){return e+t}),0);var r=e,o=t;if(null==o)return 0;for(var s=0,a=function(e){var t,r=[];for(t in e)r.push(t);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(e),Array.prototype.push.apply(r,e)),r}(o),c=0;c<a.length;c++){var g=a[c];if("object"==typeof o[g]&&null!==o[g]){if(r.has(o[g]))continue;r.add(o[g])}s+=n(r)(g);try{s+=n(r)(o[g])}catch(r){r instanceof RangeError&&(s=0)}}return s;default:return 0}}}e.exports=function(e){return n(new WeakSet)(e)}},function(e,t){e.exports={STRING:2,BOOLEAN:4,NUMBER:8}},function(e,t,r){"use strict";(function(e){var i=r(35),A=r(36),n=r(37);function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(e=null===e?new a(t):e).length=t,e}function a(e,t,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,r);if("number"!=typeof e)return c(this,e,t,r);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}function c(e,t,r,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var A=e,o=t,c=r;if(c<0||o.byteLength<c)throw new RangeError("'offset' is out of bounds");if(o.byteLength<c+(i||0))throw new RangeError("'length' is out of bounds");return o=void 0===c&&void 0===i?new Uint8Array(o):void 0===i?new Uint8Array(o,c):new Uint8Array(o,c,i),a.TYPED_ARRAY_SUPPORT?(A=o).__proto__=a.prototype:A=l(A,o),A}if("string"!=typeof t){if(c=e,a.isBuffer(i=t))return 0!==(c=s(c,o=0|h(i.length))).length&&i.copy(c,0,0,o),c;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||(o=i.length)!=o?s(c,0):l(c,i);if("Buffer"===i.type&&n(i.data))return l(c,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(A=e,i=t,a.isEncoding(e="string"==typeof(e=r)&&""!==e?e:"utf8"))return(i=(A=s(A,t=0|d(i,e))).write(i,e))!==t?A.slice(0,i):A;throw new TypeError('"encoding" must be a valid string encoding')}function g(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(g(t),e=s(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var i=0;i<r;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var r=(e="string"!=typeof e?""+e:e).length;if(0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return b(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(e).length;default:if(i)return b(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function C(e,t,r,i,A){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,(r=(r=isNaN(r)?A?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(A)return-1;r=e.length-1}else if(r<0){if(!A)return-1;r=0}if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:I(e,t,r,i,A);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(A?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):I(e,[t],r,i,A);throw new TypeError("val must be string, number or Buffer")}function I(e,t,r,i,A){var n=1,o=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o/=n=2,s/=2,r/=2}function a(e,t){return 1===n?e[t]:e.readUInt16BE(t*n)}if(A)for(var c=-1,g=r;g<o;g++)if(a(e,g)===a(t,-1===c?0:g-c)){if(g-(c=-1===c?g:c)+1===s)return c*n}else-1!==c&&(g-=g-c),c=-1;else for(g=r=o<r+s?o-s:r;0<=g;g--){for(var u=!0,l=0;l<s;l++)if(a(e,g+l)!==a(t,l)){u=!1;break}if(u)return g}return-1}function f(e,t,r,i){return R(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function E(e,t,r){r=Math.min(e.length,r);for(var i=[],A=t;A<r;){var n,o,s,a,c=e[A],g=null,u=239<c?4:223<c?3:191<c?2:1;if(A+u<=r)switch(u){case 1:c<128&&(g=c);break;case 2:128==(192&(n=e[A+1]))&&127<(a=(31&c)<<6|63&n)&&(g=a);break;case 3:o=e[A+2],128==(192&(n=e[A+1]))&&128==(192&o)&&2047<(a=(15&c)<<12|(63&n)<<6|63&o)&&(a<55296||57343<a)&&(g=a);break;case 4:o=e[A+2],s=e[A+3],128==(192&(n=e[A+1]))&&128==(192&o)&&128==(192&s)&&65535<(a=(15&c)<<18|(63&n)<<12|(63&o)<<6|63&s)&&a<1114112&&(g=a)}null===g?(g=65533,u=1):65535<g&&(i.push((g-=65536)>>>10&1023|55296),g=56320|1023&g),i.push(g),A+=u}var l=i,h=l.length;if(h<=Q)return String.fromCharCode.apply(String,l);for(var d="",p=0;p<h;)d+=String.fromCharCode.apply(String,l.slice(p,p+=Q));return d}t.Buffer=a,t.SlowBuffer=function(e){return a.alloc(+(e=+e!=e?0:e))},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,r){return c(null,e,t,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}),a.alloc=function(e,t,r){return g(e),e<=0||void 0===t?s(null,e):"string"==typeof r?s(null,e).fill(t,r):s(null,e).fill(t)},a.allocUnsafe=function(e){return u(null,e)},a.allocUnsafeSlow=function(e){return u(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,i=t.length,A=0,n=Math.min(r,i);A<n;++A)if(e[A]!==t[A]){r=e[A],i=t[A];break}return r<i?-1:i<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!n(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(A=t=0;A<e.length;++A)t+=e[A].length;for(var r=a.allocUnsafe(t),i=0,A=0;A<e.length;++A){var o=e[A];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?E(this,0,e):function(e,t,r){var A,n,o=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var s=t,a=r,c=this.length;(!a||a<0||c<a)&&(a=c);for(var g="",u=s=!s||s<0?0:s;u<a;++u)g+=(n=this[u])<16?"0"+n.toString(16):n.toString(16);return g;case"utf8":case"utf-8":return E(this,t,r);case"ascii":c=t;for(var l=r,h="",d=(l=Math.min(this.length,l),c);d<l;++d)h+=String.fromCharCode(127&this[d]);return h;case"latin1":case"binary":s=t;for(var p=r,C="",I=(p=Math.min(this.length,p),s);I<p;++I)C+=String.fromCharCode(this[I]);return C;case"base64":return f=this,A=r,0===(Q=t)&&A===f.length?i.fromByteArray(f):i.fromByteArray(f.slice(Q,A));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var f=t,Q=r,B=this.slice(f,Q),m="",y=0;y<B.length;y+=2)m+=String.fromCharCode(B[y]+256*B[y+1]);return m;default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}.apply(this,arguments)},a.prototype.equals=function(e){if(a.isBuffer(e))return this===e||0===a.compare(this,e);throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r)&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,i,A){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===A&&(A=this.length),(t=void 0===t?0:t)<0||r>e.length||i<0||A>this.length)throw new RangeError("out of range index");if(A<=i&&r<=t)return 0;if(A<=i)return-1;if(r<=t)return 1;if(this===e)return 0;for(var n=(A>>>=0)-(i>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(n,o),c=this.slice(i,A),g=e.slice(t,r),u=0;u<s;++u)if(c[u]!==g[u]){n=c[u],o=g[u];break}return n<o?-1:o<n?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return C(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return C(this,e,t,r,!1)},a.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var A=this.length-t;if((void 0===r||A<r)&&(r=A),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var n,o,s,a,c=!1;;)switch(i){case"hex":var g,u=e,l=r,h=(g=Number(t)||0,this.length-g);if((!l||h<(l=Number(l)))&&(l=h),(h=u.length)%2!=0)throw new TypeError("Invalid hex string");h/2<l&&(l=h/2);for(var d=0;d<l;++d){var p=parseInt(u.substr(2*d,2),16);if(isNaN(p))return d;this[g+d]=p}return d;case"utf8":case"utf-8":return o=r,R(b(e,(n=this).length-(h=t)),n,h,o);case"ascii":case"latin1":case"binary":return f(this,e,t,r);case"base64":return n=this,o=t,s=r,R(k(e),n,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=r,R(function(e,t){for(var r,i,A=[],n=0;n<e.length&&!((t-=2)<0);++n)i=(r=e.charCodeAt(n))>>8,A.push(r%256),A.push(i);return A}(e,this.length-(s=t)),this,s,a);default:if(c)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),c=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function m(e,t,r,i,A,n){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(A<t||t<n)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function y(e,t,r,i){t<0&&(t=65535+t+1);for(var A=0,n=Math.min(e.length-r,2);A<n;++A)e[r+A]=(t&255<<8*(i?A:1-A))>>>8*(i?A:1-A)}function v(e,t,r,i){t<0&&(t=4294967295+t+1);for(var A=0,n=Math.min(e.length-r,4);A<n;++A)e[r+A]=t>>>8*(i?A:3-A)&255}function _(e,t,r,i){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function S(e,t,r,i,n){return n||_(e,0,r,4),A.write(e,t,r,i,23,4),r+4}function w(e,t,r,i,n){return n||_(e,0,r,8),A.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){var r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(A=this.subarray(e,t)).__proto__=a.prototype;else for(var i=t-e,A=new a(i,void 0),n=0;n<i;++n)A[n]=this[n+e];return A},a.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=this[e],A=1,n=0;++n<t&&(A*=256);)i+=this[e+n]*A;return i},a.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=this[e+--t],A=1;0<t&&(A*=256);)i+=this[e+--t]*A;return i},a.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=this[e],A=1,n=0;++n<t&&(A*=256);)i+=this[e+n]*A;return(A*=128)<=i&&(i-=Math.pow(2,8*t)),i},a.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var i=t,A=1,n=this[e+--i];0<i&&(A*=256);)n+=this[e+--i]*A;return(A*=128)<=n&&(n-=Math.pow(2,8*t)),n},a.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){return t||B(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},a.prototype.readInt16BE=function(e,t){return t||B(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},a.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),A.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),A.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),A.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),A.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,i){e=+e,t|=0,r|=0,i||m(this,e,t,r,Math.pow(2,8*r)-1,0);var A=1,n=0;for(this[t]=255&e;++n<r&&(A*=256);)this[t+n]=e/A&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,i){e=+e,t|=0,r|=0,i||m(this,e,t,r,Math.pow(2,8*r)-1,0);var A=r-1,n=1;for(this[t+A]=255&e;0<=--A&&(n*=256);)this[t+A]=e/n&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):y(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):y(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):v(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):v(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,r,i){e=+e,t|=0,i||m(this,e,t,r,(i=Math.pow(2,8*r-1))-1,-i);var A=0,n=1,o=0;for(this[t]=255&e;++A<r&&(n*=256);)e<0&&0===o&&0!==this[t+A-1]&&(o=1),this[t+A]=(e/n>>0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,i){e=+e,t|=0,i||m(this,e,t,r,(i=Math.pow(2,8*r-1))-1,-i);var A=r-1,n=1,o=0;for(this[t+A]=255&e;0<=--A&&(n*=256);)e<0&&0===o&&0!==this[t+A+1]&&(o=1),this[t+A]=(e/n>>0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):y(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):y(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):v(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||m(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):v(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return w(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return w(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,i){if(r=r||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),(i=0<i&&i<r?r:i)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var A,n=(i=e.length-t<i-r?e.length-t+r:i)-r;if(this===e&&r<t&&t<i)for(A=n-1;0<=A;--A)e[A+t]=this[A+r];else if(n<1e3||!a.TYPED_ARRAY_SUPPORT)for(A=0;A<n;++A)e[A+t]=this[A+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+n),t);return n},a.prototype.fill=function(e,t,r,i){if("string"==typeof e){var A;if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length&&(A=e.charCodeAt(0))<256&&(e=A),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(!(r<=t))if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(s=t;s<r;++s)this[s]=e;else for(var n=a.isBuffer(e)?e:b(new a(e,i).toString()),o=n.length,s=0;s<r-t;++s)this[s+t]=n[s%o];return this};var D=/[^+\/0-9A-Za-z-_]/g;function b(e,t){t=t||1/0;for(var r,i=e.length,A=null,n=[],o=0;o<i;++o){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!A){if(56319<r){-1<(t-=3)&&n.push(239,191,189);continue}if(o+1===i){-1<(t-=3)&&n.push(239,191,189);continue}A=r;continue}if(r<56320){-1<(t-=3)&&n.push(239,191,189),A=r;continue}r=65536+(A-55296<<10|r-56320)}else A&&-1<(t-=3)&&n.push(239,191,189);if(A=null,r<128){if(--t<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function k(e){return i.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,i){for(var A=0;A<i&&!(A+r>=t.length||A>=e.length);++A)t[A+r]=e[A];return A}}).call(this,r(34))},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){return 3*((e=a(e))[0]+(e=e[1]))/4-e},t.toByteArray=function(e){for(var t,r=(i=a(e))[0],i=i[1],o=new n(3*(r+i)/4-i),s=0,c=0<i?r-4:r,g=0;g<c;g+=4)t=A[e.charCodeAt(g)]<<18|A[e.charCodeAt(g+1)]<<12|A[e.charCodeAt(g+2)]<<6|A[e.charCodeAt(g+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===i&&(t=A[e.charCodeAt(g)]<<2|A[e.charCodeAt(g+1)]>>4,o[s++]=255&t),1===i&&(t=A[e.charCodeAt(g)]<<10|A[e.charCodeAt(g+1)]<<4|A[e.charCodeAt(g+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o},t.fromByteArray=function(e){for(var t,r=e.length,A=r%3,n=[],o=0,s=r-A;o<s;o+=16383)n.push(function(e,t){for(var r,A=[],n=o;n<t;n+=3)A.push(i[(r=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return A.join("")}(e,s<o+16383?s:o+16383));return 1==A?n.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2==A&&n.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),n.join("")};for(var i=[],A=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=o[s],A[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=(e=-1===(e=e.indexOf("="))?t:e)===t?0:4-e%4,[e,t]}A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,i,A){var n,o,s=8*A-i-1,a=(1<<s)-1,c=a>>1,g=-7,u=r?A-1:0,l=r?-1:1;for(A=e[t+u],u+=l,n=A&(1<<-g)-1,A>>=-g,g+=s;0<g;n=256*n+e[t+u],u+=l,g-=8);for(o=n&(1<<-g)-1,n>>=-g,g+=i;0<g;o=256*o+e[t+u],u+=l,g-=8);if(0===n)n=1-c;else{if(n===a)return o?NaN:1/0*(A?-1:1);o+=Math.pow(2,i),n-=c}return(A?-1:1)*o*Math.pow(2,n-i)},t.write=function(e,t,r,i,A,n){var o,s,a=8*n-A-1,c=(1<<a)-1,g=c>>1,u=23===A?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:n-1,h=i?1:-1;for(n=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-o))<1&&(o--,i*=2),2<=(t+=1<=o+g?u/i:u*Math.pow(2,1-g))*i&&(o++,i/=2),c<=o+g?(s=0,o=c):1<=o+g?(s=(t*i-1)*Math.pow(2,A),o+=g):(s=t*Math.pow(2,g-1)*Math.pow(2,A),o=0));8<=A;e[r+l]=255&s,l+=h,s/=256,A-=8);for(o=o<<A|s,a+=A;0<a;e[r+l]=255&o,l+=h,o/=256,a-=8);e[r+l-h]|=128*n}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},A=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.PendingQueue=void 0,r(0)),o=r(5);function s(e,t,r,i){var A=this;this.levels=e,this.product=t,this.staticConfig=r,this.stateCenter=i,this.byteLength=0,this.size=0,this.pendingDataSize=0,this.cacheMap=new Map,e.forEach((function(e){A.cacheMap.set(e,new n.Queue)}))}s.prototype.enqueue=function(e,t){(t=this.cacheMap.get(t))&&!t.all().find((function(t){return t.content==e.content}))&&(t.enqueue(e),t=o.calculateMemSize(e.content),this.pendingDataSize+=t,this.size++,this.staticConfig.totalAvailCache-=t,this.enCallback)&&this.enCallback(this.byteLength,this.size,this.pendingDataSize)},s.prototype.dequeue=function(e){return e=null==(e=this.cacheMap.get(e))?void 0:e.dequeue(),this.size--,this.deCallback&&this.deCallback(),e},s.prototype.findInQueue=function(e){var t=null==(t=this.cacheMap.get(e.level))?void 0:t.all();return null==t?void 0:t.find((function(t){return t.key===e.key}))},s.prototype.readReportData=function(e){var t=A(this.cacheMap.entries());return t=this.readData(t,e,!0),this.reset(),{totalLen:t.totalLen,reportDataArr:t.resArr}},s.prototype.readStoreData=function(e){e=Math.ceil(this.pendingDataSize*e);var t=A(this.cacheMap.entries()).reverse();return t=this.readData(t,e,!1),this.refresh(t.totalLen),{totalLen:t.totalLen,storeArr:t.resArr}},s.prototype.readData=function(e,t,r){var A=[],n=0;e:for(var s=0;s<e.length;s++)for(var a=i(e[s],2),c=a[0],g=a[1];g.size();){var u=this.dequeue(c);if(A.push(u),t<(n+=o.calculateMemSize(u.content)))break e}return{totalLen:n,resArr:A}},s.prototype.decodeReportData=function(e){var t=this;e.forEach((function(e){t.enqueue(e,e.level)}))},s.prototype.setListener=function(e){this.enCallback=e.enCallback,this.deCallback=e.deCallback},s.prototype.getPendingDataInfo=function(){return{pendingDataSize:this.pendingDataSize,size:this.size}},s.prototype.refresh=function(e){this.pendingDataSize-=e,this.staticConfig.totalAvailCache+=e},s.prototype.reset=function(){this.byteLength=0},t.PendingQueue=s},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},A=this&&this.__generator||function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var a=[o,s];if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(A=2&a[0]?i.return:a[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,a[1])).done)return A;switch(i=0,(a=A?[2&a[0],A.value]:a)[0]){case 0:case 1:A=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(A=0<(A=n.trys).length&&A[A.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!A||a[1]>A[0]&&a[1]<A[3]))n.label=a[1];else if(6===a[0]&&n.label<A[1])n.label=A[1],A=a;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(a)}}a=t.call(e,n)}catch(s){a=[6,s],i=0}finally{r=A=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.loadJS=void 0,r(40));function o(e,t,r){return(e=n.decrypt(e,t))&&n.hashMd5(e)===r?e:""}t.loadJS=function(e,t,r,n,s,a,c){var g=this;return new Promise((function(u,l){return i(g,void 0,void 0,(function(){var g,h,d,p,C;return A(this,(function(I){switch(I.label){case 0:if(g="dy",e)return[3,7];I.label=1;case 1:return I.trys.push([1,5,,6]),[4,t.getItem("code")];case 2:return h=I.sent(),[4,t.getItem("key")];case 3:return d=I.sent(),[4,t.getItem("hash")];case 4:p=I.sent();var f=o(h,d,p)||a,E=g,Q=c,B=document.getElementsByTagName("HEAD").item(0),m=document.createElement("script");m.language="javascript",m.type="text/javascript",m.id=E,m.param=Q;try{m.appendChild(document.createTextNode(f))}catch(E){m.text=f}return B.appendChild(m),u(),[3,6];case 5:return I.sent(),l(),[3,6];case 6:return[2];case 7:if(window.ActiveXObject)try{C=new ActiveXObject("Msxml2.XMLHTTP")}catch(I){C=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(C=new XMLHttpRequest);return C.open("GET",r,!0),C.send(null),C.onreadystatechange=function(){return i(this,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:if(4!=C.readyState)return[3,10];if(!(200<=C.status&&C.status<300||0==C.status||304==C.status))return[3,8];e.label=1;case 1:return e.trys.push([1,6,,7]),o(C.responseText,n,s)?[4,t.setItem("code",C.responseText)]:[3,5];case 2:return e.sent(),[4,t.setItem("key",n)];case 3:return e.sent(),[4,t.setItem("hash",s)];case 4:e.sent(),e.label=5;case 5:return u(),[3,7];case 6:return e.sent(),l(),[3,7];case 7:return[2];case 8:return l(),[2];case 9:return[3,11];case 10:case 11:return[2]}}))}))},[2]}}))}))}))}},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},A=(Object.defineProperty(t,"__esModule",{value:!0}),t.hashMd5=t.decrypt=void 0,i(r(41))),n=i(r(42)),o=i(r(43));t.decrypt=function(e,t){var r="";try{r=n.default.decrypt(e,t).toString(o.default)}catch(e){}return r},t.hashMd5=function(e){return A.default(e).toString()}},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=s},function(e,t,r){"use strict";function i(){this.logLevel=t.ENUM_LOG_LEVEL.DISABLE}Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLog=t.ENUM_LOG_LEVEL=void 0,t.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},i.prototype.setLogLevel=function(e){return void 0!==(e=t.ENUM_LOG_LEVEL[e])&&(this.logLevel=e,!0)},i.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.join(" ");this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=t.ENUM_LOG_LEVEL.DEBUG&&console.debug(i)},i.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.join(" ");this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=t.ENUM_LOG_LEVEL.INFO&&console.log(i)},i.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.join(" ");this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=t.ENUM_LOG_LEVEL.INFO&&console.info(i)},i.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.join(" ");this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=t.ENUM_LOG_LEVEL.WARN&&console.warn(i)},i.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.join(" ");this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=t.ENUM_LOG_LEVEL.ERROR&&console.error(i)},t.ZegoLog=i},function(e,t,r){"use strict";function i(e){this.logger=e,this._log=e}Object.defineProperty(t,"__esModule",{value:!0}),t.StateCenter=void 0,i.prototype.isLogin=function(){return!0},t.StateCenter=i},function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},A=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicCode=void 0,r(3));function o(){this.init()}o.prototype.init=function(){window.dyObj={}},o.prototype.runExecution=function(e,t,r){e=new(Function.bind.apply(Function,A([void 0],e,[r])));try{e.apply(void 0,A(t))}catch(e){n.log.error(e)}},t.DynamicCode=o}],c={},i.m=a,i.c=c,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var A in e)i.d(r,A,function(t){return e[t]}.bind(null,A));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=13))},function(e,r){e.exports=t},function(e,t,r){var i,A,n,o,s;e.exports=(e=r(1),r(16),r(17),i=(n=(r=e).lib).Base,A=n.WordArray,o=(n=r.algo).MD5,s=n.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,i=this.cfg,n=i.hasher.create(),o=A.create(),s=o.words,a=i.keySize,c=i.iterations;s.length<a;){r&&n.update(r),r=n.update(e).finalize(t),n.reset();for(var g=1;g<c;g++)r=n.finalize(r),n.reset();o.concat(r)}return o.sigBytes=4*a,o}}),r.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)},e.EvpKDF)},function(e,t,r){function i(e){var t;return(s[e]||(t=s[e]={i:e,l:!1,exports:{}},o[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var A,n,o,s;e.exports=(A=r(0),n=r(2),o=[function(e,t){e.exports=A},function(e,t){e.exports=n},function(e,t,r){"use strict";var i,A,n,o,s,a,c,g;r.r(t),r.d(t,"ZegoConnectionAgent",(function(){return _e})),r.d(t,"NetAgentPCRequest",(function(){return pe})),r.d(t,"NetAgentHttpRequest",(function(){return Be})),r.d(t,"BusinessService",(function(){return n})),r.d(t,"BrokenType",(function(){return p})),r.d(t,"NET_ACCESS_CONFIG",(function(){return ae})),r.d(t,"ConnectedType",(function(){return d})),r.d(t,"DisconnectedType",(function(){return h})),r.d(t,"Mode",(function(){return s})),r.d(t,"Method",(function(){return l})),(t=i=i||{})[t.offline=0]="offline",t[t.online=1]="online",(t=A=A||{})[t.MSG_TYPE_STREAM_CLOSED=2]="MSG_TYPE_STREAM_CLOSED",t[t.MSG_TYPE_CLOSE_CONNECTION=3]="MSG_TYPE_CLOSE_CONNECTION",t[t.MSG_TYPE_HTTP_REQUEST=4]="MSG_TYPE_HTTP_REQUEST",t[t.MSG_TYPE_HTTP_RESPONSE=5]="MSG_TYPE_HTTP_RESPONSE",t[t.MSG_TYPE_HB_REQUEST=12]="MSG_TYPE_HB_REQUEST",t[t.MSG_TYPE_HB_RESPONSE=13]="MSG_TYPE_HB_RESPONSE",t[t.MSG_TYPE_GET_CONFIG_REQUEST=14]="MSG_TYPE_GET_CONFIG_REQUEST",t[t.MSG_TYPE_GET_CONFIG_RESPONSE=15]="MSG_TYPE_GET_CONFIG_RESPONSE",t[t.MSG_TYPE_HTTP_REQUEST_ACK=16]="MSG_TYPE_HTTP_REQUEST_ACK",t[t.MSG_TYPE_PC_UPWARD_MESSAGE=17]="MSG_TYPE_PC_UPWARD_MESSAGE",t[t.MSG_TYPE_PC_UPWARD_MESSAGE_ACK=18]="MSG_TYPE_PC_UPWARD_MESSAGE_ACK",t[t.MSG_TYPE_PC_ESTABLISHED=19]="MSG_TYPE_PC_ESTABLISHED",t[t.MSG_TYPE_PC_BROKEN=20]="MSG_TYPE_PC_BROKEN",t[t.MSG_TYPE_PC_DOWNWARD_MESSAGE=21]="MSG_TYPE_PC_DOWNWARD_MESSAGE",t[t.MSG_TYPE_REDIRECT=22]="MSG_TYPE_REDIRECT",t[t.MSG_TYPE_GET_APPCONFIG_REQUEST=23]="MSG_TYPE_GET_APPCONFIG_REQUEST",t[t.MSG_TYPE_GET_APPCONFIG_RESPONSE=24]="MSG_TYPE_GET_APPCONFIG_RESPONSE",t[t.MSG_TYPE_PUSH_APPCONFIG=25]="MSG_TYPE_PUSH_APPCONFIG",t[t.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST=26]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST",t[t.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE=27]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE",t[t.MSG_TYPE_PUSH_EXCEPTION=30]="MSG_TYPE_PUSH_EXCEPTION",t[t.MSG_TYPE_HTTP_REQUEST2=33]="MSG_TYPE_HTTP_REQUEST2",t[t.MSG_TYPE_REDIRECT2=34]="MSG_TYPE_REDIRECT2",t[t.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2=35]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2",t[t.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2=36]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2",t[t.MSG_TYPE_GET_SVRADDR_REQUEST=39]="MSG_TYPE_GET_SVRADDR_REQUEST",t[t.MSG_TYPE_GET_SVRADDR_RESPONSE=40]="MSG_TYPE_GET_SVRADDR_RESPONSE",(t=f=f||{})[t.ACCESSHUB_INVALID_FRAME=2e4]="ACCESSHUB_INVALID_FRAME",t[t.ACCESSHUB_NEED_ENCRYPT=20001]="ACCESSHUB_NEED_ENCRYPT",t[t.ACCESSHUB_DECRYPT=20002]="ACCESSHUB_DECRYPT",t[t.ACCESSHUB_MSGTYPE=20003]="ACCESSHUB_MSGTYPE",t[t.ACCESSHUB_UNMARSHAL=20004]="ACCESSHUB_UNMARSHAL",t[t.ACCESSHUB_TIMEOUT=20005]="ACCESSHUB_TIMEOUT",t[t.ACCESSHUB_CONNECT=20006]="ACCESSHUB_CONNECT",t[t.ACCESSHUB_BROKEN=20007]="ACCESSHUB_BROKEN",t[t.ACCESSHUB_INTERNAL_ERROR=20008]="ACCESSHUB_INTERNAL_ERROR",t[t.ACCESSHUB_MARSHAL=20009]="ACCESSHUB_MARSHAL",t[t.ACCESSHUB_UNSUPPORTED_SERVICE=20010]="ACCESSHUB_UNSUPPORTED_SERVICE",t[t.ACCESSHUB_TOO_FREQUENTLY=20011]="ACCESSHUB_TOO_FREQUENTLY",t[t.ACCESSHUB_INVALID_APPID=20012]="ACCESSHUB_INVALID_APPID",t[t.ACCESSHUB_HB_TIMEOUT=20013]="ACCESSHUB_HB_TIMEOUT",t[t.ACCESSHUB_INVALID_SIGNATURE=20014]="ACCESSHUB_INVALID_SIGNATURE",(t=n=n||{})[t.SERVICE_UNSET=0]="SERVICE_UNSET",t[t.SERVICE_MEDIAGW=1]="SERVICE_MEDIAGW",t[t.SERVICE_LIVEROOM=2]="SERVICE_LIVEROOM",t[t.SERVICE_MIX=3]="SERVICE_MIX",t[t.SERVICE_ZEUS=4]="SERVICE_ZEUS",t[t.SERVICE_ZPUSH=5]="SERVICE_ZPUSH",t[t.SERVICE_L3=6]="SERVICE_L3",t[t.SERVICE_TALKLINE=7]="SERVICE_TALKLINE",t[t.SERVICE_EDUSUITE=8]="SERVICE_EDUSUITE",t[t.SERVICE_ZIM=9]="SERVICE_ZIM",t[t.SERVICE_ClOUD_SETTING=10]="SERVICE_ClOUD_SETTING",t[t.SERVICE_ZEUSHB=11]="SERVICE_ZEUSHB",t[t.SERVICE_USER_LOGIC=12]="SERVICE_USER_LOGIC",t[t.SERVICE_UNIFYDISPATCH=13]="SERVICE_UNIFYDISPATCH",t[t.SERVICE_QUALITY=14]="SERVICE_QUALITY",t[t.SERVICE_SECURITY=15]="SERVICE_SECURITY",t[t.SERVICE_KTVCPR=16]="SERVICE_KTVCPR",t[t.SERVICE_SWITCH4LIVEROOM=17]="SERVICE_SWITCH4LIVEROOM",t[t.SERVICE_WEBRTC_SIGNAL=18]="SERVICE_WEBRTC_SIGNAL",t[t.SERVICE_L3_WEBRTC_SIGNAL=19]="SERVICE_L3_WEBRTC_SIGNAL",t[t.SERVICE_VIDEOCPR=20]="SERVICE_VIDEOCPR",t[t.SERVICE_CDN=21]="SERVICE_CDN",t[t.SERVICE_CLOUDRECORD=22]="SERVICE_CLOUDRECORD",t[t.SERVICE_INNER_ECHO=23]="SERVICE_INNER_ECHO",t[t.SERVICE_OUTER_ECHO=24]="SERVICE_OUTER_ECHO",t[t.SERVICE_LOCALHOST_ECHO=25]="SERVICE_LOCALHOST_ECHO",t[t.SERVICE_ECHO=26]="SERVICE_ECHO",t[t.SERVICE_DOCSERVICE=27]="SERVICE_DOCSERVICE",t[t.SERVICE_AUTHSVR=28]="SERVICE_AUTHSVR",(t=o=o||{})[t.ZEGOCONN_RUN_ENV_UNSET=0]="ZEGOCONN_RUN_ENV_UNSET",t[t.ZEGOCONN_RUN_ENV_BROWSER=1]="ZEGOCONN_RUN_ENV_BROWSER",t[t.ZEGOCONN_RUN_ENV_APPLET=2]="ZEGOCONN_RUN_ENV_APPLET",(t=s=s||{})[t.Mode_UNSET=0]="Mode_UNSET",t[t.MODE_ONLINE=1]="MODE_ONLINE",t[t.MODE_TEST=2]="MODE_TEST",t[t.MODE_ALPHA=3]="MODE_ALPHA",(t=a=a||{})[t.HTTP=0]="HTTP",t[t.PC=1]="PC",t[t.OTHER=2]="OTHER",(t=c=c||{})[t.NONE=0]="NONE",t[t.BROKEN=1]="BROKEN",t[t.DISCONNECT=2]="DISCONNECT",(t=g=g||{})[t.CONNECTED=0]="CONNECTED",t[t.DISCONNECT=1]="DISCONNECT",t[t.BROKEN=2]="BROKEN";var u,l,h,d,p,C=[f.ACCESSHUB_INVALID_APPID,f.ACCESSHUB_INVALID_SIGNATURE],I=((t=u=u||{})[t.ACTION_RESERVED=0]="ACTION_RESERVED",t[t.ACTION_DISPATCH=1]="ACTION_DISPATCH",t[t.ACTION_RETRY=2]="ACTION_RETRY",t[t.ACTION_NEXT_NODE=3]="ACTION_NEXT_NODE",t[t.ACTION_ABORT=4]="ACTION_ABORT",t[t.ACTION_NEXT_GROUP=5]="ACTION_NEXT_GROUP",(f=l=l||{})[f.METHOD_UNSET=0]="METHOD_UNSET",f[f.METHOD_GET=1]="METHOD_GET",f[f.METHOD_POST=2]="METHOD_POST",f[f.METHOD_PUT=3]="METHOD_PUT",f[f.METHOD_PATCH=4]="METHOD_PATCH",f[f.METHOD_DELETE=5]="METHOD_DELETE",f[f.METHOD_HEAD=6]="METHOD_HEAD",f[f.METHOD_OPTIONS=7]="METHOD_OPTIONS",(t=h=h||{})[t.CLOSE=0]="CLOSE",t[t.TEMP=1]="TEMP",t[t.TIMEOUT=2]="TIMEOUT",(f=d=d||{})[f.AUTO=0]="AUTO",f[f.MANUAL=1]="MANUAL",(t=p=p||{})[t.EMPTY=0]="EMPTY",t[t.CLOSE=1]="CLOSE",{2:"stream_closed",3:"close_connection",4:"http_request",5:"http_response",12:"hb_request",13:"hb_response",14:"get_config_request",15:"get_config_response",16:"http_request_ack",17:"pc_upward_message",18:"pc_upward_message_ack",19:"pc_established",20:"pc_broken",21:"pc_downward_message",22:"redirect",23:"get_appconfig_request",24:"get_appconfig_response",25:"push_appconfig",26:"accesshub_dispatch_request",27:"accesshub_dispatch_response",30:"push_exception",33:"http_request2",34:"redirect2",35:"accesshub_dispatch_request2",36:"accesshub_dispatch_response2",39:"get_svraddr_request",40:"get_svraddr_response"}),f=r(0),E=r.n(f),Q=(t=r(1),r(1));const B=Q.roots.default||(Q.roots.default={}),m=r(0);Q.util.Long=m,Q.util.Long.fromBits=Q.util.Long?Q.util.Long.fromBits:function(){return 0};for(var y=Q.types?Q.types.basic:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0,string:2,bytes:2},v=Q.types?Q.types.packed:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0},_=Object.keys(y),S={$:function(e){return S[e]?S[e].call(this):B[e].decode?B[e].decode(this,this.uint32()):S.$.call(this,"int32")}},w={$:function(e,t,r){var i=y[e];return void 0===i?B[e].encode?(this.uint32((r<<3|2)>>0).fork(),B[e].encode(t,this).ldelim()):w.$.call(this,"int32",t,r):w[e].call(this.uint32(r<<3|i),t)}},D=0;D<_.length;D++)S[_[D]]=Q.Reader.prototype[_[D]],w[_[D]]=Q.Writer.prototype[_[D]];!function e(t,r,i,A){for(var n=0,o=Object.keys(t);n<o.length;n++){var s=o[n];if(t[s].$m&&Object.keys(t[s].$m).every((function(e){return Number(e)}))){if(i[s])throw Error(`nested type ${i}.${s} has already exist`);i[s]=function(t,i){function A(e){for(var r in t)"{"===(r=t[r])[1].charAt(0)?this[r[0]]={}:"["!==r[1].charAt(0)&&"<"!==r[1].charAt(0)||(this[r[0]]=[]);if(e)for(var i=Object.keys(e),A=0;A<i.length;++A)null!=e[i[A]]&&(this[i[A]]=e[i[A]])}var n,o={};for(n in t){var s=t[n],a=s[1];"{"===a.charAt(0)?(A.prototype[s[0]]=Q.util.emptyObject,o[a]={$m:a.substring(1).split(",").map((function(e,t){return["$"+(t+1),e,null]})).reduce((function(e,t,r){return e[r+1]=t,e}),{})}):A.prototype[s[0]]="["===a.charAt(0)||"<"===a.charAt(0)?Q.util.emptyArray:"bytes"===a?Q.util.newBuffer([]):s[2]&&s[2].hasOwnProperty("low")&&s[2].hasOwnProperty("high")?Q.util.Long.fromBits(s[2].low,s[2].high,s[2].unsigned):s[2]}return A.decode=function(e,r){e instanceof Q.Reader||(e=Q.Reader.create(e));for(var i=void 0===r?e.len:e.pos+r,n=new A;e.pos<i;){var o=e.uint32(),s=o>>>3;if(0<s&&t[s]){var a=t[s][0],c=t[s][1];if("{"===c.charAt(0))n[a]===Q.util.emptyObject&&(n[a]={}),s=A.$namespace[c].decode(e,e.uint32()),n[a][s.$1]=s.$2;else if("["===c.charAt(0)||"<"===c.charAt(0))if(c=c.substring(1),n[a]&&n[a].length||(n[a]=[]),void 0!==v[c]&&2==(7&o))for(var g=e.uint32()+e.pos;e.pos<g;)n[a].push(S.$.call(e,c));else n[a].push(S.$.call(e,c));else n[a]=S.$.call(e,c)}else e.skipType(7&o)}return n},A.encode=function(e,r){for(var i in r=r||Q.Writer.create(),t){var n=t[i][0];if("{"===(c=t[i][1]).charAt(0)){if(null!=e[n]&&e.hasOwnProperty(n))for(var o=0,s=Object.keys(e[n]);o<s.length;++o)r.uint32((i<<3|2)>>0).fork(),A.$namespace[c].encode({$1:s[o],$2:e[n][s[o]]},r).ldelim()}else if("["===c.charAt(0)||"<"===c.charAt(0)){var a="<"===c.charAt(0),c=c.substring(1),g=e[n];if(null!=g&&g.length)if(a&&void 0!==v[c]){for(r.uint32((i<<3|2)>>0).fork(),o=0;o<g.length;o++)w[c].call(r,g[o]);r.ldelim()}else for(o=0;o<g.length;o++)w.$.call(r,c,g[o],i)}else null!=e[n]&&e.hasOwnProperty(n)&&w.$.call(r,c,e[n],i)}return r},Object.keys(o).length&&(A.$namespace=e(o,r+"."+i,A.$namespace||{},!0)),A}(t[s].$m,s)}else t[s].$s?i[s]=function(e,t){function i(e,t,r){Q.rpc.Service.call(this,e,t,r)}return(i.prototype=Object.create(Q.rpc.Service.prototype)).constructor=i,Object.keys(e).forEach((function(A){var n=e[A];function o(e,t){return this.rpcCall(o,B[n[0]],B[n[1]],e,t)}Object.defineProperty(o,"name",{value:A}),Object.defineProperty(o,"path",{value:r+"."+t}),i.prototype[A]=o})),i}(t[s].$s,s):t[s].$e&&Object.values(t[s].$e).every((function(e){return Number(e)===e}))&&(i[s]=function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[r[t[i]]=e[t[i]]]=t[i];return r}(t[s].$e));i[s]&&!A&&(B[r+"."+s]=i[s]),delete t[s].$m,delete t[s].$s,delete t[s].$e,i[s]=e(t[s],r?r+"."+s:s,i[s]||{})}return i}({PB:{proto_accesshub:{AccesshubAddr:{$m:{1:["ipv4","fixed32",0],2:["ipv6","PB.proto_accesshub.IPV6Addr",null],3:["quic_port","uint32",0],4:["wss_port","uint32",0]}},AccesshubDispatchGroup:{$m:{1:["group","string",""],2:["quic_nodes","<string",null],3:["mtcp_nodes","<string",null],4:["wss_nodes","<string",null]}},AccesshubDispatchGroup2:{$m:{1:["group","string",""],2:["nodes","<PB.proto_accesshub.AccesshubAddr",null],3:["nodes_dual","<PB.proto_accesshub.AccesshubAddr",null]}},AccesshubDispatchRequest2:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode_no","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["sdk_type","PB.proto_accesshub.SdkType",0],7:["zegoconn_version","uint32",0],8:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],9:["device_id","string",""],10:["client_ip","string",""],11:["geofencing_type","uint32",0],12:["geofencings","[uint32",null],13:["addr_type","uint32",0]}},AccesshubDispatchResponse2:{$m:{1:["code","int32",0],2:["message","string",""],3:["data","PB.proto_accesshub.AccesshubDispatchResponseData2",null]}},AccesshubDispatchResponseData2:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["rand","string",""],3:["secret","string",""],4:["groups","<PB.proto_accesshub.AccesshubDispatchGroup2",null],5:["wss_groups","<PB.proto_accesshub.WssAccesshubDispatchGroup",null],6:["ttl","uint32",0]}},BackendConnType:{$e:{BACKEND_CONN_TYPE_UNSET:0,BACKEND_CONN_TYPE_TCP:1,BACKEND_CONN_TYPE_WSS:2}},CloseConnection:{$m:{1:["reason","int32",0],2:["msg","string",""],3:["action","int32",0]},Action:{$e:{ACTION_RESERVED:0,ACTION_DISPATCH:1,ACTION_RETRY:2,ACTION_NEXT_NODE:3,ACTION_ABORT:4,ACTION_NEXT_GROUP:5}}},ConnectionClosed:{$m:{1:["code","int32",0],2:["msg","string",""]}},ErrorCode:{$e:{OK:0,DISPATCH_NO_AVAILABLE_NODE:1e4,DISPATCH_INTERNAL_ERROR:10001,DISPATCH_INVALID_FRAME:10002,DISPATCH_UNMARSHAL:10003,DISPATCH_MSGTYPE:10004,DISPATCH_MARSHAL:10005,DISPATCH_TOO_FREQUENTLY:10006,DISPATCH_EMPTY_GEOFENCING:10007,ACCESSHUB_INVALID_FRAME:2e4,ACCESSHUB_NEED_ENCRYPT:20001,ACCESSHUB_DECRYPT:20002,ACCESSHUB_MSGTYPE:20003,ACCESSHUB_UNMARSHAL:20004,ACCESSHUB_TIMEOUT:20005,ACCESSHUB_CONNECT:20006,ACCESSHUB_BROKEN:20007,ACCESSHUB_INTERNAL_ERROR:20008,ACCESSHUB_MARSHAL:20009,ACCESSHUB_UNSUPPORTED_SERVICE:20010,ACCESSHUB_TOO_FREQUENTLY:20011,ACCESSHUB_INVALID_APPID:20012,ACCESSHUB_HB_TIMEOUT:20013,ACCESSHUB_INVALID_SIGNATURE:20014,ACCESSHUB_AUTH_FAILED:20015,ACCESSHUB_UNSUPPORTED_INTERFACE:20016,ACCESSHUB_EMPTY_GEOFENCING:20017,ACCESSHUB_ACCESS_DENIED:20018,ACCESSHUB_SPECIAL_CUSTOMER:20019,ACCESSHUB_GET_STREAM_FAILED:3e4,ACCESSHUB_GET_CONN_FAILED:30001,ACCESSHUB_DO_HTTP_REQUEST_FAILED:30002,ACCESSHUB_UNMARSHAL_HB_FAILED:30003,ACCESSHUB_DO_BACKEND_DISPATCH_FAILED:30004}},GeoFencing:{$e:{CN:2,NA:3,EU:4,AS:5,IN:6,NCN:7}},GeoFencingType:{$e:{NONE:0,UNION:1,EXCLUDE:2}},GetAppConfigRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode_no","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["config_key","string",""],7:["ts","uint64",{low:0,high:0,unsigned:!0}],8:["signature","bytes",[]],9:["lite_sign","string",""],10:["token","string",""],11:["sdk_type","PB.proto_accesshub.SdkType",0],12:["zegoconn_version","uint32",0],13:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],14:["device_id","string",""],15:["etag","uint32",0],16:["is_special_customer","uint32",0]}},GetAppConfigResponse:{$m:{1:["code","int32",0],2:["message","string",""],3:["data","PB.proto_accesshub.GetAppConfigResponseData",null]}},GetAppConfigResponseData:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["data","bytes",[]],3:["ts","uint64",{low:0,high:0,unsigned:!0}],4:["etag","uint32",0]}},GetConfigRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode","string",""],5:["id_name","string",""],6:["reqid","string",""],7:["zegoconn_version","uint32",0],8:["sdk_type","PB.proto_accesshub.SdkType",0],9:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],10:["device_id","string",""],11:["mode_no","PB.proto_accesshub.Mode",0],12:["geofencing_type","uint32",0],13:["geofencings","[uint32",null]}},GetConfigResponse:{$m:{1:["code","int32",0],2:["message","string",""],3:["data","PB.proto_accesshub.GetConfigResponseData",null]}},GetConfigResponseData:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["quic_hb_interval","uint32",0],3:["quic_hb_timeout","uint32",0],4:["logic_hb_interval","uint32",0],5:["logic_hb_timeout","uint32",0],6:["pc_establish_timeout","uint32",0],7:["sdk_link_detect_interval","uint32",0],8:["sdk_link_detect_duration","uint32",0],9:["client_outer_ip","string",""],10:["ntp_time","uint64",{low:0,high:0,unsigned:!0}],11:["root_rsa_certs_ver","uint32",0],12:["geofencing_id","uint32",0],13:["svraddr_ver","uint32",0],14:["root_ecc_certs_ver","uint32",0]}},HBRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["ts","int64",{low:0,high:0,unsigned:!1}]}},HBResponse:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["ts","int64",{low:0,high:0,unsigned:!1}],3:["ntp_time","uint64",{low:0,high:0,unsigned:!0}]}},HTTPRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode","string",""],5:["id_name","string",""],6:["reqid","string",""],7:["stick","string",""],8:["service","string",""],9:["location","string",""],10:["method","string",""],11:["headers","<PB.proto_accesshub.HTTPRequest.HTTPHeader",null],12:["body","bytes",[]],13:["ack","bool",!1],14:["mode_no","PB.proto_accesshub.Mode",0],15:["service_no","PB.proto_accesshub.Service",0],16:["method_no","PB.proto_accesshub.Method",0],17:["sdk_type","PB.proto_accesshub.SdkType",0],18:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],19:["zegoconn_version","uint32",0],20:["device_id","string",""],21:["reduce_resp_header","uint32",0]},HTTPHeader:{$m:{1:["name","string",""],2:["val","string",""]}}},HTTPRequest2:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["sdk_type","PB.proto_accesshub.SdkType",0],7:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],8:["zegoconn_version","uint32",0],9:["headers","<PB.proto_accesshub.HTTPRequest.HTTPHeader",null],10:["method","PB.proto_accesshub.Method",0],11:["interface_id","uint32",0],12:["res_id","string",""],13:["params","string",""],14:["body","bytes",[]],15:["ack","bool",!1],16:["device_id","string",""],17:["ts","uint64",{low:0,high:0,unsigned:!0}],18:["signature","bytes",[]],19:["token","string",""],20:["lite_sign","string",""],21:["reduce_resp_header","uint32",0]}},HTTPRequestAck:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}]}},HTTPRequestDroped:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["reason","int32",0],3:["msg","string",""]}},HTTPResponse:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["headers","<PB.proto_accesshub.HTTPRequest.HTTPHeader",null],3:["status_code","int32",0],4:["body","bytes",[]]}},IPAddr:{$m:{1:["ipv4","fixed32",0],2:["ipv6","PB.proto_accesshub.IPV6Addr",null]}},IPV6Addr:{$m:{1:["high","fixed64",{low:0,high:0,unsigned:!1}],2:["low","fixed64",{low:0,high:0,unsigned:!1}]}},MessageType:{$e:{MSG_TYPE_EMPTY:0,MSG_TYPE_CONNECTION_CLOSED:1,MSG_TYPE_STREAM_CLOSED:2,MSG_TYPE_CLOSE_CONNECTION:3,MSG_TYPE_HTTP_REQUEST:4,MSG_TYPE_HTTP_RESPONSE:5,MSG_TYPE_HTTP_REQUEST_DROPED:6,MSG_TYPE_PROXY_CONNECT:7,MSG_TYPE_PROXY_CONNECTED:8,MSG_TYPE_PROXY_CONNECTION_CLOSED:9,MSG_TYPE_PROXY_SEND_DATA:10,MSG_TYPE_PROXY_RECV_DATA:11,MSG_TYPE_HB_REQUEST:12,MSG_TYPE_HB_RESPONSE:13,MSG_TYPE_GET_CONFIG_REQUEST:14,MSG_TYPE_GET_CONFIG_RESPONSE:15,MSG_TYPE_HTTP_REQUEST_ACK:16,MSG_TYPE_PC_UPWARD_MESSAGE:17,MSG_TYPE_PC_UPWARD_MESSAGE_ACK:18,MSG_TYPE_PC_ESTABLISHED:19,MSG_TYPE_PC_BROKEN:20,MSG_TYPE_PC_DOWNWARD_MESSAGE:21,MSG_TYPE_REDIRECT:22,MSG_TYPE_GET_APPCONFIG_REQUEST:23,MSG_TYPE_GET_APPCONFIG_RESPONSE:24,MSG_TYPE_PUSH_APPCONFIG:25,MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST:26,MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE:27,MSG_TYPE_GET_IM_CONFIG_REQUEST:28,MSG_TYPE_GET_IM_CONFIG_RESPONSE:29,MSG_TYPE_PUSH_EXCEPTION:30,MSG_TYPE_RESOLVE_DOMAIN_REQUEST:31,MSG_TYPE_RESOLVE_DOMAIN_RESPONSE:32,MSG_TYPE_HTTP_REQUEST2:33,MSG_TYPE_REDIRECT2:34,MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2:35,MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2:36,MSG_TYPE_GET_ROOTCERTS_REQUEST:37,MSG_TYPE_GET_ROOTCERTS_RESPONSE:38,MSG_TYPE_GET_SVRADDR_REQUEST:39,MSG_TYPE_GET_SVRADDR_RESPONSE:40,MSG_TYPE_UA_DISPATCH_REQUEST:50,MSG_TYPE_UA_DISPATCH_RESPONSE:51,MSG_TYPE_UA_ECHO_REQUEST:52,MSG_TYPE_UA_ECHO_RESPONSE:53,MSG_TYPE_NODE_REGISTER_REQUEST:100,MSG_TYPE_NODE_REGISTER_RESPONSE:101,MSG_TYPE_NODE_HB_REQUEST:102,MSG_TYPE_NODE_HB_RESPONSE:103}},Method:{$e:{METHOD_UNSET:0,METHOD_GET:1,METHOD_POST:2,METHOD_PUT:3,METHOD_PATCH:4,METHOD_DELETE:5,METHOD_HEAD:6,METHOD_OPTIONS:7}},Mode:{$e:{Mode_UNSET:0,MODE_ONLINE:1,MODE_TEST:2,MODE_ALPHA:3}},PCBroken:{$m:{}},PCDownwardMessage:{$m:{1:["payload","bytes",[]],2:["wss_message_type","uint32",0],3:["ts","uint64",{low:0,high:0,unsigned:!0}]}},PCEstablished:{$m:{1:["elapse","uint32",0],2:["from","uint32",0]}},PCUpwardMessage:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode_no","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["service_no","PB.proto_accesshub.Service",0],7:["ack","bool",!1],8:["payload","bytes",[]],9:["sdk_type","PB.proto_accesshub.SdkType",0],10:["wss_message_type","uint32",0],11:["wss_path","string",""],12:["wss_raw_query","string",""],13:["zegoconn_version","uint32",0],14:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],15:["backend_conn_type","PB.proto_accesshub.BackendConnType",0],16:["device_id","string",""],17:["geofencing_type","uint32",0],18:["geofencings","[uint32",null],19:["addr_type","uint32",0]}},PCUpwardMessageAck:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}]}},ProxyConnectionClosed:{$m:{1:["code","int32",0],2:["msg","string",""],3:["connected","int32",0]}},PushAppConfig:{$m:{1:["config_key","string",""],2:["data","bytes",[]]}},PushException:{$m:{1:["reason","int32",0],2:["msg","string",""],3:["txid","uint64",{low:0,high:0,unsigned:!0}]}},Redirect2:{$m:{1:["rand","string",""],2:["secret","string",""],3:["groups","<PB.proto_accesshub.AccesshubDispatchGroup2",null],4:["wss_groups","<PB.proto_accesshub.WssAccesshubDispatchGroup",null],5:["ttl","uint32",0]}},SdkType:{$e:{SDK_TYPE_UNSET:0,SDK_TYPE_NATIVE:1,SDK_TYPE_WSS_WEB:3}},Service:{$e:{SERVICE_UNSET:0,SERVICE_MEDIAGW:1,SERVICE_LIVEROOM:2,SERVICE_MIX:3,SERVICE_ZEUS:4,SERVICE_ZPUSH:5,SERVICE_L3:6,SERVICE_TALKLINE:7,SERVICE_EDUSUITE:8,SERVICE_ZIM:9,SERVICE_ClOUD_SETTING:10,SERVICE_ZEUSHB:11,SERVICE_USER_LOGIC:12,SERVICE_UNIFYDISPATCH:13,SERVICE_QUALITY:14,SERVICE_SECURITY:15,SERVICE_KTVCPR:16,SERVICE_SWITCH4LIVEROOM:17,SERVICE_WEBRTC_SIGNAL:18,SERVICE_L3_WEBRTC_SIGNAL:19,SERVICE_VIDEOCPR:20,SERVICE_CDN:21,SERVICE_CLOUDRECORD:22,SERVICE_INNER_ECHO:23,SERVICE_OUTER_ECHO:24,SERVICE_LOCALHOST_ECHO:25,SERVICE_ECHO:26,SERVICE_DOCSERVICE:27,SERVICE_AUTHSVR:28,SERVICE_WEBLIVEROOM:29,SERVICE_WHITEBOARD:30,SERVICE_METAWORLD:31,SERVICE_ZEGOLAND:32}},StreamClosed:{$m:{1:["code","int32",0],2:["msg","string",""]}},WssAccesshubDispatchGroup:{$m:{1:["group","string",""],2:["host","string",""],3:["main_domain","string",""]}},ZegoconnRunEnv:{$e:{ZEGOCONN_RUN_ENV_UNSET:0,ZEGOCONN_RUN_ENV_BROWSER:1,ZEGOCONN_RUN_ENV_APPLET:2}}},proto_initconfig:{AppConfig:{$m:{1:["test_id","int32",0],2:["domain","string",""],3:["flexible_domain","string",""],4:["replace_flexible_domain","string",""]}},InitConfig:{$m:{1:["app_config","PB.proto_initconfig.AppConfig",null],4:["speedlog_config","PB.proto_initconfig.SpeedlogConfig",null],5:["media_config","PB.proto_initconfig.MediaConfig",null]}},MediaConfig:{$m:{1:["play_config","PB.proto_initconfig.MediaPlayConfig",null],2:["publish_config","PB.proto_initconfig.MediaPublishConfig",null]}},MediaPlayConfig:{$m:{5:["resource_info","<PB.proto_initconfig.MediaResourceInfo",null]}},MediaPublishConfig:{$m:{2:["resource_info","<PB.proto_initconfig.MediaResourceInfo",null],5:["enable_subject_segmentation","int32",0],6:["object_segmentation_platform","int32",0]}},MediaResourceInfo:{$m:{1:["resource_type","PB.proto_initconfig.ResourceType",0],2:["service_info","<PB.proto_initconfig.MediaServiceProtocolInfo",null]}},MediaServiceProtocolInfo:{$m:{1:["config_id","string",""],2:["protocol","PB.proto_initconfig.ProtocolType",0],3:["url_template","string",""],4:["resolve_type","PB.proto_initconfig.ResolveType",0],5:["push_cdn_authentication","int32",0],6:["cdn_quic_version","<int32",null]}},ProtocolType:{$e:{UDP:0,RTMP:1,FLV:2,HLS:3,WEBRTC:4}},ResolveType:{$e:{LOCAL_DNS:0,DISPATCH:1}},ResourceType:{$e:{CDN:0,RTC:1,L3:2,CDN_PLUS:3,CDN_PLUS_BACKUP:4}},SpeedlogConfig:{$m:{1:["report_count","int32",0],2:["report_retry_interval","int32",0],3:["push_quality_sample_count","int32",0],4:["pull_quality_sample_count","int32",0],5:["hardware_report_cycle","int32",0],6:["room_user_max_count","int32",0],7:["room_stream_max_count","int32",0],8:["charge_info_report_cycle","int32",0],9:["charge_info_report_mode","int32",0],10:["disable_report_pull","<PB.proto_initconfig.ResourceType",null],11:["report_max_bytes","int32",0],12:["push_quality_report_freq","int32",0],13:["pull_quality_report_freq","int32",0],14:["charge_info_report_no_playing","int32",0]}}}}},"",B,!1),Q.util.global.PB=B.PB;var b=B.PB,k=function(){return(k=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.util.Long=E.a,t.configure(),F.prototype.encodeRequest=function(e,t,r){var i=(A=this.protoMap[e])[0],A=A[1];return A=(i=this.encode(this.protoInstance[i][A],t)).length,(t=new Uint8Array(13+A))[0]=175,t[1]=0,t[2]=e>>8,t[3]=e-(t[2]<<8),t.set(new Uint8Array(Int32Array.from([A]).buffer).reverse(),4),t.set(new Uint8Array(Int32Array.from([r]).buffer).reverse(),8),t[12]=0,t.set(i,13),t},F.prototype.decodeResponse=function(e){var t=(e[2]<<8)+e[3],r=new DataView(e.buffer).getUint32(8),i=e.slice(13);try{var A=this.protoMap[t];return[r,t,this.decode(this.protoInstance[A[0]][A[1]],i)]}catch(e){return[r,t,{code:1}]}},F.prototype.decodeConfigMessage=function(e){return this.decode(this.protoInstance.proto_initconfig.InitConfig,e)},F.prototype.encode=function(e,t){return e.encode(new e(t)).finish()},F.prototype.decode=function(e,t){return k({},e.decode(t))};var R,N=F,T=(Object.defineProperty(P.prototype,"id",{get:function(){return this._id||null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),P.prototype.hasNext=function(){return this.next&&this.next.id},P.prototype.hasPrev=function(){return this.prev&&this.prev.id},P),L=(O.prototype.insertBefore=function(e,t){return(t=new T(this._idCounter,t)).next=e,t.prev=e.prev,e.prev&&(e.prev.next=t),e.prev=t,++this._idCounter,++this._numNodes,t},O.prototype.addLast=function(e){return this.insertBefore(this.end,e)},O.prototype.add=function(e){return this.addLast(e)},O.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},O.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},O.prototype.size=function(){return this._numNodes},O.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(0<=e)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw"Index out of bounds.";return r},O.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},O.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},O.prototype.removeFirst=function(){var e=null;return 0<this._numNodes&&this.start.next?this.remove(this.start.next):e},O.prototype.removeLast=function(){var e=null;return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):e},O.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},O.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},O.prototype.find=function(e){for(var t=this.start,r=!1,i=null;t.hasNext()&&!r;)e(t=t.next)&&(i=t,r=!0);return i},O.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},O.prototype.push=function(e){return this.addLast(e)},O.prototype.unshift=function(e){this.insertBefore(0<this._numNodes?this.start.next:this.end,e)},O.prototype.pop=function(){return this.removeLast()},O.prototype.shift=function(){return this.removeFirst()},O);function M(){this.txid=0,this.linkRetryTime=60,this.updatedMsgTime=0,this.connectServer=""}function O(){this.start=new T,this.end=new T,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}function P(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}function F(){var e;this.protoInstance=b,this.protoMap=((e={})[A.MSG_TYPE_STREAM_CLOSED]=["proto_accesshub","ConnectionClosed"],e[A.MSG_TYPE_CLOSE_CONNECTION]=["proto_accesshub","CloseConnection"],e[A.MSG_TYPE_HTTP_REQUEST]=["proto_accesshub","HTTPRequest"],e[A.MSG_TYPE_HTTP_RESPONSE]=["proto_accesshub","HTTPResponse"],e[A.MSG_TYPE_HTTP_REQUEST2]=["proto_accesshub","HTTPRequest2"],e[A.MSG_TYPE_HB_REQUEST]=["proto_accesshub","HBRequest"],e[A.MSG_TYPE_HB_RESPONSE]=["proto_accesshub","HBResponse"],e[A.MSG_TYPE_GET_CONFIG_REQUEST]=["proto_accesshub","GetConfigRequest"],e[A.MSG_TYPE_GET_CONFIG_RESPONSE]=["proto_accesshub","GetConfigResponse"],e[A.MSG_TYPE_GET_SVRADDR_REQUEST]=["proto_accesshub","GetSvraddrRequest"],e[A.MSG_TYPE_GET_SVRADDR_RESPONSE]=["proto_accesshub","GetSvraddrResponse"],e[A.MSG_TYPE_HTTP_REQUEST_ACK]=["proto_accesshub","HTTPRequestAck"],e[A.MSG_TYPE_PC_UPWARD_MESSAGE]=["proto_accesshub","PCUpwardMessage"],e[A.MSG_TYPE_PC_UPWARD_MESSAGE_ACK]=["proto_accesshub","PCUpwardMessageAck"],e[A.MSG_TYPE_PC_ESTABLISHED]=["proto_accesshub","PCEstablished"],e[A.MSG_TYPE_PC_BROKEN]=["proto_accesshub","PCBroken"],e[A.MSG_TYPE_PC_DOWNWARD_MESSAGE]=["proto_accesshub","PCDownwardMessage"],e[A.MSG_TYPE_REDIRECT]=["proto_accesshub","Redirect"],e[A.MSG_TYPE_REDIRECT2]=["proto_accesshub","Redirect2"],e[A.MSG_TYPE_GET_APPCONFIG_REQUEST]=["proto_accesshub","GetAppConfigRequest"],e[A.MSG_TYPE_GET_APPCONFIG_RESPONSE]=["proto_accesshub","GetAppConfigResponse"],e[A.MSG_TYPE_PUSH_APPCONFIG]=["proto_accesshub","PushAppConfig"],e[A.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST]=["proto_accesshub","AccesshubDispatchRequest"],e[A.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE]=["proto_accesshub","AccesshubDispatchResponse"],e[A.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2]=["proto_accesshub","AccesshubDispatchRequest2"],e[A.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2]=["proto_accesshub","AccesshubDispatchResponse2"],e[A.MSG_TYPE_PUSH_EXCEPTION]=["proto_accesshub","PushException"],e)}M.prototype.createSocket=function(e){},M.prototype.setState=function(e){},M.prototype.initEvent=function(e,t,r,i){},M.prototype.sendMessage=function(e,t,r,i,A,n,o,s){void 0===i&&(i=!0),void 0===A&&(A=null),void 0===n&&(n=null),void 0===o&&(o=null)},f=M,(r=R=R||{})[r.BROWSER=0]="BROWSER",r[r.WEIXINMINI=1]="WEIXINMINI",U.prototype.init=function(){var e=this;this._websocket&&(this.readyState=0,this._websocket.onOpen((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onopen&&(e.onopen(t),e._websocket.onClose((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onclose&&e.onclose(t)})),e._websocket.onMessage((function(t){"function"==typeof e.onmessage&&e.onmessage(t)})))})),this._websocket.onError((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onerror&&e.onerror(t)})))},U.prototype.onopen=function(e){},U.prototype.onerror=function(e){},U.prototype.onclose=function(e){},U.prototype.onmessage=function(e){},U.prototype.send=function(e){e instanceof Uint8Array&&(e=new Uint8Array(e).buffer),this._websocket&&this._websocket.send({data:e})},U.prototype.close=function(){this._websocket&&this._websocket.close()};var G=U;function U(e,t){this.url=e,this.readyState=3,this._websocket=wx.connectSocket({url:e}),this.init()}function x(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||((i=i||Array.prototype.slice.call(t,0,A))[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))}function H(e){var t=unescape||window.unescape;return Uint8Array.from(Array.from(t(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))}function q(e){var t=escape||window.escape;return decodeURIComponent(t(String.fromCharCode.apply(String,Array.from(e))))}function J(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||((i=i||Array.prototype.slice.call(t,0,A))[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))}Fe.prototype.createSocket=function(e){this.socket=new(this.ENV%2%2===R.BROWSER?WebSocket:G)(e)},Fe.prototype.openHandler=function(e){var t=this;this.socket&&(this.socket.onopen=function(r){t.socket.binaryType="arraybuffer",t.responseHandler(),e(r)})},Fe.prototype.responseHandler=function(){var e=this;this.socket&&(this.socket.onmessage=function(t){t="string"==typeof t.data?JSON.parse(t.data):t.data,e.onMessage(t)})},Fe.prototype.onMessage=function(e){},Fe.prototype.closeHandler=function(e){this.socket&&(this.socket.onclose=function(t){e(t)})},Fe.prototype.errorHandler=function(e){this.socket&&(this.socket.onerror=e)},Fe.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},Fe.prototype.isDisConnect=function(){return!this.socket||1!==this.socket.readyState},Fe.prototype.sendMessage=function(e){this.isDisConnect()||this.socket&&this.socket.send(e)};var Y,K=Fe,z={TIMEOUT:{code:1100002,msg:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},NET_SOCKET_TIMEOUT:{code:1100004,msg:"net agent timeout"},NET_HB_TIMEOUT:{code:1100005,msg:"net hb timeout"},NET_CONNECT_TIMEOUT:{code:1100006,msg:"net connect timeout"}},j="zn.zca.gc",V="zn.zca.gac",W="zn.zca.rd",Z="zn.nab.du",X="zn.nab.gac",$="zn.nhb.s",ee="zn.rlh.at",te="zn.rlh.sm",re="zn.wl.cs.0",ie="zn.wl.bse",Ae="zn.napr.sr",ne="zn.napr.ope",oe="zn.nahr.sr",se="zn.nahr.sr2",ae={domains:["accesshub-wss.zego.im"],mode:"online",modeNo:s.MODE_ONLINE,sdkType:3,connectVer:30,pcEstablishTimeout:15,scheme:"wss",location:"accesshub",wssMessageType:1},ce=(Y=function(e,t){return(Y=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(){return(ce=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)}),ge=function(e){function t(t,r,i,n,o){var s=e.call(this)||this;return s.appID=t,s.env=r,s.protobuf=i,s.logger=n,s.stateCenter=o,s.socketService=new K(s.env),s.urlIndex=0,s.updatedMsgTime=0,s.unUpdateMsgTimeTypes=[A.MSG_TYPE_HB_REQUEST,A.MSG_TYPE_HB_RESPONSE,A.MSG_TYPE_GET_CONFIG_REQUEST,A.MSG_TYPE_GET_CONFIG_RESPONSE,A.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2,A.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2],s.netLinkState=0,s.sendCommandList=new L,s.unSendCommandList=new L,s.sendCommandMap={},s.unSendCommandMap={},s.sendDataCheckOnceCount=100,s.sendDataDropTimeout=1e4,s.sendDataCheckInterval=2e3,s.timeout=5e3,s.connectInterval=1e4,s.connectTimer=null,s.connectRsp={},s.unlogTypes=[12,13],s.tryServers=[],s.tryConnectEvents=[],s.connectStartTime=0,s.updatedMsgTime=Date.now(),s}var r=t,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}return Y(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n),t.prototype.initEvent=function(e,t,r,i){this.onConnectedEvent=e,this.onDisConnectedEvent=t,this.onConnectingEvent=r,this.onPushEvent=i},t.prototype.createSocket=function(e){this.servers=e,this.urlIndex=0},t.prototype.destroySocket=function(e){this.logger.info("zn.wl.ds.0 call "+e),this.socketService.closeSocket(),this.netLinkState=0,e!==c.NONE&&this.onDisConnectedEvent&&this.onDisConnectedEvent(e===c.BROKEN),this.resetConnect()},t.prototype.refreshServers=function(e){this.servers=x(x([],e,!0),this.servers,!0)},t.prototype.connectSocket=function(e,t,r){var i=this,A=(void 0===e&&(e=!0),this.logger.info(re+" call"),this.connectRsp.suc=t,!1),n=(this.connectRsp.fail=function(){r&&(A?i.logger.info(re+" fail cb has exec"):(r(),A=!0))},e&&(this.urlIndex=(this.urlIndex+1)%this.servers.length),this.servers[this.urlIndex]);return this.connectServer=n,this.logger.info(re+" server "+n),this.tryServers.push(n),this.connectStartTime=Date.now(),this.closeSocket(),this.netLinkState=1,this.socketService.createSocket(n),this.onConnectingEvent&&this.onConnectingEvent(!0),this.bindSocketEvent(),this.connectTimer=setTimeout((function(){i.logger.info(re+" timeout"),i.connectEvent(n,z.NET_CONNECT_TIMEOUT.code),i.connectRsp.fail&&i.connectRsp.fail()}),this.connectInterval),!0},t.prototype.bindSocketEvent=function(){var e=this;this.openHandler((function(){e.logger.info(ie+" open"),e.resetConnect(),e.connectRsp.suc&&e.connectRsp.suc(),e.netLinkState=2,e.connectEvent(e.connectServer,0),e.onConnectedEvent&&e.onConnectedEvent(e.tryServers,e.tryConnectEvents),e.tryConnectEvents=[],e.checkUnSendMsgs(e.unSendCommandList),e.startCheck()})),this.closeHandler((function(t){e.logger.warn(ie+" close "+JSON.stringify(t.code||t)),e.resetConnect(),e.connectRsp.fail&&e.connectRsp.fail(),e.connectEvent(e.connectServer,(null==t?void 0:t.code)||z.NET_CONNECT_TIMEOUT.code),e.onDisConnectedEvent&&e.onDisConnectedEvent(!0),e.netLinkState=0})),this.errorHandler((function(t){e.logger.warn(ie+" error "+JSON.stringify(t.code||t)),e.resetConnect(),e.connectRsp.fail&&e.connectRsp.fail(),e.connectEvent(e.connectServer,(null==t?void 0:t.code)||z.NET_CONNECT_TIMEOUT.code),e.onDisConnectedEvent&&e.onDisConnectedEvent(!0),e.netLinkState=0})),this.onMessage()},t.prototype.closeSocket=function(){this.logger.info("zn.wl.cs.1 call"),this.socketService.closeSocket(),this.netLinkState=0},t.prototype.connectEvent=function(e,t){var r;this.connectStartTime&&(r=Date.now()-this.connectStartTime,this.tryConnectEvents.push({url:e,time_consumed:r,connect_type:3,error:t}))},t.prototype.resetConnect=function(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null),this.stopCheck()},t.prototype.isConnect=function(){return 2===this.netLinkState},t.prototype.isDisConnect=function(){return!this.socketService||this.socketService.isDisConnect()},t.prototype.isConnecting=function(){return 1===this.netLinkState},t.prototype.setState=function(e){this.netLinkState=e},t.prototype.closeHandler=function(e){this.socketService.closeHandler(e)},t.prototype.openHandler=function(e){this.socketService.openHandler(e)},t.prototype.errorHandler=function(e){this.socketService.errorHandler(e)},t.prototype.sendMessage=function(e,t,r,i,n,s,a,c){void 0===i&&(i=!0),void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===(c=void 0===c?{}:c).timeout&&(c.timeout=5e3),void 0===c.isInSendMap&&(c.isInSendMap=!0),void 0===c.isMsgCache&&(c.isMsgCache=!0),this.txid++;var g={appid:this.appID,biz_type:0,mode_no:(null==(g=this.stateCenter.appInfo)?void 0:g.mode)||ae.modeNo,id_name:this.stateCenter.userId,sdk_type:ae.sdkType,zegoconn_run_env:0===this.env?o.ZEGOCONN_RUN_ENV_BROWSER:o.ZEGOCONN_RUN_ENV_APPLET,zegoconn_version:(null==(g=this.stateCenter.appInfo)?void 0:g.connVer)||ae.connectVer};null!=(u=this.stateCenter.appInfo)&&u.deviceID&&(g.device_id=null==(u=this.stateCenter.appInfo)?void 0:u.deviceID);var u=ce(ce({txid:this.txid},i?g:{}),r);i={data:u,txid:this.txid,sendTime:Date.now(),streamID:t,type:e,timeOut:c.timeout||this.timeout,ack:r.ack,success:n,error:s,ackFunc:a,isSend:!0,isCheck:e!==A.MSG_TYPE_PC_UPWARD_MESSAGE,extras:c.extras},c.isInSendMap&&(g=this.sendCommandList.push(i),this.sendCommandMap[this.txid]=g),10!==u.service&&14!==u.interface_id&&this.unUpdateMsgTimeTypes.includes(e)||(this.updatedMsgTime=Date.now()),-1===this.unlogTypes.indexOf(e)&&this.logger.info("zn.wl.sm type: "+e+"-"+I[e]+" streamID: "+t+" txid: "+this.txid),this.isConnect()?this.sendUint8Data(e,u,t,c.extras):c.isMsgCache&&(i.isSend=!1,r=this.unSendCommandList.push(i),this.unSendCommandMap[this.txid]=r)},t.prototype.checkUnSendMsgs=function(e){for(var t,r=e.getFirst();null!=r;)e.remove(r),r._data&&!1===(null==(t=r._data)?void 0:t.isSend)&&r._data.type&&r._data.streamID&&r._data.data&&(this.sendUint8Data(r._data.type,r._data.data,r._data.streamID),r._data.isSend=!0),r=e.getFirst()},t.prototype.Uint8ToArrayBuffer=function(e){return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)},t.prototype.sendUint8Data=function(e,t,r,i){e=this.protobuf.encodeRequest(e,t,r),this.socketService.sendMessage(this.Uint8ToArrayBuffer(e))},t.prototype.onMessage=function(){var e=this;this.socketService.onMessage=function(t){t=new Uint8Array(t);var r,i,A=(i=e.protobuf.decodeResponse(t))[0],n=i[1],o=((i=i[2]).txid&&E.a.isLong(i.txid)&&i.txid.toNumber&&(i.txid=i.txid.toNumber()),e.unUpdateMsgTimeTypes.includes(n)||(e.updatedMsgTime=Date.now()),(null==i?void 0:i.txid)||(null==(o=null==i?void 0:i.data)?void 0:o.txid));-1===e.unlogTypes.indexOf(n)&&(r=o?", txid: ".concat(o):"",e.logger.info("zn.wl.om"+" streamID: ".concat(A,", msgType: ").concat(n,"-").concat(I[n])+r)),o&&e.isRspMsg(o)?e.handleSendCommandMsgRsp(A,n,o,i,{size:t.length}):e.onPushEvent(A,n,i,{size:t.length})}},t.prototype.isRspMsg=function(e){return void 0!==this.sendCommandMap[e]},t.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},t.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},t.prototype.checkMessageListTimeout=function(e,t){for(var r,i=e.getFirst(),A=Date.now(),n=0,o=this;null!=i&&"break"!==function(){var s,a,c;return i._data&&i._data.sendTime+i._data.timeOut>A||(i._data&&delete t[i._data.data.txid],e.remove(i),i._data&&null==i._data.error||i._data&&i._data.sendTime+o.sendDataDropTimeout<A||(s=i&&i._data&&i._data.error,a=i&&i._data&&i._data.txid,c=i&&i._data&&(null==(r=i._data)?void 0:r.isCheck),setTimeout((function(){c&&s&&s({},a,z.TIMEOUT)}),0)),++n>=o.sendDataCheckOnceCount)?"break":void(i=e.getFirst())}(););},t.prototype.checkSendMessageList=function(e){for(var t,r=e.getFirst();null!=r&&r._data;)!function(){var i,A,n;e.remove(r),r._data.isSend&&r._data.error&&(i=r&&r._data&&r._data.error,A=r&&r._data&&r._data.txid,n=r&&r._data&&(null==(t=r._data)?void 0:t.isCheck),setTimeout((function(){n&&i&&i({},A,z.TIMEOUT)}),0)),r=e.getFirst()}()},t.prototype.handleSendCommandMsgRsp=function(e,t,r,i,n){var o,s=this.sendCommandMap[r];null!=s&&(null!=(o=s._data)&&o.ack||(delete this.sendCommandMap[r],this.sendCommandList.remove(s)),i.code&&0!==i.code?o&&null!=o.error&&o.error(i,r):t===A.MSG_TYPE_PUSH_EXCEPTION?(i.code=i.reason,i.message=i.msg,delete i.reason,delete i.msg,o&&null!=o.error&&o.error(i,r)):t===A.MSG_TYPE_HTTP_REQUEST_ACK?o&&null!=o.ackFunc&&o.ackFunc(i,r):o&&null!=o.success&&o.success(i,r,n))},t}(f),ue=(Pe.prototype.getConfig=function(e,t){var r;this.logger.info("zn.nab.gc call"),this.streamManager.createStream(a.OTHER).sendMessage(A.MSG_TYPE_GET_CONFIG_REQUEST,{geofencing_type:null==(r=this.stateCenter.appInfo.geoFencing)?void 0:r.type,geofencings:null==(r=this.stateCenter.appInfo.geoFencing)?void 0:r.list},e,t)},Pe.prototype.dispatchURL=function(e,t){var r,i=this;this.logger.info(Z+" call"),this.streamManager.createStream(a.OTHER).sendMessage(A.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2,{geofencing_type:null==(r=this.stateCenter.appInfo.geoFencing)?void 0:r.type,geofencings:null==(r=this.stateCenter.appInfo.geoFencing)?void 0:r.list},(function(t){i.logger.info(Z+" suc "),e&&e(t)}),(function(e,r,A){i.logger.info(Z+" fail"),t&&t(A||e)}))},Pe.prototype.getAppConfig=function(e,t,r,i,n){var o=this;return new Promise((function(s,c){function g(e,t,r){r?(o.logger.error(X+" fail "+JSON.stringify(r)),c(r)):0===e.code?(o.logger.info(X+" suc"),r=o.decodeConfigMessage(e.data.data),s({code:0,data:r,etag:e.data.etag})):(o.logger.error(X+" fail "+e.code),c({code:e.code}))}o.logger.info(X+" call");var u={id_name:t,config_key:e,token:r,mode_no:(null==(u=o.stateCenter.appInfo)?void 0:u.mode)||ae.modeNo,etag:n};o.streamManager.createStream(a.OTHER).sendMessage(A.MSG_TYPE_GET_APPCONFIG_REQUEST,u,g,g,null,{timeout:i})}))},Pe.prototype.decodeConfigMessage=function(e){return this.protobuf.decodeConfigMessage(e)},Pe),le=(Oe.prototype.init=function(e){var t=this;this.logger.info("zn.nhb.ii call"),this.hbStream||(this.hbStream=this.streamManager.createStream(a.OTHER)),1<=e.data.logic_hb_interval&&e.data.logic_hb_interval<=10&&(this.hbInterval=e.data.logic_hb_interval),3<=e.data.logic_hb_timeout&&e.data.logic_hb_timeout<=30&&(this.hbTimeout=e.data.logic_hb_timeout),this.tryHbCount=0,this.hbTimeoutMaxCount=this.hbTimeout/this.hbInterval,this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout((function(){t.start()}),1e3*this.hbInterval)},Oe.prototype.start=function(){var e,t,r,i=this;this.logger.debug($+" call "),this.tryHbCount++>this.hbTimeoutMaxCount?(this.logger.error($+" come to try limit"),this.reset(),this.netHbLogout(z.NET_HB_TIMEOUT)):(e=(new Date).getTime(),t=function(t,r,A){var n=(new Date).getTime()-e;i.logger.debug($+" hb callback "+n),A&&0!==(null==A?void 0:A.code)?i.logger.info($+" fail "+JSON.stringify(A)):(null!=t&&t.ntp_time&&(A="number"==typeof(n=t.ntp_time)?n:n.toNumber(),t=(new Date).getTime(),i.stateCenter.updateNTP(e,A,t)),i.tryHbCount=0)},r={ts:Date.now()},this.hbStream.sendMessage(A.MSG_TYPE_HB_REQUEST,r,t,t,null),this.hbStream.isFirst=!1,this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout((function(){i.start()}),1e3*this.hbInterval))},Oe.prototype.netHbLogout=function(e){},Oe.prototype.reset=function(){this.hbTimer&&(clearTimeout(this.hbTimer),this.hbTimer=null),this.tryHbCount=0},Oe),he=(Me.prototype.addEventHandler=function(e,t){if(this.handlerListMap[e]||(this.handlerListMap[e]=[]),"function"!=typeof t)throw new Error("Params callBack is not a Function");return this.handlerListMap[e]&&-1==this.handlerListMap[e].indexOf(t)&&this.handlerListMap[e].push(t),!0},Me.prototype.removeEventHandler=function(e,t){return!!this.handlerListMap[e]&&(this.handlerListMap[e]=t?this.handlerListMap[e].filter((function(e){return e!==t})):[],!0)},Me.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.handlerListMap[e]&&this.handlerListMap[e].forEach((function(r){try{r.apply(void 0,t)}catch(r){console.error('Fail to execute callback of event "'.concat(e,'" : ').concat(r))}}))},Me),de=function(){return(de=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},pe=(Le.prototype.sendRequest=function(e,t,r,i){var n=this,o=e.payload,s=(null!=(s=this.option)&&s.encode&&(o=H(e.payload)),{service_no:this.service,ack:e.ack,payload:o,wss_message_type:null!=(o=null==(s=this.option)?void 0:s.messageType)?o:ae.wssMessageType,wss_path:null==(s=this.option)?void 0:s.path,wss_raw_query:null==(o=this.option)?void 0:o.query,zegoconn_version:ae.connectVer});this.netPcStream.isConnect()||(this.logger.info(Ae+" pc is not connect"),this.eventManager.emit("connectStart")),this.netPcStream.sendMessage(A.MSG_TYPE_PC_UPWARD_MESSAGE,s,(function(){n.logger.info(Ae+" suc"),r&&r()}),(function(e){n.logger.error(Ae+" fail"),t&&t(e)}),null,{isInSendMap:"boolean"==typeof e.isInSendMap&&e.isInSendMap,extras:i,isMsgCache:null==(o=this.option)?void 0:o.isMsgCache})},Le.prototype.onPushEvent=function(e,t,r){var i;switch(this.logger.info(ne+" msgType: ".concat(e)),e){case A.MSG_TYPE_PC_ESTABLISHED:this.netPcStream.isFirst=!1,this.pcEstablished(t,this.netPcStream.StreamID);break;case A.MSG_TYPE_PC_BROKEN:this.pcBroken();break;case A.MSG_TYPE_PC_DOWNWARD_MESSAGE:this.logger.info(ne+" ".concat(this.service," down ").concat((null==t?void 0:t.ts)&&t.ts.toNumber&&t.ts.toNumber()||t.ts));var n=t.payload;null!=(i=this.option)&&i.encode&&(n=q(t.payload)),this.eventManager.emit("downLoadMessage",n,r);break;case A.MSG_TYPE_PUSH_EXCEPTION:this.logger.info(ne+" ".concat(this.service," exception ").concat(JSON.stringify(t))),this.eventManager.emit("exception",t,r)}},Le.prototype.on=function(e,t){return this.eventManager.addEventHandler(e,t)},Le.prototype.off=function(e,t){this.eventManager.removeEventHandler(e,t)},Le.prototype.pcEstablished=function(e,t){this.logger.info("zn.napr.pe call "+JSON.stringify(e)),this.setConnectState(g.CONNECTED);var r=d.MANUAL;this.lastConnectState===g.BROKEN&&this.connectState===g.CONNECTED&&(r=d.AUTO),this.eventManager.emit("connected",r),this.reportEvent("pcConnectedEvent",{proxy_link_sources:null==e?void 0:e.from,connect_stream:t}),this.brokenTimer&&clearTimeout(this.brokenTimer)},Le.prototype.pcBroken=function(){var e=this;this.logger.info("zn.napr.pb call"),this.setConnectState(g.BROKEN),this.eventManager.emit("broken"),this.reportEvent("pcBrokenEvent"),this.brokenTimer=setTimeout((function(){e.eventManager.emit("disconnected",h.TEMP),e.reportEvent("pcDisconnectedEvent")}),1e3*this.pcEstablishTimeout)},Le.prototype.resetBrokenTimer=function(){this.brokenTimer&&clearTimeout(this.brokenTimer)},Le.prototype._close=function(e,t){var r;this.logger.info("zn.napr.cr call "+this.service+" "+this.connectState),this.connectState!==g.DISCONNECT&&(this.netPcStream.closeStream(0,""),this.resetBrokenTimer(),r=this.streamManager.getStreamID(),this.netPcStream.refresh(r),this.eventManager.emit(e,t),r="","broken"===e?r="pcBrokenEvent":"disconnected"===e&&(r="pcDisconnectedEvent"),r)&&this.reportEvent(r),this.setConnectState(g.DISCONNECT)},Le.prototype.closePc=function(){this._close("broken")},Le.prototype.closeRequest=function(){this._close("disconnected",h.CLOSE)},Le.prototype.setConnectState=function(e){this.connectState!==e&&(this.lastConnectState=this.connectState,this.connectState=e)},Le.prototype.reportEvent=function(e,t){this.eventManager.emit(e,de({service_no:this.service},t))},Le),Ce=(Te.prototype.getRequest=function(e,t){return e=new pe(this.logger,e,this.streamManager,this.pcEstablishTimeout,t),this.pcStreamRequests.push(e),e},Te.prototype.updateConnectState=function(e,t,r){this.logger.info("zn.naprm.ucs call "+e+" "+t),this.pcStreamRequests.forEach((function(i){e===g.BROKEN?(i.eventManager.emit("broken"),i.reportEvent("pcBrokenEvent")):e===g.DISCONNECT&&(i.eventManager.emit("disconnected",t,r),i.reportEvent("pcDisconnectedEvent"))}))},Te.prototype.closePCs=function(){this.pcStreamRequests.forEach((function(e){e.closePc()}))},Te.prototype.setEstablishTimeout=function(e){this.pcEstablishTimeout=e},Te),Ie=(Ne.prototype.initLink=function(e){this.link=e},Ne.prototype.startMaxTime=function(){var e=this;this.logger.info(te+" call"),this.maxTimer||(this.logger.info(te+" start max timer"),this.maxTimer=setTimeout((function(){e.logger.warn(te+" over max time ".concat(e.RETRY_MAX_TIME,"s, stop retry")),e.isOverTime=!0,e.link.destroySocket(c.NONE),e.stopMaxTime(),e.invalid(),e.onactive(!1,z.NET_SOCKET_TIMEOUT)}),1e3*this.RETRY_MAX_TIME))},Ne.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},Ne.prototype.active=function(e,t,r){var A=this;if(void 0===r&&(r=!1),this.logger.info(ee+" call "+e+" "+(t=void 0!==t&&t)),this.retryTimer)return this.logger.info(ee+" has actived, ignore"),!1;var n=this.stateCenter.networkState==i.offline;if(n){if(this.logger.info(ee+"  check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn(ee+" network is broken, stop retry"),!1}else this.retryNetCount=0;return this.link.isConnecting()&&!r?(this.logger.info(ee+" link is connecting, ignore"),!1):this.isOverTime?(this.logger.info(ee+" retry over time, stop retry"),!1):(1==this.retryActiveCount?this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL):(r=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)),this.retryActiveInterval=r>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:r),this.logger.info(ee+" interval "+this.retryActiveInterval),this.retryTimer=setTimeout((function(){A.link.destroySocket(c.BROKEN),A.link.connectSocket(e,(function(){A.logger.info(ee+" suc"),A.stateCenter.networkState=i.online,A.stopMaxTime(),A.invalid(),A.onactive(!0)}),(function(){A.logger.info(ee+" fail"),A.maxTimer||A.startMaxTime(),A.active(!0,!1,!0)})),A.retryTimer&&clearTimeout(A.retryTimer),A.retryTimer=null,n?A.retryNetCount++:A.retryActiveCount++}),t?0:1e3*this.retryActiveInterval),!0)},Ne.prototype.onactive=function(){for(var e=0;e<arguments.length;e++);},Ne.prototype.init=function(e,t,r,i){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),"number"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),"number"==typeof r&&(this.RETRY_CONTINUE_COUNT=r),"number"==typeof i&&(this.RETRY_MAX_TIME_INTERVAL=i)},Ne.prototype.invalid=function(){this.logger.info("zn.rlh.ivd end retry"),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryActiveCount=1,this.retryNetCount=0},Ne),fe=(Re.prototype.updateNTP=function(e,t,r){var i;r<e||(i=r-e,this.timeOffset=Math.round((t-e+(t-r))/2),e=Math.round(t+i/2),(!this.networkRTT||i<this.networkRTT)&&(this.networkRTT=i,this.ntpTimeInfo={performanceTime:Math.round(performance.now()),ntp:e}))},Re),Ee=(ke.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.log(r)},ke.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.debug(r)},ke.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.info(r)},ke.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.warn(r)},ke.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.error(r)},ke),Qe=function(){return(Qe=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},Be=(be.prototype.sendRequest=function(e,t,r,i,n){var o=this,s=e.disableLog;e={service_no:this.service,ack:e.ack,headers:e.headers,body:H(JSON.stringify(e.body)),id_name:e.idName,method_no:e.method_no,stick:e.stick,location:e.location,reduce_resp_header:e.reduceRspHeaders?1:0},this.netHttpStream.sendMessage(A.MSG_TYPE_HTTP_REQUEST,e,(function(e){o.closeStream();var r=("gzip"===(null==(r=(null==e?void 0:e.headers).find((function(e){return"Content-Encoding"===(null==e?void 0:e.name)})))?void 0:r.val)?s||o.logger.info(oe+" gzip"):e.body&&(r=q(e.body),e.body=r),Qe(Qe({},e),{body:void 0}));s||o.logger.info(oe+" suc "+JSON.stringify(r)),t&&t(e)}),(function(e,t,i){o.closeStream(),s||o.logger.error(oe+" fail"),r&&r(i||e)}),(function(e){s||o.logger.error(oe+" ack"),i&&i(e)}),n),this.netHttpStream.isFirst=!1},be.prototype.sendRequest2=function(e,t,r,i,n){var o=this,s=1===e.format?H(JSON.stringify(e.body)):e.body;s={ack:e.ack,body:s,id_name:e.idName,method:e.method,interface_id:e.interfaceID,token:e.token,reduce_resp_header:e.reduceRspHeaders?1:0},e.headers&&(s.headers=e.headers),e.resID&&(s.res_id=e.resID),e.urlParams&&(s.params=e.urlParams),e.mode&&(s.mode=e.mode),this.netHttpStream.sendMessage(A.MSG_TYPE_HTTP_REQUEST2,s,(function(i,A){o.closeStream();var n=(null==i?void 0:i.headers).find((function(e){return"Content-Encoding"===(null==e?void 0:e.name)}));if(200===i.status_code){if("gzip"===(null==n?void 0:n.val))o.logger.info(se+" gzip");else if(i.body&&1===e.format)try{s=q(i.body),i.body=s}catch(A){o.logger.info(se+" decode "+JSON.stringify(A))}n=Qe(Qe({},i),{body:void 0}),o.logger.info(se+" suc "+JSON.stringify(n)),t&&t(i,A)}else{try{var s=q(i.body);i.body=s}catch(A){o.logger.info(se+" status "+i.status_code+" "+JSON.stringify(A))}r&&r(i)}}),(function(e,t,i){o.closeStream(),o.logger.error(se+" fail"),r&&r(i||e)}),(function(e){o.logger.error(se+" ack"),i&&i(e)}),n),this.netHttpStream.isFirst=!1},be.prototype.closeStream=function(){this.logger.info("zn.nahr.cs call"),this.netHttpStream.closeStream(0,"")},be),me=(Object.defineProperty(De.prototype,"StreamID",{get:function(){return this.streamID},enumerable:!1,configurable:!0}),De.prototype.refresh=function(e){this.streamID=e,this.isFirst=!0},De.prototype.sendMessage=function(e,t,r,i,A,n){var o=this;void 0===r&&(r=null),void 0===i&&(i=null),this.zegoLink.sendMessage(e,this.streamID,t,this.isFirst,(function(e,t,i){o.type!==a.PC&&(o.isFree=!0),r&&r(e,i)}),(function(e,t,r){o.type!==a.PC&&(o.isFree=!0),i&&i(e,t,r)}),A=void 0===A?null:A,n=void 0===n?{timeout:5e3,isInSendMap:!0}:n)},De.prototype.onPushEvent=function(e,t,r){},De.prototype.closeStream=function(e,t){this.zegoLink.sendMessage(A.MSG_TYPE_STREAM_CLOSED,this.streamID,{code:e,msg:t})},De.prototype.isConnect=function(){return this.zegoLink.isConnect()},De),ye=(we.prototype.createStream=function(e){var t=new me(e,this.streamID++,this.zegoLink);return e===a.PC&&this.pcStreams.push(t),t},we.prototype.onPushEvent=function(e,t,r,i){var A=this.pcStreams.find((function(t){return t.StreamID===e}));A&&A.onPushEvent(t,r,i)},we.prototype.getStreamID=function(){return this.streamID++},we),ve=function(){return(ve=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},_e=(Object.defineProperty(Se.prototype,"clientIP",{get:function(){return this.stateCenter.clientIP},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"timeOffset",{get:function(){return this.stateCenter.timeOffset},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"linkConnectState",{get:function(){return this._linkConnectState},set:function(e){this.lastLinkConnectState=this._linkConnectState,this._linkConnectState=e},enumerable:!1,configurable:!0}),Se.prototype.init=function(){this.logger=new Ee,this.protobuf=new N,this.stateCenter=new fe,this.eventManager=new he,this.checkLinkMsg(),this.inited=!0},Se.prototype.unInit=function(){this.inited=!1},Se.prototype.setAppInfo=function(e){this.logger.info("zn.sai.0 "+JSON.stringify(e)),this.stateCenter.appInfo=e,this.stateCenter.networkState=!navigator||navigator.onLine?i.online:i.offline,0===e.env?this.bindWindowListener():1===e.env&&this.bindWxListener(),this.zegoLink=new ge(e.appID,e.env,this.protobuf,this.logger,this.stateCenter),this.zegoLink.initEvent(this.onConnectedEvent,this.onDisConnectedEvent,this.onConnectingEvent,this.onPushEvent),this.streamManager=new ye(this.zegoLink),this.businessRequestMgr=new ue(this.streamManager,this.protobuf,this.logger,this.stateCenter),this.netHeartBeatHandler=new le(this.streamManager,this.logger,this.stateCenter),this.netAgentPCRequestMgr=new Ce(this.streamManager,this.logger),this.heartBeatHandler()},Se.prototype.setUserInfo=function(e){this.stateCenter.userId=e},Se.prototype.setNetAgentDefaultServers=function(e){this.connectServers=J([],e,!0)},Se.prototype.setNetAgentSpecifiedServers=function(e){this.logger.info("zn.sss.0 "+JSON.stringify(e)),this.stateCenter.specified=!0,this.specifiedServers=J([],e,!0)},Se.prototype.setBackupDomains=function(e){this.primaryDomains=e},Se.prototype.setDispatchConnectServers=function(e){this.connect(e)},Se.prototype.startHttpRequest=function(e,t,r,i,A){var n=this,o=this.reportSeq++;this.eventManager.emit("requestEvent",o,"start"),this.isConnect()||(this.logger.info("zn.shq.0 link is not connect"),this.connectUa()),new Be(this.logger,this.streamManager,e.service).sendRequest(e,(function(r){n.eventManager.emit("requestEvent",o,"end",{na_req_location:e.location,status_code:r.status_code,err_code:0}),t&&t(r)}),(function(t){n.eventManager.emit("requestEvent",o,"end",{na_req_location:e.location,err_code:t.code||0}),r&&r(t)}),i,A)},Se.prototype.startHttpRequest2=function(e,t,r,i,A){var n=this,o=this.reportSeq++;this.eventManager.emit("requestEvent",o,"start"),this.isConnect()||(this.logger.info("zn.shq.0 link is not connect"),this.connectUa()),new Be(this.logger,this.streamManager).sendRequest2(e,(function(r,i){n.eventManager.emit("requestEvent",o,"end",{na_req_interface:e.interfaceID,status_code:r.status_code,err_code:0}),t&&t(r,i)}),(function(t){n.eventManager.emit("requestEvent",o,"end",{na_req_interface:e.interfaceID,err_code:t.code||0}),r&&r(t)}),i,A)},Se.prototype.getAppConfigByAgent=function(e,t,r,i){return this.isConnect()||(this.logger.info("zn.gab.0 link is not connect"),this.connectUa()),this.getAppConfig(e,this.stateCenter.userId,t,r,i)},Se.prototype.getPCRequest=function(e,t){var r=this;return(t=this.netAgentPCRequestMgr.getRequest(e,t)).on("disconnected",(function(t){r.logger.warn("zn.zca.gpr "+e+" disconnect "+t),t===h.TEMP&&(r.disConnect(),r.connectStart())})),t.on("connectStart",(function(){r.connectUa()})),t},Se.prototype.connectUa=function(){this.isDestroy||(this.logger.info("zn.zca.cua call"),this.retryLinkHandler&&(this.retryLinkHandler.init(),this.connectStart(!1,!0)))},Se.prototype.destroyConnect=function(){this.logger.info("zn.zca.dc.0 call"),this.resetNetAgent()},Se.prototype.destroy=function(){this.logger.info("zn.zca.dy.0 call"),this.destroyConnect(),this.linkCheckTimer&&clearTimeout(this.linkCheckTimer),this.retryLinkHandler&&this.retryLinkHandler.invalid(),this.retryLinkHandler&&this.retryLinkHandler.stopMaxTime(),this.isDestroy=!0},Se.prototype.isConnect=function(){return this.zegoLink&&this.zegoLink.isConnect()},Se.prototype.on=function(e,t){return this.logger.info("zn.zca.o.0 "+e),this.eventManager.addEventHandler(e,t)},Se.prototype.off=function(e,t){this.logger.info("zn.zca.o.1 "+e),this.eventManager.removeEventHandler(e,t)},Se.prototype.setLogger=function(e){this.logger=e},Se.prototype.setAccess=function(e){this.stateCenter.useNetAgent=e},Se.prototype.getVersion=function(){return"1.1.5"},Se.prototype.heartBeatHandler=function(){var e=this;this.netHeartBeatHandler.netHbLogout=function(t){e.retryLinkHandler&&([z.NET_HB_TIMEOUT.code].includes(t.code)?(e.retryLinkHandler.startMaxTime(),e.disConnect(),e.connectStart()):(e.retryLinkHandler.stopMaxTime(),e.retryLinkHandler.invalid(),e.eventManager.emit("disconnected")))}},Se.prototype.bindWindowListener=function(){var e=this;window.addEventListener("offline",(function(){e.netOffLineHandle()})),window.addEventListener("online",(function(){e.netOnLineHandle()}))},Se.prototype.bindWxListener=function(){var e=this;wx.onNetworkStatusChange((function(t){t.isConnected?e.netOnLineHandle():e.netOffLineHandle()}))},Se.prototype.netOnLineHandle=function(){this.logger.info("zn.zca.noh.0 network is online"),this.stateCenter.networkState=i.online,this.stateCenter.useNetAgent&&this.netOnLineHandler()},Se.prototype.netOffLineHandle=function(){this.logger.info("zn.zca.noh.1 network is broken"),this.stateCenter.networkState=i.offline,this.stateCenter.useNetAgent&&this.netOffLineHandler()},Se.prototype.checkLinkMsg=function(){var e=this;if(this.stateCenter.useNetAgent){if(this.isConnect()){var t=Date.now()-this.zegoLink.updatedMsgTime;if(t>1e3*this.linkMsgMaxInterval)return this.logger.info("zn.zca.clm interval: "+t),void this.resetNetAgent()}this.linkCheckTimer&&clearTimeout(this.linkCheckTimer),this.linkCheckTimer=setTimeout((function(){e.checkLinkMsg()}),1e3*this.linkMsgCheckInterval)}},Se.prototype.connect=function(e){var t=this;0<e.length&&(this.connectServers=J([],e,!0)),this.stateCenter.specified&&0<this.specifiedServers.length&&(this.connectServers=this.specifiedServers),this.zegoLink.createSocket(this.connectServers),this.retryLinkHandler||(this.retryLinkHandler=new Ie(this.logger,this.stateCenter)),this.retryLinkHandler.init(),this.retryLinkHandler.initLink(this.zegoLink),this.retryLinkHandler.onactive=function(e,r){r===z.NET_SOCKET_TIMEOUT&&(t.eventManager.emit("disconnected",r),t.netAgentPCRequestMgr.updateConnectState(g.DISCONNECT,h.TIMEOUT,r))},this.connectStart(!1,!0)},Se.prototype.resetNetAgent=function(){this.netHeartBeatHandler&&this.netHeartBeatHandler.reset(),this.zegoLink&&this.zegoLink.destroySocket(c.DISCONNECT)},Se.prototype.getConfig=function(){function e(e,i,A){A?t.logger.info(j+" fail "+JSON.stringify(A)):0===e.code?(t.logger.info(j+" suc "+JSON.stringify(e)),t.getConfigSuccess(e,r)):t.logger.info(j+" fail "+JSON.stringify(e))}var t=this,r=(new Date).getTime();this.businessRequestMgr.getConfig(e,e)},Se.prototype.getConfigSuccess=function(e,t){var r,i;this.netHeartBeatHandler.init(e),this.netAgentPCRequestMgr.setEstablishTimeout(e.data.pc_establish_timeout),null!=(r=null==e?void 0:e.data)&&r.client_outer_ip&&(this.stateCenter.clientIP=e.data.client_outer_ip),null!=(r=null==e?void 0:e.data)&&r.ntp_time&&(r="number"==typeof(r=e.data.ntp_time)?r:r.toNumber(),i=(new Date).getTime(),this.stateCenter.updateNTP(t,r,i)),this.eventManager.emit("clientInfo",{clientIP:this.clientIP,timeOffset:this.timeOffset,geofencingID:t=e.data.geofencing_id})},Se.prototype.dispatch=function(){var e=this;return new Promise((function(t,r){e.businessRequestMgr.dispatchURL((function(r){r=r.data.wss_groups;var i=(e.logger.info(Z+" wss_groups: "+JSON.stringify(r)),r.some((function(e){return e.host.includes("geo")}))),A=null!=(A=e.stateCenter.appInfo)&&A.geoFencing||i?r:e.getConnectionDomains(r,e.primaryDomains);i=e.handleWssGroups(A),t({servers:i,domains:A})}),(function(e){r(e)}))}))},Se.prototype.handleWssGroups=function(e){return Array.isArray(e)&&0<e.length?e.map((function(e){return ae.scheme+"://"+e.host+"/"+ae.location})):[]},Se.prototype.getConnectionDomains=function(e,t){var r=J([],e,!0);return t.forEach((function(t){e.forEach((function(e){var i,A="";e.main_domain?A=e.main_domain:e.host&&(A=(i=e.host.split("."))[i.length-2]+"."+i[i.length-1]),A&&A!==t&&(i=e.host.replace(A,t),r.push({group:e.group,host:i}))}))})),r=r.filter((function(e){return!!e.host}))},Se.prototype.getAppConfig=function(e,t,r,i,A){var n=this;return new Promise((function(o,s){"string"==typeof t&&"string"==typeof r?n.businessRequestMgr.getAppConfig(e,t,r,i,A).then((function(e){o(ve(ve({},e),{retryCount:n.getAppConfigFailCount}))})).catch((function(i){var a;n.logger.error(V+" "+JSON.stringify(i)),!(-1<C.indexOf(i.code))&&(n.getAppConfigFailCount++,20008===i.code||1100002===i.code)&&n.getAppConfigFailCount<3?n.getAppConfig(e,t,r,A).then((function(e){return o(e)})).catch((function(e){return s(e)})):(a=n.getAppConfigFailCount,n.getAppConfigFailCount=0,s(ve(ve({},i),{retryCount:a})))})):n.logger.error(V+" userID or token must be string")}))},Se.prototype.reportDisConnectEvent=function(){var e=(new Date).getTime()-this.connectedTime;this.connectid&&this.eventManager.emit("disConnectedEvent",{duration:e,server:this.zegoLink.connectServer,connectid:this.connectid})},Se.prototype.redirect=function(e){this.logger.info(W+" ".concat(JSON.stringify(e.wss_groups))),(e=this.handleWssGroups(e.wss_groups))&&Array.isArray(e)&&0<e.length?(this.disConnect(),this.stateCenter.specified&&(this.logger.info(W+" specified"),e=this.specifiedServers),this.zegoLink.createSocket(e),this.connectStart(!1,!0)):this.logger.warn(W+" wss_groups null")},Se.prototype.connectClosed=function(e){var t=this;switch(this.logger.info("zn.zca.cc"+" ".concat(e.reason," ").concat(e.msg," ").concat(e.action)),e.action){case u.ACTION_DISPATCH:var r=this.reportSeq++;this.eventManager.emit("dispatchEvent",r,"start"),this.dispatch().then((function(e){var i=e.servers;t.eventManager.emit("dispatchEvent",r,"end",{domains:e=e.domains,reason:"ConnectClosed"}),Array.isArray(i)&&0<i.length&&(t.eventManager.emit("dispatchResultUpdate",{servers:i,domains:e}),e=t.stateCenter.specified?t.specifiedServers:i,t.disConnect(),t.zegoLink.createSocket(e),t.connectStart(!1,!0))})).catch((function(e){t.logger.info("zn.zca.cc dispatch fail")}));break;case u.ACTION_RETRY:this.disConnect(),this.connectStart(!1);break;case u.ACTION_NEXT_GROUP:this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken",p.CLOSE),this.connectStart()}},Se.prototype.netOnLineHandler=function(){this.retryLinkHandler&&(this.zegoLink.isConnect()?this.retryLinkHandler.stopMaxTime():this.connectStart())},Se.prototype.netOffLineHandler=function(){this.disConnect(),this.retryLinkHandler&&(this.retryLinkHandler.invalid(),this.retryLinkHandler.startMaxTime(),this.zegoLink.setState(0))},Se.prototype.connectStart=function(e,t){this.retryLinkHandler.active(e,t)&&this.reportConnectEvent()},Se.prototype.reportConnectEvent=function(){var e=this.reportSeq++;this.connectSeq=e,this.eventManager.emit("connectedEvent",e,"start")},Se.prototype.disConnect=function(){this.logger.info("zn.zca.dc.1 call"),this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken"),2===this.lastLinkConnectState&&0===this.linkConnectState&&this.reportDisConnectEvent()},Se.prototype.getNetworkTimeInfo=function(){var e,t=Date.now()+this.stateCenter.timeOffset,r=Math.round(this.stateCenter.networkRTT/2),i=this.stateCenter.ntpTimeInfo;return i&&(e=performance.now()-i.performanceTime,t=Math.round(i.ntp+e)),{timestamp:t,maxDeviation:r}},Se);function Se(){var e=this;this.linkCheckTimer=null,this.connectServers=[],this.specifiedServers=[],this.getAppConfigFailCount=0,this.getAppConfigTime=0,this.inited=!1,this.linkMsgMaxInterval=90,this.linkMsgCheckInterval=5,this.isDestroy=!1,this.connectedTime=0,this.connectid="",this.reportSeq=0,this.connectSeq=0,this.primaryDomains=[],this._linkConnectState=0,this.lastLinkConnectState=0,this.onConnectedEvent=function(t,r){var i;e.linkConnectState=2,e.getConfig(),e.stateCenter.specified||(i=e.reportSeq++,e.eventManager.emit("dispatchEvent",i,"start"),e.dispatch().then((function(t){var r=t.servers;t=t.domains.map((function(e){return e.host})),e.eventManager.emit("dispatchEvent",i,"end",{domains:t}),0<r.length&&e.eventManager.emit("dispatchResultUpdate",{servers:r,domains:t})})).catch((function(e){}))),e.eventManager.emit("connected"),e.connectedTime=(new Date).getTime(),e.connectid=function(e){var t,r="0123456789".split(""),i=[];for(e=r.length,t=0;t<16;t++)i[t]=r[0|Math.random()*e];return i.join("")}(),e.eventManager.emit("connectedEvent",e.connectSeq,"end",{servers:t,count:t.length,connectid:e.connectid,connectEvents:r})},this.onConnectingEvent=function(){e.logger.info("zn.zca.oce call"),e.linkConnectState=1},this.onDisConnectedEvent=function(t){e.logger.info("zn.zca.ode"+" ".concat(t)),e.linkConnectState=0,t?(e.disConnect(),e.netAgentPCRequestMgr.updateConnectState(g.BROKEN)):(e.eventManager.emit("disconnected"),e.netAgentPCRequestMgr.updateConnectState(g.DISCONNECT))},this.onPushEvent=function(t,r,i,n){switch(r){case A.MSG_TYPE_REDIRECT:case A.MSG_TYPE_REDIRECT2:e.redirect(i);break;case A.MSG_TYPE_CLOSE_CONNECTION:e.connectClosed(i);break;case A.MSG_TYPE_PC_BROKEN:case A.MSG_TYPE_PC_ESTABLISHED:case A.MSG_TYPE_PC_DOWNWARD_MESSAGE:case A.MSG_TYPE_PUSH_EXCEPTION:e.streamManager.onPushEvent(t,r,i,n);break;case A.MSG_TYPE_PUSH_APPCONFIG:e.businessRequestMgr.decodeConfigMessage(i.data)}}}function we(e){this.zegoLink=e,this.streamID=1,this.httpStreams=[],this.pcStreams=[]}function De(e,t,r){this.type=e,this.streamID=t,this.zegoLink=r,this.isFree=!1,this.isFirst=!0}function be(e,t,r){this.logger=e,this.streamManager=t,this.service=r,this.netHttpStream=this.streamManager.createStream(a.HTTP)}function ke(){}function Re(){this.networkState=i.online,this.useNetAgent=!0,this.specified=!1,this.clientIP="",this.timeOffset=0,this.networkRTT=0}function Ne(e,t){this.logger=e,this.stateCenter=t,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryTimer=null,this.maxTimer=null,this.retryActiveCount=1,this.retryNetCount=0,this.retryNetMaxTimes=3,this.isOverTime=!1,this.RETRY_MAX_TIME=90}function Te(e,t){this.streamManager=e,this.logger=t,this.pcStreamRequests=[],this.pcEstablishTimeout=ae.pcEstablishTimeout}function Le(e,t,r,i,A){this.logger=e,this.service=t,this.streamManager=r,this.pcEstablishTimeout=i,this.option=A,this.connectState=g.DISCONNECT,this.lastConnectState=g.DISCONNECT,this.brokenTimer=null,this.listenerList={connected:[],broken:[]},this.netPcStream=this.streamManager.createStream(a.PC),this.eventManager=new he,this.netPcStream.onPushEvent=this.onPushEvent.bind(this)}function Me(){this.handlerListMap={}}function Oe(e,t,r){this.streamManager=e,this.logger=t,this.stateCenter=r,this.hbTimer=null,this.hbInterval=5,this.hbTimeout=10,this.hbTimeoutMaxCount=0,this.tryHbCount=0}function Pe(e,t,r,i){this.streamManager=e,this.protobuf=t,this.logger=r,this.stateCenter=i}function Fe(e){this.socket=null,this.ENV=e}}],s={},i.m=o,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var A in e)i.d(r,A,function(t){return e[t]}.bind(null,A));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2))},function(e,t,r){function i(e){var t;return(a[e]||(t=a[e]={i:e,l:!1,exports:{}},s[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var A,n,o,s,a;e.exports=(A=r(8),n=r(0),o=r(2),a={},i.m=s=[function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZEGO_SETTING_ACTION=void 0,(t=t.ZEGO_SETTING_ACTION||(t.ZEGO_SETTING_ACTION={})).CONSTRUCTOR="zs.0",t.SETTING_INIT="zs.ii.0",t.SETTING_FETCH_SETTING="zs.fs.0",t.SETTING__FETCH_SETTING="zs.fs.1",t.SETTING_GET_CLOUD_SETTING="zs.gcs.0",t.SETTING_POLLING_SETTING="zs.ps.0",t.SETTINGCACHEHANDLER_GET_CACHE_SETTING="zs.sch.gcs.0",t.SETTINGCACHEHANDLER_STORE_SETTING="zs.sch.ss.0",t.SETTINGFETCHHANDLER_FETCHSETTING="zs.sfh.fs.0"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorList=void 0,t.errorList={NOT_INIT:{code:1001,msg:"not init"},FILE_REQUEST_FAIL:{code:1002,msg:"fetch request fail"},INFLATE_DATA_FAIL:{code:1003,msg:"inflate fail"},MULTI_FILE_NOT_EXIST:{code:1004,msg:"get multi file fail"},AUTH_FAIL:{code:1005,msg:"auth failed"}}},function(e,t,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ProductMap=t.Product=t.SOCKET_DISCONNECT=t.ENUM_REMOTE_TYPE=t.ZEGO_BROWSER_TYPE=t.ZEGO_ENV=t.PROTO_VERSION=void 0,t.PROTO_VERSION="1.1.1",(i=t.ZEGO_ENV||(t.ZEGO_ENV={}))[i.BROWSER=0]="BROWSER",i[i.WEIXINMINI=1]="WEIXINMINI",(i=t.ZEGO_BROWSER_TYPE||(t.ZEGO_BROWSER_TYPE={}))[i.IE=0]="IE",i[i.FIREFOX=1]="FIREFOX",i[i.CHROME=2]="CHROME",i[i.SAFARI=3]="SAFARI",i[i.OPERA=4]="OPERA",i[i.WEIXIN=5]="WEIXIN",i[i.WEIXINMINI=6]="WEIXINMINI",i[i.UNKOWN=7]="UNKOWN",(i=t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={}))[i.DISABLE=0]="DISABLE",i[i.WEBSOCKET=1]="WEBSOCKET",i[i.HTTPS=2]="HTTPS",t.SOCKET_DISCONNECT=-1,(i=t.Product||(t.Product={}))[i.RTC=0]="RTC",i[i.WEB_RTC=1]="WEB_RTC",i[i.ZIM=2]="ZIM",i[i.ROOM_KIT=3]="ROOM_KIT",i[i.DOC_SHARE=4]="DOC_SHARE",i[i.WHITE_BOARD=5]="WHITE_BOARD",i[i.SELF_CHECK=999]="SELF_CHECK",i[i.TEST_ANOOUS=1e3]="TEST_ANOOUS",t.ProductMap={0:"rtc_sdk_native",1:"Web_SDK",2:"ZIM",3:"roomkitWeb",4:"docsshare",5:"WhiteBoard"}},function(e,t){e.exports=A},function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,A,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(i=n.next()).done;)o.push(i.value)}catch(e){A={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(A)throw A.error}}return o},A=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.decodeString=t.decodeCompressData=t.generateUUID=t.checkValidNumber=t.analyzeKey=t.getCurrentTime=t.getBrowser=void 0,r(16)),o=(t.getBrowser=function(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),r=-1!=e.indexOf("Firefox"),i=null!=window.opr,A=e.indexOf("Chrome")&&window.chrome,n=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version");return e=e.toLowerCase().match(/MicroMessenger/i)&&"micromessenger"===e.toLowerCase().match(/MicroMessenger/i)[0],t?"IE":r?"FIREFOX":i?"OPERA":A?"CHROME":n?"SAFARI":e?"WEIXIN":"UNKOWN"},["00","01","02","03","04","05","06","07","08","09"]);t.getCurrentTime=function(){var e=new Date;return[e.getFullYear()+"/",(o[e.getMonth()+1]||e.getMonth()+1)+"/",(o[e.getDate()]||e.getDate())+" ",(o[e.getHours()]||e.getHours())+":",(o[e.getMinutes()]||e.getMinutes())+":",o[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")},t.analyzeKey=function(e){return e=e.split("_"),{level:Number(e[0]),timestamp:e[1],seq:e[2]}},t.checkValidNumber=function(e,t,r){return t=t||1,r=r||1e4,"number"==typeof e&&e%1==0&&t<=e&&e<=r},t.generateUUID=function(e){if(0===(e=void 0===e?0:e))try{r=localStorage.getItem("z_deviceID")}catch(e){}else wx.getStorageSync("z_deviceID");if(!r){var t=(new Date).getTime(),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(36)}));if(0===e)try{localStorage.setItem("z_deviceID",r)}catch(e){}else wx.setStorageSync("z_deviceID",r)}return r},t.decodeCompressData=function(e){try{return n.inflate(e,{to:"string"})}catch(e){console.error(e)}},t.decodeString=function(e){return decodeURIComponent(window.escape(String.fromCharCode.apply(String,A(Array.from(e)))))}},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_CONFIG=void 0,t.INIT_CONFIG={env:0,compress:!0,p_version:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSetting=void 0;var i=r(9);Object.defineProperty(t,"ZegoSetting",{enumerable:!0,get:function(){return i.ZegoSetting}})},function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},A=this&&this.__awaiter||function(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var a=[o,s];if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(A=2&a[0]?i.return:a[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,a[1])).done)return A;switch(i=0,(a=A?[2&a[0],A.value]:a)[0]){case 0:case 1:A=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(A=0<(A=n.trys).length&&A[A.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!A||a[1]>A[0]&&a[1]<A[3]))n.label=a[1];else if(6===a[0]&&n.label<A[1])n.label=A[1],A=a;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(a)}}a=t.call(e,n)}catch(s){a=[6,s],i=0}finally{r=A=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSetting=void 0,r(2)),s=r(10),a=r(11),c=r(13),g=r(0),u=r(7),l=r(1),h=r(4);function d(){this.fileList=[],this.publicEnvVariable={},this.proEnvVariable={},this.pollingTimer=null,this.pollingInterval=300,this.inited=!1,this.checkFailCount=0,this.checkFailed=!1,this.log=new s.ZegoLog}Object.defineProperty(d.prototype,"envVariable",{get:function(){return Object.assign({},this.publicEnvVariable,this.proEnvVariable)},enumerable:!1,configurable:!0}),d.prototype.init=function(e){var t,r=this;return e.pollingFreq&&!h.checkValidNumber(e.pollingFreq)?(this.log.error(g.ZEGO_SETTING_ACTION.SETTING_INIT+" pollingFreq must be integer number"),!1):(this.options=Object.assign({},u.INIT_CONFIG,e),this.getPublicEnvVariable(),this.settingFetchHandler=new c.SettingFetchHandler(this.options,this.log),this.settingFetchHandler.setDataReport(this.options.reportNotify),e=Math.round(60*Math.random()),this.log.info(g.ZEGO_SETTING_ACTION.SETTING_INIT+" delay "+e),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),this.options.pollingFreq&&60<=this.options.pollingFreq&&(this.pollingInterval=this.options.pollingFreq),this.delayTimer=setTimeout((function(){r.pollingSetting(1e3*r.pollingInterval,!1)}),1e3*e),this.settingCacheHandler=new a.SettingCacheHandler("setting_"+(this.options.online?"online_":"test_")+(e=this.options.product||this.options.productNum)+"_"+this.options.appID,this.log,this.options.env),[0,1,2,3,4,5].includes(e)&&(t=o.ProductMap[e])&&(1===e&&this.settingCacheHandler.dropOldStore("setting_"+(this.options.online?"online_":"test_")+"undefined_"+this.options.appID),this.settingCacheHandler.dropOldStore("setting_"+(this.options.online?"online_":"test_")+t+"_"+this.options.appID)),null!=(t=this.options)&&t.unify&&this.options.connection&&null!=(e=null==(e=this.options)?void 0:e.connection)&&e.on("connected",(function(){r.settingFetchHandler.checkUnSendMsgs(r.settingFetchHandler.unSendCommandList)})),this.refreshAuthCheck(),this.inited=!0)},d.prototype.uninit=function(){this.pollingTimer&&(clearTimeout(this.pollingTimer),this.pollingTimer=null)},d.prototype.setEnvVariable=function(e,t){this.proEnvVariable[e]=String(t)},d.prototype.getEnvVariable=function(e){return this.envVariable[e]},d.prototype.setEnvVariables=function(e){var t=this;Object.keys(e).forEach((function(r){"string"!=typeof e[r]&&"number"!=typeof e[r]&&t.log.error("zs.sev env "+r+" type error"),t.proEnvVariable[r]=String(e[r])}))},d.prototype.getEnvVariables=function(){return this.envVariable},d.prototype.enablePolling=function(e,t){var r=this;t?t.forEach((function(t){var i=r.fileList.find((function(e){return e.fileName===t}));i&&(i.needPolling=e)})):this.fileList.forEach((function(t){return t.needPolling=e}))},d.prototype.setToken=function(e){this.token!==e&&this.refreshAuthCheck(),this.token=e},d.prototype.setUserID=function(e){this.userID!==e&&this.refreshAuthCheck(),this.userID=e},d.prototype.getSettingCache=function(e){return A(this,void 0,void 0,(function(){var t,r;return n(this,(function(i){switch(i.label){case 0:return this.inited?(t=this.fileList.find((function(t){return t.fileName===e})))?[2,Promise.resolve({setting:t.setting,versions:t.versions})]:[3,1]:[2,Promise.reject(l.errorList.NOT_INIT)];case 1:return[4,this.settingCacheHandler.getCacheSetting(e)];case 2:return(t=i.sent())&&(this.fileList.find((function(t){return t.fileName===e}))||this.fileList.push({fileName:e,fetchedTime:0,needPolling:!1,setting:t.setting,versions:t.versions}),r={setting:t.setting,versions:t.versions}),[2,Promise.resolve(r)]}}))}))},d.prototype.fetchSetting=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!0),this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" call "+e),this.inited?(this.activePolling(),0<Object.keys(t).length?(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" get file with params"),this._getCloudSetting(e,i(i({},this.envVariable),t))):(t=this.fileList.find((function(t){return t.fileName===e})))?(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" file exist"),(new Date).getTime()-t.fetchedTime<1e3*this.pollingInterval?(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" fetch time interval in freq"),t.needPolling=r,Promise.resolve({setting:t.setting,versions:t.versions})):this._fetchSetting(e,t,r)):(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" file not found"),this._fetchSetting(e,t,r))):Promise.reject(l.errorList.NOT_INIT)},d.prototype.fetchMultiSetting=function(e,t,r){var o=this;return void 0===t&&(t={}),void 0===r&&(r=!0),this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" call "+JSON.stringify(e)),this.inited?(this.activePolling(),0<Object.keys(t).length?(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" get file with params"),this._getCloudSetting(e,i(i({},this.envVariable),t))):new Promise((function(t,i){var s={},a=[];if(e.forEach((function(e){return A(o,void 0,void 0,(function(){var t;return n(this,(function(r){return(t=this.fileList.find((function(t){return t.fileName===e})))&&(new Date).getTime()-t.fetchedTime<1e3*this.pollingInterval?(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" fetch time interval in freq"),s[e]={setting:t.setting,versions:t.versions}):a.push(e),[2]}))}))})),!(0<a.length))return t(s);o._getCloudSetting(a,o.envVariable).then((function(e){return o.handleFetchFiles(e,r),Object.assign(s,e),t(s)})).catch((function(e){a.forEach((function(e){return A(o,void 0,void 0,(function(){var t;return n(this,(function(i){switch(i.label){case 0:return(t=this.fileList.find((function(t){return t.fileName==e})))?t.fetchedTime=(new Date).getTime():this.fileList.find((function(t){return t.fileName===e}))||this.fileList.push({fileName:e,fetchedTime:(new Date).getTime(),needPolling:r,setting:{},versions:{}}),[4,this.settingCacheHandler.getCacheSetting(e)];case 1:return t=i.sent(),s[e]={setting:t.setting,versions:t.versions},[2]}}))}))})),0<Object.keys(s).length?t(s):i(e)}))}))):(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" not init"),Promise.reject(l.errorList.NOT_INIT))},d.prototype.setOptions=function(e){e&&"boolean"==typeof e.unify&&(this.options.unify=e.unify,this.settingFetchHandler.setOptions(this.options))},d.prototype.setLog=function(e){this.log=e},d.prototype._getCloudSetting=function(e,t){var r=this;return new Promise((function(i,o){return A(r,void 0,void 0,(function(){var r,A,s,a,c,u,h,d,p,C,I=this;return n(this,(function(n){switch(n.label){case 0:if(n.trys.push([0,6,,7]),this.checkFailed)return this.log.warn(g.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" check fail"),o(l.errorList.AUTH_FAIL),[2];u=(d=e instanceof Array)?e:[e],r=[],A={},s=function(e){return e=e.map((function(e){return I.settingCacheHandler.getCacheSetting(e)})),Promise.all(e)},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,s(u)];case 2:return a=n.sent(),u.forEach((function(e,t){var i;r.push({file_name:e,hash:null==(i=a[t].versions)?void 0:i.hash,g_version:null==(i=a[t].versions)?void 0:i.g_version}),A[e]=a[t]})),[3,4];case 3:return n.sent(),u.forEach((function(e){r.push({file_name:e})})),[3,4];case 4:return[4,this.settingFetchHandler.fetchSetting(r,t,this.token,this.userID,!1)];case 5:return u=n.sent(),c=u.data,u=u.polling_interval,this.checkFailCount=0,this.log.info(g.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" suc"),"number"==typeof u&&5<=u&&this.pollingInterval!==60*u&&(this.log.warn(g.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" polling interval change"),this.pollingInterval=60*u,this.uninit(),this.activePolling()),d?(h={},e.forEach((function(e){var t,r;0==(null==(t=c[e])?void 0:t.code)&&(c[e].hashChange?(I.log.info(g.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" file "+e+" changed"),h[e]={setting:null==(r=c[e])?void 0:r.data,versions:null==(r=c[e])?void 0:r.versions}):A[e]&&(h[e]={setting:null==(r=A[e])?void 0:r.setting,versions:null==(e=A[e])?void 0:e.versions}))})),0<Object.keys(h).length?i(h):o(l.errorList.MULTI_FILE_NOT_EXIST)):0===(null==(d=c[e])?void 0:d.code)&&null!=(p=c[e])&&p.data?i({setting:null==(p=c[e])?void 0:p.data,versions:null==(p=c[e])?void 0:p.versions}):o({code:null==(C=c[e])?void 0:C.code,msg:null==(C=c[e])?void 0:C.message}),[3,7];case 6:return C=n.sent(),this.log.error(g.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" fail "+JSON.stringify(C)),21002!==(null==C?void 0:C.code)&&401!==(null==C?void 0:C.status_code)||(this.checkFailCount+=1),2<=this.checkFailCount&&(this.checkFailed=!0),o(C),[3,7];case 7:return[2]}}))}))}))},d.prototype.handleFetchFiles=function(e,t){var r=this;Object.keys(e).forEach((function(i){var A=r.fileList.find((function(e){return e.fileName==i}));A?(A.fetchedTime=(new Date).getTime(),A.setting=e[i].setting,A.versions=e[i].versions,A.needPolling=t):r.fileList.find((function(e){return e.fileName===i}))||r.fileList.push({fileName:i,fetchedTime:(new Date).getTime(),needPolling:t,setting:e[i].setting,versions:e[i].versions}),r.settingCacheHandler.storeSetting(i,e[i])}))},d.prototype._fetchSetting=function(e,t,r){var i=this;return new Promise((function(o,s){i.log.info(g.ZEGO_SETTING_ACTION.SETTING__FETCH_SETTING+" call"),i._getCloudSetting(e,i.envVariable).then((function(A){t?(t.fetchedTime=(new Date).getTime(),t.setting=A.setting,t.versions=A.versions,t.needPolling=r):i.fileList.find((function(t){return t.fileName===e}))||i.fileList.push({fileName:e,fetchedTime:(new Date).getTime(),needPolling:r,setting:A.setting,versions:A.versions}),i.settingCacheHandler.storeSetting(e,A),o(A),i.log.info(g.ZEGO_SETTING_ACTION.SETTING__FETCH_SETTING+" call suc")})).catch((function(a){return A(i,void 0,void 0,(function(){var i;return n(this,(function(A){switch(A.label){case 0:t?t.fetchedTime=(new Date).getTime():this.fileList.find((function(t){return t.fileName===e}))||this.fileList.push({fileName:e,fetchedTime:(new Date).getTime(),needPolling:r,setting:{},versions:{}}),i=e,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.settingCacheHandler.getCacheSetting(i)];case 2:return i=A.sent(),o(i),[3,4];case 3:return A.sent(),s(a),[3,4];case 4:return this.log.info(g.ZEGO_SETTING_ACTION.SETTING__FETCH_SETTING+" setting not contain or fetch file fail"),[2]}}))}))}))}))},d.prototype.getPublicEnvVariable=function(){var e;0==this.options.env?(this.publicEnvVariable.userAgent=navigator.userAgent,this.publicEnvVariable.platform=navigator.platform,this.publicEnvVariable.browser=h.getBrowser(),this.publicEnvVariable.deviceid=h.generateUUID()):1==this.options.env&&(e=wx.getSystemInfoSync(),this.publicEnvVariable.brand=e.brand,this.publicEnvVariable.model=e.model,this.publicEnvVariable.system=e.system,this.publicEnvVariable.platform=e.platform,this.publicEnvVariable.wechatVersion=e.version,this.publicEnvVariable.wechatSDKVersion=e.SDKVersion,this.publicEnvVariable.deviceid=h.generateUUID(this.options.env))},d.prototype.pollingSetting=function(e,t){return void 0===t&&(t=!0),A(this,void 0,void 0,(function(){var r,i,o,s,a=this;return n(this,(function(c){switch(c.label){case 0:return this.log.info(g.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" call "+e+" "+t),r=e,t?(i=[],this.fileList.forEach((function(e){e.needPolling&&i.push({file_name:e.fileName,hash:e.versions.hash,g_version:e.versions.g_version})})),this.checkFailed?(this.log.warn(g.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" has checked fail"),[3,7]):[3,1]):[3,7];case 1:if(!(0<i.length))return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.settingFetchHandler.fetchSetting(i,this.envVariable,this.token,this.userID)];case 3:return s=c.sent(),o=s.data,s=s.polling_interval,this.log.info(g.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" fetch suc"),this.checkFailCount=0,"number"==typeof s&&5<=s&&this.pollingInterval!==60*s&&(this.log.warn(g.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" polling interval change"),this.pollingInterval=60*s,r=1e3*this.pollingInterval),this.fileList.forEach((function(e){return A(a,void 0,void 0,(function(){var t,r,i,A,s,a,c,u,l,h;return n(this,(function(n){switch(n.label){case 0:return e.fetchedTime=(new Date).getTime(),t=e.fileName,i=(r=o[e.fileName]).code,A=r.data,s=r.versions,a=r.message,c=r.hashChange,r&&0===i&&A?(l=JSON.stringify(A),h=JSON.stringify(e.setting),u={setting:A,versions:s,code:i,message:a},c&&h!==l&&(this.log.info(g.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" "+e.fileName+" setting changed"),e.setting=u.setting,e.versions=u.versions,this.options.pollingNotify(e.fileName,u)),[4,this.settingCacheHandler.getCacheSetting(t)]):[3,2];case 1:h=n.sent(),l=JSON.stringify(h),h=JSON.stringify(u),c&&l!==h&&this.settingCacheHandler.storeSetting(t,u),n.label=2;case 2:return[2]}}))}))})),[3,5];case 4:return s=c.sent(),this.log.error(g.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" fetch fail "+JSON.stringify(s)),21002!==(null==s?void 0:s.code)&&401!==(null==s?void 0:s.status_code)||(this.checkFailCount+=1),2<=this.checkFailCount&&(this.checkFailed=!0),[3,5];case 5:return[3,7];case 6:this.log.info(g.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" polling no file"),c.label=7;case 7:return this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingTimer=setTimeout((function(){a.pollingSetting(r)}),r),[2]}}))}))},d.prototype.activePolling=function(){this.pollingTimer||this.pollingSetting(1e3*this.pollingInterval)},d.prototype.refreshAuthCheck=function(){this.checkFailCount=0,this.checkFailed=!1},t.ZegoSetting=r=d},function(e,t,r){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLog=void 0,i.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.log(r)},i.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.debug(r)},i.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.info(r)},i.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.warn(r)},i.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.join(" ");console.error(r)},t.ZegoLog=i},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},A=this&&this.__generator||function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var a=[o,s];if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(A=2&a[0]?i.return:a[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,a[1])).done)return A;switch(i=0,(a=A?[2&a[0],A.value]:a)[0]){case 0:case 1:A=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(A=0<(A=n.trys).length&&A[A.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!A||a[1]>A[0]&&a[1]<A[3]))n.label=a[1];else if(6===a[0]&&n.label<A[1])n.label=A[1],A=a;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(a)}}a=t.call(e,n)}catch(s){a=[6,s],i=0}finally{r=A=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.SettingCacheHandler=void 0,n(r(3))),s=r(0),a=r(12);function c(e,t,r){void 0===r&&(r=0),this.storeName=e,this.log=t,this.store=a.createZegoStore(e,r)}c.prototype.getCacheSetting=function(e){return i(this,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return this.log.info(s.ZEGO_SETTING_ACTION.SETTINGCACHEHANDLER_GET_CACHE_SETTING+" call"),[4,this.store.getItem(e)];case 1:return[2,t.sent()||""]}}))}))},c.prototype.storeSetting=function(e,t){return i(this,void 0,void 0,(function(){return A(this,(function(r){switch(r.label){case 0:return this.log.info(s.ZEGO_SETTING_ACTION.SETTINGCACHEHANDLER_STORE_SETTING+" call"),[4,this.store.setItem(e,t)];case 1:return r.sent(),[2]}}))}))},c.prototype.dropOldStore=function(e){o.default.dropInstance({name:e}).then((function(){console.debug("Dropped ",e)})).catch((function(e){console.warn(e)}))},t.SettingCacheHandler=r=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoStore=t.ZegoWechatMiniStore=void 0;var i=r(3),A=r(2),n=(o.prototype.getItem=function(e){var t=this;return new Promise((function(r,i){try{r(wx.getStorageSync(t.keyPrefix+e))}catch(r){i(r)}}))},o.prototype.setItem=function(e,t){var r=this;return new Promise((function(i,A){try{wx.setStorageSync(r.keyPrefix+e,t),i()}catch(i){A(i)}}))},o.prototype.removeItem=function(e){var t=this;return new Promise((function(r,i){try{r(wx.removeStorageSync(t.keyPrefix+e))}catch(r){i(r)}}))},o.prototype.clear=function(){return new Promise((function(e,t){try{wx.clearStorageSync(),e()}catch(e){t(e)}}))},o.prototype.keys=function(){var e=this;return new Promise((function(t,r){try{var i=wx.getStorageInfoSync().keys,A=(console.warn("keys",i),[]);i.forEach((function(t){0==t.indexOf(e.keyPrefix)&&A.push(t.replace(e.keyPrefix,""))})),console.warn("keyArr",A),A.sort(),t(A)}catch(t){r(t)}}))},o);function o(e){this.storeName=e,this.keyPrefix=e+"/"}t.ZegoWechatMiniStore=n,t.createZegoStore=function(e,t){return t===A.ZEGO_ENV.BROWSER?i.createInstance({name:e}):new n(e)}},function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},A=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingFetchHandler=void 0;var n,o,s=r(0),a=r(1),c=r(14),g=r(15),u=r(4),l=r(17),h=r(7),d=A(r(5));function p(e,t){this.options=e,this.log=t,this.seq=0,this.userID="",this.unSendCommandList=new g.LinkedList,this.testNetPackageSize=!1,this.protobuf=new l.CloudSettingProtoBuf}r=n={SERVICE_ClOUD_SETTING:10,10:"SERVICE_ClOUD_SETTING"},r=o={METHOD_UNSET:0,0:"METHOD_UNSET",METHOD_GET:1,1:"METHOD_GET",METHOD_POST:2,2:"METHOD_POST"},p.prototype.setOptions=function(e){this.options=e},p.prototype.setDataReport=function(e){this.reportFunc=e},p.prototype.setUserID=function(e){this.userID=e},p.prototype.fetchSetting=function(e,t,r,A,n){var o=this;return void 0===n&&(n=!0),new Promise((function(a,g){var l={product:o.options.product,files:e.map((function(e){return e.file_name})),param:i(i({},t),{deviceid:void 0}),appid:o.options.appID,token:r,id_name:A,timestamp:(new Date).getTime(),biztype:0,deviceid:t.deviceid||u.generateUUID(o.options.env),compress:!1,mode:o.options.online?"online":"test"},d=l.param,p={appid:l.appid,token:l.token,id_name:l.id_name,deviceid:l.deviceid},C=o.seq++;function I(e){var t,r=e.code,i=e.data,A=e.polling_interval;e=e.reportData,o.log.info(s.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" unify "+r),i&&(t=[],Object.keys(i).forEach((function(e){var r;t.push({name:e,code:i[e].code,message:null==(r=i[e])?void 0:r.message,versions:JSON.stringify(null==(r=i[e])?void 0:r.versions),content:JSON.stringify(null==(e=i[e])?void 0:e.data)})}))),o.reportFunc&&o.reportFunc(C,"request_end",{code:r,reportData:e,params:p,requestKV:d,files:t,polling:n}),a({data:i,polling_interval:A})}function f(e){var t=e.code,r=e.msg,i=e.status_code;e=e.reportData,o.log.warn(s.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" unify "+t),o.reportFunc&&o.reportFunc(C,"request_end",{code:t,params:p,requestKV:d,reportData:e,polling:n}),g({code:t,msg:r,status_code:i})}if(o.reportFunc&&o.reportFunc(C,"request_start",{polling:n}),null!=(m=o.options)&&m.unify&&o.options.connection)if(void 0!==o.options.productNum){var E,Q=[];for(E in l.param)void 0!==l.param[E]&&Q.push({key:E,value:l.param[E]});var B={product:o.options.productNum,response_compress:h.INIT_CONFIG.compress?0:1,files:e,param_list:Q,p_version:h.INIT_CONFIG.p_version},m=(o.log.info(s.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" files "+JSON.stringify(B.files)),o.options.online?1:2);o.sendCloudPBRequest(A,B,r,m,I,f)}else o.sendCloudRequest(A,l,"/cloud-setting/get",(function(e){I(e)}),(function(e){f(e)}));else o.options.urls&&c.fetch(o.options.urls,l,o.options.env||0).then((function(e){var t,r=e.code,i=e.data,A=e.polling_interval;e=e.reportData,o.log.info(s.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" "+r),i&&(t=[],Object.keys(i).forEach((function(e){var r;t.push({name:e,code:i[e].code,message:null==(r=i[e])?void 0:r.message,versions:JSON.stringify(null==(r=i[e])?void 0:r.versions),content:JSON.stringify(null==(e=i[e])?void 0:e.data)})}))),o.reportFunc&&o.reportFunc(C,"request_end",{code:r,reportData:e,params:p,requestKV:d,files:t,polling:n}),a({data:i,polling_interval:A})})).catch((function(e){var t=e.code,r=e.msg;e=e.reportData,o.log.warn(s.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" "+t),o.reportFunc&&o.reportFunc(C,"request_end",{code:t,params:p,requestKV:d,reportData:e,polling:n}),g({code:t,msg:r})}))}))},p.prototype.sendCloudRequest=function(e,t,r,A,s,c,g){var u=this,l=(void 0===c&&(c=3),void 0===g&&(g=[]),(new Date).getTime());this.sendNetAgentHttpRequest({service:n.SERVICE_ClOUD_SETTING,body:t,ack:!1,idName:e,method_no:o.METHOD_POST,location:r},(function(n){var o,h,d,p,C;200===(null==n?void 0:n.status_code)?(o=(p=JSON.parse(n.body)).code,C=p.message,h=p.data,d=p.polling_interval,p=(new Date).getTime()-l,g.push({timestamp:l,url:r,error:o,duration:p}),0===o?A({code:o,msg:C,data:h,polling_interval:d,reportData:g}):s({code:o,msg:C,reportData:g})):(C=(new Date).getTime()-l,g.push({timestamp:l,url:r,error:null==n?void 0:n.status_code,duration:C}),0<c?(c--,u.sendCloudRequest(e,t,r,A,s,c,g)):s(i(i({},a.errorList.FILE_REQUEST_FAIL),{reportData:g})))}),(function(n){var o=(new Date).getTime()-l;g.push({timestamp:l,url:r,error:n.code,duration:o}),0<c?(c--,u.sendCloudRequest(e,t,r,A,s,c,g)):s(i(i({},a.errorList.FILE_REQUEST_FAIL),{reportData:g}))}),null,{timeout:4e3})},p.prototype.sendNetAgentHttpRequest=function(e,t,r,i,A){i={param:e,suc:t,err:r,ack:i,option:A},null!=(A=this.options.connection)&&A.isConnect()?this.sendNetUintData(i):this.unSendCommandList.push(i)},p.prototype.sendNetUintData=function(e){var t=e.param,r=e.suc,i=e.err,A=e.ack,n=e.option;null!=(e=this.options.connection)&&e.startHttpRequest(t,r,i,A,n)},p.prototype.checkUnSendMsgs=function(e){for(var t=e.getFirst();null!=t;)e.remove(t),t._data&&t._data.param&&this.sendNetUintData(t._data),t=e.getFirst()},p.prototype.sendCloudPBRequest=function(e,t,r,A,n,c,g,l){var h,p=this,C=(void 0===g&&(g=3),void 0===l&&(l=[]),(new Date).getTime()),I=this.protobuf.encodeCloudSettingReq(t);null!=(h=this.options.connection)&&h.startHttpRequest2({interfaceID:14,body:I,ack:!1,idName:e,method:o.METHOD_POST,token:r,mode:A,reduceRspHeaders:!0},(function(o,h){if(200===(null==o?void 0:o.status_code)){var I=p.protobuf.decodeCloudSettingRsp(o.body),f=I.message,E=I.polling_interval,Q=I.code||0,B=(d.default.isLong(Q)&&(Q=Q.toNumber()),(new Date).getTime()-C);if(l.push({timestamp:C,error:Q,duration:B}),0===Q){for(var m={},y=0;y<I.file_response.length;y++){var v=(R=I.file_response[y]).message,_=R.file_name,S=R.hash,w=R.g_version,D=R.json_data,b=(p.log.info(s.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" file rsp "+_+" "+w+" "+S.toString()),R.code||0);if(d.default.isLong(b)&&(b=b.toNumber()),R={},0<(null==S?void 0:S.byteLength)&&0<(null==D?void 0:D.byteLength))try{var k=0===t.response_compress?u.decodeCompressData(D):u.decodeString(D),R=JSON.parse(k)}catch(o){p.log.info(s.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" decode fail "+(null==o?void 0:o.message)?o.message:JSON.stringify(o))}m[_]={code:b,message:v,versions:{hash:S,g_version:w},data:R,hashChange:0===S.byteLength?0:1}}n({code:Q,msg:f,data:m,polling_interval:E,reportData:l})}else c({code:Q,msg:f,reportData:l})}else f=(new Date).getTime()-C,l.push({timestamp:C,error:null==o?void 0:o.status_code,duration:f}),0<g?(g--,p.sendCloudPBRequest(e,t,r,A,n,c,g,l)):c(i(i({},a.errorList.FILE_REQUEST_FAIL),{reportData:l,status_code:null==o?void 0:o.status_code}))}),(function(o){var s=(new Date).getTime()-C;l.push({timestamp:C,error:o.code,duration:s}),0<g?(g--,p.sendCloudPBRequest(e,t,r,A,n,c,g,l)):c(i(i({},a.errorList.FILE_REQUEST_FAIL),{reportData:l,status_code:null==o?void 0:o.status_code}))}),null,{timeout:4e3,extras:{protoCmd:"GetCloudSettingConfigRequest"}})},t.SettingFetchHandler=r=p},function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},A=(Object.defineProperty(t,"__esModule",{value:!0}),t.fetch=void 0,r(1));t.fetch=function e(t,r,n,o,s,a){return void 0===o&&(o=5),void 0===s&&(s=0),void 0===a&&(a=[]),new Promise((function(c,g){s=s||(new Date).getTime();var u,l,h,d=(new Date).getTime();0===n?((u=new XMLHttpRequest).open("post",l=t[(o+1)%2]||t[0]),1==r.compress&&(u.responseType="arraybuffer"),u.ontimeout=function(){console.warn("The request for "+l+" timed out.")},u.onreadystatechange=function(){var h,p,C,I,f;4==u.readyState&&(200<=u.status&&u.status<300||304==u.status?(p=void 0,1!=r.compress&&(p=u.responseText),f=(new Date).getTime()-d,h=(C=JSON.parse(p)).code,I=C.message,p=C.data,C=C.polling_interval,a.push({timestamp:d,url:l,error:h,duration:f}),0===h?c({code:h,msg:I,data:p,polling_interval:C,reportData:a}):g({code:h,msg:I,reportData:a})):(I=(new Date).getTime()-d,a.push({timestamp:d,url:l,error:u.status,duration:I}),f=(new Date).getTime()-s,0<o&&f<8e3?e(t,r,n,--o,s,a).then((function(e){c(e)})).catch((function(e){g(e)})):g(i(i({},A.errorList.FILE_REQUEST_FAIL),{reportData:a}))))},u.timeout=8e3,u.send(JSON.stringify(r))):(h=t[(o+1)%2]||t[0],wx.request({url:h,data:r,method:"POST",success:function(u){console.log(u.data);var l=(I=u.data).code,p=I.message,C=I.data,I=I.polling_interval;void 0!==l?0===l?(console.log("post suc"),c({code:l,msg:p,data:C,polling_interval:I,reportData:a})):(console.error("post fail ",l,p),g({code:l,msg:p,reportData:a})):(p=(new Date).getTime()-d,a.push({timestamp:d,url:h,error:A.errorList.FILE_REQUEST_FAIL.code,msg:u.data,duration:p}),0<o?e(t,r,n,--o,s,a).then((function(e){c(e)})).catch((function(e){g(e)})):g(i(i({},A.errorList.FILE_REQUEST_FAIL),{reportData:a})))},fail:function(u){console.log("send failed "+JSON.stringify(u)+u.statusCode);var l=(new Date).getTime()-d;a.push({timestamp:d,url:h,error:A.errorList.FILE_REQUEST_FAIL.code,msg:u.errMsg,duration:l}),0<o?e(t,r,n,--o,s,a).then((function(e){c(e)})).catch((function(e){g(e)})):g(i(i({},A.errorList.FILE_REQUEST_FAIL),{reportData:a}))}}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=t.ListNode=void 0,Object.defineProperty(A.prototype,"id",{get:function(){return this._id||null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),A.prototype.hasNext=function(){return this.next&&this.next.id},A.prototype.hasPrev=function(){return this.prev&&this.prev.id};var i=A;function A(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}function n(){this.start=new i,this.end=new i,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}t.ListNode=i,n.prototype.insertBefore=function(e,t){return(t=new i(this._idCounter,t)).next=e,t.prev=e.prev,e.prev&&(e.prev.next=t),e.prev=t,++this._idCounter,++this._numNodes,t},n.prototype.addLast=function(e){return this.insertBefore(this.end,e)},n.prototype.add=function(e){return this.addLast(e)},n.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},n.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},n.prototype.size=function(){return this._numNodes},n.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(0<=e)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw"Index out of bounds.";return r},n.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},n.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},n.prototype.removeFirst=function(){return 0<this._numNodes&&this.start.next?this.remove(this.start.next):null},n.prototype.removeLast=function(){return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):null},n.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},n.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},n.prototype.find=function(e){for(var t=this.start,r=!1,i=null;t.hasNext()&&!r;)e(t=t.next)&&(i=t,r=!0);return i},n.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},n.prototype.push=function(e){return this.addLast(e)},n.prototype.unshift=function(e){this.insertBefore(0<this._numNodes?this.start.next:this.end,e)},n.prototype.pop=function(){return this.removeLast()},n.prototype.shift=function(){return this.removeFirst()},t.LinkedList=n},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var n=A,o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^n[255&(e^t[s])];return-1^e}function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}var i=function(e,t,r,i){for(var A=65535&e|0,n=e>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;n=n+(A=A+t[i++]|0)|0,--o;);A%=65521,n%=65521}return A|n<<16|0},A=new Uint32Array(function(){for(var e=[],t=0;t<256;t++){for(var r=t,i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r}return e}()),n=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),o=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),s=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),c=function(e,t,r,i,A,c,g,u){var l,h,d,p,C,I,f,E,Q,B=u.bits,m=0,y=0,v=0,_=0,S=0,w=0,D=0,b=0,k=0,R=0,N=null,T=0,L=new Uint16Array(16),M=new Uint16Array(16),O=null,P=0;for(m=0;m<=15;m++)L[m]=0;for(y=0;y<i;y++)L[t[r+y]]++;for(S=B,_=15;1<=_&&0===L[_];_--);if(_<S&&(S=_),0===_)A[c++]=20971520,A[c++]=20971520,u.bits=1;else{for(v=1;v<_&&0===L[v];v++);for(S<v&&(S=v),m=b=1;m<=15;m++)if((b=(b<<1)-L[m])<0)return-1;if(0<b&&(0===e||1!==_))return-1;for(M[1]=0,m=1;m<15;m++)M[m+1]=M[m]+L[m];for(y=0;y<i;y++)0!==t[r+y]&&(g[M[t[r+y]]++]=y);if(I=0===e?(N=O=g,19):1===e?(N=n,T-=257,O=o,P-=257,256):(N=s,O=a,-1),m=v,C=c,D=y=R=0,d=-1,p=(k=1<<(w=S))-1,1===e&&852<k||2===e&&592<k)return 1;for(;;){for(Q=g[y]<I?(E=0,g[y]):g[y]>I?(E=O[P+g[y]],N[T+g[y]]):(E=96,0),l=1<<(f=m-D),v=h=1<<w;A[C+(R>>D)+(h-=l)]=f<<24|E<<16|Q|0,0!==h;);for(l=1<<m-1;R&l;)l>>=1;if(R=0!==l?(R&l-1)+l:0,y++,0==--L[m]){if(m===_)break;m=t[r+g[y]]}if(S<m&&(R&p)!==d){for(C+=v,b=1<<(w=m-(D=0===D?S:D));w+D<_&&!((b-=L[w+D])<=0);)w++,b<<=1;if(k+=1<<w,1===e&&852<k||2===e&&592<k)return 1;A[d=R&p]=S<<24|w<<16|C-c|0}}0!==R&&(A[C+R]=m-D<<24|64<<16|0),u.bits=S}return 0},g={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},u=g.Z_FINISH,l=g.Z_BLOCK,h=g.Z_TREES,d=g.Z_OK,p=g.Z_STREAM_END,C=g.Z_NEED_DICT,I=g.Z_STREAM_ERROR,f=g.Z_DATA_ERROR,E=g.Z_MEM_ERROR,Q=g.Z_BUF_ERROR,B=g.Z_DEFLATED;function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(e,A){var n,o,s,a,g,m,y,v,w,k,R,N,T,L,M,O,P,F,G,U,x,H,q,J,Y=0,K=new Uint8Array(4),z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return I;12===(n=e.state).mode&&(n.mode=13),g=e.next_out,s=e.output,a=e.next_in,o=e.input,v=n.hold,w=n.bits,k=m=e.avail_in,R=y=e.avail_out,H=d;e:for(;;)switch(n.mode){case 1:if(0===n.wrap)n.mode=13;else{for(;w<16;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(2&n.wrap&&35615===v)K[n.check=0]=255&v,K[1]=v>>>8&255,n.check=t(n.check,K,2,0),w=v=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31)e.msg="incorrect header check",n.mode=30;else if((15&v)!==B)e.msg="unknown compression method",n.mode=30;else{if(w-=4,x=8+(15&(v>>>=4)),0===n.wbits)n.wbits=x;else if(x>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&v?10:12,w=v=0}}break;case 2:for(;w<16;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(n.flags=v,(255&n.flags)!==B){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(K[0]=255&v,K[1]=v>>>8&255,n.check=t(n.check,K,2,0)),w=v=0,n.mode=3;case 3:for(;w<32;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}n.head&&(n.head.time=v),512&n.flags&&(K[0]=255&v,K[1]=v>>>8&255,K[2]=v>>>16&255,K[3]=v>>>24&255,n.check=t(n.check,K,4,0)),w=v=0,n.mode=4;case 4:for(;w<16;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(K[0]=255&v,K[1]=v>>>8&255,n.check=t(n.check,K,2,0)),w=v=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(K[0]=255&v,K[1]=v>>>8&255,n.check=t(n.check,K,2,0)),w=v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((N=(N=n.length)>m?m:N)&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(o.subarray(a,a+N),x)),512&n.flags&&(n.check=t(n.check,o,N,a)),m-=N,a+=N,n.length-=N),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;for(N=0;x=o[a+N++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x)),x&&N<m;);if(512&n.flags&&(n.check=t(n.check,o,N,a)),m-=N,a+=N,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;for(N=0;x=o[a+N++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x)),x&&N<m;);if(512&n.flags&&(n.check=t(n.check,o,N,a)),m-=N,a+=N,x)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}w=v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;w<32;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}e.adler=n.check=r(v),w=v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=y,e.next_in=a,e.avail_in=m,n.hold=v,n.bits=w,C;e.adler=n.check=1,n.mode=12;case 12:if(A===l||A===h)break e;case 13:if(n.last)v>>>=7&w,w-=7&w,n.mode=27;else{for(;w<3;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}switch(n.last=1&v,--w,3&(v>>>=1)){case 0:n.mode=14;break;case 1:V=void 0;var j=n;if(D){_=new Int32Array(512),S=new Int32Array(32);for(var V=0;V<144;)j.lens[V++]=8;for(;V<256;)j.lens[V++]=9;for(;V<280;)j.lens[V++]=7;for(;V<288;)j.lens[V++]=8;for(c(1,j.lens,0,288,_,0,j.work,{bits:9}),V=0;V<32;)j.lens[V++]=5;c(2,j.lens,0,32,S,0,j.work,{bits:5}),D=!1}if(j.lencode=_,j.lenbits=9,j.distcode=S,j.distbits=5,n.mode=20,A!==h)break;v>>>=2,w-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}v>>>=2,w-=2}break;case 14:for(v>>>=7&w,w-=7&w;w<32;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,w=v=0,n.mode=15,A===h)break e;case 15:n.mode=16;case 16:if(N=n.length){if(0===(N=y<(N=m<N?m:N)?y:N))break e;s.set(o.subarray(a,a+N),g),m-=N,a+=N,y-=N,g+=N,n.length-=N}else n.mode=12;break;case 17:for(;w<14;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(n.nlen=257+(31&v),w-=5,n.ndist=1+(31&(v>>>=5)),w-=5,n.ncode=4+(15&(v>>>=5)),v>>>=4,w-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}n.lens[z[n.have++]]=7&v,v>>>=3,w-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H=c(0,n.lens,0,19,n.lencode,0,n.work,q={bits:n.lenbits}),n.lenbits=q.bits,H){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(Y=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,P=65535&Y,!((M=Y>>>24)<=w);){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(P<16)v>>>=M,w-=M,n.lens[n.have++]=P;else{if(16===P){for(J=M+2;w<J;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(v>>>=M,w-=M,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}x=n.lens[n.have-1],N=3+(3&v),v>>>=2,w-=2}else if(17===P){for(J=M+3;w<J;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}x=0,N=3+(7&(v>>>=M)),v>>>=3,w=w-M-3}else{for(J=M+7;w<J;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}x=0,N=11+(127&(v>>>=M)),v>>>=7,w=w-M-7}if(n.have+N>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;N--;)n.lens[n.have++]=x}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,H=c(1,n.lens,0,n.nlen,n.lencode,0,n.work,q={bits:n.lenbits}),n.lenbits=q.bits,H){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,H=c(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q={bits:n.distbits}),n.distbits=q.bits,H){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,A===h)break e;case 20:n.mode=21;case 21:if(6<=m&&258<=y){e.next_out=g,e.avail_out=y,e.next_in=a,e.avail_in=m,n.hold=v,n.bits=w,ie=ae=te=ee=$=X=Z=W=Ie=Ce=se=Ae=void 0;var W,Z,X,$,ee,te,re=e,ie=re.state,Ae=re.next_in,ne=re.input,oe=Ae+(re.avail_in-5),se=re.next_out,ae=re.output,ce=se-(R-re.avail_out),ge=se+(re.avail_out-257),ue=ie.dmax,le=ie.wsize,he=ie.whave,de=ie.wnext,pe=ie.window,Ce=ie.hold,Ie=ie.bits,fe=ie.lencode,Ee=ie.distcode,Qe=(1<<ie.lenbits)-1,Be=(1<<ie.distbits)-1;t:do{for(Ie<15&&(Ce+=ne[Ae++]<<Ie,Ce+=ne[Ae++]<<(Ie+=8),Ie+=8),W=fe[Ce&Qe];;){if(Ce>>>=Z=W>>>24,Ie-=Z,0==(Z=W>>>16&255))ae[se++]=65535&W;else{if(!(16&Z)){if(0==(64&Z)){W=fe[(65535&W)+(Ce&(1<<Z)-1)];continue}if(32&Z){ie.mode=12;break t}re.msg="invalid literal/length code",ie.mode=30;break t}for(X=65535&W,(Z&=15)&&(Ie<Z&&(Ce+=ne[Ae++]<<Ie,Ie+=8),X+=Ce&(1<<Z)-1,Ce>>>=Z,Ie-=Z),Ie<15&&(Ce+=ne[Ae++]<<Ie,Ce+=ne[Ae++]<<(Ie+=8),Ie+=8),W=Ee[Ce&Be];;){if(Ce>>>=Z=W>>>24,Ie-=Z,!(16&(Z=W>>>16&255))){if(0==(64&Z)){W=Ee[(65535&W)+(Ce&(1<<Z)-1)];continue}re.msg="invalid distance code",ie.mode=30;break t}if($=65535&W,Ie<(Z&=15)&&(Ce+=ne[Ae++]<<Ie,(Ie+=8)<Z)&&(Ce+=ne[Ae++]<<Ie,Ie+=8),($+=Ce&(1<<Z)-1)>ue){re.msg="invalid distance too far back",ie.mode=30;break t}if(Ce>>>=Z,Ie-=Z,$>(Z=se-ce)){if((Z=$-Z)>he&&ie.sane){re.msg="invalid distance too far back",ie.mode=30;break t}if(te=pe,(ee=0)===de){if(ee+=le-Z,Z<X){for(X-=Z;ae[se++]=pe[ee++],--Z;);ee=se-$,te=ae}}else if(de<Z){if(ee+=le+de-Z,(Z-=de)<X){for(X-=Z;ae[se++]=pe[ee++],--Z;);if(ee=0,de<X){for(X-=Z=de;ae[se++]=pe[ee++],--Z;);ee=se-$,te=ae}}}else if(ee+=de-Z,Z<X){for(X-=Z;ae[se++]=pe[ee++],--Z;);ee=se-$,te=ae}for(;2<X;)ae[se++]=te[ee++],ae[se++]=te[ee++],ae[se++]=te[ee++],X-=3;X&&(ae[se++]=te[ee++],1<X)&&(ae[se++]=te[ee++])}else{for(ee=se-$;ae[se++]=ae[ee++],ae[se++]=ae[ee++],ae[se++]=ae[ee++],2<(X-=3););X&&(ae[se++]=ae[ee++],1<X)&&(ae[se++]=ae[ee++])}break}}break}}while(Ae<oe&&se<ge);Ae-=X=Ie>>3,Ce&=(1<<(Ie-=X<<3))-1,re.next_in=Ae,re.next_out=se,re.avail_in=Ae<oe?oe-Ae+5:5-(Ae-oe),re.avail_out=se<ge?ge-se+257:257-(se-ge),ie.hold=Ce,ie.bits=Ie,g=e.next_out,s=e.output,y=e.avail_out,a=e.next_in,o=e.input,m=e.avail_in,v=n.hold,w=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;O=(Y=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,P=65535&Y,!((M=Y>>>24)<=w);){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(O&&0==(240&O)){for(F=M,G=O,U=P;O=(Y=n.lencode[U+((v&(1<<F+G)-1)>>F)])>>>16&255,P=65535&Y,!(F+(M=Y>>>24)<=w);){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}v>>>=F,w-=F,n.back+=F}if(v>>>=M,w-=M,n.back+=M,n.length=P,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=12;break}if(64&O){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(J=n.extra;w<J;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(Y=n.distcode[v&(1<<n.distbits)-1])>>>16&255,P=65535&Y,!((M=Y>>>24)<=w);){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(0==(240&O)){for(F=M,G=O,U=P;O=(Y=n.distcode[U+((v&(1<<F+G)-1)>>F)])>>>16&255,P=65535&Y,!(F+(M=Y>>>24)<=w);){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}v>>>=F,w-=F,n.back+=F}if(v>>>=M,w-=M,n.back+=M,64&O){e.msg="invalid distance code",n.mode=30;break}n.offset=P,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(J=n.extra;w<J;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===y)break e;if(n.offset>(N=R-y)){if((N=n.offset-N)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}T=N>n.wnext?n.wsize-(N-=n.wnext):n.wnext-N,N>n.length&&(N=n.length),L=n.window}else L=s,T=g-n.offset,N=n.length;for(y-=N=y<N?y:N,n.length-=N;s[g++]=L[T++],--N;);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;s[g++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===m)break e;m--,v|=o[a++]<<w,w+=8}if(e.total_out+=R-=y,n.total+=R,R&&(e.adler=n.check=(n.flags?t:i)(n.check,s,R,g-R)),R=y,(n.flags?v:r(v))!==n.check){e.msg="incorrect data check",n.mode=30;break}w=v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===m)break e;m--,v+=o[a++]<<w,w+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}w=v=0}n.mode=29;case 29:H=p;break e;case 30:H=f;break e;case 31:return E;default:return I}return e.next_out=g,e.avail_out=y,e.next_in=a,e.avail_in=m,n.hold=v,n.bits=w,(n.wsize||R!==e.avail_out&&n.mode<30&&(n.mode<27||A!==u))&&b(e,e.output,e.next_out,R-e.avail_out),R-=e.avail_out,e.total_in+=k-=e.avail_in,e.total_out+=R,n.total+=R,n.wrap&&R&&(e.adler=n.check=(n.flags?t:i)(n.check,s,R,e.next_out-R)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==k&&0===R||A===u)&&H===d?Q:H}function v(e,t){var r,A=t.length;return!e||!e.state||0!==(r=e.state).wrap&&11!==r.mode?I:11===r.mode&&i(1,t,A,0)!==r.check?f:b(e,t,A,A)?(r.mode=31,E):(r.havedict=1,d)}var _,S,w=function(e){var t;return e&&e.state&&((t=e.state).wsize=0,t.whave=0,t.wnext=0,t=e)&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,d):I},D=!0,b=function(e,t,r,i){var A;return null===(e=e.state).window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize)),i>=e.wsize?(e.window.set(t.subarray(r-e.wsize,r),0),e.wnext=0,e.whave=e.wsize):((A=e.wsize-e.wnext)>i&&(A=i),e.window.set(t.subarray(r-i,r-i+A),e.wnext),(i-=A)?(e.window.set(t.subarray(r-i,r),0),e.wnext=i,e.whave=e.wsize):(e.wnext+=A,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=A))),0},k=w,R=function(e,t){var r,i,A;return e?(r=new m,(e.state=r).window=null,r=t,(A=!(t=e)||!t.state||(A=t.state,r<0?(i=0,r=-r):(i=1+(r>>4),r<48&&(r&=15)),r&&(r<8||15<r))?I:(null!==A.window&&A.wbits!==r&&(A.window=null),A.wrap=i,A.wbits=r,w(t)))!==d&&(e.state=null),A):I};function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){T=!1}for(var L=new Uint8Array(256),M=0;M<256;M++)L[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function O(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function P(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}L[254]=L[254]=1;var F={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G=Object.prototype.toString,U=g.Z_NO_FLUSH,x=g.Z_FINISH,H=g.Z_OK,q=g.Z_STREAM_END,J=g.Z_NEED_DICT,Y=g.Z_STREAM_ERROR,K=g.Z_DATA_ERROR,z=g.Z_MEM_ERROR;function j(e){this.options=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==N(r))throw new TypeError(r+"must be non-object");for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}}return e}({chunkSize:65536,windowBits:15,to:""},e||{});var t,r=this.options;if(r.raw&&0<=r.windowBits&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits)&&(r.windowBits=-15),!(0<=r.windowBits&&r.windowBits<16)||e&&e.windowBits||(r.windowBits+=32),15<r.windowBits&&r.windowBits<48&&0==(15&r.windowBits)&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0,(e=R(this.strm,r.windowBits))!==H)throw new Error(F[e]);if(this.header=new P,!(t=this.strm)||!t.state||0==(2&(t=t.state).wrap)||((t.head=this.header).done=!1),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);for(var t,r,i,A,n=e.length,o=0,s=0;s<n;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<n&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),s=A=0;A<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<n&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[A++]=r:(r<2048?t[A++]=192|r>>>6:(r<65536?t[A++]=224|r>>>12:(t[A++]=240|r>>>18,t[A++]=128|r>>>12&63),t[A++]=128|r>>>6&63),t[A++]=128|63&r);return t}(r.dictionary):"[object ArrayBuffer]"===G.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw)&&(e=v(this.strm,r.dictionary))!==H)throw new Error(F[e])}function V(e,t){if((t=new j(t)).push(e),t.err)throw t.msg||F[t.err];return t.result}function W(e,t){return(t=t||{}).raw=!0,V(e,t)}j.prototype.push=function(e,t){var r,i,A=this.strm,n=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?x:U,A.input="[object ArrayBuffer]"===G.call(e)?new Uint8Array(e):e,A.next_in=0,A.avail_in=A.input.length;;){for(0===A.avail_out&&(A.output=new Uint8Array(n),A.next_out=0,A.avail_out=n),(r=y(A,i))===J&&o&&((r=v(A,o))===H?r=y(A,i):r===K&&(r=J));0<A.avail_in&&r===q&&0<A.state.wrap&&0!==e[A.next_in];)k(A),r=y(A,i);switch(r){case Y:case K:case J:case z:return this.onEnd(r),!(this.ended=!0)}var s,a,c,g=A.avail_out;if(!A.next_out||0!==A.avail_out&&r!==q||("string"===this.options.to?(s=function(e,t){for(var r=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=r&&128==(192&e[r]);)r--;return!(r<0||0===r)&&r+L[e[r]]>t?r:t}(A.output,A.next_out),a=A.next_out-s,c=function(e,t){var r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));for(var i=new Array(2*r),A=0,n=0;n<r;){var o=e[n++];if(o<128)i[A++]=o;else{var s=L[o];if(4<s)i[A++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;1<s&&n<r;)o=o<<6|63&e[n++],s--;1<s?i[A++]=65533:o<65536?i[A++]=o:(i[A++]=55296|(o-=65536)>>10&1023,i[A++]=56320|1023&o)}}}var a=i,c=A;if(c<65534&&a.subarray&&T)return String.fromCharCode.apply(null,a.length===c?a:a.subarray(0,c));for(var g="",u=0;u<c;u++)g+=String.fromCharCode(a[u]);return g}(A.output,s),A.next_out=a,A.avail_out=n-a,a&&A.output.set(A.output.subarray(s,s+a),0),this.onData(c)):this.onData(A.output.length===A.next_out?A.output:A.output.subarray(0,A.next_out))),r!==H||0!==g){if(r===q)return a=void 0,r=(s=this.strm)&&s.state?((a=s.state).window&&(a.window=null),s.state=null,d):I,this.onEnd(r),this.ended=!0;if(0===A.avail_in)break}}return!0},j.prototype.onData=function(e){this.chunks.push(e)},j.prototype.onEnd=function(e){e===H&&(this.result="string"===this.options.to?this.chunks.join(""):function(e){for(var t=0,r=0,i=e.length;r<i;r++)t+=e[r].length;for(var A=new Uint8Array(t),n=0,o=0,s=e.length;n<s;n++){var a=e[n];A.set(a,o),o+=a.length}return A}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Z=V,X=V,$={Inflate:j,inflate:Z,inflateRaw:W,ungzip:X,constants:g};e.Inflate=j,e.constants=g,e.default=$,e.inflate=Z,e.inflateRaw=W,e.ungzip=X,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){e[i=void 0===i?r:i]=t[r]}),A=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return A(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.CloudSettingProtoBuf=void 0,o=o(r(5)),n=n(r(6)),r(18));function a(){}n.util.Long=o.default,n.configure(),a.prototype.encodeCloudSettingReq=function(e){return e=s.cloudsetting.GetCloudSettingConfigRequest.create(e),s.cloudsetting.GetCloudSettingConfigRequest.encode(e).finish()},a.prototype.decodeCloudSettingRsp=function(e){return s.cloudsetting.GetCloudSettingConfigResponse.decode(e)},t.CloudSettingProtoBuf=n=a},function(e,t,r){"use strict";var i,A=r(6),n=A.Reader,o=A.Writer,s=A.util,a=A.roots.default||(A.roots.default={});function c(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function g(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(this.file_list=[],this.param_list=[],this.files=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function l(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(this.file_response=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}a.cloudsetting=((i={}).Product=(r={},(A=Object.create(r))[r[0]="RTC"]=0,A[r[1]="WEB_RTC"]=1,A[r[2]="ZIM"]=2,A[r[3]="ROOM_KIT"]=3,A[r[4]="DOC_SHARE"]=4,A[r[5]="WHITE_BOARD"]=5,A[r[999]="SELF_CHECK"]=999,A[r[1e3]="TEST_ANOOUS"]=1e3,A),i.Param=(c.prototype.key="",c.prototype.value="",c.create=function(e){return new c(e)},c.encode=function(e,t){return t=t||o.create(),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},c.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.cloudsetting.Param;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.key=e.string();break;case 2:i.value=e.string();break;default:e.skipType(7&A)}}return i},c),i.File=(g.prototype.file_name="",g.prototype.hash=s.newBuffer([]),g.prototype.g_version=0,g.create=function(e){return new g(e)},g.encode=function(e,t){return t=t||o.create(),null!=e.file_name&&Object.hasOwnProperty.call(e,"file_name")&&t.uint32(10).string(e.file_name),null!=e.hash&&Object.hasOwnProperty.call(e,"hash")&&t.uint32(18).bytes(e.hash),null!=e.g_version&&Object.hasOwnProperty.call(e,"g_version")&&t.uint32(24).uint32(e.g_version),t},g.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.cloudsetting.File;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.file_name=e.string();break;case 2:i.hash=e.bytes();break;case 3:i.g_version=e.uint32();break;default:e.skipType(7&A)}}return i},g),i.GetCloudSettingConfigRequest=(u.prototype.product=0,u.prototype.response_compress=0,u.prototype.file_list=s.emptyArray,u.prototype.param_list=s.emptyArray,u.prototype.files=s.emptyArray,u.prototype.p_version=0,u.create=function(e){return new u(e)},u.encode=function(e,t){if(t=t||o.create(),null!=e.product&&Object.hasOwnProperty.call(e,"product")&&t.uint32(8).int32(e.product),null!=e.response_compress&&Object.hasOwnProperty.call(e,"response_compress")&&t.uint32(16).int32(e.response_compress),null!=e.file_list&&e.file_list.length)for(var r=0;r<e.file_list.length;++r)t.uint32(26).string(e.file_list[r]);if(null!=e.param_list&&e.param_list.length)for(r=0;r<e.param_list.length;++r)a.cloudsetting.Param.encode(e.param_list[r],t.uint32(34).fork()).ldelim();if(null!=e.files&&e.files.length)for(r=0;r<e.files.length;++r)a.cloudsetting.File.encode(e.files[r],t.uint32(42).fork()).ldelim();return null!=e.p_version&&Object.hasOwnProperty.call(e,"p_version")&&t.uint32(48).uint32(e.p_version),t},u.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.cloudsetting.GetCloudSettingConfigRequest;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.product=e.int32();break;case 2:i.response_compress=e.int32();break;case 3:i.file_list&&i.file_list.length||(i.file_list=[]),i.file_list.push(e.string());break;case 4:i.param_list&&i.param_list.length||(i.param_list=[]),i.param_list.push(a.cloudsetting.Param.decode(e,e.uint32()));break;case 5:i.files&&i.files.length||(i.files=[]),i.files.push(a.cloudsetting.File.decode(e,e.uint32()));break;case 6:i.p_version=e.uint32();break;default:e.skipType(7&A)}}return i},u),i.CloudSettingFileResponse=(l.prototype.code=s.Long?s.Long.fromBits(0,0,!1):0,l.prototype.message="",l.prototype.file_name="",l.prototype.global_version="",l.prototype.version="",l.prototype.app_version="",l.prototype.json_data=s.newBuffer([]),l.prototype.hash=s.newBuffer([]),l.prototype.g_version=0,l.create=function(e){return new l(e)},l.encode=function(e,t){return t=t||o.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int64(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.file_name&&Object.hasOwnProperty.call(e,"file_name")&&t.uint32(26).string(e.file_name),null!=e.global_version&&Object.hasOwnProperty.call(e,"global_version")&&t.uint32(34).string(e.global_version),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(42).string(e.version),null!=e.app_version&&Object.hasOwnProperty.call(e,"app_version")&&t.uint32(50).string(e.app_version),null!=e.json_data&&Object.hasOwnProperty.call(e,"json_data")&&t.uint32(58).bytes(e.json_data),null!=e.hash&&Object.hasOwnProperty.call(e,"hash")&&t.uint32(66).bytes(e.hash),null!=e.g_version&&Object.hasOwnProperty.call(e,"g_version")&&t.uint32(72).uint32(e.g_version),t},l.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.cloudsetting.CloudSettingFileResponse;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.code=e.int64();break;case 2:i.message=e.string();break;case 3:i.file_name=e.string();break;case 4:i.global_version=e.string();break;case 5:i.version=e.string();break;case 6:i.app_version=e.string();break;case 7:i.json_data=e.bytes();break;case 8:i.hash=e.bytes();break;case 9:i.g_version=e.uint32();break;default:e.skipType(7&A)}}return i},l),i.GetCloudSettingConfigResponse=(h.prototype.code=s.Long?s.Long.fromBits(0,0,!1):0,h.prototype.message="",h.prototype.polling_interval=0,h.prototype.file_response=s.emptyArray,h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||o.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int64(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.polling_interval&&Object.hasOwnProperty.call(e,"polling_interval")&&t.uint32(24).int32(e.polling_interval),null!=e.file_response&&e.file_response.length)for(var r=0;r<e.file_response.length;++r)a.cloudsetting.CloudSettingFileResponse.encode(e.file_response[r],t.uint32(34).fork()).ldelim();return t},h.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new a.cloudsetting.GetCloudSettingConfigResponse;e.pos<r;){var A=e.uint32();switch(A>>>3){case 1:i.code=e.int64();break;case 2:i.message=e.string();break;case 3:i.polling_interval=e.int32();break;case 4:i.file_response&&i.file_response.length||(i.file_response=[]),i.file_response.push(a.cloudsetting.CloudSettingFileResponse.decode(e,e.uint32()));break;default:e.skipType(7&A)}}return i},h),i),e.exports=a}],i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var A in e)i.d(r,A,function(t){return e[t]}.bind(null,A));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8))},function(e,t,r){var i;e.exports=(i=r(1),function(){var e,t;"function"==typeof ArrayBuffer&&(t=(e=i.lib.WordArray).init,(e.init=function(e){if((e=(e=e instanceof ArrayBuffer?new Uint8Array(e):e)instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e)instanceof Uint8Array){for(var r=e.byteLength,i=[],A=0;A<r;A++)i[A>>>2]|=e[A]<<24-A%4*8;t.call(this,i,r)}else t.apply(this,arguments)}).prototype=e)}(),i.lib.WordArray)},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){},function(e,t,r){var i;e.exports=(e=r(1),i=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=this._map,A=(e.clamp(),[]),n=0;n<r;n+=3)for(var o=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,s=0;s<4&&n+.75*s<r;s++)A.push(i.charAt(o>>>6*(3-s)&63));var a=i.charAt(64);if(a)for(;A.length%4;)A.push(a);return A.join("")},parse:function(e){var t=e.length,r=this._map;if(!(A=this._reverseMap))for(var A=this._reverseMap=[],n=0;n<r.length;n++)A[r.charCodeAt(n)]=n;var o=r.charAt(64);return o&&-1!==(o=e.indexOf(o))&&(t=o),function(e,t,r){for(var A,n,o=[],s=0,a=0;a<t;a++)a%4&&(A=r[e.charCodeAt(a-1)]<<a%4*2,n=r[e.charCodeAt(a)]>>>6-a%4*2,o[s>>>2]|=(A|n)<<24-s%4*8,s++);return i.create(o,s)}(e,t,A)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64)},function(e,t,r){var i,A,n,o;e.exports=(e=r(1),o=(r=e).lib,i=o.WordArray,A=o.Hasher,n=[],o=(o=r.algo).SHA1=A.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],A=r[1],o=r[2],s=r[3],a=r[4],c=0;c<80;c++){n[c]=c<16?0|e[t+c]:(g=n[c-3]^n[c-8]^n[c-14]^n[c-16])<<1|g>>>31;var g=(i<<5|i>>>27)+a+n[c];g+=c<20?1518500249+(A&o|~A&s):c<40?1859775393+(A^o^s):c<60?(A&o|A&s|o&s)-1894007588:(A^o^s)-899497514,a=s,s=o,o=A<<30|A>>>2,A=i,i=g}r[0]=r[0]+i|0,r[1]=r[1]+A|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(64+i>>>9<<4)]=Math.floor(r/4294967296),t[15+(64+i>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=A.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=A._createHelper(o),r.HmacSHA1=A._createHmacHelper(o),e.SHA1)},function(e,t,r){var i;e.exports=(e=r(1),i=e.enc.Utf8,void(e.algo.HMAC=(r=e.lib.Base).extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));for(var r=e.blockSize,A=4*r,n=((t=t.sigBytes>A?e.finalize(t):t).clamp(),e=this._oKey=t.clone(),t=this._iKey=t.clone(),e.words),o=t.words,s=0;s<r;s++)n[s]^=1549556828,o[s]^=909522486;e.sigBytes=t.sigBytes=A,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})))},function(e,t,r){var i,A,n,o,s,a,c,g,u,l,h,d;e.exports=(e=r(1),r(9),void(e.lib.Cipher||(r=e.lib,i=r.Base,A=r.WordArray,n=r.BufferedBlockAlgorithm,u=e.enc,o=u.Base64,s=e.algo.EvpKDF,a=r.Cipher=n.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?d:l}return function(t){return{encrypt:function(r,i,A){return e(i).encrypt(t,r,i,A)},decrypt:function(r,i,A){return e(i).decrypt(t,r,i,A)}}}}()}),r.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),u=e.mode={},c=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=u.CBC=function(){var e=c.extend();function t(e,t,r){var i,A=this._iv;A?(i=A,this._iv=void 0):i=this._prevBlock;for(var n=0;n<r;n++)e[t+n]^=i[n]}return e.Encryptor=e.extend({processBlock:function(e,r){var i=this._cipher,A=i.blockSize;t.call(this,e,r,A),i.encryptBlock(e,r),this._prevBlock=e.slice(r,r+A)}}),e.Decryptor=e.extend({processBlock:function(e,r){var i=this._cipher,A=i.blockSize,n=e.slice(r,r+A);i.decryptBlock(e,r),t.call(this,e,r,A),this._prevBlock=n}}),e}(),h=(e.pad={}).Pkcs7={pad:function(e,t){for(var r=(t*=4)-e.sigBytes%t,i=r<<24|r<<16|r<<8|r,n=[],o=0;o<r;o+=4)n.push(i);t=A.create(n,r),e.concat(t)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.BlockCipher=a.extend({cfg:a.cfg.extend({mode:u,padding:h}),reset:function(){a.reset.call(this);var e,t=(r=this.cfg).iv,r=r.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,t&&t.words):(this._mode=e.call(r,this,t&&t.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),g=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return(e=(e=e.salt)?A.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t,r=(e=o.parse(e)).words;return 1398893684==r[0]&&1701076831==r[1]&&(t=A.create(r.slice(2,4)),r.splice(0,4),e.sigBytes-=16),g.create({ciphertext:e,salt:t})}},l=r.SerializableCipher=i.extend({cfg:i.extend({format:u}),encrypt:function(e,t,r,i){i=this.cfg.extend(i),t=(A=e.createEncryptor(r,i)).finalize(t);var A=A.cfg;return g.create({ciphertext:t,key:r,iv:A.iv,algorithm:e,mode:A.mode,padding:A.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,r,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(r,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),h=(e.kdf={}).OpenSSL={execute:function(e,t,r,i){return i=i||A.random(8),e=s.create({keySize:t+r}).compute(e,i),r=A.create(e.words.slice(t),4*r),e.sigBytes=4*t,g.create({key:e,iv:r,salt:i})}},d=r.PasswordBasedCipher=l.extend({cfg:l.cfg.extend({kdf:h}),encrypt:function(e,t,r,i){return r=(i=this.cfg.extend(i)).kdf.execute(r,e.keySize,e.ivSize),i.iv=r.iv,(e=l.encrypt.call(this,e,t,r.key,i)).mixIn(r),e},decrypt:function(e,t,r,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),r=i.kdf.execute(r,e.keySize,e.ivSize,t.salt),i.iv=r.iv,l.decrypt.call(this,e,t,r.key,i)}}))))},function(e,t,r){"use strict";r.r(t),r.d(t,"ZegoExpressWebRTMEngine",(function(){return zr})),r.d(t,"getReportSeq",(function(){return d})),r.d(t,"getSeq",(function(){return h})),r.d(t,"ZegoLogger",(function(){return A.ZegoLogger})),r.d(t,"ZegoDataReport",(function(){return A.ZegoDataReport})),r.d(t,"ZegoExpressWebRTM",(function(){return Pr})),r.d(t,"BusinessService",(function(){return y})),r.d(t,"NetConnection",(function(){return w})),r.d(t,"ZReporter",(function(){return Yr}));var i,A=r(3);(t=i=i||{})[t.SWITCH_ONE=1]="SWITCH_ONE",t[t.SWITCH_TWO=2]="SWITCH_TWO";var n,o,s,a,c,g,u,l,h=((t=n=n||{})[t.TT_NONE=0]="TT_NONE",t[t.TT_PC=1]="TT_PC",t[t.TT_IOS=2]="TT_IOS",t[t.TT_ANDROID=3]="TT_ANDROID",t[t.TT_MAC=4]="TT_MAC",t[t.TT_LINUX=5]="TT_LINUX",t[t.TT_WEB=6]="TT_WEB",t[t.TT_MINIPROGRAM=7]="TT_MINIPROGRAM",t[t.TT_UNKNOWN=32]="TT_UNKNOWN",(t=o=o||{})[t.logout=0]="logout",t[t.trylogin=1]="trylogin",t[t.login=2]="login",(t=s=s||{})[t.I=0]="I",t[t.H=10]="H",t[t.M=100]="M",t[t.L=1e3]="L",(t=a=a||{})[t.offline=0]="offline",t[t.online=1]="online",(t=c=c||{})[t.NT_NONE=0]="NT_NONE",t[t.NT_LINE=1]="NT_LINE",t[t.NT_WIFI=2]="NT_WIFI",t[t.NT_2G=3]="NT_2G",t[t.NT_3G=4]="NT_3G",t[t.NT_4G=5]="NT_4G",t[t.NT_UNKNOWN=32]="NT_UNKNOWN",(t=g=g||{})[t.ClientType_None=0]="ClientType_None",t[t.ClientType_H5=1]="ClientType_H5",t[t.ClientType_SmallProgram=2]="ClientType_SmallProgram",t[t.ClientType_Webrtc=3]="ClientType_Webrtc",function(){return u++}),d=(l=u=1,function(){return l++}),p=(Object.defineProperty(C.prototype,"id",{get:function(){return this._id||null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),C.prototype.hasNext=function(){return this.next&&this.next.id},C.prototype.hasPrev=function(){return this.prev&&this.prev.id},C);function C(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}f.prototype.insertBefore=function(e,t){return(t=new p(this._idCounter,t)).next=e,t.prev=e.prev,e.prev&&(e.prev.next=t),e.prev=t,++this._idCounter,++this._numNodes,t},f.prototype.addLast=function(e){return this.insertBefore(this.end,e)},f.prototype.add=function(e){return this.addLast(e)},f.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},f.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},f.prototype.size=function(){return this._numNodes},f.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(0<=e)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw"Index out of bounds.";return r},f.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},f.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},f.prototype.removeFirst=function(){var e=null;return 0<this._numNodes&&this.start.next?this.remove(this.start.next):e},f.prototype.removeLast=function(){var e=null;return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):e},f.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},f.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},f.prototype.find=function(e){for(var t=this.start,r=!1,i=null;t.hasNext()&&!r;)e(t=t.next)&&(i=t,r=!0);return i},f.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},f.prototype.push=function(e){return this.addLast(e)},f.prototype.unshift=function(e){this.insertBefore(0<this._numNodes?this.start.next:this.end,e)},f.prototype.pop=function(){return this.removeLast()},f.prototype.shift=function(){return this.removeFirst()};var I=f;function f(){this.start=new p,this.end=new p,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}var E,Q,B,m,y,v,_="",S=r(10).ZegoConnectionAgent,w=(Object.defineProperty(D.prototype,"clientIP",{get:function(){var e;return(null==(e=this.connection)?void 0:e.clientIP)||""},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"timeOffset",{get:function(){var e;return null==(e=this.connection)?void 0:e.timeOffset},enumerable:!1,configurable:!0}),D.prototype.init=function(){var e;null!=(e=this.connection)&&e.init()},D.prototype.unInit=function(){var e;null!=(e=this.connection)&&e.unInit()},D.prototype.setAppInfo=function(e){var t;null!=(t=this.connection)&&t.setAppInfo(e)},D.prototype.setUserInfo=function(e){var t;null!=(t=this.connection)&&t.setUserInfo(e)},D.prototype.setNetAgentDefaultServers=function(e){var t;null!=(t=this.connection)&&t.setNetAgentDefaultServers(e)},D.prototype.setBackupDomains=function(e){var t;null!=(t=this.connection)&&t.setBackupDomains(e)},D.prototype.setDispatchConnectServers=function(e){var t;null!=(t=this.connection)&&t.setDispatchConnectServers(e)},D.prototype.setNetAgentSpecifiedServers=function(e){var t;null!=(t=this.connection)&&t.setNetAgentSpecifiedServers(e)},D.prototype.startHttpRequest=function(e,t,r,i,A){var n;null!=(n=this.connection)&&n.startHttpRequest(e,t,r,i,A)},D.prototype.startHttpRequest2=function(e,t,r,i,A){var n;null!=(n=this.connection)&&n.startHttpRequest2(e,t,r,i,A)},D.prototype.getAppConfigByAgent=function(e,t,r,i){var A;return null==(A=this.connection)?void 0:A.getAppConfigByAgent(e,t,r,i)},D.prototype.getPCRequest=function(e,t){var r;return(null==(r=this.connection)?void 0:r.getPCRequest(e,t))||null},D.prototype.connectUa=function(){var e;null!=(e=this.connection)&&e.connectUa()},D.prototype.destroyConnect=function(){var e;null!=(e=this.connection)&&e.destroyConnect()},D.prototype.destroy=function(){var e;null!=(e=this.connection)&&e.destroy()},D.prototype.isConnect=function(){return!!this.connection&&this.connection.isConnect()},D.prototype.on=function(e,t){var r;return(null==(r=this.connection)?void 0:r.on(e,t))||!0},D.prototype.off=function(e,t){var r;return null==(r=this.connection)?void 0:r.off(e,t)},D.prototype.setLogger=function(e){var t;return null==(t=this.connection)?void 0:t.setLogger(e)},D.prototype.setAccess=function(e){var t;return null==(t=this.connection)?void 0:t.setAccess(e)},D.prototype.getNTP=function(){var e;return(null==(e=this.connection)?void 0:e.getNetworkTimeInfo())||{timestamp:0,maxDeviation:0}},D);function D(){this.connection=null,this.isLoad=!1,this.callBackList=[],this.connection=new S}(t=E=E||{})[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",(t=Q=Q||{})[t.EMPTY=0]="EMPTY",t[t.CLOSE=1]="CLOSE",(t=B=B||{})[t.Mode_UNSET=0]="Mode_UNSET",t[t.MODE_ONLINE=1]="MODE_ONLINE",t[t.MODE_TEST=2]="MODE_TEST",t[t.MODE_ALPHA=3]="MODE_ALPHA",(t=m=m||{})[t.CLOSE=0]="CLOSE",t[t.TEMP=1]="TEMP",t[t.TIMEOUT=2]="TIMEOUT",(t=y=y||{})[t.SERVICE_UNSET=0]="SERVICE_UNSET",t[t.SERVICE_MEDIAGW=1]="SERVICE_MEDIAGW",t[t.SERVICE_LIVEROOM=2]="SERVICE_LIVEROOM",t[t.SERVICE_MIX=3]="SERVICE_MIX",t[t.SERVICE_ZEUS=4]="SERVICE_ZEUS",t[t.SERVICE_ZPUSH=5]="SERVICE_ZPUSH",t[t.SERVICE_L3=6]="SERVICE_L3",t[t.SERVICE_TALKLINE=7]="SERVICE_TALKLINE",t[t.SERVICE_EDUSUITE=8]="SERVICE_EDUSUITE",t[t.SERVICE_ZIM=9]="SERVICE_ZIM",t[t.SERVICE_ClOUD_SETTING=10]="SERVICE_ClOUD_SETTING",t[t.SERVICE_ZEUSHB=11]="SERVICE_ZEUSHB",t[t.SERVICE_USER_LOGIC=12]="SERVICE_USER_LOGIC",t[t.SERVICE_UNIFYDISPATCH=13]="SERVICE_UNIFYDISPATCH",t[t.SERVICE_QUALITY=14]="SERVICE_QUALITY",t[t.SERVICE_SECURITY=15]="SERVICE_SECURITY",t[t.SERVICE_KTVCPR=16]="SERVICE_KTVCPR",t[t.SERVICE_SWITCH4LIVEROOM=17]="SERVICE_SWITCH4LIVEROOM",t[t.SERVICE_WEBRTC_SIGNAL=18]="SERVICE_WEBRTC_SIGNAL",t[t.SERVICE_L3_WEBRTC_SIGNAL=19]="SERVICE_L3_WEBRTC_SIGNAL",t[t.SERVICE_VIDEOCPR=20]="SERVICE_VIDEOCPR",t[t.SERVICE_CDN=21]="SERVICE_CDN",t[t.SERVICE_CLOUDRECORD=22]="SERVICE_CLOUDRECORD",t[t.SERVICE_INNER_ECHO=23]="SERVICE_INNER_ECHO",t[t.SERVICE_OUTER_ECHO=24]="SERVICE_OUTER_ECHO",t[t.SERVICE_LOCALHOST_ECHO=25]="SERVICE_LOCALHOST_ECHO",t[t.SERVICE_ECHO=26]="SERVICE_ECHO",t[t.SERVICE_DOCSERVICE=27]="SERVICE_DOCSERVICE",t[t.SERVICE_AUTHSVR=28]="SERVICE_AUTHSVR",(t=v=v||{}).Logining="LOGINING",t.Logined="LOGINED",t.LoginFailed="LOGIN_FAILED",t.Reconnecting="RECONNECTING",t.Reconnected="RECONNECTED",t.ReconnectFailed="RECONNECT_FAILED",t.Kickout="KICKOUT",t.Logout="LOGOUT",t.LogoutFailed="LOGOUT_FAILED";var b={SERVER:{code:0,msg:"liverooom cmd error"},SUCCESS:{code:0,msg:"success."},INIT:{code:2000000001,msg:"init sdk wrong"},NOT_LOGIN:{code:1000002,msg:"not login"},APPID_INVALID:{code:1001004,msg:"appid invalid"},NETWORK_BROKEN:{code:1000017,msg:"network is broken"},GEO_SET_ERROR:{code:1000018,msg:"geo set error"},INPUT_PARAM:{code:1100001,msg:"input parm error."},TIMEOUT:{code:1100002,msg:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},NET_SOCKET_TIMEOUT:{code:1100004,msg:"net agent timeout"},NET_HB_TIMEOUT:{code:1100005,msg:"net hb timeout"},INIT_SDK_WRONG:{code:1101e3,msg:"init sdk wrong"},ROOM_COUNT_EXCEED:{code:1002001,msg:"login rooms exceeds the upper limit"},USER_ID_NULL:{code:1002005,msg:"user ID is empty"},USER_ID_INVALID_CHARACTER:{code:1002006,msg:"user ID contains illegal characters"},USER_ID_TOO_LONG:{code:1002007,msg:"user ID is too long"},USER_NAME_NULL:{code:1002008,msg:"username is empty"},USER_NAME_TOO_LONG:{code:1002010,msg:"username is too long"},ROOM_ID_NULL:{code:1002011,msg:"room ID is empty"},ROOM_ID_INVALID_CHARACTER:{code:1002012,msg:"room ID contains illegal characters"},ROOM_ID_TOO_LONG:{code:1002013,msg:"room ID is too long"},ROOM_NOT_EXIST:{code:1002014,msg:"room not exist"},ROOM_EXTRA_INFO_KEY_LIMIT:{code:1002017,msg:"room extra info key exceed the limit"},LOGIN_TIMEOUT:{code:1002031,msg:"login timeout"},ROOM_MAX_USER_COUNT:{code:1002034,msg:"users logging into the room exceeds the maximum number"},MULTI_ROOM_UNABLE:{code:1002036,msg:"multi room unable"},MULTIPLE_LOGIN_KICKOUT:{code:1002050,msg:"kickout may be the same user ID login other"},NETWORK_RECOVERY:{code:1002051,msg:"network recovery"},ROOM_RETRY_TIMEOUT:{code:1002053,msg:"network is broken and login fail."},MANUAL_KICKOUT:{code:1002055,msg:"server has sent a signal to kick out"},REPEATEDLY_LOGIN:{code:1002056,msg:"user repeatedly login"},REPEATEDLY_ENTER_ROOM:{code:1002057,msg:"user repeatedly enter room"},ALREADY_LOGIN:{code:1002058,msg:"user already logged in"},FORBID_BLACK_USER:{code:1002066,msg:"forbid black user"},WHITE_BOARD_VERSION_ERROR:{code:1002098,msg:"Mismatch with RTC SDK version, please upgrade ZegoSuperBoard or ZegoWhiteboardView SDK to the latest version"},ROOM_INNER_ERROR:{code:1002099,msg:"room inner error"},HEARTBEAT_TIMEOUT:{code:1102001,msg:"heartbeat timeout."},PARSE_JSON_ERROR:{code:1102011,msg:"parse json error."},LOGIN_PROCESSING:{code:1102012,msg:"login is processing."},LIVEROMM_REQUEST_ERROR:{code:1102013,msg:"liveroom request error."},ZPUSH_REQUEST_FAIL:{code:1102014,msg:"zpush request fail."},LOGIN_STATE_WRONG:{code:1102015,msg:"user login state is wrong."},TOKEN_ERROR:{code:1102016,msg:"token error"},DIAPATCH_ERROR:{code:1102017,msg:"dispatch error"},TOKEN_EXPIRED:{code:1102018,msg:"token expired"},SUBCMD_ERROR:{code:1102019,msg:"subcmd error."},ZEGO_AUTH_ERROR:{code:1102020,msg:"zego auth error."},BIZ_CHANNEL_ERROR:{code:1102021,msg:"biz channel error."},UPLOAD_LOG_ERROR:{code:1102025,msg:"upload zip logs failed"}},k=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],R=(t=r(5),r.n(t)),N=(t=r(6),r.n(t));function T(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),r=-1!=e.indexOf("Firefox"),i=null!=window.opr,A=e.indexOf("Chrome")&&window.chrome;return e=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version"),t?"IE":r?"Firefox":i?"Opera":A?"Chrome":e?"Safari":"Unkown"}function L(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return((null==e?void 0:e.effectiveType)||(null==e?void 0:e.type)||"unknwon").toUpperCase()}function M(e,t){return R.a.encrypt(e,t).toString()}function O(e,t){try{return R.a.decrypt(e,t).toString(N.a)}catch(e){return""}}function P(e,t){return!(e=((null==e?void 0:e.replace("webliveroom","-"))||"").split("-")||[])[1]||!/\d*/i.test(e[1])||+e[1]==t}function F(e,t){try{localStorage.setItem(e,t)}catch(e){}}function G(e){try{return localStorage.getItem(e)}catch(e){}}var U=function(){return(U=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},x=(H.checkConfigParam=function(e,t,r){return e&&"number"==typeof e&&this.checkInteger(e)?!(!t||"string"!=typeof t&&!Array.isArray(t)||""==t)||(r.error("ccp.0 server must be string or string array and not empty"),!1):(r.error("ccp.0 appid must be positive integer number and not empty"),!1)},H.checkPriConfigParam=function(e,t,r,i,A){return e&&"number"==typeof e&&this.checkInteger(e)?t&&"string"==typeof t?"object"!=typeof r||"string"!=typeof r.deviceID?(A.error("ccp.0 deviceID must be string and not empty"),!1):1===i||0===i||(A.error("ccp.0 anType must be 0 or 1"),!1):(A.error("ccp.0 dispatchServer must be string and not empty"),!1):(A.error("ccp.0 appid must be positive integer number and not empty"),!1)},H.checkIllegalCharacters=function(e){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\*])+$/.test(e)&&/^[^:/]*$/g.test(e)},H.registerCallback=function(e,t,r){t.success&&(r[e+"SuccessCallback"]=t.success),t.error&&(r[e+"ErrorCallback"]=t.error)},H.actionErrorCallback=function(e,t){return t[e+"ErrorCallback"]},H.actionSuccessCallback=function(e,t){return t[e+"SuccessCallback"]},H.logReportCallback=function(e,t,r,i){H.registerCallback(e,{success:function(e,i){for(var A=[],n=2;n<arguments.length;n++)A[n-2]=arguments[n];H.dataReportEvent(t,r,e,i,A)}},i)},H.proxyRes=function(e,t,r,i){return{interResolve:function(i){e.uploadReport(t),r(i)},interReject:function(r,A){var n;void 0===A&&(A=""),(n=r.code<2e9&&1e9<r.code?H.decodeServerError(r.code,r.msg):{code:r.code,message:r.msg})&&e.addMsgInfo(t,{error:n.code,message:n.message+A}),e.uploadReport(t),i({errorCode:r.code||r.errorCode})}}},H.getServerError=function(e){var t,r,i={1:"parse json error.",1001:"login is processing.",1002:"liveroom request error.",1003:"zpush connect fail.",1004:"zpush handshake fail.",1005:"zpush login fail.",1006:"user login state is wrong.",1007:"got no zpush addr",1008:"token error",1009:"dispatch error",1010:"token expired",1011:"token format error",2002:"biz channel error",1e9:"liveroom cmd error, code:",1000002001:"need relogin",1000002002:"third token auth error",1000002003:"token nonce type should be int64",1000002004:"token appid type  should be uint32",1000002005:"token timeout type should be int64",1000002006:"token user_id type should be string",1000002007:"token room_id type should be string",1000002008:"token format error",1000002009:"token privilege type should be map",1000002010:"token expire_time type should be int64",1000002011:"token user_id type should be string",1000002012:"token not exist",1000002013:"token update error",1000002014:"token not need to check"};return 0===e?b.SUCCESS:((t=U({},b.ROOM_INNER_ERROR)).code=e,t.msg=1e9<e?(r=i[e])?"liveroom cmd error, code: "+e+", message: "+r:i[1e9]+e:i[e]?i[e]+" code:"+e:"unknown error code:"+e,t)},H.unregisterCallback=function(e,t){delete t[e+"SuccessCallback"],delete t[e+"ErrorCallback"]},H.decodeServerError=function(e,t){var r={code:-1,message:"server error"};return r.code=1e9<e?e-1e9+52e6:e+2002e6,t&&(r.message=t),r},H.getLiveRoomError=function(e,t){var r={1016:"MULTI_ROOM_UNABLE",1105:"ROOM_MAX_USER_COUNT",1012:"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM",2002:"TOKEN_ERROR",2003:"ROOM_ERROR_LOGIN_TIMEOUT",2010:"TOKEN_ERROR",5022:"ROOM_COUNT_EXCEED",5030:"FORBID_BLACK_USER"};return t?2e5<e&&e<3e5?r[e-2e5]:e<2e5?{50116:"TOKEN_ERROR",50117:"TOKEN_EXPIRED",50118:"TOKEN_ERROR",50119:"TOKEN_ERROR",50120:"TOKEN_ERROR",50121:"TOKEN_ERROR",50122:"TOKEN_ERROR",50123:"TOKEN_EXPIRED",50124:"TOKEN_ERROR",50125:"TOKEN_ERROR",50126:"TOKEN_ERROR",50127:"TOKEN_ERROR",50128:"TOKEN_ERROR"}[e]||r[e]||"ROOM_INNER_ERROR":r[e]||"ROOM_INNER_ERROR":1e9<e?r[e-1e9]||"":{1:"PARSE_JSON_ERROR",1001:"LOGIN_PROCESSING",1002:"LIVEROMM_REQUEST_ERROR",1003:"ZPUSH_REQUEST_FAIL",1004:"ZPUSH_REQUEST_FAIL",1005:"ZPUSH_REQUEST_FAIL",1006:"LOGIN_STATE_WRONG",1007:"ZPUSH_REQUEST_FAIL",1008:"TOKEN_ERROR",1009:"DIAPATCH_ERROR",1010:"TOKEN_EXPIRED",1011:"TOKEN_ERROR",1012:"SUBCMD_ERROR",1101:"ZEGO_AUTH_ERROR",2001:"BIZ_CHANNEL_ERROR",2002:"BIZ_CHANNEL_ERROR"}[e]||"ROOM_INNER_ERROR"},H.getKickoutError=function(e,t){var r={code:e,message:"kickout reason = "+e};if(t)switch(e){case 1:r.code=63000001,r.message="zpush multiple login kickout",r.name="MULTIPLE_LOGIN_KICKOUT";break;case 2:r.code=63000002,r.message="zpush manual kickout",r.name="MANUAL_KICKOUT";break;case 4:r.code=63000005,r.message="zpush token expired",r.name="TOKEN_EXPIRED";break;default:r.code=e,r.message="kickout reason = "+e}else switch(e){case 1:r.code=63000001,r.message="zpush multiple login kickout",r.name="MULTIPLE_LOGIN_KICKOUT";break;case 2:r.code=63000002,r.message="zpush manual kickout",r.name="MANUAL_KICKOUT";break;case 3:r.code=63000003,r.message="kickout reason = "+e;break;case 4:r.code=63000004,r.message="zpush multiple login kickout",r.name="MULTIPLE_LOGIN_KICKOUT";break;case 5:r.code=63000005,r.message="zpush token expired",r.name="TOKEN_EXPIRED";break;default:r.code=e,r.message="kickout reason = "+e}return r},H.dataReportEvent=function(e,t,r,i,A){switch(r){case"eventStart":e.eventStart(t,i);break;case"eventEndWithMsgInfo":e.eventEndWithMsgInfo(t,i,A[0]);break;case"addEventMsg":e.addEventMsg(t,i,A[0],A[1]);break;case"addEvent":e.addEvent(t,i);break;case"eventEnd":e.eventEnd(t,i);break;case"addMsgInfo":e.addMsgInfo(t,A[0])}},H.mergeUserList=function(e,t,r,i){e.debug("msl.0 call");var A=[],n=[];r=r||[];for(var o=0;o<r.length;o++){for(var s=!1,a=0;a<t.length;a++)if(r[o].userID===t[a].userID){s=!0;break}s||A.push(r[o])}for(var c=0;c<t.length;c++){s=!1;for(var g=0;g<r.length;g++)if(t[c].userID===r[g].userID){s=!0;break}s||n.push(t[c])}for(t.splice(0),o=0;o<r.length;o++)t.push(t[o]);i(A,n),e.debug("msl.0 call success")},H.checkInteger=function(e,t){return 0==t?"number"==typeof e&&e%1==0&&0<=e:"number"==typeof e&&e%1==0&&0<e},H.checkValidNumber=function(e,t,r){return t=t||1,r=r||1e4,"number"==typeof e&&e%1==0&&t<=e&&e<=r},H.generateRandumNumber=function(e){return parseInt(Math.random()*(e+1)+"",10)},H.uuid=function(e,t){var r,i,A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];if(t=t||A.length,e)for(r=0;r<e;r++)n[r]=A[0|Math.random()*t];else for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",r=0;r<36;r++)n[r]||(i=0|16*Math.random(),n[r]=A[19==r?3&i|8:i]);return n.join("")},H.isTestEnv=function(e){return!(!e.startsWith("wss")||-1===e.indexOf("test")||!e.endsWith("ws"))},H.getUint64=function(e,t,r){var i=r.getUint32(e,t);return r=r.getUint32(e+4,t),e=t?i+Math.pow(2,32)*r:Math.pow(2,32)*i+r,Number.isSafeInteger(e)||console.warn(e,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),e},H.decodeTokenExpire=function(e){try{var t,r=Uint8Array.from(function(e){for(var t,r,i,A,n=e.length,o=0,s="";o<n;){for(;t=k[255&e.charCodeAt(o++)],o<n&&-1==t;);if(-1==t)break;for(;r=k[255&e.charCodeAt(o++)],o<n&&-1==r;);if(-1==r)break;s+=String.fromCharCode(t<<2|(48&r)>>4);do{if(61==(i=255&e.charCodeAt(o++)))return s}while(i=k[i],o<n&&-1==i);if(-1==i)break;s+=String.fromCharCode((15&r)<<4|(60&i)>>2);do{if(61==(A=255&e.charCodeAt(o++)))return s}while(A=k[A],o<n&&-1==A);if(-1==A)break;s+=String.fromCharCode((3&i)<<6|A)}return s}(e),(function(e){return e.charCodeAt(0)})),i=new DataView(r.buffer);return 0<(t="function"==typeof i.getBigInt64?i.getBigUint64(0):H.getUint64(0,!1,i))?Number(t):Number(i.getBigUint64(0,!0))}catch(e){console.error("token error")}return-1},H.bin2hex=function(e){for(var t,r="",i=0,A=(e+="").length;i<A;i++)r+=(t=e.charCodeAt(i).toString(16)).length<2?"0"+t:t;return r},H.getCanvasFingerprint=function(e){var t=document.createElement("canvas"),r=((r=t.getContext("2d")).textBaseline="top",r.font="14px 'Arial'",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",r.fillText(e,2,15),r.fillStyle="rgba(102, 204, 0, 0.7)",r.fillText(e,4,17),t.toDataURL().replace("data:image/png;base64,",""));return e=atob(r),this.bin2hex(e.slice(-16,-12))},H.generateUUID=function(e){void 0===e&&(e=0);var t,r=G("z_deviceID");return r||(t=(new Date).getTime(),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(36)})),F("z_deviceID",r=0===e?this.getCanvasFingerprint("hello, zego")+r.slice(8):r),r)},H.getNetTypeNum=function(){var e=c.NT_UNKNOWN,t="",r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return-1<(t=((null==r?void 0:r.effectiveType)||(null==r?void 0:r.type)||"unknwon").toUpperCase()).indexOf("4G")?e=c.NT_4G:-1<t.indexOf("2G")?e=c.NT_2G:-1<t.indexOf("3G")?e=c.NT_3G:-1<t.indexOf("WIFI")?e=c.NT_WIFI:-1<t.indexOf("LINE")?e=c.NT_LINE:-1<t.indexOf("NONE")&&(e=c.NT_NONE),e},H);function H(){}var q={product:"rtc_web",importLevel:s.H,levels:[0,10,100,1e3],bps:32e3},J="init",Y="0c9e6e0f8c0a8f4e",K="z_net_access_servers",z="z_appconfig",j="z_appconfig_etag",V={domains:["accesshub-wss.zego.im","accesshub-wss.coolzcloud.com","accesshub-wss.zegocloud.com"],primaryDomains:["zego.im","coolzcloud.com","zegocloud.com"],mode:"online",modeNo:B.MODE_ONLINE,sdkType:3,connectVer:4,pcEstablishTimeout:15,scheme:"wss",location:"accesshub",wssMessageType:1},W=[{id:2,relative_geofencings:[],accesshub:"accesshub-wss-geo-2.zego.im",logreport:"weblogger-wss-geo-2.zego.im",detaillog:"detaillog-geo-2.zego.im"},{id:3,relative_geofencings:[7],accesshub:"accesshub-wss-geo-3.zego.im",logreport:"weblogger-wss-geo-3.zego.im",detaillog:"detaillog-geo-3.zego.im"},{id:4,relative_geofencings:[7],accesshub:"accesshub-wss-geo-4.zego.im",logreport:"weblogger-wss-geo-4.zego.im",detaillog:"detaillog-geo-4.zego.im"},{id:5,relative_geofencings:[7],accesshub:"accesshub-wss-geo-5.zego.im",logreport:"weblogger-wss-geo-5.zego.im",detaillog:"detaillog-geo-5.zego.im"},{id:6,relative_geofencings:[7],accesshub:"accesshub-wss-geo-6.zego.im",logreport:"weblogger-wss-geo-6.zego.im",detaillog:"detaillog-geo-6.zego.im"},{id:7,relative_geofencings:[3,4,5,6,1],accesshub:"accesshub-wss-geo-7.zego.im",logreport:"weblogger-wss-geo-7.zego.im",detaillog:"detaillog-geo-7.zego.im"}],Z=[2,3,4,5,6];function X(e,t){this.logger=e,this.stateCenter=t,this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryTimer=null,this.maxTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.isOverTime=!1}function $(e){return e}function ee(e){return e}function te(e){return e}function re(e){return e}X.prototype.init=function(e,t,r,i){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),"number"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),"number"==typeof r&&(this.RETRY_CONTINUE_COUNT=r),"number"==typeof i&&(this.RETRY_MAX_TIME_INTERVAL=i)},X.prototype.invalid=function(){this.logger.info("zm.rh.ivd end retry"),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryStartTime=0,this.retryActiveCount=1};var ie="zm.0",Ae="zm.wl",ne="zm.slf",oe="zm.lg",se="zm.lo",ae="zm.fac",ce="zm.fac.tk",ge="zm.hlu",ue="zm.cna",le="zm.gsac",he="zm.zpl.url",de="zm.on",pe="zm.rntk",Ce="zm.rm.lg",Ie="zm.rm.tl",fe="zm.rm.lgr",Ee="zm.rm.clh",Qe="zm.rm.lo",Be="zm.rm.dcn",me="zm.rm.kco",ye="zm.hhl",ve="zm.hb.st",_e="zm.hb.rsp",Se="zm.sv.ps",we="zm.us.urp",De="zm.us.uph",be="ON_LISTENER",ke="zm.st.ofls",Re="zm.lrh.sm",Ne="zm.lrh.hsp",Te="zm.lrh.lgi",Le="zm.lrh.ful",Me="zm.lrh.lgo",Oe="zm.lrh.sru",Pe="zm.lrh.hd",Fe={event:"/sdk/init",error:{kInvalidParamError:b.INPUT_PARAM},system_info:ee,servers:function(e){return e},is_from_cache:re,project:ee,liveroom_version:ee,biz_type:te,lua_md5:ee,sev_env:ee,use_na:te},Ge="listener",Ue="/sdk/set_debug",xe=ee,He={event:"/sdk/set_log_config",error:{kInvalidParamError:b.INPUT_PARAM},log_level:function(e){return e},remote_log_level:ee,log_url:ee},qe={event:"/sdk/on_listener",listener:ee,error:{INPUT_PARAM:b.INPUT_PARAM}},Je=ee,Ye={event:"/sdk/login",room_id:ee,room_sid_string:ee,user_state_update:te,max_member_cnt:te,message:ee,token:ee,svr_env:ee,server:ee,try_cnt:te,room_mode:te,role:te,audience_create_room:te,liveroom_sid_string:ee,error:{ROOM_ID_NULL:b.ROOM_ID_NULL,INPUT_PARAM:b.INPUT_PARAM,ROOM_ID_TOO_LONG:b.ROOM_ID_TOO_LONG,ROOM_ID_INVALID_CHARACTER:b.ROOM_ID_INVALID_CHARACTER,USER_ID_NULL:b.USER_ID_NULL,USER_ID_TOO_LONG:b.USER_ID_TOO_LONG,USER_ID_INVALID_CHARACTER:b.USER_ID_INVALID_CHARACTER,USER_NAME_NULL:b.USER_NAME_NULL,USER_NAME_TOO_LONG:b.USER_NAME_TOO_LONG,REPEATEDLY_LOGIN:b.REPEATEDLY_LOGIN,LOGIN_TIMEOUT:b.LOGIN_TIMEOUT,INNER_ERROR:b.ROOM_INNER_ERROR,NETWORK_BROKEN:b.NETWORK_BROKEN}},Ke="/sdk/sublogin",ze=ee,je={event:"/zpush/login",sdk_zpush_sessionid_string:ee},Ve={event:"/liveroom/enter"},We={event:"/sdk/renew_token",error:{INPUT_PARAM:b.INPUT_PARAM,NOT_LOGIN:b.NOT_LOGIN},token:ee},Ze={event:"/sdk/logout",error:{INPUT_PARAM:b.INPUT_PARAM,ROOM_NOT_EXIST:b.ROOM_NOT_EXIST},room_id:ee,room_sid_string:ee,is_multi:re,is_send_cmd_net:re,liveroom_sid_string:ee},Xe="/liveroom/quit",$e=ee,et=ee,tt="/sdk/relogin",rt={event:"/liveroom/tempbroken"},it={event:"/sdk/reconnect",room_broken_time:te},At={event:"/sdk/disconnect"},nt=te,ot=te,st={event:"/liveroom/hb",room_id:ee,room_sid_string:ee,interval:te,stream_seq:te,server_user_seq:te,error:{NOT_LOGIN:b.NOT_LOGIN,HB_TIMEOUT:b.TIMEOUT}},at={event:"/liveroom/recv_user_update_info",user_list_seq:te,update_user:$,error:{ROOM_NOT_EXIST:b.ROOM_NOT_EXIST}},ct={event:"/sdk/enable_multi_room",is_multi:re,error:{kInvalidParamError:b.INPUT_PARAM,kAlreadyLoginError:b.ALREADY_LOGIN}},gt=$,ut=$,lt=$,ht="/cloud_setting/request",dt=$,pt=$,Ct={event:"/liveroom/get_current_user_list",user_index:te,is_time_ascend:re,use_na:te},It="/zegoconn/connect",ft=ee,Et=te,Qt=$,Bt=ee,mt=ee,yt=te,vt="/zegoconn/request",_t=$,St=$,wt=te,Dt={event:"/zegoconn/proxy_connect",service_no:te,proxy_link_sources:te,recv_time:te,connect_stream:te},bt={event:"/zegoconn/proxy_broken",service_no:te},kt={event:"/zegoconn/proxy_disconnect",service_no:te};Rt=function(e,t){return(Rt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Rt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(Mt,Nt=X),Mt.prototype.renewLocalToken=function(e,t){this.token=e,this.room.token=this.token;var r=(new Date).getTime(),i=void 0;t&&"number"==typeof t?i=1e3*t:"string"==typeof e&&["03","04"].includes(e.substring(0,2))&&(t=1e3*x.decodeTokenExpire(e.substring(2)),this.logger.info("zm.rm.rlt time "+t+" "+r+" "+this.stateCenter.local_time_deviation),i=t-(r-this.stateCenter.local_time_deviation)),i&&this.roomHandler.resetTokenTimer(i),this.logger.setTokenInfo(e),this.stateCenter.actionListener("_tokenRenewed",e,this.room.roomID)},Mt.prototype.initRoom=function(e,t,r,i,A,n,o){this.roomHandler=e,this.roomID=t,this.renewLocalToken(r),this.user=i,this.server=A,this.serverBak=n||A,this.config=o},Mt.prototype.active=function(e){var t=this,r=(this.logger.info(Ce+" retry call "+(null==(r=this.room)?void 0:r.roomID)+" "+(e=void 0!==e&&e)),null!=(r=this.loginRoomCallback)&&r.success?Ke:tt);if(this.subLoginSpan||(this.subLoginSpan=this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:this.roomID},{key:r,par:this.roomID},r,!0),this.spanKey=r),this.roomHandler.setRunState(o.trylogin),this.room.isMulti&&(null==(r=this.stateCenter.roomModulesList.find((function(e){return!e.isMulti})))?void 0:r.runState)!==o.login)this.logger.info(Ce+" service is disconnected, multi room stop retry");else if(this.retryTimer)this.logger.info(Ce+" has actived, ignore");else{var i=this.stateCenter.networkState==a.offline;if(i){if(this.logger.info(Ce+" check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return void this.logger.warn(Ce+" network is broken, stop retry")}else this.retryNetCount=0;this.isOverTime?this.logger.info(Ce+" retry over time, stop retry"):(1==this.retryActiveCount?this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL):(r=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)),this.retryActiveInterval=r>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:r),this.logger.info(Ce+" interval "+this.retryActiveInterval),this.retryTimer=setTimeout((function(){t.roomHandler.login(t.retryActiveCount%2==1?t.server:t.serverBak,t.roomID,t.token,t.user,t.config,(function(e){t.stateCenter.networkState=a.online,t.handleLoginFinish(e)}),(function(e,r){t.handleLoginFinish(!1,e,r)})),t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,i?t.retryNetCount++:t.retryActiveCount++}),e?0:1e3*this.retryActiveInterval))}},Mt.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.logger.info(Ce+" start max timer"),this.maxTimer=setTimeout((function(){e.logger.info(Ce+" over max time ".concat(e.RETRY_MAX_TIME,"s, stop retry")),e.isOverTime=!0,e.roomHandler.resetRoom(),e.stopMaxTime(),e.invalid(),e.onactive(!1,b.LOGIN_TIMEOUT),e.subLoginSpan&&(e.stateCenter.reporter.spanEnd({key:e.spanKey,par:e.roomID},{error:b.LOGIN_TIMEOUT.code,message:b.LOGIN_TIMEOUT.msg}),e.subLoginSpan=null),e.loginRoomCallback.fail&&(e.loginRoomCallback.fail(b.LOGIN_TIMEOUT),e.roomHandler.disconnectedHandle(b.LOGIN_TIMEOUT),e.resetCallBack())}),1e3*this.RETRY_MAX_TIME))},Mt.prototype.stopMaxTime=function(){this.logger.info(Ce+" stop max timer"),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},Mt.prototype.onactive=function(e,t){},Mt.prototype.handleError=function(e,t){if(this.RETRY_MAX_TIME<3)return!1;if(t){t=void 0;var r=void 0,i=void 0,A=(this.stateCenter.useNetAgent?(t=["202002","205030","205035","50116","50117","50118","50119","50120","50121","50122","50123","50124","50125","50126","50127","50128"],r=["40001","40100"],i=["201002","30019"]):(t=["1000002002","1000005030","1000005035","1010","1011","1013","1014","1015","1016","1017","1018","1019","1020","1021","1023"],r=["1100040001","1100040100"]),e.code+"");if(this.stateCenter.useNetAgent){if(10015===e.code)return this.room.retryConnect(),!0;if(40001<=e.code&&e.code<=40100||50200<=e.code&&e.code<=50299||null!=i&&i.includes(A))return this.room.resetSessionInfo(),!0}return!(null!=t&&t.includes(A)||(null==r||!r.includes(A))&&(this.room.lastRunState!=o.login||(this.logger.warn("zm.rrh.he reset"),this.room.resetUserSession(),this.invalid(),0)))}return!0},Mt.prototype.setLoginRoomCallback=function(e,t){this.loginRoomCallback.success=e,this.loginRoomCallback.fail=t},Mt.prototype.loginFail=function(e){this.roomHandler.resetRoom(),this.stopMaxTime(),this.invalid(),this.onactive(!1,e),this.loginRoomCallback.fail&&(this.loginRoomCallback.fail(e),this.roomHandler.disconnectedHandle(e),this.resetCallBack())},Mt.prototype.handleLoginFinish=function(e,t,r){this.logger.info("zm.rrh.hlf "+e+" "+JSON.stringify(t)),t?(this.subLoginSpan&&(this.stateCenter.reporter.spanEnd({key:this.spanKey,par:this.roomID},{error:t.code,message:t.msg}),this.subLoginSpan=null),this.handleError(t,r)?(this.maxTimer||this.startMaxTime(),this.active()):(this.roomHandler.resetRoom(),this.stopMaxTime(),this.invalid(),this.onactive(e,t),this.loginRoomCallback.fail&&(this.loginRoomCallback.fail(t),this.roomHandler.disconnectedHandle(t),this.resetCallBack()))):(this.stopMaxTime(),this.invalid(),this.onactive(e,{code:0,msg:""}),this.subLoginSpan&&(this.stateCenter.reporter.spanEnd({key:this.spanKey,par:this.roomID},{room_id:this.roomID,room_sid_string:null==(r=this.room)?void 0:r.roomSidString}),this.subLoginSpan=null),this.loginRoomCallback.success&&(this.loginRoomCallback.success(e),this.resetCallBack()))},Mt.prototype.invalid=function(){this.logger.info("zm.rh.ivd end retry"),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryActiveCount=1,this.retryNetCount=0},Mt.prototype.resetCallBack=function(){this.loginRoomCallback.success=void 0,this.loginRoomCallback.fail=void 0};var Rt,Nt,Tt,Lt=Mt;function Mt(e,t,r){var i=Nt.call(this,e,t)||this;return i.logger=e,i.stateCenter=t,i.room=r,i.retryNetCount=0,i.retryNetMaxTimes=3,i.spanKey="",i.loginRoomCallback={},i}(t=Tt=Tt||{}).NOT_EMPTY="NOT_EMPTY",t.ILLEGAL_CHARACTERS="ILLEGAL_CHARACTERS",t.TYPE_STRING="TYPE_STRING",t.TYPE_INTEGER="TYPE_INTEGER",t.TYPE_OBJECT="TYPE_OBJECT",t.MAX_LENGTH_10="MAX_LENGTH_10",t.MAX_LENGTH_64="MAX_LENGTH_64",t.MAX_LENGTH_100="MAX_LENGTH_100",t.MAX_LENGTH_128="MAX_LENGTH_128",t.MAX_LENGTH_256="MAX_LENGTH_256",t.MAX_LENGTH_1024="MAX_LENGTH_1024";var Ot={error:{code:0,msg:"suc"}},Pt={NOT_EMPTY:function(e,t,r,i,A){return void 0===t||""===t||null===t?(i.error("".concat(r," ").concat(e," is empty")),A):Ot},ILLEGAL_CHARACTERS:function(e,t,r,i,A){return x.checkIllegalCharacters(t)?Ot:(i.error("".concat(r," ").concat(e," contains illegal characters")),A)},TYPE_STRING:function(e,t,r,i,A){return"string"!=typeof t?(i.error("".concat(r," ").concat(e," must be string")),A):Ot},TYPE_INTEGER:function(e,t,r,i,A){return x.checkInteger(t,!1)?Ot:(i.error("".concat(r," ").concat(e,"  must be integer number")),A)},TYPE_OBJECT:function(e,t,r,i,A){return t&&"object"==typeof t?Ot:(i.error("".concat(r," ").concat(e,"  must be object")),A)},MAX_LENGTH_10:function(e,t,r,i,A){return 10<t.length?(i.error("".concat(r," ").concat(e," is too long")),A):Ot},MAX_LENGTH_64:function(e,t,r,i,A){return 64<t.length?(i.error("".concat(r," ").concat(e," is too long")),A):Ot},MAX_LENGTH_100:function(e,t,r,i,A){return 100<t.length?(i.error("".concat(r," ").concat(e," is too long")),A):Ot},MAX_LENGTH_128:function(e,t,r,i,A){return 128<t.length?(i.error("".concat(r," ").concat(e," is too long")),A):Ot},MAX_LENGTH_256:function(e,t,r,i,A){return 256<t.length?(i.error("".concat(r," ").concat(e," is too long")),A):Ot},MAX_LENGTH_1024:function(e,t,r,i,A){return 1024<t.length?(i.error("".concat(r," ").concat(e," is too long")),A):Ot}};Object.defineProperty(Gt.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e,A.LoggerStateCenter.getInstance().debug=e},enumerable:!1,configurable:!0}),Object.defineProperty(Gt.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(e){this._testEnvironment=e,A.LoggerStateCenter.getInstance().testEnvironment=e},enumerable:!1,configurable:!0}),Object.defineProperty(Gt.prototype,"ENV",{get:function(){return this._env},set:function(e){this._env=e,A.LoggerStateCenter.getInstance().ENV=e},enumerable:!1,configurable:!0}),Object.defineProperty(Gt.prototype,"roomid",{get:function(){return this.roomModulesList[0]?this.roomModulesList[0].roomID:""},enumerable:!1,configurable:!0}),Object.defineProperty(Gt.prototype,"serverTimeOffset",{get:function(){return this.roomModulesList[0]?this.roomModulesList[0].messageHandler.serverTimeOffset:0},enumerable:!1,configurable:!0}),Gt.prototype.getRequestId=function(){return this.idName+"-"+h()},Gt.prototype.actionListener=function(e){for(var t,r=this,i=[],A=1;A<arguments.length;A++)i[A-1]=arguments[A];["getAnchorInfo","HBResponse","roomOnlineUserCountUpdate","roomLoginResponse"].includes(e)||e.startsWith("_")||!this.listenerList[e]||((t=this.reporter.createSpan(s.H,{key:Ge},{key:""},"/sdk/listener")).setAttributes({listener:e,listener_params:JSON.stringify(i)}),t.end()),["roomStateChanged","tokenWillExpire"].includes(e)&&this.logger.info("zm.al ".concat(e," ").concat(JSON.stringify(i))),this.listenerList[e]&&this.listenerList[e].forEach((function(t){try{t.apply(void 0,i)}catch(t){r.logger.error("zm.st.at ",e," ",JSON.stringify(t))}}))},Gt.prototype.onListener=function(e,t){return this.listenerList[e]?"function"!=typeof t?(this.logger.error(be+" listener callBack must be funciton"),!1):(-1==this.listenerList[e].indexOf(t)&&this.listenerList[e].push(t),!0):(this.logger.error(be+" event "+e+" no found"),!1)},Gt.prototype.offListener=function(e,t){return this.listenerList[e]?"function"!=typeof t?(this.logger.error(ke+" listener callBack must be funciton"),!1):(-1!==this.listenerList[e].indexOf(t)&&(this.listenerList[e]=this.listenerList[e].filter((function(e){return e!==t}))),!0):(this.logger.error(ke+" event "+e+" no found"),!1)},Object.defineProperty(Gt.prototype,"sdKVersion",{get:function(){return this._sdkVersion},set:function(e){this._sdkVersion=e},enumerable:!1,configurable:!0}),Gt.prototype.proxyRes=function(e,t,r){return{interResolve:function(r){t(r),e.end()},interReject:function(t,i){var A;void 0===i&&(i=""),(A=t.code<2e9&&1e9<t.code?x.decodeServerError(t.code,t.msg):{code:t.code,message:t.msg})&&e.setAttributes({error:A.code,message:A.message+i}),e.end(),r({errorCode:t.code})}}};var Ft=Gt;function Gt(e,t){this.logger=e,this.dataReport=t,this._debug=!1,this.appConfigEtag=-1,this.appConfigFetched=!1,this.requestList={},this.mode=B.MODE_ONLINE,this.connectState="connected",this.testNetPackageSize=!1,this.netGeoFencing={},this._testEnvironment=!1,this._env=0,this.type="PUBLIC",this.debugCustom=!1,this.configOK=!1,this.role=2,this.relateService=[],this.maxMemberCount=0,this.roomCreateFlag=1,this.local_time_deviation=0,this.callbackList={},this.listenerList={roomUserUpdate:[],roomOnlineUserCountUpdate:[],getAnchorInfo:[],_getAnchorInfo:[],IMRecvCustomCommand:[],IMRecvBroadcastMessage:[],recvReliableMessage:[],roomExtraInfoUpdate:[],IMRecvBarrageMessage:[],recvJoinLiveRequest:[],recvInviteJoinLiveRequest:[],recvEndJoinLiveCommand:[],roomLoginResponse:[],_roomLogin:[],_appConfigRsp:[],_netAppConfigRsp:[],_connectChanged:[],HBResponse:[],roomStateUpdate:[],_roomStateUpdate:[],_getTotalUserList:[],_userStateUpdate:[],_recvBigRoomMessage:[],_recvRoomMsg:[],_kickout:[],tokenWillExpire:[],_tokenExpired:[],roomStateChanged:[],hallStateUpdate:[],_hallStateUpdate:[],roomTokenWillExpire:[],_tokenRenewed:[],_protobufResponse:[],_cloudSettingNotify:[],_settingCanFetch:[]},this.reportList={},this.reportSeqList={login:0,relogin:0},this.networkState=a.online,this.roomRetryTime=300,this.roomModulesList=[],this.isMultiRoom=!1,this.setMultiRoom=!1,this.protoFormat="json",this.settingFetched=!1,this.useNetAgent=!0,this.netHasSet=!1,this.configRoomAuth=!1,this.configCheckToken=!1,this._sdkVersion="unknown",this.mode=V.modeNo}xt.prototype.init=function(e){var t=this,r=e.body.hearbeat_interval<3e3?3e3:e.body.hearbeat_interval;this.tryHeartbeatCount=0,this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.loginHeartbeatTimer=setTimeout((function(){t.start(r)}),r),this.initCount++},xt.prototype.start=function(e){var t,r,i=this,A=(this.logger.info(ve+" call"),this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:this.room.roomID},{key:""},st.event));this.room.isLogin()?3<++this.tryHeartbeatCount?(this.logger.error(ve+" come to try limit"),this.stateCenter.reporter.setError(A,st.error.HB_TIMEOUT),this.hbLogout(b.HEARTBEAT_TIMEOUT),this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:this.room.roomID},{key:""},"/zpush/hb_timeout").end()):(t=function(e,t){var r=e.body&&e.body.err_code;e.header&&e.body?0!==r&&(r=x.decodeServerError(e.body.err_code||e.body.code,e.body.err_message||e.body.message),A.setAttributes({error:r.code,message:r.message+e.body.err_code})):A.setAttributes({error:(0<e.code?e:b.ROOM_INNER_ERROR).code,message:e.msg||b.ROOM_INNER_ERROR}),i.handleHeartbeatRsp(e,t),0===(null==(r=null==e?void 0:e.body)?void 0:r.err_code)&&A.setAttributes({interval:st.interval(null==(t=null==e?void 0:e.body)?void 0:t.hearbeat_interval),stream_seq:st.stream_seq(null==(r=null==e?void 0:e.body)?void 0:r.stream_seq),server_user_seq:st.server_user_seq(null==(t=null==e?void 0:e.body)?void 0:t.server_user_seq)}),A.end()},null!=(r=this.stateCenter.useNetAgent?this.liveRoomHandler:this.service)&&r.heartBeat(t,t,this.room),this.heartbeatInterval=e,r=this.heartbeatInterval,2<=this.initCount?(r=Math.round(Math.random()*(this.heartbeatInterval+1)),this.initCount=1):r=this.heartbeatInterval,this.heartbeatTimer=setTimeout((function(){i.start(i.heartbeatInterval)}),r),this.logger.info(ve+" call success")):(this.logger.error(ve+" state error"),this.stateCenter.reporter.setError(A,st.error.NOT_LOGIN))},xt.prototype.handleHeartbeatRsp=function(e,t){if(e.body&&e.body.err_code&&0!==e.body.err_code)return this.logger.error(_e+" disconnect, server error=",e.body.err_code),1000000152==e.body.err_code?void this.hbLogout(b.HEARTBEAT_TIMEOUT):void this.hbLogout(x.getServerError(e.body.err_code));e.header&&e.body?((this.tryHeartbeatCount=0)!==e.body.hearbeat_interval&&(this.heartbeatInterval=e.body.hearbeat_interval,this.heartbeatInterval<3e3)&&(this.heartbeatInterval=3e3),this.heartbeatRspNotiFy(e,this.room.roomID),this.logger.info(_e+" call success")):(this.logger.error(_e+" disconnect, error=",JSON.stringify(e)+", seq = "+t),this.hbLogout(e))},xt.prototype.heartbeatRspNotiFy=function(e,t){},xt.prototype.hbLogout=function(e){},xt.prototype.resetHeartbeat=function(){clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null,clearTimeout(this.loginHeartbeatTimer),this.loginHeartbeatTimer=null,this.tryHeartbeatCount=0,this.initCount=0,this.logger.info("zm.hb.rst call success")};var Ut=xt;function xt(e,t,r,i,A,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.liveRoomHandler=i,this.room=A,this.service=n,this.tryHeartbeatCount=0,this.heartbeatTimer=null,this.loginHeartbeatTimer=null,this.initCount=0}Object.defineProperty(qt.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),qt.prototype.resetTokenTimer=function(e){var t=this;this.logger.info("zm.rm.rst  call: "+(e=2147483647<(e=(e-=3e4)<0?0:e)?2147483647:e)),this.tokenTimer&&clearTimeout(this.tokenTimer),this.tokenTimer=setTimeout((function(){t.stateCenter.actionListener("tokenWillExpire",t.room.roomID),t.stateCenter.actionListener("roomTokenWillExpire",t.room.roomID)}),e)},qt.prototype.stopTokenTimer=function(){this.tokenTimer&&clearTimeout(this.tokenTimer),this.tokenTimer=null},qt.prototype.setRunState=function(e){this.room.runState!==e&&(this.room.lastRunState=this.room.runState,this.room.runState=e)},qt.prototype.resetTryLogin=function(){this.tryLoginTimer&&clearTimeout(this.tryLoginTimer),this.tryLoginTimer=null},qt.prototype.reportLogoutSpan=function(e){var t,r=this.stateCenter.isMultiRoom?Xe:"/switch/logout_user";r=this.stateCenter.reporter.createSpan(s.H,{key:Ze.event,par:this.room.roomID},{key:""},r),e&&this.isUseNetAgent&&"0"===this.liveRoomHandler.roomServicer.zPushSid&&(this.liveRoomHandler.roomServicer.zPushSid=null==(t=null==(t=null==(t=this.liveRoomHandler)?void 0:t.roomServicer)?void 0:t.switchSessionID)?void 0:t.toString()),e=this.isUseNetAgent?e?null==(e=null==(t=this.liveRoomHandler)?void 0:t.roomServicer)?void 0:e.zPushSid:null==(t=null==(e=null==(t=this.liveRoomHandler)?void 0:t.roomServicer)?void 0:e.switchSessionID)?void 0:t.toString():void 0,r.setAttributes({room_id:Ze.room_id(null==(t=this.room)?void 0:t.roomID),room_sid_string:Ze.room_sid_string(null==(t=this.room)?void 0:t.roomSidString),liveroom_sid_string:$e(null==(t=this.room)?void 0:t.userSidString),sdk_zpush_sessionid_string:et(e)}),r.end()},qt.prototype.resetRoom=function(e){var t,r,i=this;this.logger.info("zm.rm.rr call"),1<this.stateCenter.roomModulesList.length&&!e&&(this.room.isMulti=!0),this.resetTryLogin(),this.room.sessionExist&&this.room.runState!==o.logout&&!this.room.isDisConnect()&&(t=function(e){i.handleLogoutRsp(e,!i.room.isMulti)},r=this.isUseNetAgent?this.liveRoomHandler:this.service)&&r.logout(this.room,t,t),this.reportLogoutSpan(e),this.setRunState(o.logout),this.room.resetRoomSession(),this.room.resetUserSession(),this.room.isMulti||(this.stateCenter.userid="",this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.userSidString,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),this.isUseNetAgent?null!=(r=this.liveRoomHandler)&&r.reset():null!=(t=this.service)&&t.closeSocket()),this.resetRoomCallBack(),this.stateCenter.roomModulesList=this.stateCenter.roomModulesList.filter((function(e){return e!==i.room})),(e=this.stateCenter.roomModulesList[0])&&(e.isMulti=!1,e.runState!==o.login)&&e.roomTryHandler&&(e.roomTryHandler.startMaxTime(),e.roomTryHandler.active()),this.stateCenter.isMultiRoom&&0===this.stateCenter.roomModulesList.length&&(this.stateCenter.reporter.createSpan(s.H,{key:Ze.event,par:this.room.roomID},{key:""},"/zpush/multi_logout_user").end(),this.liveRoomHandler.roomServicer.zPushSid="0"),this.logger.info("zm.rm.rr call success")},qt.prototype.resetRoomCallBack=function(){},qt.prototype.loginSuccessCallBack=function(e,t){},qt.prototype.handlePushKickout=function(e,t,r){var i=this,A=(this.logger.info(me+"  call "+JSON.stringify(e)),x.getKickoutError(e.body.reason||(null==(A=e.body)?void 0:A.kickout_reason),this.isUseNetAgent)),n=this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:this.room.roomID},{key:""},"/sdk/kickout"),a=(n.setAttributes({error:null==(a=b[A.name||"ROOM_INNER_ERROR"])?void 0:a.code,message:A.message,kickout_reason:nt((null==(a=e.body)?void 0:a.reason)||(null==(a=e.body)?void 0:a.kickout_reason)),need_relogin:ot(null==(a=null==e?void 0:e.body)?void 0:a.need_relogin)}),n.end(),this.room.roomTryHandler);a?(a.onactive=function(e,t){i.logger.info(me+" onactive"),i.disconnectedHandle(t),i.stateCenter.actionListener("_kickout",t)},e.body.need_relogin&&1==e.body.need_relogin?(this.room.resetUserSession(),a.startMaxTime(),a.active()):(this.setRunState(o.logout),this.resetRoom(t),n={},e&&e.body.custom_reason?n.custom_kickout_message=e.body.custom_reason:A.name&&b[A.name]&&(n.custom_kickout_message=b[A.name].msg+"; kickout reason: "+(a=e.body.reason||e.body.kickout_reason)),this.disconnectedHandle(A.name&&b[A.name]?b[A.name]:b.ROOM_INNER_ERROR,{extendedData:JSON.stringify(n),isKickout:!0}),this.stateCenter.actionListener("_kickout",{code:b.MANUAL_KICKOUT.code,msg:b.MANUAL_KICKOUT.msg+e.body.reason||e.body.kickout_reason}))):this.logger.info(me+" try handler no found")},qt.prototype.handleHbLogout=function(e){var t=this,r=this.room.roomTryHandler;r&&(r.onactive=function(e,r){t.logger.warn(ye+" onactive"),t.transError(r),t.disconnectedHandle(r)},[b.HEARTBEAT_TIMEOUT,b.SOCKET_CLOSE].includes(e)||[105,152,2001].includes(null==e?void 0:e.code)||e.msg.endsWith("1000002001")||e.msg.endsWith("1000000152")||e.msg.endsWith("1000000105")?(r.startMaxTime(),r.active()):[b.TIMEOUT].includes(e)?this.logger.warn(ye+" timeout"):(this.logger.warn(ye+" unexpected error: ".concat(JSON.stringify(e))),r.stopMaxTime(),r.invalid(),this.resetRoom(),this.disconnectedHandle(e)))},qt.prototype.onDisconnect=function(e){var t=this;this.logger.error(Be+" "+e.msg),"string"==typeof e.code&&"Error.Network"===e.code||"number"==typeof e.code&&(e.code<2e9&&1e9<e.code||e.code<1e6)&&x.decodeServerError(e.code,e.msg),x.unregisterCallback(tt,this.stateCenter.reportList),(e=this.room.roomTryHandler)?(e.onactive=function(e,r){t.logger.error(Be+" onactive"),r&&0!==r.code?(t.transError(r),t.roomStateHandle("DISCONNECTED",v.ReconnectFailed,r)):t.roomStateHandle("CONNECTED",v.Reconnected,r)},e.startMaxTime(),e.active()):this.logger.error(Be+" try handler no found")},qt.prototype.onConnecting=function(e){this.roomStateHandle("CONNECTING",v.Logining,e)},qt.prototype.disconnectedHandle=function(e,t){var r;e&&0!==e.code?(this.stopTokenTimer(),r=null!=t&&t.isKickout?v.Kickout:v.ReconnectFailed,this.transError(e),this.roomStateHandle("DISCONNECTED",r,e,(null==t?void 0:t.extendedData)||e.msg)):this.roomStateHandle("CONNECTED",v.Reconnected,e,null==t?void 0:t.extendedData)},qt.prototype.roomStateHandle=function(e,t,r,i,A){if(!t||t!=v.Reconnecting||(this.reconectTimes++,1!=this.reconectTimes)){this.logger.info("zm.rm.scb "+e+" "+JSON.stringify(r)),["CONNECTED","DISCONNECTED"].includes(e)&&(this.reconectTimes=0);var n,o,a=0;switch(t=(t=(t=t&&[v.LoginFailed,v.ReconnectFailed].includes(t)?null!=(o=this.room.roomTryHandler)&&o.loginRoomCallback.fail?v.LoginFailed:v.ReconnectFailed:t)&&[v.Logined,v.Reconnected].includes(t)?null!=(o=this.room.roomTryHandler)&&o.loginRoomCallback.success?v.Logined:v.Reconnected:t)&&[v.Logining,v.Reconnecting].includes(t)?null!=(o=this.room.roomTryHandler)&&o.loginRoomCallback.success?v.Logining:v.Reconnecting:t){case v.Reconnecting:n=rt,this.tempBrokenTime=(new Date).getTime();break;case v.ReconnectFailed:n=At;break;case v.Reconnected:n=it,a=(new Date).getTime()-this.tempBrokenTime}this.room.lastRoomState=this.room.roomState,this.room.roomState=e,this.room.roomState!==this.room.lastRoomState&&(this.stateCenter.actionListener("_roomStateUpdate",this.room.roomID,e,r?r.code:0,i,A),A||(this.stateCenter.actionListener("roomStateUpdate",this.room.roomID,e,r?r.code:0,i),this.stateCenter.actionListener("roomStateChanged",this.room.roomID,t,r?r.code:0,i)),n)&&((o=this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:this.room.roomID},{key:""},n.event)).setAttributes(t===v.Reconnected?{room_broken_time:it.room_broken_time(a)}:{error:(null==r?void 0:r.code)||0,message:i||""}),o.end())}},qt.prototype.transError=function(e){var t;this.logger.info("zm.rm.te "+JSON.stringify(e)),0!==e.code&&(e.code<2e9&&1e9<e.code||e.code<1e6)&&(t=x.getLiveRoomError(e.code,this.stateCenter.useNetAgent))&&b[t]&&(e.code=b[t].code,e.msg=b[t].msg)},qt.prototype.login=function(e,t,r,i,A,n,a){this.logger.info(Ce+" call:"+t+" "+r),this.room.isMulti||this.logger.setSessionInfo(this.stateCenter.appid,t,"",i.userID,"",this.stateCenter.sdKVersion),A&&(A.userUpdate&&"boolean"==typeof A.userUpdate&&(this.room.userStateUpdate=A.userUpdate),A.maxMemberCount)&&"number"==typeof A.maxMemberCount&&(this.room.maxMemberCount=A.maxMemberCount),this.stateCenter.configOK?(this.room.runState!==o.trylogin&&this.setRunState(o.trylogin),this.room.roomID=t,this.room.token=r,this.room.thirdToken=r,this.stateCenter.idName=i.userID,this.stateCenter.nickName=i.userName||i.userID,this.loginCallback.success=n,this.loginCallback.fail=a,this.server=e,this.stateCenter.reporter.spanSetAttributes({key:Ke,bak_key:tt,par:t},{server:this.isUseNetAgent?void 0:ze(this.server)}),this.liveRoomLoginKey=this.room.isMulti?Ve:je,this.stateCenter.reporter.createSpan(s.H,{key:Ke,bak_key:tt,par:this.room.roomID},{key:this.liveRoomLoginKey.event,par:this.room.roomID},this.liveRoomLoginKey.event,!0),this.resetTryLogin(),this.onConnecting({code:0,msg:""}),this.tryLogin(e),this.logger.info(Ce+" call success")):(this.logger.error(Ce+" init sdk wrong"),a(b.INIT))},qt.prototype.tryLogin=function(e){var t,r=this;if(this.room.runState!==o.trylogin)this.logger.error("zb.rh.tl state error");else{if(this.isUseNetAgent)return this.room.isMulti&&this.room.isDisConnect()?void this.logger.warn(Ie+" liveroom is not connected"):(A=function(e,t){r.handleLoginRsp(e,t)},void(null!=(t=this.liveRoomHandler)&&t.isUaConnect()?(this.stateCenter.reporter.spanSetAttributes({key:this.liveRoomLoginKey.event,par:null==(t=this.room)?void 0:t.roomID},{sdk_zpush_sessionid_string:null==(t=null==(t=null==(t=this.liveRoomHandler)?void 0:t.roomServicer)?void 0:t.switchSessionID)?void 0:t.toString()}),this.liveRoomHandler.login(this.room,A,A)):(this.tryLoginTimer=setTimeout((function(){r.logger.info(Ie+" over time no response, login timeout"),r.loginCallback.fail&&r.loginCallback.fail(Ye.error.LOGIN_TIMEOUT)}),this.tryLoginInterval),this.logger.warn(Ie+" ua is not connected"))));if(null!=(t=this.service)&&t.isDisConnect())try{if(this.service.closeSocket(),this.logger.debug(Ie+" new websocket"),!this.isUseNetAgent&&!P(e,this.stateCenter.appid))throw this.logger.error("".concat(Ie," the server does not match the appID")),new Error("The server does not match the appID");this.service.createSocket(e);var i=Date.now();this.service.openHandler((function(){var e;r.stateCenter.reporter.spanSetAttributes({key:r.liveRoomLoginKey.event,par:null==(e=r.room)?void 0:e.roomID},{connect_consume:Date.now()-i}),r.openHandler()})),this.service.closeHandler((function(e){var t;r.logger.error(Ie+" close "+JSON.stringify(e.code||e)),null!=(t=r.service)&&t.closeSocket(),r.closeHandler(e)})),this.service.errorHandler((function(e){var t;r.logger.error(Ie+" error "+JSON.stringify(e.code||e)),null!=(t=r.service)&&t.closeSocket(),r.closeHandler(e)}))}catch(e){this.logger.error(Ie+"  websocket err:"+JSON.stringify(e))}else{this.logger.info(Ie+" use current websocket and sent login");var A=function(e,t){r.handleLoginRsp(e,t)};null!=(t=this.service)&&t.login(this.room,A,A)}this.tryLoginTimer=setTimeout((function(){r.logger.info(Ie+" over time no response, login timeout"),r.loginCallback.fail&&r.loginCallback.fail(Ye.error.LOGIN_TIMEOUT)}),this.tryLoginInterval),this.logger.info(Ie+" call success")}},qt.prototype.openHandler=function(){function e(e,t){r.handleLoginRsp(e,t)}var t,r=this;this.logger.info("zm.rm.op websocket.onpen call"),null!=(t=this.service)&&t.onPush(),null!=(t=this.service)&&t.login(this.room,e,e)},qt.prototype.handleLoginRsp=function(e,t){this.logger.info(fe+" seq: "+t+" "+JSON.stringify(e)),this.room.runState!==o.trylogin?this.logger.error(fe+" state error"):e.header&&e.body?e.header.seq!==t&&0==this.room.isMulti?this.logger.error(fe+" in wrong seq, local=",t+"",",recv=",e.header.seq):0!==e.body.err_code?(this.logger.error(fe+" server error=",e.body.err_code),this.handleLoginFail(e)):(this.logger.info(fe+" call success."),this.handleLoginSuccess(e)):(this.logger.error(fe+" "+JSON.stringify(e)),this.handleLoginFail(e))},qt.prototype.handleLoginFail=function(e){this.resetTryLogin();var t=Ye.error.INNER_ERROR;e.header&&e.body?t=x.getServerError(e.body.err_code):e.code&&e.msg&&(t=e),this.stateCenter.reporter.spanEnd({key:this.liveRoomLoginKey.event,par:this.room.roomID},{error:t.code,message:t.msg}),this.loginCallback.fail&&this.loginCallback.fail(t,!0)},qt.prototype.handleLoginSuccess=function(e){var t,r,i=this,A=(this.room.checkRoomSession(e.body.room_session_id)&&(this.room.loginTime=Date.now()),this.room.lastRunState),n=(this.setRunState(o.login),this.stateCenter.userid=e.body.user_id,this.isUseNetAgent?(this.room.longRoomSid=e.body.room_session_id,this.room.longSid=e.body.session_id):(this.room.sessionID=e.body.session_id,this.room.roomSessionID=e.body.room_session_id),(n={})[this.room.roomID]={room_sid_string:this.room.roomSidString},this.stateCenter.reporter.setPublicPros(n),null==(n=null==e?void 0:e.body)?void 0:n.token_remain_time);this.stateCenter.configRoomAuth=0<n,e.body.ret_timestamp&&["03","04"].includes(this.room.token.substring(0,2))&&(t=(r=(new Date).getTime())-e.body.ret_timestamp,this.stateCenter.local_time_deviation=t<5e3?0:t,t=0<n?1e3*n:1e3*x.decodeTokenExpire(this.room.token.substring(2))-(r-this.stateCenter.local_time_deviation),this.resetTokenTimer(t)),this.room.isMulti||this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.userSidString,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),this.isUseNetAgent||(e.body.config_info&&(r=(null==(n=this.stateCenter.settingConfig)?void 0:n.getSetting("remote_log_level",!0))||e.body.config_info.log_level,this.logger.setRemoteLogLevel(r),""==e.body.config_info.log_url||this.logger.url||(this.logger.setLogServer(e.body.config_info.log_url),0===this.stateCenter.ENV&&(this.stateCenter.logDomain=null==(t=this.logger.url)?void 0:t.split("/")[2],this.stateCenter.reporter.setConfig({serverUrl:"wss://"+this.stateCenter.logDomain+"/zglog/tlog"})))),e.body.cluster_env&&1===e.body.cluster_env&&(this.stateCenter.testEnvironment=!0,this.stateCenter.debugCustom||(this.stateCenter.debug=!0))),this.stateCenter.reporter.spanEnd({key:this.liveRoomLoginKey.event,par:this.room.roomID},{server:this.isUseNetAgent?void 0:ze(this.server),room_id:null==(n=this.room)?void 0:n.roomID,room_sid_string:null==(r=this.room)?void 0:r.roomSidString,zpush_sessionid_string:this.isUseNetAgent&&null!=(n=null==(t=null==e?void 0:e.header)?void 0:t.session_id)?n.toString():void 0,liveroom_sid_string:null==(r=this.room)?void 0:r.userSidString}),this.resetTryLogin(),this.loginSuccessCallBack(A,e),this.roomStateHandle("CONNECTED",v.Logined,{code:0,msg:""}),this.logger.makeZipLogSpaceUpload().catch((function(e){i.logger.error("zm.rm.lgsuc zip log upload error: "+e.message)})),this.loginCallback.success&&this.loginCallback.success(!0)},qt.prototype.closeHandler=function(e){this.logger.error(Ee+" room websocket close "+JSON.stringify(e.code||e)),this.room.runState!==o.logout?this.room.runState===o.trylogin?(this.resetTryLogin(),this.loginCallback.fail&&this.loginCallback.fail(1006==e.code?Ye.error.LOGIN_TIMEOUT:e)):this.room.runState===o.login&&(this.logger.info(Ee+" is called because of network broken"),this.resetTryLogin(),this.onDisconnect(Ye.error.NETWORK_BROKEN)):this.logger.info(Ee+" onclose logout flow call websocket.close")},qt.prototype.logout=function(e,t){this.logger.info(Qe+" call"),this.room.runState===o.logout?this.logger.warn("zb.rh.lo at logout"):(this.resetRoom(e),this.roomStateHandle("DISCONNECTED",v.Logout,{code:0,msg:""},void 0,t),this.stopTokenTimer(),this.logger.info(Qe+" call success"))},qt.prototype.handleLogoutRsp=function(e,t){this.logger.info(Qe+" result=",e.body&&e.body.err_code?e.body.err_code:"-1"),this.isUseNetAgent&&t&&null!=(e=this.liveRoomHandler)&&e.closeRequest()};var Ht=qt;function qt(e,t,r,i,A,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.room=i,this.liveRoomHandler=A,this.service=n,this.tryLoginTimer=null,this.tryLoginCount=0,this.tryLoginInterval=1e4,this.tokenTimer=null,this.beforeExpire=30,this.server="",this.tempBrokenTime=0,this.reconectTimes=0,this.loginCallback={}}var Jt=function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||((i=i||Array.prototype.slice.call(t,0,A))[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))},Yt=(Kt.prototype.loginRsp=function(e,t){this.anchor_info=e.body.anchor_info||this.anchor_info,this.userListInterval=e.body.userlist_interval||this.userListInterval,this.userListMergeInterval=e.body.userlist_merge_timeout||this.userListMergeInterval,e.body.anchor_info&&(this.stateCenter.actionListener("getAnchorInfo",e.body.anchor_info.anchor_id_name,e.body.anchor_info.anchor_nick_name),this.stateCenter.actionListener("_getAnchorInfo",e.body.anchor_info.anchor_id_name,e.body.anchor_info.anchor_nick_name)),e.body.online_count&&this.stateCenter.actionListener("roomOnlineUserCountUpdate",this.room.roomID,e.body.online_count),this.logger.info("zm.us.lgr  userStateUpdate "+this.room.userStateUpdate),this.room.userStateUpdate&&this.fetchUserList(t)},Kt.prototype.patchUserList=function(e){var t=this;e.body.server_user_seq!==this.userSeq&&this.room.userStateUpdate&&!this.userSeqMergeMap&&(this.logger.info("zm.us.pt call update user "+this.userSeq+" server "+e.body.server_user_seq),this.userSeqMergeMap||(this.userSeqMergeMap={}),this.userSeqMergeTimer&&clearTimeout(this.userSeqMergeTimer),this.userSeqMergeTimer=setTimeout((function(){t.handleMergeTimeout()}),this.userListMergeInterval)),this.minUserSeq=e.body.server_user_seq,null!=e.body.online_count&&0!=e.body.online_count&&this.stateCenter.actionListener("roomOnlineUserCountUpdate",this.room.roomID,e.body.online_count)},Kt.prototype.resetUserHandler=function(){this.userQuerying=!1,this.lastUserQueryTime=0,this.userTempList=[],this.userSeq=0,this.minUserSeq=0,this.userList=void 0,this.userSeqMergeMap={},this.userSeqMergeTimer=void 0,this.userQueryTimer=void 0,this.userListInterval=3e4,this.userListMergeInterval=5e3,this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""}},Kt.prototype.fetchUserList=function(e){this.userQuerying?this.logger.warn("zm.us.ftu is already querying"):(this.userQuerying=!0,this.userTempList=[],this.fetchUserListWithPage(0,e||0),this.logger.info("zm.us.ftu the first time call"))},Kt.prototype.fetchUserListWithPage=function(e,t){function r(e){i.handleFetchUserListRsp(e,t)}var i=this,A={user_index:e,sort_type:0},n=Ct;null!=(this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:this.room.roomID},{key:n.event,par:this.room.roomID},n.event,!0).setAttribute("user_index",n.user_index(e)),n=this.stateCenter.useNetAgent?this.liveRoomHandler:this.service)&&n.fetchUserList(A,r,r,this.room)},Kt.prototype.handleFetchUserListRsp=function(e,t){var r=this;if(this.stateCenter.reporter.spanEnd({key:Ct.event,par:this.room.roomID},{error:(null==(i=null==e?void 0:e.body)?void 0:i.err_code)||(null==e?void 0:e.code),message:(null==(i=null==e?void 0:e.body)?void 0:i.err_message)||(null==e?void 0:e.msg)}),e.body&&0!=e.body.err_code)this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,this.logger.info(we+" fetch error "+e.body.err_code);else if(e.header&&e.body)if(this.room.userStateUpdate){this.userTempList=Jt(Jt([],this.userTempList,!0),e.body.user_baseinfos,!0);var i=e.body.ret_user_index;if(i!=e.body.server_user_index)this.logger.info(we+" fetch another page"),this.fetchUserListWithPage(i+1,t);else{this.userSeq=e.body.server_user_seq;for(var A=[],n=[],s=0;s<this.userTempList.length;s++){var a={userID:this.userTempList[s].id_name,userName:this.userTempList[s].nick_name,role:this.userTempList[s].role};4!==a.role&&(A.push(a),n.push({idName:this.userTempList[s].id_name,nickName:this.userTempList[s].nick_name,role:this.userTempList[s].role}))}this.stateCenter.actionListener("_getTotalUserList",this.room.roomID,n),t==o.login?(this.userList&&x.mergeUserList(this.logger,this.userList,A,(function(e,t){0!==e.length&&r.onUserStateUpdate(r.room.roomID,"ADD",e),0!==t.length&&r.onUserStateUpdate(r.room.roomID,"DELETE",t)})),this.userList=A):0!==(this.userList=A).length&&this.onUserStateUpdate(this.room.roomID,"ADD",A),this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,this.userTempList=[],this.logger.info(we+" call success user_list "+A+", count: "+A.length+", seq: "+this.userSeq)}}else this.logger.info(we+" not update");else this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,this.logger.info(we+" fetch error "+e)},Kt.prototype.handlePushUserStateUpdateMsg=function(e){if(this.logger.info(De+" call"),this.room.userStateUpdate)if(this.userSeq===e.body.user_list_seq)this.logger.warn(De+" user_list_seq is the same with local seq");else if(this.userSeq+e.body.user_actions.length!==e.body.user_list_seq)this.mergeUserByUserSeq(e.body.user_list_seq,e.body.user_actions);else{this.userSeq=e.body.user_list_seq;for(var t=[],r=0;r<e.body.user_actions.length;r++){var i={action:e.body.user_actions[r].Action,idName:e.body.user_actions[r].IdName,nickName:e.body.user_actions[r].NickName,role:e.body.user_actions[r].Role,loginTime:e.body.user_actions[r].LoginTime};4!==i.role&&t.push(i)}this.stateCenter.actionListener("_userStateUpdate",e.body.room_id,t);var A=[],n=[];t.forEach((function(e){1==e.action?A.push({userID:e.idName,userName:e.nickName,role:e.role}):2==e.action&&n.push({userID:e.idName,userName:e.nickName,role:e.role})})),this.userList&&(this.userList=this.userList.concat(A).filter((function(e){return!n.some((function(t){return t.userID==e.userID}))}))),0!==A.length&&this.onUserStateUpdate(e.body.room_id,"ADD",A),0!==n.length&&this.onUserStateUpdate(e.body.room_id,"DELETE",n),this.logger.info(De+" call success")}else this.logger.info(De+" userStateUpdate is false")},Kt.prototype.onUserStateUpdate=function(e,t,r){var i=this;r=r.filter((function(e){return e.userID!==i.stateCenter.idName})),0!=r.length&&(r=r.map((function(e){return{userID:e.userID,userName:e.userName}})),this.stateCenter.actionListener("roomUserUpdate",e,t,r))},Kt.prototype.mergeUserByUserSeq=function(e,t){var r=this;this.userSeqMergeMap||(this.logger.warn("zm.us.mg new merge userlist "+this.userSeq+" server "+e),this.userSeqMergeMap={},this.userSeqMergeTimer&&clearTimeout(this.userSeqMergeTimer),this.userSeqMergeTimer=setTimeout((function(){r.handleMergeTimeout()}),this.userListMergeInterval)),this.userSeqMergeMap[e]=t,this.logger.warn("zm.us.mg  merge userlist "+this.userSeq+" server "+e+" userlist "+t.length)},Kt.prototype.mergeUser=function(e){var t=this,r=(this.logger.info("zm.us.mg merge userlist "+this.userSeq+" userSeqList "+e.join(",")),this.userSeq=e[e.length-1],this.lastUserQueryTime=Date.now()+this.userListInterval,{}),i=((e.forEach((function(e){t.userSeqMergeMap&&t.userSeqMergeMap[e].forEach((function(e){r[e.IdName]=e}))})),this.userSeqMergeMap=null,e=Object.values(r).map((function(e){return{action:e.Action,idName:e.IdName,nickName:e.NickName,role:e.Role,loginTime:e.LoginTime?String(e.LoginTime):""}})).filter((function(e){return 4!==e.role}))).sort((function(e,t){return e.loginTime.localeCompare(t.loginTime)})),[]),A=[];e.forEach((function(e){1==e.action?i.push({userID:e.idName,userName:e.nickName,role:e.role}):2==e.action&&A.push({userID:e.idName,userName:e.nickName,role:e.role})})),this.userList=this.userList&&this.userList.concat(i).filter((function(e){return!A.some((function(t){return t.userID==e.userID}))})),0!==i.length&&this.onUserStateUpdate(this.room.roomID,"ADD",i),0!==A.length&&this.onUserStateUpdate(this.room.roomID,"DELETE",A),this.stateCenter.actionListener("_userStateUpdate",this.room.roomID,e)},Kt.prototype.handleMergeTimeout=function(){var e,t=this,r=Object.keys(this.userSeqMergeMap).map((function(e){return+e})).sort((function(e,t){return e-t}));r[r.length-1]-r[0]+1===r.length||r[r.length-1]>=this.minUserSeq?this.mergeUser(r):(this.userSeqMergeMap=null,e=this.lastUserQueryTime-Date.now(),this.logger.info("zm.us.mto  fetch merge userlist "+this.userSeq+" userSeqList "+r.join(",")+" wait "+e),0<e?(this.userQueryTimer&&clearTimeout(this.userQueryTimer),this.userQueryTimer=setTimeout((function(){t.fetchUserList()}),e)):this.fetchUserList())},Kt);function Kt(e,t,r,i,A,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.liveRoomHandler=i,this.room=A,this.service=n,this.userQuerying=!1,this.userTempList=[],this.userSeq=0,this.minUserSeq=0,this.userList=[],this.userSeqMergeMap=null,this.userListInterval=3e4,this.userListMergeInterval=5e3,this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""}}Object.defineProperty(jt.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"sessionExist",{get:function(){return null!==this.longSid||"0"!==this.sessionID},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"roomSidString",{get:function(){return this.isUseNetAgent?this.longRoomSid?this.longRoomSid.toString():"0":this.roomSessionID},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"userSidString",{get:function(){return this.isUseNetAgent?this.longSid?this.longSid.toString():"0":this.sessionID},enumerable:!1,configurable:!0}),jt.prototype.initMessageHandler=function(){},jt.prototype.initLiveHandler=function(){},jt.prototype.init=function(){this.bindHeatBeatHandler(),this.bindRoomHandler(),this.bindMessageHandler(),this.bindLiveHandler()},jt.prototype.bindHeatBeatHandler=function(){var e=this;this.heartBeatHandler.hbLogout=function(t){e.roomHandler.handleHbLogout(t)},this.heartBeatHandler.heartbeatRspNotiFy=function(t,r){e.messageHandler&&e.messageHandler.loginRsp(t),e.userHandler.patchUserList(t),e.HBResponse(t,r)}},jt.prototype.bindRoomHandler=function(){var e=this;this.roomHandler.loginSuccessCallBack=function(t,r){e.logger.info("zm.lrm.brh login suc "+t),e.heartBeatHandler.init(r),e.isUseNetAgent?e.liveRoomHandler.startCheck():e.service&&(e.service.stopCheck(),e.service.startCheck()),e.userHandler.loginRsp(r,t),e.messageHandler&&e.messageHandler.loginRsp(r),e.isMulti||e.handleMultiRoom(),e.roomLoginResponse(r)},this.roomHandler.resetRoomCallBack=function(){var t;e.heartBeatHandler.resetHeartbeat(),e.liveHandler&&e.liveHandler.resetLiveHandler(),e.messageHandler&&e.messageHandler.resetMessageInfo(),e.isUseNetAgent&&e.liveRoomHandler&&e.liveRoomHandler.stopCheck(),e.userHandler.resetUserHandler(),null!=(t=e.service)&&t.stopCheck(),e.roomTryHandler&&(e.roomTryHandler.invalid(),e.roomTryHandler.stopMaxTime())}},jt.prototype.bindUserHandler=function(){},jt.prototype.bindMessageHandler=function(){},jt.prototype.bindLiveHandler=function(){},jt.prototype.HBResponse=function(e,t){this.stateCenter.actionListener("HBResponse",e,t)},jt.prototype.roomLoginResponse=function(e){this.stateCenter.actionListener("roomLoginResponse",e)},jt.prototype.checkRoomSession=function(e){return this.isUseNetAgent?null!==this.longRoomSid&&this.longRoomSid.eq(e):this.roomSessionID===e},jt.prototype.handleMultiRoom=function(){var e=this;this.stateCenter.roomModulesList.forEach((function(t){t.runState!==o.login&&t.roomTryHandler&&1==t.isMulti&&(t.roomTryHandler.onactive=function(r,i){var A;i&&0!==i.code?(0!==i.code&&(A=x.getLiveRoomError(i.code,e.isUseNetAgent))&&b[A]&&(i=b[A]),t.roomHandler.roomStateHandle("DISCONNECTED",v.ReconnectFailed,i,i.msg)):t.roomHandler.roomStateHandle("CONNECTED",v.Reconnected,i)},t.roomTryHandler.startMaxTime(),t.roomTryHandler.active())}))},jt.prototype.isLogin=function(){return this.runState===o.login},jt.prototype.isLogout=function(){return this.runState===o.logout},jt.prototype.isTryLogin=function(){return this.runState===o.trylogin},jt.prototype.isDisConnect=function(){return(this.isUseNetAgent?this.liveRoomHandler:this.service).isDisConnect()},jt.prototype.retryConnect=function(){this.logger.info("zm.lrm.rc call"),this.isUseNetAgent&&(this.resetSessionInfo(),this.liveRoomHandler.closeRequest())},jt.prototype.retryRoom=function(){this.logger.info("zm.lrm.rr.0 call"),this.roomTryHandler&&this.rtm.netAgent.isConnect()&&(this.resetRoomSession(),this.resetUserSession(),this.roomTryHandler.active(!0))},jt.prototype.resetSessionInfo=function(){var e;this.logger.info("zm.lrm.rsi call"),this.resetRoomSession(),this.resetUserSession(),null!=(e=this.liveRoomHandler)&&e.reset()},jt.prototype.resetRoomSession=function(){this.roomSessionID="0",this.longRoomSid=null},jt.prototype.resetUserSession=function(){this.sessionID="0",this.longSid=null};var zt=jt;function jt(e,t,r,i,A,n,s){this.roomID=e,this.stateCenter=t,this.logger=r,this.dataReport=i,this.rtm=A,this.liveRoomHandler=n,this.service=s,this.runState=o.logout,this.lastRunState=o.logout,this.lastRoomState="DISCONNECTED",this.roomState="DISCONNECTED",this.roomSessionID="0",this.sessionID="0",this.longSid=null,this.longRoomSid=null,this.isMulti=!1,this.token="",this.thirdToken="",this.loginTime=0,this.userStateUpdate=!1,this.maxMemberCount=0,this.roomName="",this.roomHandler=new Ht(this.logger,this.stateCenter,this.dataReport,this,n,this.service),this.heartBeatHandler=new Ut(this.logger,this.stateCenter,this.dataReport,this.liveRoomHandler,this,this.service),this.userHandler=new Yt(this.logger,this.stateCenter,this.dataReport,this.liveRoomHandler,this,this.service),this.initMessageHandler(),this.initLiveHandler(),this.init()}Wt.prototype.createSocket=function(e){this.socket=Object(A.createZegoWebSocket)(e,this.ENV%2)},Wt.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},Wt.prototype.isDisConnect=function(){return!this.socket||1!==this.socket.readyState},Wt.prototype.sendMessage=function(e,t,r,i,A){return void 0===r&&(r=null),void 0===i&&(i=null),void 0===A&&(A={timeOut:6e3}),A={data:t={header:e,body:t},seq:e.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeOut:A.timeOut,success:r,error:i},r=this.sendCommandList.push(A),this.sendCommandMap[A.seq]=r,this.socket&&this.socket.send(JSON.stringify(t)),e.seq},Wt.prototype.sendPB=function(e){return this.socket&&this.socket.send(e),!0},Wt.prototype.checkSendMessageList=function(e){for(var t=e.getFirst();null!=t;)!function(){var r,i,A;e.remove(t),t&&t._data&&(r=t._data.error,i=t._data.seq,A=t._data.data.body.custom_msg,setTimeout((function(){r&&r(b.TIMEOUT,i,A)}),0)),t=e.getFirst()}()},Wt.prototype.checkMessageListTimeout=function(e,t){for(var r=e.getFirst(),i=Date.parse(new Date+""),A=0,n=this;null!=r&&"break"!==function(){var o,s,a;return r._data&&r._data.sendTime+r._data.timeOut>i||(r._data&&delete t[r._data.data.header.seq],e.remove(r),r._data&&null==r._data.error||r._data&&r._data.sendTime+n.sendDataDropTimeout<i||r&&r._data&&(o=r._data.error,s=r._data.seq,a=r._data.data.body.custom_msg,setTimeout((function(){o&&o(b.TIMEOUT,s,a)}),0)),++A>=n.sendDataCheckOnceCount)?"break":void(r=e.getFirst())}(););},Wt.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},Wt.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),this.sendCommandMap={},clearTimeout(this.sendDataCheckTimer)},Wt.prototype.openHandler=function(e){var t=this;this.socket&&(this.socket.onopen=function(r){t.socket.binaryType="arraybuffer",t.responseHandler(),e(r)})},Wt.prototype.responseHandler=function(){var e=this;this.socket&&(this.socket.onmessage=function(t){t="string"==typeof t.data?JSON.parse(t.data):t.data,e.onMessage(t)})},Wt.prototype.closeHandler=function(e){this.socket&&(this.socket.onclose=function(t){e(t)})},Wt.prototype.errorHandler=function(e){this.socket&&(this.socket.onerror=e)},Wt.prototype.onMessage=function(e){};var Vt=Wt;function Wt(e){this.socket=null,this.sendCommandList=new I,this.sendCommandMap={},this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=1e4,this.sendDataCheckInterval=2e3,this.ENV=e}var Zt=function(){return(Zt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},Xt=($t.prototype.checkResponse=function(e){return 0!=this.stateCenter.roomModulesList.filter((function(e){return e.runState!==o.logout})).length&&(e.header.appid!==this.stateCenter.appid||e.header.user_id!==this.stateCenter.userid)},$t.prototype.handleSendCommandMsgRsp=function(e){var t,r=this,i=this.service.sendCommandMap[e.header.seq];null!=i&&(t=i._data,delete this.service.sendCommandMap[e.header.seq],this.service.sendCommandList.remove(i),0===e.body.err_code?setTimeout((function(){t&&null!=t.success&&t.success(e,r.cmdSeq)}),0):setTimeout((function(){t&&null!=t.error&&t.error(e,r.cmdSeq)}),0))},$t.prototype.onPush=function(){var e=this;this.service.onMessage=function(t){t instanceof ArrayBuffer?e.stateCenter.actionListener("_protobufResponse",t):t.header?(0!==t.body.err_code?t.body.err_message&&e.logger.error("".concat(Se," cmd=").concat(t.header.cmd,", err_code=").concat(t.body.err_code,", err_message=").concat(t.body.err_message," ")):e.logger.info("".concat(Se," cmd=").concat(t.header.cmd,", msg=").concat(JSON.stringify(t)," ")),-1<["login","logout"].indexOf(t.header.cmd)?e.handleSendCommandMsgRsp(t):e.checkResponse(t)?e.logger.error(Se+"  check session fail."):(e.logger.info("".concat(Se," cmd=").concat(t.header.cmd,",function=").concat(!!e.responseRouters[t.header.cmd])),e.handleSendCommandMsgRsp(t),e.responseRouters[t.header.cmd]&&e.responseRouters[t.header.cmd](t,e.cmdSeq))):e.logger.error("".concat(Se," msg type error "))}},$t.prototype.handlePushKickout=function(e){var t,r;void 0===(null==(r=null==e?void 0:e.body)?void 0:r.protocol)||1===(null==(r=null==e?void 0:e.body)?void 0:r.protocol)?function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||((i=i||Array.prototype.slice.call(t,0,A))[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))}([],this.stateCenter.roomModulesList,!0).forEach((function(t){return t.roomHandler.handlePushKickout(e,!0)})):(t=null==(r=null==e?void 0:e.header)?void 0:r.room_id,(r=this.stateCenter.roomModulesList.find((function(e){return e.roomID==t})))?r.roomHandler.handlePushKickout(e):this.logger.error(Se+" room no found ignore "+JSON.stringify(null==(r=e.header)?void 0:r.room_id)))},$t.prototype.handlePushCustomMsg=function(e){},$t.prototype.handlePushRoomMsg=function(e){},$t.prototype.handlePushUserStateUpdateMsg=function(e){var t,r=null==(i=null==e?void 0:e.header)?void 0:i.room_id,i=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r})),A=this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:r},{key:""},at.event);i?(A.setAttributes({user_list_seq:null==(t=null==e?void 0:e.body)?void 0:t.user_list_seq,update_user:null==(t=null==e?void 0:e.body)?void 0:t.user_actions}),A.end(),i.userHandler.handlePushUserStateUpdateMsg(e)):(this.logger.error(Se+" room no found ignore "+JSON.stringify(e)),this.stateCenter.reporter.setError(A,at.error.ROOM_NOT_EXIST))},$t.prototype.handlePushMergeMsg=function(e){},$t.prototype.handlePushTransMsg=function(e){},$t.prototype.handleBigImMsgRsp=function(e){},$t.prototype.handlePushSignalMsg=function(e){},$t.prototype.handlePushTokenExpire=function(e){this.stateCenter.actionListener("_tokenExpired",e)},$t.prototype.closeHandler=function(e){this.service.closeHandler(e)},$t.prototype.openHandler=function(e){this.service.openHandler(e)},$t.prototype.errorHandler=function(e){this.service.errorHandler(e)},$t.prototype.getHeader=function(e,t,r,i){return{Protocol:"req",cmd:e,appid:this.stateCenter.appid,seq:++this.cmdSeq,user_id:this.stateCenter.userid,session_id:t||"",room_id:r||"",room_session_id:i||"",biz_version:this.stateCenter.bizVersion||""}},$t.prototype.startCheck=function(){this.logger.info("zm.sc.0 start"),this.service.startCheck()},$t.prototype.stopCheck=function(){this.logger.info("zm.sc.1 stop"),this.service.stopCheck()},$t.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},$t.prototype.createSocket=function(e){var t=this;this.stateCenter.roomServer=e,this.service.createSocket(e),this.responseRouters=Zt(Zt({},this.responseRouters),{push_kickout:function(e){t.handlePushKickout(e)},push_custommsg:function(e){t.handlePushCustomMsg(e)},push_im_chat:function(e){t.handlePushRoomMsg(e)},push_userlist_update:function(e){t.handlePushUserStateUpdateMsg(e)},push_merge_message:function(e){t.handlePushMergeMsg(e)},push_trans:function(e){t.handlePushTransMsg(e)},push_signal:function(e){t.handlePushSignalMsg(e)},push_token_expire:function(e){t.handlePushTokenExpire(e)}})},$t.prototype.closeSocket=function(){this.service.closeSocket()},$t.prototype.sendMessage=function(e,t,r,i,A,n){var o,s;return this.service.isDisConnect()?(this.logger.error("zm.sv.sd socket is disconnect"),i(b.SOCKET_CLOSE),0):(o=null!=n&&n.roomID?n.roomID:null==(o=this.stateCenter.roomModulesList[0])?void 0:o.roomID,s=null!=n&&n.roomSessionID?n.roomSessionID:null==(s=this.stateCenter.roomModulesList[0])?void 0:s.roomSessionID,n=null!=n&&n.sessionID?n.sessionID:null==(n=this.stateCenter.roomModulesList[0])?void 0:n.sessionID,A=A||this.getHeader(e,n,o,s),this.logger.info("zm.sv.sd sendMsg:"+JSON.stringify({header:A,body:t})),this.service.sendMessage(A,t,r,i))},$t.prototype.on=function(e,t){this.responseRouters[e]=t},$t.prototype.login=function(e,t,r){var i=this.getHeader(e.isMulti?"enter":"login",e.sessionID,e.roomID,e.roomSessionID);return e={id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName,role:this.stateCenter.role,token:e.token,version:this.stateCenter.sdKVersion,room_name:e.roomID,user_state_flag:e.userStateUpdate?1:0,room_create_flag:this.stateCenter.roomCreateFlag,client_type:0===this.stateCenter.ENV?g.ClientType_Webrtc:g.ClientType_SmallProgram,third_token:e.thirdToken,user_count_limit:e.maxMemberCount,relate_service:this.stateCenter.relateService.join()||"",login_logic:this.stateCenter.isMultiRoom?3:1,proto_format:this.stateCenter.protoFormat},this.sendMessage("",e,t,r,i)},$t.prototype.logout=function(e,t,r){var i=e.isMulti?"quit":"logout",A={reserve:0};return"logout"==i&&(A.login_logic=this.stateCenter.isMultiRoom?3:1),this.sendMessage(i,A,t,r,void 0,{sessionID:e.sessionID,roomID:e.roomID,roomSessionID:e.roomSessionID})},$t.prototype.heartBeat=function(e,t,r){return this.sendMessage("hb",{reserve:0},e,t,void 0,r)},$t.prototype.fetchUserList=function(e,t,r,i){return this.sendMessage("user_list",e,t,r,void 0,i)},$t.prototype.fetchUserListV2=function(e,t,r,i){return this.sendMessage("user_list_v2",e,t,r,void 0,i)},$t.prototype.fetchReliableMessage=function(e,t,r,i){return this.sendMessage("trans_fetch",e,t,r,void 0,i)},$t.prototype.sendReliableMessage=function(e,t,r,i){return this.sendMessage("trans",e,t,r,void 0,i)},$t.prototype.sendRoomMsg=function(e,t,r,i){return this.sendMessage("im_chat",e,t,r,void 0,i)},$t.prototype.sendCustomCommand=function(e,t,r,i){return this.sendMessage("custommsg",e,t,r,void 0,i)},$t.prototype.sendBigRoomMessage=function(e,t,r,i){return this.sendMessage("bigim_chat",e,t,r,void 0,i)},$t.prototype.sendRelayMessage=function(e,t,r,i){return this.sendMessage("relay",e,t,r,void 0,i)},$t.prototype.sendSignalCmd=function(e,t,r,i){return this.sendMessage("signal",e,t,r,void 0,i)},$t.prototype.sendPB=function(e){return this.service.isDisConnect()||this.stateCenter.networkState==a.offline?(this.logger.error("zm.spb socket is disconnected"),!1):this.service.sendPB(e)},$t);function $t(e,t,r){this.stateCenter=e,this.logger=t,this.rtm=r,this.service=new Vt(this.stateCenter.ENV),this.cmdSeq=0,this.responseRouters={}}tr.prototype.setSetting=function(e,t){var r,i,A=Array.isArray(t)&&0<t.length;for(r in e)if("number"==typeof e[r].ctrlmode&&[1,2].includes(e[r].ctrlmode))this.setting[r]=e[r],this.setting[r+"_ctrlmode"]=e[r].ctrlmode;else for(var n in e[r])n.endsWith("_ctrlmode")||A&&-1==t.indexOf(n)||(1===(i=e[r][n+"_ctrlmode"])||2===i?this.setting[n]=e[r][n]:this.defaultSetting[n]&&(this.setting[n]=this.defaultSetting[n]),"number"==typeof i&&(this.setting[n+"_ctrlmode"]=e[r][n+"_ctrlmode"]))},tr.prototype.getSetting=function(e,t){return(t=void 0!==t&&t)&&2!=this.setting[e+"_ctrlmode"]?void 0:this.setting[e]};var er=tr;function tr(){this.defaultSetting={remote_log_level:"info",zip_log:0,detaillog_domain:""},this.requestList={},this.setting=JSON.parse(JSON.stringify(this.defaultSetting))}for(var rr=r(2),ir=rr.roots,Ar=rr.types?rr.types.basic:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0,string:2,bytes:2},nr=rr.types?rr.types.packed:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0},or=Object.keys(Ar),sr=rr.util.Long?rr.util.Long.fromBits:function(){return 0},ar={$:function(e){return ar[e]?ar[e].call(this):ir[e].decode?ir[e].decode(this,this.uint32()):ar.$.call(this,"int32")}},cr={$:function(e,t,r){var i=Ar[e];return void 0===i?ir[e].encode?(this.uint32((r<<3|2)>>0).fork(),ir[e].encode(t,this).ldelim()):cr.$.call(this,"int32",t,r):cr[e].call(this.uint32(r<<3|i),t)}},gr=0;gr<or.length;gr++)ar[or[gr]]=rr.Reader.prototype[or[gr]],cr[or[gr]]=rr.Writer.prototype[or[gr]];!function e(t,r,i,A){for(var n=0,o=Object.keys(t);n<o.length;n++){var s=o[n];if(t[s].$m&&Object.keys(t[s].$m).every((function(e){return Number(e)}))){if(i[s])throw Error(`nested type ${i}.${s} has already exist`);i[s]=function(t,i){function A(e){for(var r in t)"{"===(r=t[r])[1].charAt(0)?this[r[0]]={}:"["!==r[1].charAt(0)&&"<"!==r[1].charAt(0)||(this[r[0]]=[]);if(e)for(var i=Object.keys(e),A=0;A<i.length;++A)null!=e[i[A]]&&(this[i[A]]=e[i[A]])}var n,o={};for(n in t){var s=t[n],a=s[1];"{"===a.charAt(0)?(A.prototype[s[0]]=rr.util.emptyObject,o[a]={$m:a.substring(1).split(",").map((function(e,t){return["$"+(t+1),e,null]})).reduce((function(e,t,r){return e[r+1]=t,e}),{})}):A.prototype[s[0]]="["===a.charAt(0)||"<"===a.charAt(0)?rr.util.emptyArray:"bytes"===a?rr.util.newBuffer([]):s[2]&&s[2].hasOwnProperty("low")&&s[2].hasOwnProperty("high")?sr(s[2].low,s[2].high,s[2].unsigned):s[2]}return A.create=function(e){return new A(e)},A.decode=function(e,r){e instanceof rr.Reader||(e=rr.Reader.create(e));for(var i=void 0===r?e.len:e.pos+r,n=new A;e.pos<i;){var o=e.uint32(),s=o>>>3;if(0<s&&t[s]){var a=t[s][0],c=t[s][1];if("{"===c.charAt(0))n[a]===rr.util.emptyObject&&(n[a]={}),s=A.$namespace[c].decode(e,e.uint32()),n[a][s.$1]=s.$2;else if("["===c.charAt(0)||"<"===c.charAt(0))if(c=c.substring(1),n[a]&&n[a].length||(n[a]=[]),void 0!==nr[c]&&2==(7&o))for(var g=e.uint32()+e.pos;e.pos<g;)n[a].push(ar.$.call(e,c));else n[a].push(ar.$.call(e,c));else n[a]=ar.$.call(e,c)}else e.skipType(7&o)}return n},A.encode=function(e,r){for(var i in r=r||rr.Writer.create(),t){var n=t[i][0];if("{"===(c=t[i][1]).charAt(0)){if(null!=e[n]&&e.hasOwnProperty(n))for(var o=0,s=Object.keys(e[n]);o<s.length;++o)r.uint32((i<<3|2)>>0).fork(),A.$namespace[c].encode({$1:s[o],$2:e[n][s[o]]},r).ldelim()}else if("["===c.charAt(0)||"<"===c.charAt(0)){var a="<"===c.charAt(0),c=c.substring(1),g=e[n];if(null!=g&&g.length)if(a&&void 0!==nr[c]){for(r.uint32((i<<3|2)>>0).fork(),o=0;o<g.length;o++)cr[c].call(r,g[o]);r.ldelim()}else for(o=0;o<g.length;o++)cr.$.call(r,c,g[o],i)}else null!=e[n]&&e.hasOwnProperty(n)&&cr.$.call(r,c,e[n],i)}return r},Object.keys(o).length&&(A.$namespace=e(o,r+"."+i,A.$namespace||{},!0)),A}(t[s].$m,s)}else t[s].$s?i[s]=function(e,t){function i(e,t,r){rr.rpc.Service.call(this,e,t,r)}return((i.prototype=Object.create(rr.rpc.Service.prototype)).constructor=i).create=function(e,t,r){return new i(e,t,r)},Object.keys(e).forEach((function(A){var n=e[A];function o(e,t){return this.rpcCall(o,ir[n[0]],ir[n[1]],e,t)}Object.defineProperty(o,"name",{value:A}),Object.defineProperty(o,"path",{value:r+"."+t}),i.prototype[A]=o})),i}(t[s].$s,s):t[s].$e&&Object.values(t[s].$e).every((function(e){return Number(e)===e}))&&(i[s]=function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[r[t[i]]=e[t[i]]]=t[i];return r}(t[s].$e));i[s]&&!A&&(ir[r+"."+s]=i[s]),delete t[s].$m,delete t[s].$s,delete t[s].$e,i[s]=e(t[s],r?r+"."+s:s,i[s]||{})}return i}({PB:{liveroom_cs_v3:{AddStreamReq:{$m:{1:["stream_id","bytes",[]],2:["stream_title","bytes",[]],3:["stream_type","uint32",0],4:["stream_attr","bytes",[]],5:["extra_info","bytes",[]],6:["client_req_seq","uint32",0],7:["third_token","bytes",[]],8:["censor_mode","uint32",0],9:["need_gather","uint32",0]}},AddStreamRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_seq","uint32",0],3:["stream_sid","string",""],4:["stream_ver","uint32",0],5:["stream_nid","uint32",0],6:["token_remain_time","uint32",0]}},AnchorInfo:{$m:{1:["id_name","bytes",[]],2:["user_id","uint64",{low:0,high:0,unsigned:!0}],3:["nick_name","bytes",[]]}},BigImData:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["msg_id","bytes",[]],5:["msg_category","uint32",0],6:["msg_type","uint32",0],7:["msg_content","bytes",[]],8:["msg_timestamp","int64",{low:0,high:0,unsigned:!1}]}},CommonRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},DeleteStreamReq:{$m:{1:["stream_sid","string",""],2:["stream_id","bytes",[]],3:["client_req_seq","uint32",0]}},DeleteStreamRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_seq","uint32",0],3:["stream_ver","uint32",0]}},EnterRoomReq:{$m:{1:["net_type","uint32",0],2:["conn_type","uint32",0],3:["room_id","bytes",[]],4:["room_name","bytes",[]],5:["role","uint32",0],6:["third_token","bytes",[]],7:["room_create_flag","uint32",0],8:["user_state_flag","uint32",0],9:["user_count_limit","uint32",0],10:["relate_service","string",""],11:["need_gather_stream","uint32",0],12:["callback_data","bytes",[]],13:["service_flags","uint32",0],14:["license_token","bytes",[]]}},EnterRoomRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],3:["room_session_id","uint64",{low:0,high:0,unsigned:!0}],4:["user_id","uint64",{low:0,high:0,unsigned:!0}],5:["ret_timestamp","int64",{low:0,high:0,unsigned:!1}],6:["big_im_time_window","uint32",0],7:["liveroom_hb_interval","uint32",0],8:["liveroom_hb_timeout","uint32",0],9:["online_count","uint32",0],10:["anchor_info","PB.liveroom_cs_v3.AnchorInfo",null],11:["userlist_merge_timeout","uint32",0],12:["userlist_interval","uint32",0],13:["token_remain_time","uint32",0],14:["trans_list_seq","uint32",0],15:["trans_channel_list","<PB.liveroom_cs_v3.TransChannel",null],16:["stream_count","uint32",0],17:["stream_list_seq","uint32",0],18:["stream_info_list","<PB.liveroom_cs_v3.StreamInfo",null],19:["stream_fetch_flag","uint32",0],20:["stream_list_push_merge_timeout","uint32",0],21:["stream_list_hb_merge_timeout","uint32",0],22:["relate_result_list","<PB.liveroom_cs_v3.RelateResult",null],23:["gather_list_seq","uint32",0],24:["gather_info_list","<PB.liveroom_cs_v3.GatherInfo",null]}},EnumSignalTransmitResult:{$e:{ok:0,version_err:1}},GatherInfo:{$m:{1:["gather_id","string",""]}},GetGatherListReq:{$m:{}},GetGatherListRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["gather_list_seq","uint32",0],3:["gather_info_list","<PB.liveroom_cs_v3.GatherInfo",null]}},GetImReq:{$m:{1:["msg_id","uint64",{low:0,high:0,unsigned:!0}],2:["sort_type","uint32",0],3:["msg_count","uint32",0]}},GetImRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["server_msg_id","uint64",{low:0,high:0,unsigned:!0}],3:["ret_msg_id","uint64",{low:0,high:0,unsigned:!0}],4:["msg_list","<PB.liveroom_cs_v3.GetImRspImData",null]}},GetImRspImData:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["msg_id","uint64",{low:0,high:0,unsigned:!0}],5:["msg_category","uint32",0],6:["msg_type","uint32",0],7:["msg_content","bytes",[]],8:["send_time","int64",{low:0,high:0,unsigned:!1}]}},GetStreamListReq:{$m:{}},GetStreamListRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_list_seq","uint32",0],3:["stream_info_list","<PB.liveroom_cs_v3.StreamInfo",null],4:["stream_refresh","uint32",0]}},GetTransReq:{$m:{1:["trans_channel","bytes",[]],2:["trans_list","<PB.liveroom_cs_v3.GetTransReqTransData",null]}},GetTransReqTransData:{$m:{1:["trans_type","bytes",[]],2:["trans_local_seq","uint32",0]}},GetTransRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["trans_channel","bytes",[]],3:["trans_list_seq","uint32",0],4:["trans_list","<PB.liveroom_cs_v3.GetTransRspTransData",null]}},GetTransRspTransData:{$m:{1:["err_code","uint32",0],2:["trans_type","bytes",[]],3:["trans_data","bytes",[]],4:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],5:["trans_seq","uint32",0],6:["id_name","bytes",[]],7:["nick_name","bytes",[]],8:["role","uint32",0]}},GetUserlistReq:{$m:{1:["sort_type","uint32",0],2:["user_index","uint32",0]}},GetUserlistRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["server_user_seq","uint64",{low:0,high:0,unsigned:!0}],3:["server_user_index","int64",{low:0,high:0,unsigned:!1}],4:["ret_user_index","int64",{low:0,high:0,unsigned:!1}],5:["user_base_info_list","<PB.liveroom_cs_v3.UserBaseInfo",null]}},GetUserTransReq:{$m:{1:["trans_channel","bytes",[]],2:["user_trans_list","<PB.liveroom_cs_v3.GetUserTransReqTransData",null]}},GetUserTransReqTransData:{$m:{1:["trans_type","bytes",[]],2:["trans_local_seq","uint32",0]}},GetUserTransRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["trans_channel","bytes",[]],3:["user_trans_list","<PB.liveroom_cs_v3.GetUserTransRspTransData",null]}},GetUserTransRspTransData:{$m:{1:["err_code","uint32",0],2:["trans_type","bytes",[]],3:["trans_data","bytes",[]],4:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],5:["trans_seq","uint32",0],6:["id_name","bytes",[]],7:["nick_name","bytes",[]],8:["role","uint32",0]}},HbReq:{$m:{}},HbRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["ret_timestamp","int64",{low:0,high:0,unsigned:!1}],3:["hb_interval","uint32",0],4:["hb_timeout","uint32",0],5:["stream_seq","uint32",0],6:["user_seq","int64",{low:0,high:0,unsigned:!1}],7:["online_count","uint32",0],8:["big_im_time_window","uint32",0],9:["trans_channel_list","<PB.liveroom_cs_v3.TransChannel",null],10:["user_trans_channel_list","<PB.liveroom_cs_v3.TransChannel",null],11:["stream_refresh","uint32",0],12:["trans_list_seq","uint32",0],13:["gather_list_seq","uint32",0]}},ImData:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["msg_id","uint64",{low:0,high:0,unsigned:!0}],5:["msg_category","uint32",0],6:["msg_type","uint32",0],7:["msg_content","bytes",[]],8:["send_time","int64",{low:0,high:0,unsigned:!1}]}},LiveroomSessionInfo:{$m:{1:["RoomId","bytes",[]],2:["UserSessionId","uint64",{low:0,high:0,unsigned:!0}],3:["RoomSessionId","uint64",{low:0,high:0,unsigned:!0}],4:["Role","uint32",0]}},PushBigIm:{$m:{1:["msg_list","<PB.liveroom_cs_v3.BigImData",null]}},PushIm:{$m:{1:["server_msg_id","uint64",{low:0,high:0,unsigned:!0}],2:["ret_msg_id","uint64",{low:0,high:0,unsigned:!0}],4:["msg_list","<PB.liveroom_cs_v3.ImData",null]}},PushStartGather:{$m:{1:["gather_id","string",""],2:["gather_seq","uint32",0]}},PushStopGather:{$m:{1:["gather_id","string",""],2:["gather_seq","uint32",0]}},PushStream:{$m:{1:["stream_seq","uint32",0],2:["stream_info_list","<PB.liveroom_cs_v3.PushStreamInfo",null]}},PushStreamInfo:{$m:{1:["stream_id","bytes",[]],2:["stream_sid","string",""],3:["id_name","bytes",[]],4:["nick_name","bytes",[]],5:["stream_title","bytes",[]],6:["stream_ver","uint32",0],7:["stream_attr","bytes",[]],8:["stream_src","uint32",0],9:["stream_state","uint32",0],10:["stream_type","uint32",0],11:["stream_nid","uint32",0],12:["extra_info","bytes",[]],13:["create_time","int64",{low:0,high:0,unsigned:!1}],14:["close_type","uint32",0],15:["need_gather","uint32",0]}},PushTrans:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["trans_type","bytes",[]],5:["trans_data","bytes",[]],6:["trans_seq","uint32",0],7:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],8:["trans_channel","bytes",[]],9:["trans_list_seq","uint32",0]}},PushUserInfoUpdated:{$m:{1:["server_user_seq","int64",{low:0,high:0,unsigned:!1}],2:["user_action_list","<PB.liveroom_cs_v3.UserAction",null]}},PushUserKickout:{$m:{1:["id_name","bytes",[]],2:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],3:["kickout_reason","int32",0],4:["custom_reason","bytes",[]]}},PushUserLogReport:{$m:{}},PushUserTokenExpire:{$m:{1:["token","string",""],2:["stop_stream_info","PB.liveroom_cs_v3.StopStream",null]}},PushUserTrans:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],5:["trans_channel","bytes",[]],6:["trans_seq_list","<PB.liveroom_cs_v3.PushUserTransInfo",null]}},PushUserTransInfo:{$m:{1:["trans_type","bytes",[]],2:["trans_data","bytes",[]],3:["trans_seq","uint32",0]}},QuitRoomReq:{$m:{}},QuitRoomRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},RelateResult:{$m:{1:["service","string",""],2:["relate_result","uint32",0]}},RenewTokenReq:{$m:{1:["token","string",""]}},RenewTokenRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["token_remain_time","uint32",0],3:["stop_stream_id_list","<bytes",null]}},RspHead:{$m:{1:["code","uint32",0],2:["message","string",""]}},SendBigImReq:{$m:{1:["msg_list","<PB.liveroom_cs_v3.SendBigImReqMsgData",null]}},SendBigImReqMsgData:{$m:{1:["msg_category","uint32",0],2:["msg_type","uint32",0],3:["msg_content","bytes",[]],4:["msg_timestamp","int64",{low:0,high:0,unsigned:!1}],5:["msg_client_id","bytes",[]]}},SendBigImRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["big_im_time_window","uint32",0],3:["msg_list","<PB.liveroom_cs_v3.SendBigImRspMsgData",null]}},SendBigImRspMsgData:{$m:{1:["msg_id","bytes",[]],2:["msg_client_id","bytes",[]]}},SendImReq:{$m:{1:["msg_category","uint32",0],2:["msg_type","uint32",0],3:["msg_content","bytes",[]],4:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SendImRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["msg_id","uint64",{low:0,high:0,unsigned:!0}]}},SetTransReq:{$m:{1:["trans_type","bytes",[]],2:["trans_data","bytes",[]],3:["trans_local_seq","uint32",0],4:["trans_channel","bytes",[]]}},SetTransRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["trans_type","bytes",[]],3:["trans_seq","uint32",0],4:["trans_list_seq","uint32",0],5:["trans_channel","bytes",[]]}},SetUserAttrReq:{$m:{1:["use_data_channel","uint32",0],2:["is_modify_use_data_channel","bool",!1],3:["user_type","uint32",0],4:["is_modify_user_type","bool",!1]}},SetUserAttrRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveCustomReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveCustomRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveInviteReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveInviteRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveRequestReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveRequestRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveResultReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveResultRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveStopReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveStopRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalTransmitReq:{$m:{1:["to_user_list","<bytes",null],2:["transmit_data","bytes",[]]}},SignalTransmitResult:{$m:{1:["to_user","bytes",[]],2:["result","PB.liveroom_cs_v3.EnumSignalTransmitResult",0]}},SignalTransmitRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["result","<PB.liveroom_cs_v3.SignalTransmitResult",null]}},StopStream:{$m:{1:["stream_id_list","<bytes",null]}},StreamInfo:{$m:{1:["stream_id","bytes",[]],2:["stream_sid","string",""],3:["id_name","bytes",[]],4:["nick_name","bytes",[]],5:["stream_title","bytes",[]],6:["stream_ver","uint32",0],7:["stream_attr","bytes",[]],8:["create_time","int64",{low:0,high:0,unsigned:!1}],9:["stream_src","uint32",0],10:["stream_state","uint32",0],11:["stream_type","uint32",0],12:["stream_nid","uint32",0],13:["extra_info","bytes",[]],14:["need_gather","uint32",0]}},ToUser:{$m:{1:["id_name","bytes",[]],2:["user_id","uint64",{low:0,high:0,unsigned:!0}]}},TransChannel:{$m:{1:["trans_channel","bytes",[]],2:["trans_seq_list","<PB.liveroom_cs_v3.TransSeq",null]}},TransSeq:{$m:{1:["trans_type","bytes",[]],2:["trans_seq","uint32",0]}},UpdateStreamReq:{$m:{1:["stream_sid","string",""],2:["stream_id","bytes",[]],3:["stream_title","bytes",[]],4:["stream_attr","bytes",[]],5:["extra_info","bytes",[]],6:["client_req_seq","uint32",0],7:["nick_name","bytes",[]]}},UpdateStreamRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_seq","uint32",0],3:["stream_ver","uint32",0]}},UserAction:{$m:{1:["action","uint32",0],2:["id_name","bytes",[]],3:["nick_name","bytes",[]],4:["role","uint32",0],5:["login_time","int64",{low:0,high:0,unsigned:!1}]}},UserBaseInfo:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0]}}},proto_switch_v3:{AnchorInfo:{$m:{1:["id_name","bytes",[]],2:["user_id","uint64",{low:0,high:0,unsigned:!0}],3:["nick_name","bytes",[]]}},CommonRsp:{$m:{1:["rsp_head","PB.proto_switch_v3.RspHead",null]}},GatherInfo:{$m:{1:["gather_id","string",""]}},Header:{$m:{1:["cmd","uint32",0],2:["seq","uint32",0],3:["timestamp","int64",{low:0,high:0,unsigned:!1}],4:["controls","bytes",[]],5:["flags","bytes",[]],6:["context_key","uint32",0],101:["dev_traffic_label","bytes",[]]}},LiveroomProtoVersion:{$e:{PROTO_VERSION_NONE:0,RPOTO_V020000:131072}},LoginRoomReq:{$m:{1:["app_id","uint32",0],2:["biz_type","uint32",0],3:["room_id","bytes",[]],4:["room_name","bytes",[]],5:["role","uint32",0],6:["id_name","bytes",[]],7:["nick_name","bytes",[]],8:["device_id","string",""],9:["term_type","PB.proto_switch_v3.TermType",0],10:["net_type","PB.proto_switch_v3.NetType",0],11:["sdk_conn_type","PB.proto_switch_v3.SdkConnType",0],12:["sdk_version","uint32",0],13:["biz_version","string",""],14:["client_stamp","bytes",[]],15:["login_logic","uint32",0],16:["third_token","bytes",[]],17:["login_token","bytes",[]],18:["relogin_token","bytes",[]],19:["switch_session_id","uint64",{low:0,high:0,unsigned:!0}],20:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],21:["room_create_flag","uint32",0],22:["user_state_flag","uint32",0],23:["user_count_limit","uint32",0],24:["relate_service","string",""],25:["need_gather_stream","uint32",0],26:["callback_data","bytes",[]],27:["service_flags","uint32",0],28:["license_token","bytes",[]]}},LoginRoomRsp:{$m:{1:["rsp_head","PB.proto_switch_v3.RspHead",null],2:["switch_session_id","uint64",{low:0,high:0,unsigned:!0}],3:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],4:["room_session_id","uint64",{low:0,high:0,unsigned:!0}],5:["user_id","uint64",{low:0,high:0,unsigned:!0}],6:["ret_timestamp","int64",{low:0,high:0,unsigned:!1}],7:["big_im_time_window","uint32",0],8:["liveroom_hb_interval","uint32",0],9:["liveroom_hb_timeout","uint32",0],10:["online_count","uint32",0],11:["anchor_info","PB.proto_switch_v3.AnchorInfo",null],12:["relogin_token","bytes",[]],13:["userlist_merge_timeout","uint32",0],14:["userlist_interval","uint32",0],15:["token_remain_time","uint32",0],16:["trans_list_seq","uint32",0],17:["trans_channel_list","<PB.proto_switch_v3.TransChannel",null],18:["stream_count","uint32",0],19:["stream_list_seq","uint32",0],20:["stream_info_list","<PB.proto_switch_v3.StreamInfo",null],21:["stream_fetch_flag","uint32",0],22:["stream_list_push_merge_timeout","uint32",0],23:["stream_list_hb_merge_timeout","uint32",0],24:["relate_result_list","<PB.proto_switch_v3.RelateResult",null],25:["gather_list_seq","uint32",0],26:["gather_info_list","<PB.proto_switch_v3.GatherInfo",null]}},LogoutRoomReq:{$m:{1:["logout_code","uint32",0],2:["logout_check","bytes",[]],3:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],4:["logout_logic","uint32",0]}},LogoutRoomRsp:{$m:{1:["rsp_head","PB.proto_switch_v3.RspHead",null]}},MergePushHead:{$m:{1:["qos_flag","uint32",0],2:["send_time","int64",{low:0,high:0,unsigned:!1}]}},MergePushInfo:{$m:{1:["sub_cmd","uint32",0],2:["sub_seq","uint32",0],3:["msg_body","bytes",[]]}},MergePushReq:{$m:{1:["head","PB.proto_switch_v3.MergePushHead",null],2:["message_list","<PB.proto_switch_v3.MergePushInfo",null]}},MergePushRsp:{$m:{1:["message_list","<PB.proto_switch_v3.MergePushRspInfo",null],2:["server_send_time","int64",{low:0,high:0,unsigned:!1}]}},MergePushRspInfo:{$m:{1:["sub_cmd","uint32",0],2:["sub_seq","uint32",0]}},NetType:{$e:{NT_NONE:0,NT_LINE:1,NT_WIFI:2,NT_2G:3,NT_3G:4,NT_4G:5,NT_UNKNOWN:32}},PushKickout:{$m:{1:["reason","uint32",0],2:["message","string",""],3:["is_need_relogin","uint32",0]}},PushReq:{$m:{1:["head","PB.proto_switch_v3.PushReqHead",null],2:["msg_body","bytes",[]]}},PushReqHead:{$m:{1:["sub_cmd","uint32",0],2:["qos_flag","uint32",0],3:["send_time","int64",{low:0,high:0,unsigned:!1}]}},PushRsp:{$m:{1:["code","uint32",0],2:["message","string",""],3:["sub_cmd","uint32",0],4:["server_send_time","int64",{low:0,high:0,unsigned:!1}]}},RelateResult:{$m:{1:["service","string",""],2:["relate_result","uint32",0]}},RspHead:{$m:{1:["code","uint32",0],2:["message","string",""]}},SdkConnType:{$e:{SdkConnType_None:0,SdkConnType_Tcp:1,SdkConnType_Websocket:2}},StreamInfo:{$m:{1:["stream_id","bytes",[]],2:["stream_sid","string",""],3:["id_name","bytes",[]],4:["nick_name","bytes",[]],5:["create_time","int64",{low:0,high:0,unsigned:!1}],6:["extra_info","bytes",[]],7:["title","bytes",[]],8:["stream_ver","uint32",0],9:["stream_attr","bytes",[]],10:["stream_src","uint32",0],11:["stream_state","uint32",0],12:["stream_type","uint32",0],13:["stream_nid","uint32",0],14:["need_gather","uint32",0]}},TermType:{$e:{TT_NONE:0,TT_PC:1,TT_IOS:2,TT_ANDROID:3,TT_MAC:4,TT_LINUX:5,TT_WEB:6,TT_MINI_PROGRAM:7,TT_UNKNOWN:32}},TransChannel:{$m:{1:["trans_channel","bytes",[]],2:["trans_seq_list","<PB.proto_switch_v3.TransSeq",null]}},TransSeq:{$m:{1:["trans_type","bytes",[]],2:["trans_seq","uint32",0]}}}}},"",ir,!1),rr.util.global.PB=ir.PB,t=ir.PB;var ur,lr={1002:"LoginRoomRsp",1004:"LogoutRoomRsp",1101:"PushReq",1103:"MergePushReq",1105:"PushKickout",10001:"PushUserInfoUpdated",10002:"PushUserKickout",10003:"PushUserLogReport",10004:"PushUserTokenExpire",12001:"PushStream",12002:"PushStream",12003:"PushStream",13001:"PushIm",14001:"PushBigIm",15001:"PushTrans",15002:"PushUserTrans",301002:"EnterRoomRsp",301004:"QuitRoomRsp",301006:"HbRsp",301008:"RenewTokenRsp",301012:"SetTransRsp",301014:"GetTransRsp",302002:"AddStreamRsp",302004:"DeleteStreamRsp",302006:"UpdateStreamRsp",302008:"GetStreamListRsp",303002:"SendImRsp",303006:"SendBigImRsp",303010:"SignalLiveRequestRsp",303012:"SignalLiveResultRsp",303014:"SignalLiveInviteRsp",303016:"SignalLiveStopRsp",303018:"SignalLiveCustomRsp",304002:"GetUserlistRsp"},hr=((hr=ur=ur||{})[hr.LoginRoomReq=1001]="LoginRoomReq",hr[hr.LoginRoomRsp=1002]="LoginRoomRsp",hr[hr.LogoutRoomReq=1003]="LogoutRoomReq",hr[hr.LogoutRoomRsp=1004]="LogoutRoomRsp",hr[hr.PushReq=1101]="PushReq",hr[hr.PushRsp=1102]="PushRsp",hr[hr.MergePushReq=1103]="MergePushReq",hr[hr.MergePushRsp=1104]="MergePushRsp",hr[hr.PushKickout=1105]="PushKickout",hr[hr.PushUserInfoUpdated=10001]="PushUserInfoUpdated",hr[hr.PushUserKickout=10002]="PushUserKickout",hr[hr.PushUserLogReport=10003]="PushUserLogReport",hr[hr.PushUserTokenExpire=10004]="PushUserTokenExpire",hr[hr.PushIm=13001]="PushIm",hr[hr.PushBigIm=14001]="PushBigIm",hr[hr.PushTrans=15001]="PushTrans",hr[hr.PushUserTrans=15002]="PushUserTrans",hr[hr.EnterRoomReq=301001]="EnterRoomReq",hr[hr.EnterRoomRsp=301002]="EnterRoomRsp",hr[hr.QuitRoomReq=301003]="QuitRoomReq",hr[hr.QuitRoomRsp=301004]="QuitRoomRsp",hr[hr.HbReq=301005]="HbReq",hr[hr.HbRsp=301006]="HbRsp",hr[hr.RenewTokenReq=301007]="RenewTokenReq",hr[hr.RenewTokenRsp=301008]="RenewTokenRsp",hr[hr.SetUserAttrReq=301009]="SetUserAttrReq",hr[hr.SetUserAttrRsp=301010]="SetUserAttrRsp",hr[hr.SetTransReq=301011]="SetTransReq",hr[hr.SetTransRsp=301012]="SetTransRsp",hr[hr.GetTransReq=301013]="GetTransReq",hr[hr.GetTransRsp=301014]="GetTransRsp",hr[hr.GetUserTransReq=301015]="GetUserTransReq",hr[hr.GetUserTransRsp=301016]="GetUserTransRsp",hr[hr.AddStreamReq=302001]="AddStreamReq",hr[hr.AddStreamRsp=302002]="AddStreamRsp",hr[hr.DeleteStreamReq=302003]="DeleteStreamReq",hr[hr.DeleteStreamRsp=302004]="DeleteStreamRsp",hr[hr.UpdateStreamReq=302005]="UpdateStreamReq",hr[hr.UpdateStreamRsp=302006]="UpdateStreamRsp",hr[hr.GetStreamListReq=302007]="GetStreamListReq",hr[hr.GetStreamListRsp=302008]="GetStreamListRsp",hr[hr.SendImReq=303001]="SendImReq",hr[hr.SendImRsp=303002]="SendImRsp",hr[hr.GetImReq=303003]="GetImReq",hr[hr.GetImRsp=303004]="GetImRsp",hr[hr.SendBigImReq=303005]="SendBigImReq",hr[hr.SendBigImRsp=303006]="SendBigImRsp",hr[hr.SignalLiveRequestReq=303009]="SignalLiveRequestReq",hr[hr.SignalLiveRequestRsp=303010]="SignalLiveRequestRsp",hr[hr.SignalLiveResultReq=303011]="SignalLiveResultReq",hr[hr.SignalLiveResultRsp=303012]="SignalLiveResultRsp",hr[hr.SignalLiveInviteReq=303013]="SignalLiveInviteReq",hr[hr.SignalLiveInviteRsp=303014]="SignalLiveInviteRsp",hr[hr.SignalLiveStopReq=303015]="SignalLiveStopReq",hr[hr.SignalLiveStopRsp=303016]="SignalLiveStopRsp",hr[hr.SignalLiveCustomReq=303017]="SignalLiveCustomReq",hr[hr.SignalLiveCustomRsp=303018]="SignalLiveCustomRsp",hr[hr.SignalTransmitReq=303019]="SignalTransmitReq",hr[hr.SignalTransmitRsp=303020]="SignalTransmitRsp",hr[hr.GetUserlistReq=304001]="GetUserlistReq",hr[hr.GetUserlistRsp=304002]="GetUserlistRsp",r(2)),dr=r(12),pr=r.n(dr),Cr=(dr=r(4),r.n(dr)),Ir=(fr.prototype.md5Bytes=function(e){return this.wordArray2Uint8Array(Cr()(this.uint8Array2WordArray(e)))},fr.prototype.wordArray2Uint8Array=function(e){for(var t=e.words,r=e.sigBytes,i=new Uint8Array(r),A=0;A<r;A++)i[A]=t[A>>>2]>>>24-A%4*8&255;return i},fr.prototype.uint8Array2WordArray=function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e[i])<<24-i%4*8;return pr.a.create(r,t)},fr);function fr(){}function Er(e){var t=unescape||window.unescape;return Uint8Array.from(Array.from(t(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))}function Qr(e){var t=escape||window.escape;return decodeURIComponent(t(String.fromCharCode.apply(String,Array.from(e))))}dr=r(0);var Br,mr=r.n(dr),yr=function(){return(yr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},vr=(hr.util.Long=mr.a,hr.configure(),t),_r=t.liveroom_cs_v3,Sr=t.proto_switch_v3,wr=((dr=Br=Br||{})[dr.disconnected=0]="disconnected",dr[dr.broken=1]="broken",dr[dr.connected=2]="connected",Object.defineProperty(Dr.prototype,"nickName",{get:function(){return Er(this.stateCenter.nickName)},enumerable:!1,configurable:!0}),Object.defineProperty(Dr.prototype,"TermType",{get:function(){return this.stateCenter.ENV%2==0?n.TT_WEB:n.TT_MINIPROGRAM},enumerable:!1,configurable:!0}),Dr.prototype.isDisConnect=function(){return this.state!==Br.connected},Dr.prototype.getHeader=function(e,t){return e={cmd:e,seq:++this.seq,timestamp:(new Date).getTime()},this.controls&&(e.controls=this.controls),null!=t&&t.contextKey&&(e.context_key=null==t?void 0:t.contextKey),t=Sr.Header.create(e),t=Sr.Header.encode(t).finish(),[e.seq,t]},Dr.prototype.isUaConnect=function(){return this.ua.isConnect()},Dr.prototype.sendMessage=function(e,t,r,i,A,n,o){var s=this;if(void 0===n&&(n={timeout:6e3}),void 0===o&&(o=!0),this.logger.info(Re+" call"),"LoginRoomReq"!==e&&this.state!==Br.connected)return this.logger.warn(Re+" state "+this.state),-1;if("number"==typeof e)g=e;else if(void 0===(g=ur[e]))return this.logger.warn(Re+" cmd not found "+e),-1;var a=0,c=void 0!==(null==A?void 0:A.roomID)?null==A?void 0:A.roomID:null==(c=this.stateCenter.roomModulesList[0])?void 0:c.roomID,g=("LoginRoomReq"!==e&&c&&(a=this.roomIDKeys[c]),c=this.getHeader(g,{contextKey:a}))[1];return t=this.getHead(g.length,(a=t).length),t=new Uint8Array(Array.from(t).concat(Array.from(g)).concat(Array.from(a))),o&&(g={seq:this.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeout:n.timeout,success:r,error:function(e,t,r){var A;if(s.logger.info(Re+" seq: "+t+" "+JSON.stringify(e)+" "+JSON.stringify(r)),(null==(A=null==e?void 0:e.header)?void 0:A.cmd)!==ur.LoginRoomRsp&&-1<[1002,105].indexOf(null==(A=null==e?void 0:e.body)?void 0:A.err_code))return(null==(A=null==e?void 0:e.header)?void 0:A.cmd)===ur.EnterRoomRsp&&null!=r&&r.roomID?(A=s.stateCenter.roomModulesList.find((function(e){return e.roomID==r.roomID})))?void A.retryRoom():void s.logger.error(Re+" room no found ignore "):void s.rtm.retryRoom();[207,208].indexOf(null==(A=null==e?void 0:e.body)?void 0:A.err_code),i&&i(e,t)},params:A},a=this.sendCommandList.push(g),this.sendCommandMap[g.seq]=a),this.logger.info(Re+" seq: "+c[0]+" cmd: "+e),null!=(o=this.liveroomRequest)&&o.sendRequest({payload:t,ack:"LoginRoomReq"===e},(function(e){s.logger.info(Re+" fail")}),(function(){s.logger.info(Re+" ack")}),{}),c[0]},Dr.prototype.getHead=function(e,t){var r=new Uint8Array(7);return r[0]=49,r[1]=e>>8,r[2]=e-(r[1]<<8),r.set(new Uint8Array(Int32Array.from([t]).buffer).reverse(),3),r},Dr.prototype.handlePush=function(e,t){var r,i,A;49===e[0]&&(r=Sr.Header.decode(e.slice(7,7+(A=(e[1]<<8)+e[2]))),e=e.slice(7+A),lr[r.cmd]?(A=this.decodeResponseBody(r,e),this.swPushCmdList.includes(r.cmd)?this.handleSwitchPush(r,A):(this.logger.info("zm.lrh.hp down "+(i=lr[r.cmd]||r.cmd)+" "+JSON.stringify(this.transBuf(A))),i={header:this.transHeader(r),body:this.transRsp(A)},void 0!==(A=this.roomKeyIDs[r.context_key])&&(i.header.room_id=A),this.handleSendCommandMsgRsp(i))):(this.logger.info("zm.lrh.hp cmd is not rtc"),this.onSwitchMessage(r,e)))},Dr.prototype.handleSwitchPush=function(e,t){var r,i,A=this.roomKeyIDs[e.context_key];if(A||this.noContextKeyCmdList.includes(e.cmd))if(e.cmd===ur.PushReq)if((i=this.transRsp(t.head)).room_id=A,this.stateCenter.roomModulesList.find((function(e){return e.roomID==A}))){var n,o,s={header:i,body:this.unStructCmdList.includes(t.head.sub_cmd)?{signal_msg:Qr(t.msg_body),sub_cmd:t.head.sub_cmd}:11005===t.head.sub_cmd?{custommsg:Qr(t.msg_body)}:lr[t.head.sub_cmd]?this.transRsp(this.decode(_r[lr[t.head.sub_cmd]],t.msg_body)):{}};if(this.logger.info(Ne+" push "+JSON.stringify(this.transBuf(s))),this.rtcPushCmdList.includes(t.head.sub_cmd))switch(t.head.sub_cmd){case ur.PushUserInfoUpdated:this.handlePushUserStateUpdateMsg(s);break;case ur.PushUserKickout:this.transKeysName(s.body,this.loginKeyTransMap),this.handlePushKickout(s,!1);break;case ur.PushTrans:this.handlePushTransMsg(s);break;case ur.PushIm:this.handlePushRoomMsg(s);break;case 11005:this.handlePushCustomMsg(s);break;case 12001:case 12002:case 12003:this.handlePushStreamMsg(s);break;case 11001:case 11002:case 11003:case 11004:this.handlePushSignalMsg(s);break;case ur.PushUserTokenExpire:this.handlePushTokenExpire(s)}else this.logger.info(Ne+" white "),this.onSwitchMessage(e,t);1==t.head.qos_flag&&(n=Sr.PushRsp.create({code:0,message:"",sub_cmd:t.head.sub_cmd,server_send_time:t.head.send_time}),o=Sr.PushRsp.encode(n).finish(),this.sendMessage("PushRsp",o,void 0,void 0))}else this.logger.warn(Ne+" room no found ignore ");else e.cmd===ur.MergePushReq?((i=this.transRsp(t.head)).room_id=A,this.stateCenter.roomModulesList.find((function(e){return e.roomID==A}))?(r=[],t.message_list.forEach((function(e){var t;r.push({sub_cmd:e.sub_cmd,sub_seq:e.sub_seq}),e.sub_cmd===ur.PushBigIm&&(t=_r.PushBigIm.decode(e.msg_body),e.msg_body=t)})),delete(i={header:i,body:this.transRsp(t)}).body.head,this.handlePushMergeMsg(i),1==t.head.qos_flag&&(n=Sr.MergePushRsp.create({messages:r,server_send_time:t.head.send_time}),o=Sr.MergePushRsp.encode(n).finish(),this.sendMessage("MergePushRsp",o,void 0,void 0))):this.logger.warn(Ne+" room no found ignore ")):e.cmd===ur.PushKickout&&this.handlePushKickout({header:e,body:{reason:900<t.reason?t.reason-900:t.reason,msg:t.message,need_relogin:void 0!==t.is_need_relogin?t.is_need_relogin:0}},!0);else this.logger.warn(Ne+" ctx key not found")},Dr.prototype.handlePushTokenExpire=function(e){},Dr.prototype.handlePushKickout=function(e,t){},Dr.prototype.handlePushStreamMsg=function(e){},Dr.prototype.handlePushSignalMsg=function(e){},Dr.prototype.handlePushMergeMsg=function(e){},Dr.prototype.handlePushCustomMsg=function(e){},Dr.prototype.handlePushRoomMsg=function(e){},Dr.prototype.handlePushTransMsg=function(e){},Dr.prototype.onSwitchMessage=function(e,t){},Dr.prototype.decodeResponseBody=function(e,t){var r=this.onSwitchCmdList.includes(e.cmd)?"proto_switch_v3":"liveroom_cs_v3";return this.decode(this.protoInstance[r][lr[e.cmd]],t)},Dr.prototype.handlePushUserStateUpdateMsg=function(e){},Dr.prototype.login=function(e,t,r){var i,A,n,o=this,s=(this.state==Br.disconnected&&(this.logger.info(Te+" state disconnect"),this.closeRequest()),(new Date).getTime()+""),a={net_type:x.getNetTypeNum(),room_id:Er(e.roomID),room_name:Er(e.roomName),nick_name:this.nickName,role:this.stateCenter.role,third_token:Er(e.token),room_create_flag:this.stateCenter.roomCreateFlag,user_state_flag:e.userStateUpdate?1:0,user_count_limit:e.maxMemberCount,relate_service:this.stateCenter.relateService.join()||""};e.isMulti?(A=yr(yr({},a),{conn_type:2}),i=yr(yr({},A),{room_id:e.roomID,room_name:e.roomName,third_token:e.token}),this.logger.info(Te+" enter "+JSON.stringify(i)),A=_r.EnterRoomReq.create(A),n=_r.EnterRoomReq.encode(A).finish(),this.sendMessage("EnterRoomReq",n,(function(r,i){o.transLoginRspKeys(r,e),t&&t(r,i)}),(function(e,t){r&&r(e,t)}),{roomID:e.roomID})):(a=yr(yr({},a),{app_id:this.stateCenter.appid,id_name:Er(this.stateCenter.idName),device_id:this.stateCenter.deviceID,term_type:this.TermType,sdk_version:this.getNumSDKVersion(),client_stamp:Er(s),relogin_token:this.switchSessionID.notEquals(mr.a.fromInt(0))?Er(this.reloginToken):"",switch_session_id:this.switchSessionID,user_session_id:null!=(a=e.longSid)?a:mr.a.fromInt(0),biz_type:0,biz_version:this.stateCenter.bizVersion||"",login_logic:this.stateCenter.isMultiRoom?3:1,sdk_conn_type:2}),i=yr(yr({},a),{id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName,client_stamp:s,k1_sign:void 0,relogin_token:this.reloginToken,room_id:e.roomID,room_name:e.roomName,third_token:e.token,user_session_id:e.longSid}),this.logoutCheckToken=e.token,this.logger.info(Te+" login "+JSON.stringify(i)),A=Sr.LoginRoomReq.create(a),n=Sr.LoginRoomReq.encode(A).finish(),this.sendMessage("LoginRoomReq",n,(function(r,i){var A;o.logger.info(Te+" login rsp"),o.switchSessionID=r.body.switch_session_id,o.reloginToken=r.body.relogin_token,null!=(A=null==r?void 0:r.header)&&A.controls&&(o.controls=null==(A=null==r?void 0:r.header)?void 0:A.controls),o.transLoginRspKeys(r,e),t&&t(r,i)}),(function(e,t){r&&r(e,t)})))},Dr.prototype.transLoginRspKeys=function(e,t){null!=(r=e.header)&&r.context_key&&(this.roomIDKeys[t.roomID]=null==(r=e.header)?void 0:r.context_key,this.roomKeyIDs[null==(r=e.header)?void 0:r.context_key]=t.roomID,e.header.room_id=t.roomID),this.longToStringNumber(e.body,["ret_timestamp"],"toString"),this.transKeysName(e.body,this.loginKeyTransMap),this.keysExist(e.body,["token_remain_time","stream_seq"]);var r={anchor_id_name:e.body.anchor_info.id_name,anchor_id:e.body.anchor_info.user_id,anchor_nick_name:e.body.anchor_info.nick_name};e.body.anchor_info=r},Dr.prototype.transKeysName=function(e,t){t.forEach((function(t){void 0!==e[t[0]]&&(e[t[1]]=e[t[0]],delete e[t[0]])}))},Dr.prototype.keysExist=function(e,t){t.forEach((function(t){void 0===e[t]&&(e[t]=0)}))},Dr.prototype.longToStringNumber=function(e,t,r){t.forEach((function(t){mr.a.isLong(e[t])&&(e[t]=e[t][r]())}))},Dr.prototype.logout=function(e,t,r){var i,A,n,o;return e.isMulti?(i={},this.logger.info(Me+" quit "+e.roomID),n=_r.QuitRoomReq.create(i),o=_r.QuitRoomReq.encode(n).finish(),this.sendMessage("QuitRoomReq",o,t,r,{roomID:null==e?void 0:e.roomID})):(i={logout_code:0,logout_check:this.crypto.md5Bytes(Er(this.logoutCheckToken)),user_session_id:e.longSid,logout_logic:this.stateCenter.isMultiRoom?3:1},A=this.transBuf(i),this.logger.info(Me+" logout "+JSON.stringify(A)),n=Sr.LogoutRoomReq.create(i),o=Sr.LogoutRoomReq.encode(n).finish(),this.sendMessage("LogoutRoomReq",o,t,r,{roomID:null==e?void 0:e.roomID}))},Dr.prototype.checkSendMessageList=function(e){for(var t=e.getFirst();null!=t;)e.remove(t),t._data&&t._data.error&&setTimeout((function(){t&&t._data&&t._data.error&&t._data.error(b.TIMEOUT,t._data.seq)}),0),t=e.getFirst()},Dr.prototype.checkMessageListTimeout=function(e,t){for(var r=e.getFirst(),i=Date.parse(new Date+""),A=0,n=this;null!=r&&"break"!==function(){var o,s;return r._data&&r._data.sendTime+r._data.timeout>i||(r._data&&delete t[r._data.seq],e.remove(r),r._data&&null==r._data.error||r._data&&r._data.sendTime+n.sendDataDropTimeout<i||(o=r&&r._data&&r._data.error,s=r&&r._data&&r._data.seq,setTimeout((function(){o&&o(b.TIMEOUT,s)}),0)),++A>=n.sendDataCheckOnceCount)?"break":void(r=e.getFirst())}(););},Dr.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},Dr.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},Dr.prototype.handleSendCommandMsgRsp=function(e){var t,r,i=this.sendCommandMap[e.header.seq];null!=i&&(r=null==(t=i._data)?void 0:t.params,delete this.sendCommandMap[e.header.seq],this.sendCommandList.remove(i),0===e.body.err_code?setTimeout((function(){t&&null!=t.success&&t.success(e,e.header.seq)}),0):setTimeout((function(){t&&null!=t.error&&t.error(e,e.header.seq,r)}),0))},Dr.prototype.getReqHead=function(e){return{}},Dr.prototype.heartBeat=function(e,t,r){var i=this,A=_r.HbReq.create({});A=_r.HbReq.encode(A).finish(),this.sendMessage("HbReq",A,(function(t,r){i.transKeysName(t.body,[["hb_interval","hearbeat_interval"],["hb_timeout","hearbeat_timeout"],["big_im_time_window","bigim_time_window"],["trans_channel_list","trans_seqs"]]),t.body.server_user_seq=t.body.user_seq.toNumber(),i.longToStringNumber(t.body,["ret_timestamp"],"toNumber"),e&&e(t,r)}),t,{roomID:null==r?void 0:r.roomID})},Dr.prototype.fetchUserList=function(e,t,r,i){var A=this,n=(e=yr({},e),this.transBuf(e));return this.logger.info(Le+" "+JSON.stringify(n)),n=_r.GetUserlistReq.create(e),e=_r.GetUserlistReq.encode(n).finish(),this.sendMessage("GetUserlistReq",e,(function(e,r){A.logger.info(Le+" suc "+r),A.transKeysName(e.body,[["user_base_info_list","user_baseinfos"]]),A.longToStringNumber(e.body,["server_user_seq","server_user_index","ret_user_index"],"toNumber"),t&&t(e,r)}),r,{roomID:null==i?void 0:i.roomID})},Dr.prototype.sendRoomMsg=function(e,t,r,i){var A=this,n=(e={msg_category:e.msg_category,msg_type:e.msg_type,msg_content:Er(e.msg_content)},this.transBuf(e));return this.logger.info("zm.lrh.srm.1 "+JSON.stringify(n)),n=_r.SendImReq.create(e),e=_r.SendImReq.encode(n).finish(),this.sendMessage("SendImReq",e,(function(e,r){A.longToStringNumber(e.body,["msg_id"],"toNumber"),t&&t(e,r)}),r,{roomID:null==i?void 0:i.roomID})},Dr.prototype.sendReliableMessage=function(e,t,r,i){e={trans_type:Er(e.trans_type),trans_data:Er(e.trans_data),trans_local_seq:e.trans_local_seq,trans_channel:Er(e.trans_channel)};var A=this.transBuf(e);return this.logger.info("zm.lrh.srm.0 "+JSON.stringify(A)),A=_r.SetTransReq.create(e),e=_r.SetTransReq.encode(A).finish(),this.sendMessage("SetTransReq",e,t,r,{roomID:null==i?void 0:i.roomID})},Dr.prototype.fetchReliableMessage=function(e,t,r,i){var A=e.fetch_array.map((function(e){return{trans_type:Er(e.trans_type),trans_local_seq:e.trans_seq}}));return e={trans_channel:Er(e.trans_channel),trans_list:A},A=this.transBuf(e),this.logger.info("zm.lrh.frm "+JSON.stringify(A)),A=_r.GetTransReq.create(e),e=_r.GetTransReq.encode(A).finish(),this.sendMessage("GetTransReq",e,t,r,{roomID:null==i?void 0:i.roomID})},Dr.prototype.sendCustomCommand=function(e,t,r,i){var A=this,n=e.dest_id_name.map((function(e){return{id_name:Er(e)}}));return n=yr({to_user_list:n,push_message:Er(e.custom_msg)},e),e=this.transBuf(n),this.logger.info("zm.lrh.scc "+JSON.stringify(e)),e=_r.SignalLiveCustomReq.create(n),n=_r.SignalLiveCustomReq.encode(e).finish(),this.sendMessage("SignalLiveCustomReq",n,(function(e,r){t&&t(A.transRsp(e),r)}),(function(e,t){r&&r(e,t)}),{roomID:null==i?void 0:i.roomID})},Dr.prototype.sendBigRoomMessage=function(e,t,r,i){e={msg_list:e.msgs.map((function(e){return{msg_category:e.msg_category,msg_type:e.msg_type,msg_timestamp:mr.a.fromNumber(Date.now()),msg_content:Er(e.msg_content),msg_client_id:Er(e.bigmsg_client_id)}}))};var A=this.transBuf(e);return this.logger.info("zm.lrh.sbrm "+JSON.stringify(A)),A=_r.SendBigImReq.create(e),e=_r.SendBigImReq.encode(A).finish(),this.sendMessage("SendBigImReq",e,t,r,{roomID:null==i?void 0:i.roomID})},Dr.prototype.sendSignalCmd=function(e,t,r,i){var A="";switch(e.sub_cmd){case 1003:A="SignalLiveInviteReq";break;case 1001:A="SignalLiveRequestReq";break;case 1002:A="SignalLiveResultReq";break;case 1004:A="SignalLiveStopReq"}var n=e.dest_id_name.map((function(e){return{id_name:Er(e)}}));return e={push_message:Er(e.signal_msg),to_user_list:n},n=this.transBuf(e),this.logger.info("zm.lrh.ssc "+JSON.stringify(n)),n=_r[A].create(e),e=_r[A].encode(n).finish(),this.sendMessage(A,e,t,r,{roomID:null==i?void 0:i.roomID})},Dr.prototype.sendStreamUpdate=function(e,t,r,i){var A,n=this;try{A=JSON.parse(e.stream_msg)}catch(e){}var o,s="",a=(this.logger.info(Oe+" "+JSON.stringify(e)),this.stateCenter.roomModulesList.find((function(e){return e.roomID==i.roomID})));if(!a)return this.logger.error(Oe+" room no found ignore "),-1;switch(e.sub_cmd){case 2001:s="AddStreamReq",o={stream_id:Er(A.stream_id),extra_info:Er(A.extra_info),client_req_seq:this.seq+1,third_token:Er(e.third_token||"")};break;case 2002:s="DeleteStreamReq",o={stream_id:Er(A.stream_id),stream_sid:A.stream_sid,client_req_seq:this.seq+1};break;case 2003:s="UpdateStreamReq",o={stream_id:Er(A.stream_id),stream_sid:A.stream_sid,client_req_seq:this.seq+1,extra_info:Er(A.extra_info)}}var c=this.transBuf(o);return this.logger.info(Oe+" "+JSON.stringify(c)),c=_r[s].create(o),c=_r[s].encode(c).finish(),this.sendMessage(s,c,(function(e,r){n.logger.info(Oe+" suc "+s+" "+JSON.stringify(e)),e.header.room_id=a.roomID,t&&t(e,r)}),(function(e,t){n.logger.info(Oe+" fail "+s+" "+JSON.stringify(e)),r&&r(e,t)}),{roomID:null==i?void 0:i.roomID})},Dr.prototype.getStreamList=function(e,t,r,i){var A,n,o=this;this.stateCenter.roomModulesList.find((function(e){return e.roomID==i.roomID}))?(A=this.transBuf(n={}),this.logger.info("zm.lrh.gs "+JSON.stringify(A)),A=_r.GetStreamListReq.create(n),n=_r.GetStreamListReq.encode(A).finish(),this.sendMessage("GetStreamListReq",n,(function(e,r){var i;null!=(i=e.body)&&i.stream_info_list.forEach((function(e){e.create_time=e.create_time.toNumber()})),o.transKeysName(e.body,[["stream_list_seq","stream_seq"],["stream_info_list","stream_info"]]),t&&t(e,r)}),(function(e,t){r&&r(e,t)}),{roomID:null==i?void 0:i.roomID})):this.logger.error("zm.lrh.gs room no found ignore "+i.roomID)},Dr.prototype.transBuf=function(e){var t=this,r={};return Object.keys(e).forEach((function(i){["logout_check","k2_sign","k1_sign"].includes(i)?r[i]=e[i]:t.transReqBytes(r,e,i)})),r},Dr.prototype.transReqBytes=function(e,t,r){var i=this;if(mr.a.isLong(t[r]))e[r]=t[r].toString();else if("[object Object]"===Object.prototype.toString.call(t[r]))e[r]={},Object.keys(t[r]).forEach((function(A){return i.transReqBytes(e[r],t[r],A)}));else if("[object Array]"===Object.prototype.toString.call(t[r])&&"[object Object]"===Object.prototype.toString.call(t[r][0])){e[r]=[];for(var A=0;A<t[r].length;A++)!function(A){var n={};Object.keys(t[r][A]).forEach((function(e){i.transReqBytes(n,t[r][A],e)})),e[r].push(n)}(A)}else e[r]="[object Uint8Array]"===Object.prototype.toString.call(t[r])?Qr(t[r]):t[r]},Dr.prototype.transHeader=function(e){return e.timestamp=mr.a.isLong(e.timestamp)?e.timestamp.toString():e.timestamp,e},Dr.prototype.transRsp=function(e){var t=this,r=e&&e.rsp_head?this.transRspHead(e.rsp_head):{},i=yr(yr({},e),r),A=(delete i.rsp_head,{});return Object.keys(i).forEach((function(e){"k2_sign"===e?A[e]=i[e]:t.transBytes(A,i,e)})),A},Dr.prototype.transBytes=function(e,t,r){var i=this;if(mr.a.isLong(t[r]))e[r]=t[r];else if("[object Object]"===Object.prototype.toString.call(t[r]))e[r]={},Object.keys(t[r]).forEach((function(A){return i.transBytes(e[r],t[r],A)}));else if("[object Array]"===Object.prototype.toString.call(t[r])&&"[object Object]"===Object.prototype.toString.call(t[r][0])){e[r]=[];for(var A=0;A<t[r].length;A++)!function(A){var n={};Object.keys(t[r][A]).forEach((function(e){i.transBytes(n,t[r][A],e)})),e[r].push(n)}(A)}else e[r]="[object Uint8Array]"===Object.prototype.toString.call(t[r])?Qr(t[r]):t[r]},Dr.prototype.transRspHead=function(e){return e?{err_code:e.code||0,err_message:e.message}:{}},Dr.prototype.decode=function(e,t){return yr({},e.decode(t))},Dr.prototype.handleDisconnected=function(e,t){var r=this;this.logger.info(Pe+" call"),this.state=Br.disconnected,this.stateCenter.useNetAgent&&e===m.TIMEOUT&&this.stateCenter.roomModulesList.forEach((function(e){e.roomTryHandler&&(r.ua.isConnect()?(r.logger.info(Pe+" ua is connect"),e.roomTryHandler.active()):(r.logger.info(Pe+" ua is disconnect"),r.ua.connectUa()))}))},Dr.prototype.handleBroken=function(){var e=this;this.logger.info("zm.lrh.hb call"),this.state=Br.broken,this.stateCenter.useNetAgent&&this.stateCenter.roomModulesList.forEach((function(t){t.roomTryHandler&&(t.roomTryHandler.invalid(),t.roomTryHandler.onactive=function(r,i){e.logger.info("zm.lrh.hb onactive"),t.roomHandler.transError(i),t.roomHandler.disconnectedHandle(i)},t.roomTryHandler.startMaxTime(),t.roomHandler.roomStateHandle("CONNECTING",v.Reconnecting,b.NETWORK_BROKEN))}))},Dr.prototype.handleConnected=function(e){var t=this;this.logger.info("zm.lrh.hc call "+e),this.state=Br.connected,this.stateCenter.useNetAgent&&e===E.AUTO&&this.stateCenter.roomModulesList.forEach((function(e){e.roomTryHandler&&t.ua.isConnect()&&e.roomTryHandler.active()}))},Dr.prototype.renewToken=function(e,t,r,i){var A=this,n=_r.RenewTokenReq.create(e={token:e.token});n=_r.RenewTokenReq.encode(n).finish(),e=this.transBuf(e),this.logger.info("zm.lrh.rt "+JSON.stringify(e)),this.sendMessage("RenewTokenReq",n,(function(e,r){A.keysExist(e.body,["token_remain_time"]),t&&t(e,r)}),r,{roomID:null==i?void 0:i.roomID})},Dr.prototype.reset=function(){this.logger.info("zm.lrh.r.0 call "),this.state=Br.disconnected,this.switchSessionID=mr.a.fromInt(0),this.sendDataCheckTimer&&clearTimeout(this.sendDataCheckTimer)},Dr.prototype.closeRequest=function(){var e;null!=(e=this.liveroomRequest)&&e.closeRequest()},Dr.prototype.resetSessionInfo=function(){this.switchSessionID=mr.a.fromInt(0)},Dr.prototype.getNumSDKVersion=function(){var e=0===this.stateCenter.ENV?6:7,t=this.rtm.version.split(".").map((function(e){return parseInt(e)}));return e<<28|t[0]<<20|t[1]<<8|t[2]},Dr);function Dr(e,t,r,i,A){var n=this;this.logger=e,this.stateCenter=t,this.ua=r,this.dataReport=i,this.rtm=A,this.seq=0,this.sendCommandList=new I,this.sendCommandMap={},this.logoutCheckToken="",this.zPushSid="0",this.loginKeyTransMap=[["user_session_id","session_id"],["liveroom_hb_interval","hearbeat_interval"],["liveroom_hb_timeout","hearbeat_timeout"],["big_im_time_window","bigim_time_window"],["trans_channel_list","trans_seqs"],["stream_list_seq","stream_seq"],["stream_info_list","stream_info"]],this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=1e4,this.sendDataCheckInterval=2e3,this.protoInstance=vr,this.roomKeyIDs={},this.roomIDKeys={},this.swPushCmdList=[ur.PushReq,ur.MergePushReq,ur.PushKickout],this.onSwitchCmdList=[ur.LoginRoomRsp,ur.LogoutRoomRsp,ur.PushKickout,ur.PushReq,ur.MergePushReq],this.noContextKeyCmdList=[1105],this.rtcPushCmdList=[10001,10002,10004,11001,11002,11003,11004,11005,12001,12002,12003,13001,15001],this.state=Br.disconnected,this.unStructCmdList=[11001,11002,11003,11004],this.reloginToken="",this.crypto=new Ir,this.liveroomRequest=this.ua.getPCRequest(y.SERVICE_SWITCH4LIVEROOM),this.switchSessionID=mr.a.fromInt(0),null!=(e=this.liveroomRequest)&&e.on("connected",(function(e){n.handleConnected(e)})),null!=(t=this.liveroomRequest)&&t.on("broken",(function(e){n.handleBroken()})),null!=(r=this.liveroomRequest)&&r.on("disconnected",(function(e,t){n.handleDisconnected(e,t)})),null!=(i=this.liveroomRequest)&&i.on("downLoadMessage",(function(e,t){n.handlePush(e,t)})),null!=(A=this.liveroomRequest)&&A.on("exception",(function(e,t){n.logger.info("zm.lrh.o.0 except "+JSON.stringify(e))})),null!=(e=this.liveroomRequest)&&e.on("pcBrokenEvent",(function(e){var t=bt,r=n.stateCenter.reporter.createSpan(s.H,{key:It},{key:""},t.event);r.setAttributes({service_no:t.service_no(null==e?void 0:e.service_no)}),r.end()})),null!=(t=this.liveroomRequest)&&t.on("pcDisconnectedEvent",(function(e){var t=kt,r=n.stateCenter.reporter.createSpan(s.H,{key:It},{key:""},t.event);r.setAttributes({service_no:t.service_no(null==e?void 0:e.service_no)}),r.end()})),null!=(r=this.liveroomRequest)&&r.on("pcConnectedEvent",(function(e){var t=Dt,r=n.stateCenter.reporter.createSpan(s.H,{key:It},{key:""},t.event);r.setAttributes({service_no:t.service_no(e.service_no),recv_time:t.recv_time((new Date).getTime()),proxy_link_sources:t.proxy_link_sources(e.proxy_link_sources),connect_stream:t.connect_stream(e.connect_stream)}),r.end()}))}var br=(kr.prototype.listenCallBack=function(){var e=this;this.roomServicer.handlePushCustomMsg=function(t){e.handlePushCustomMsg(t)},this.roomServicer.handlePushTokenExpire=function(t){var r,i=null==(i=null==(i=null==t?void 0:t.body)?void 0:i.stop_stream)?void 0:i.stream_id_list.map(Qr);null!=(r=null==(r=null==t?void 0:t.body)?void 0:r.stop_stream)&&(r.stream_id_list=i),e.stateCenter.actionListener("_tokenExpired",t)},this.roomServicer.handlePushKickout=function(t,r){var i;r?function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||((i=i||Array.prototype.slice.call(t,0,A))[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))}([],e.stateCenter.roomModulesList,!0).forEach((function(e){e.roomHandler.handlePushKickout(t,!0,!0)})):(i=null==(r=null==t?void 0:t.header)?void 0:r.room_id,r=e.stateCenter.roomModulesList.find((function(e){return e.roomID==i})),e.roomServicer.longToStringNumber(t.body,["session_id"],"toString"),r?r.roomHandler.handlePushKickout(t):e.logger.error("zm.lrh.pk room no found ignore "+JSON.stringify(null==(r=t.header)?void 0:r.room_id)))},this.roomServicer.handlePushStreamMsg=function(t){e.handlePushStreamMsg(t)},this.roomServicer.handlePushSignalMsg=function(t){e.handlePushSignalMsg(t)},this.roomServicer.handlePushMergeMsg=function(t){e.handlePushMergeMsg(t)},this.roomServicer.handlePushRoomMsg=function(t){e.handlePushRoomMsg(t)},this.roomServicer.handlePushTransMsg=function(t){e.handlePushTransMsg(t)},this.roomServicer.onSwitchMessage=function(t,r){e.onSwitchMessage(t,r)},this.roomServicer.handlePushUserStateUpdateMsg=function(t){var r,i,A,n=null==(o=null==t?void 0:t.header)?void 0:o.room_id,o=e.stateCenter.roomModulesList.find((function(e){return e.roomID==n}));o?(A=t.body.user_action_list.map((function(e){return{Action:e.action,IdName:e.id_name,NickName:e.nick_name,Role:e.role,LoginTime:e.login_time.toString()}})),i=e.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:n},{key:""},at.event),A={body:{user_actions:A,user_list_seq:t.body.server_user_seq.toNumber(),room_id:n}},i.setAttributes({user_list_seq:null==(r=null===A?void 0:A.body)?void 0:r.user_list_seq,update_user:null==(r=null===A?void 0:A.body)?void 0:r.user_actions}),i.end(),o.userHandler.handlePushUserStateUpdateMsg(A)):e.logger.error("zm.lrh.puu room no found ignore "+JSON.stringify(t))}},kr.prototype.isDisConnect=function(){return!!this.roomServicer&&this.roomServicer.isDisConnect()},kr.prototype.isUaConnect=function(){var e;return null==(e=this.roomServicer)?void 0:e.isUaConnect()},kr.prototype.sendMessage=function(e,t,r,i,A,n,o){var s;return null==(s=this.roomServicer)?void 0:s.sendMessage(e,t,r,i,A,n)},kr.prototype.handlePushTokenExpire=function(e){},kr.prototype.handlePushKickout=function(e,t){},kr.prototype.handlePushStreamMsg=function(e){},kr.prototype.handlePushSignalMsg=function(e){},kr.prototype.handlePushMergeMsg=function(e){},kr.prototype.handlePushCustomMsg=function(e){},kr.prototype.handlePushRoomMsg=function(e){},kr.prototype.handlePushTransMsg=function(e){},kr.prototype.onSwitchMessage=function(e,t){},kr.prototype.handlePushUserStateUpdateMsg=function(e){},kr.prototype.login=function(e,t,r){var i;null!=(i=this.roomServicer)&&i.login(e,t,r)},kr.prototype.logout=function(e,t,r){var i;return null==(i=this.roomServicer)?void 0:i.logout(e,t,r)},kr.prototype.startCheck=function(){var e;null!=(e=this.roomServicer)&&e.startCheck()},kr.prototype.stopCheck=function(){var e;null!=(e=this.roomServicer)&&e.stopCheck()},kr.prototype.getReqHead=function(e){var t;return null==(t=this.roomServicer)?void 0:t.getReqHead(e)},kr.prototype.heartBeat=function(e,t,r){var i;null!=(i=this.roomServicer)&&i.heartBeat(e,t,r)},kr.prototype.fetchUserList=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.fetchUserList(e,t,r,i)},kr.prototype.sendRoomMsg=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.sendRoomMsg(e,t,r,i)},kr.prototype.sendReliableMessage=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.sendReliableMessage(e,t,r,i)},kr.prototype.fetchReliableMessage=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.fetchReliableMessage(e,t,r,i)},kr.prototype.sendCustomCommand=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.sendCustomCommand(e,t,r,i)},kr.prototype.sendBigRoomMessage=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.sendBigRoomMessage(e,t,r,i)},kr.prototype.sendSignalCmd=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.sendSignalCmd(e,t,r,i)},kr.prototype.sendStreamUpdate=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.sendStreamUpdate(e,t,r,i)},kr.prototype.getStreamList=function(e,t,r,i){var A;return null==(A=this.roomServicer)?void 0:A.getStreamList(e,t,r,i)},kr.prototype.renewToken=function(e,t,r,i){var A;null!=(A=this.roomServicer)&&A.renewToken(e,t,r,i)},kr.prototype.reset=function(){var e;null!=(e=this.roomServicer)&&e.reset()},kr.prototype.closeRequest=function(){var e;null!=(e=this.roomServicer)&&e.closeRequest()},kr);function kr(e,t,r,i,A){this.logger=e,this.stateCenter=t,this.ua=r,this.dataReport=i,this.rtm=A,this.roomServicer=new wr(e,t,r,i,A),this.listenCallBack()}var Rr=r(11),Nr=(Tr.prototype.setLog=function(e){this.zegoSetting.setLog(e)},Tr.prototype.init=function(e){this.zegoSetting.init(e)},Tr.prototype.setEnvVariable=function(e,t){this.zegoSetting.setEnvVariable(e,t)},Tr.prototype.getEnvVariables=function(){return this.zegoSetting.getEnvVariables()},Tr.prototype.fetchSetting=function(e,t,r){return this.zegoSetting.fetchSetting(e,t,r)},Tr.prototype.fetchMultiSetting=function(e,t,r){return this.zegoSetting.fetchMultiSetting(e,t,r)},Tr.prototype.setOptions=function(e){return this.zegoSetting.setOptions(e)},Tr.prototype.getSettingCache=function(e){return this.zegoSetting.getSettingCache(e)},Tr.prototype.setToken=function(e){this.zegoSetting.setToken(e)},Tr.prototype.setUserID=function(e){this.zegoSetting.setUserID(e)},Tr.prototype.activePolling=function(){this.zegoSetting.activePolling()},Tr.prototype.uninit=function(){var e;null!=(e=this.zegoSetting)&&e.uninit()},Tr.prototype.getEnvVariable=function(e){this.zegoSetting.getEnvVariable(e)},Tr);function Tr(){this.isLoad=!1,this.callBackList=[],this.zegoSetting=new Rr.ZegoSetting}var Lr=function(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Mr=function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(A=0<(A=n.trys).length&&A[A.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},Or=function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||((i=i||Array.prototype.slice.call(t,0,A))[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))},Pr=(Object.defineProperty(Fr.prototype,"modules",{get:function(){return{service:this.service}},enumerable:!1,configurable:!0}),Object.defineProperty(Fr.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),Fr.prototype.destroyRTM=function(){this.stateCenter.roomModulesList.some((function(e){return!(null!=e&&e.isLogout()||"DISCONNECTED"===e.roomState)}))&&this.logoutRoom(),this.stateCenter.reporter.setUnloadState(s.I),this.reporter.destroy()},Fr.prototype.getSettingUnify=function(e){var t=this.stateCenter.settingConfig.getSetting("unify",e=void 0!==e&&e);return this.logger.info("zm.gsu "+e+" "+JSON.stringify(t)),t?(e=t.enable,t=t.sdk_conn_ver,!!(e&&t<=V.connectVer)):this.isUseNetAgent},Fr.prototype.initCallback=function(){this.proxyRes=x.proxyRes,this.actionSuccessCallback=x.actionSuccessCallback,this.actionErrorCallback=x.actionErrorCallback,this.getServerError=x.getServerError,this.generateRandumNumber=x.generateRandumNumber,this.unregisterCallback=x.unregisterCallback,this.logReportCallback=x.logReportCallback,this.registerCallback=x.registerCallback},Fr.prototype.initSpans=function(){this.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:Ge},Ge,!0).end()},Fr.prototype.handleZipLogUrl=function(){var e,t="";null!=(e=this.stateCenter.geoFencing)&&e.detaillog&&""!==(null==(e=this.stateCenter.geoFencing)?void 0:e.detaillog)?(t="https://".concat(null==(e=this.stateCenter.geoFencing)?void 0:e.detaillog,"/log/userupload"),this.logger.info(he+" set detaillog url by geoFencing "+t),this.logger.setZipLogUploadUrl(t)):(e=this.stateCenter.settingConfig.getSetting("detaillog_domain"))&&""!==e&&(t="https://".concat(e,"/log/userupload"),this.logger.info(he+" set detaillog url by cloudsetting "+t),this.logger.setZipLogUploadUrl(t))},Fr.prototype.getStoreAppConfig=function(){if(this.logger.info(le+" call"),null!=(e=this.stateCenter.geoFencing)&&e.logreport&&this.handleLogUpload(),null!=(e=this.stateCenter.geoFencing)&&e.detaillog&&this.handleZipLogUrl(),localStorage){var e=G(z+"_"+this.getAppID()+"_"+(this.stateCenter.mode||V.modeNo));if(e){var t=G(j+"_"+this.getAppID()+"_"+(this.stateCenter.mode||V.modeNo));t||this.logger.info(le+" no store config etag");try{var r,i=O(e,Y);i?(this.stateCenter.appConfig=JSON.parse(i),this.stateCenter.reporter.spanSetAttributes({key:Fe.event},{is_from_cache:Fe.is_from_cache(!0)}),this.stateCenter.actionListener("_appConfigRsp"),this.handleLogUpload()):localStorage.removeItem(z+"_"+this.getAppID()+"_"+(this.stateCenter.mode||V.modeNo)),t&&(r=O(t,Y),this.stateCenter.appConfigEtag=parseInt(r))}catch(e){this.logger.warn(le+" "+JSON.stringify(e))}}else this.logger.info(le+" no store config")}else this.logger.warn(le+" no localstorage")},Fr.prototype.createNetAgent=function(){var e=this,t=(this.logger.info(ue+" call"),this.netAgent.on("disconnected",(function(t){e.logger.info("".concat(ue," netAgent disconnect"))})),this.netAgent.on("connected",(function(){e.logger.info("".concat(ue," netAgent connect")),e.stateCenter.reporter.setNetStateCheck(),e.isUseNetAgent?(e.fetchAppConfig(),e.stateCenter.roomModulesList.forEach((function(t){t.roomTryHandler&&e.netAgent.isConnect()&&t.roomTryHandler.active(!0)}))):e.logger.info("".concat(ue," unify false"))})),this.netAgent.on("broken",(function(t){e.logger.info("".concat(ue," netAgent broken")),t===Q.CLOSE&&e.stateCenter.roomModulesList.forEach((function(e){e.resetSessionInfo()}))})),this.netAgent.on("dispatchEvent",(function(t,r,i){var A;e.logger.info("".concat(ue," dispatch")),"start"===r?(A=e.stateCenter.reporter.createSpan(s.H,{key:It},{key:""},"/zegoconn/auto_dispatch"),e.stateCenter.requestList[t]=A):"end"===r&&(A=e.stateCenter.requestList[t])&&(A.setAttributes({domain_list:i.domains}),A.end())})),this.netAgent.on("dispatchResultUpdate",(function(t){var r,i=t.servers;t=t.domains,e.logger.info("".concat(ue," dispatchResult ").concat(JSON.stringify(i),", ").concat(JSON.stringify(t))),null!=(r=e.stateCenter.geoFencing)&&r.id?(t&&t[0]&&(e.stateCenter.netGeoFencing.accesshub=t[0]),e.setLocalGeoFencing()):(r=M(JSON.stringify(i),Y),F(K+"_"+e.stateCenter.appid+"_"+(e.stateCenter.mode||V.modeNo),r))})),this.netAgent.on("connectedEvent",(function(t,r,i){var A;e.logger.info("".concat(ue," connect")),"start"===r?(A=e.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:It},It,!0),e.stateCenter.requestList[t]=A):"end"===r&&(A=e.stateCenter.requestList[t])&&(A.setAttributes({request_count:Et(i.count),connect_id:ft(i.connectid),events:Qt(i.connectEvents)}),A.end())})),this.netAgent.on("requestEvent",(function(t,r,i){var A;e.logger.info("".concat(ue," request")),"start"===r?(A=e.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:vt},vt,!0),e.stateCenter.requestList[t]=A):"end"===r&&(A=e.stateCenter.requestList[t])&&(A.setAttributes({req_location:_t(i.na_req_location),http_code:i.status_code,error:i.err_code}),A.end())})),this.netAgent.on("disConnectedEvent",(function(t){var r=t.duration,i=t.server,A=(t=t.connectid,e.logger.info("".concat(ue," disconnect")),e.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:""},"/zegoconn/disconnect"));A.setAttributes({url:mt(i),connect_duration:yt(r),connect_id:Bt(t)}),A.end()})),null!=(t=this.netAgent)&&t.on("clientInfo",(function(t){var r=t.timeOffset;t=t.geofencingID,"number"==typeof r&&e.stateCenter.reporter.setTimeOffset(r),e.updateTimeOffsetInterval(),"number"==typeof t&&(e.stateCenter.netGeoFencing.id=t,e.setLocalGeoFencing())})),V.domains);if(Fr.geoFenceType&&Fr.geoFenceAreaList){this.logger.info("".concat(ue," geo type ").concat(Fr.geoFenceType," area ").concat(Fr.geoFenceAreaList.join(",")));var r=void 0,i=[],A=this.getGeoFencingIDAndDomain(Fr.geoFenceType,Fr.geoFenceAreaList);if(!A)throw this.logger.warn("".concat(ue," geofencing not exist")),b.GEO_SET_ERROR;var n,o=this.getLocalGeoFencing(),a=!1;null!=o&&o.id&&(n=A.find((function(e){return e.id===(null==o?void 0:o.id)})))&&(a=!0,r={id:null==o?void 0:o.id,accesshub:(null==o?void 0:o.accesshub)||(null==n?void 0:n.accesshub),logreport:null==n?void 0:n.logreport,detaillog:null==n?void 0:n.detaillog},null!=o&&o.accesshub&&i.push(null==o?void 0:o.accesshub),i.push(null==n?void 0:n.accesshub)),a||(r={id:(n=A[0]).id,accesshub:a=n.accesshub,logreport:n.logreport,detaillog:n.detaillog},i.push(a)),this.stateCenter.geoFencing=r,this.logger.info("".concat(ue," use geo ").concat(JSON.stringify(this.stateCenter.geoFencing))),t=i}this.logger.info("".concat(ue," domains ").concat(JSON.stringify(t))),A=t.map((function(e){return"wss://".concat(e,"/accesshub")})),this.netAgent.setBackupDomains(V.primaryDomains),this.netAgent.setNetAgentDefaultServers(A),!this.stateCenter.geoFencing&&null!=(n=this.options)&&n.accessURL&&this.netAgent.setNetAgentSpecifiedServers([null==(a=this.options)?void 0:a.accessURL]),null!=(r=this.options)&&r.customDomain&&(i="wss://accesshub-wss."+this.options.customDomain+"/accesshub",this.stateCenter.geoFencing&&(this.replaceMainDomain(this.options.customDomain),i="wss://".concat(null==(t=this.stateCenter.geoFencing)?void 0:t.accesshub,"/accesshub")),this.netAgent.setNetAgentSpecifiedServers([i])),this.dispatchServers=[],this.dispatchServers=this.stateCenter.geoFencing?A:this.getDispatchUrl(),this.netAgent.setDispatchConnectServers(this.dispatchServers)},Fr.prototype.getMainDomain=function(e){return(e=e.split("."))[e.length-2]+"."+e[e.length-1]},Fr.prototype.replaceMainDomain=function(e){var t,r;this.stateCenter.geoFencing&&(r=this.getMainDomain(null==(r=this.stateCenter.geoFencing)?void 0:r.accesshub),this.stateCenter.geoFencing.accesshub=null==(t=this.stateCenter.geoFencing)?void 0:t.accesshub.replace(r,e),this.stateCenter.geoFencing.logreport=null==(t=this.stateCenter.geoFencing)?void 0:t.logreport.replace(r,e),this.stateCenter.geoFencing.detaillog=null==(t=this.stateCenter.geoFencing)?void 0:t.detaillog.replace(r,e))},Fr.prototype.getDispatchUrl=function(){var e=G(K+"_"+this.stateCenter.appid+"_"+(this.stateCenter.mode||V.modeNo));if(e&&(e=O(e,Y)))try{return JSON.parse(e)}catch(e){}return[]},Fr.prototype.bindWindowListener=function(){var e=this,t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),r=T(),i="micromessenger"==(A=navigator.userAgent).toLowerCase().match(/MicroMessenger/i),A=-1<A.indexOf("Android")||-1<A.indexOf("Adr"),n=t||i&&A?"pagehide":"Firefox"===r?"beforeunload":"unload";window.addEventListener(n,(function(){return Lr(e,void 0,void 0,(function(){return Mr(this,(function(e){switch(e.label){case 0:return this.logger.info(Ae+" "+n),this.stateCenter.reporter.setUnloadState(s.I),this._onBeforePageUnload?[4,this._onBeforePageUnload()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.logoutRoom(),[2]}}))}))})),window.addEventListener("offline",(function(){e.netOffLineHandle()})),window.addEventListener("online",(function(){e.netOnLineHandle()}))},Fr.prototype.retryRoom=function(){var e=this;this.stateCenter.roomModulesList.forEach((function(t){t.roomTryHandler&&e.netAgent.isConnect()&&(t.resetSessionInfo(),t.roomTryHandler.active(!0))}))},Fr.prototype.netOnLineHandle=function(){var e=this;this.logger.info(Ae+" network is online"),this.stateCenter.networkState=a.online,this.isUseNetAgent||this.stateCenter.roomModulesList.forEach((function(t){t.roomTryHandler&&e.service.isDisConnect()?t.roomTryHandler.active():t.roomTryHandler&&(t.roomTryHandler.stopMaxTime(),t.roomHandler.roomStateHandle("CONNECTED",v.Reconnected,{code:0,msg:""}))}))},Fr.prototype.netOffLineHandle=function(){var e=this;this.logger.info(Ae+" network is broken"),this.stateCenter.networkState=a.offline,this.isUseNetAgent||this.stateCenter.roomModulesList.forEach((function(t){t.roomTryHandler&&(t.roomTryHandler.invalid(),t.roomTryHandler.onactive=function(r,i){e.logger.info(Ae+" onactive"),t.roomHandler.transError(i),t.roomHandler.disconnectedHandle(i)},t.roomTryHandler.startMaxTime(),t.roomHandler.roomStateHandle("CONNECTING",v.Reconnecting,b.NETWORK_BROKEN))}))},Fr.prototype.setLogConfig=function(e){this.logger.info(ne+" call");var t,r=this.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:He.event},He.event);if(e.logLevel&&["debug","info","warn","error","report","disable"].includes(e.logLevel)&&(this.logger.setLogLevel(e.logLevel),r.setAttributes({log_level:He.log_level(e.logLevel)})),e.remoteLogLevel&&["debug","info","warn","error","report","disable"].includes(e.remoteLogLevel)&&r.setAttributes({remote_log_level:He.remote_log_level(e.remoteLogLevel)}),"string"==typeof e.logURL&&(e.logURL.startsWith("wss://")||e.logURL.startsWith("https://")))null!=(t=this.stateCenter.geoFencing)&&t.logreport?this.logger.info(ne+" geo exist"):(this.logger.setLogServer(e.logURL),0===this.stateCenter.ENV&&(this.stateCenter.logDomain=null==(t=this.logger.url)?void 0:t.split("/")[2],this.stateCenter.reporter.setConfig({serverUrl:"wss://"+this.stateCenter.logDomain+"/zglog/tlog"}))),r.setAttributes({log_url:He.log_url(e.logURL)}),r.end();else if(e.logURL)return this.logger.error(ne+"log url must be a wss or https url"),this.stateCenter.reporter.setError(r,He.error.kInvalidParamError),!1;return this.logger.info(ne+" call success"),r.end(),!0},Fr.prototype.setDebugVerbose=function(e){var t=this.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:Ue},Ue);"boolean"==typeof e&&(this.stateCenter.debug=e,this.stateCenter.debugCustom=!0,t.setAttributes({debug:xe(e?"true":"false")})),t.end(),this.logger.info("zm.sdv call success")},Fr.prototype.setDebug=function(e){"string"==typeof e&&-1<e.indexOf("wss")?this.stateCenter.debug=x.isTestEnv(e):Array.isArray(e)&&0<e.length&&e.every((function(e){return"string"==typeof e&&-1<e.indexOf("wss")}))?this.stateCenter.debug=x.isTestEnv(e[0]):this.logger.info("zm.0 server wrong"),this.stateCenter.testEnvironment=this.stateCenter.debug},Fr.prototype.renewToken=function(e,t){var r,i,A,n,o=this,a=this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:t},{key:""},We.event);return void 0===t||"string"==typeof t&&""!=t?(i=this.getRoomModules(t)||this.stateCenter.roomModulesList[0])?"string"==typeof e&&i.roomTryHandler?(e===i.roomTryHandler.token?(this.logger.info(pe+" token has not changed"),a.setAttributes({error:We.error.INPUT_PARAM.code,message:"token has not changed"}),a.end()):(a.setAttributes({token:We.token(e)}),this.stateCenter.configRoomAuth?(A=function(t){var r;null!=(r=i.roomTryHandler)&&r.renewLocalToken(e,null==(r=null==t?void 0:t.body)?void 0:r.token_remain_time),o.cloudSetting.setToken(e),o.reporter.setReporterInfo(o.stateCenter.idName||"",e),o.stateCenter.configCheckToken=!0,a.end(),o.logger.info(pe+" "+JSON.stringify(t))},n=function(t){var r=null==(r=null==t?void 0:t.body)?void 0:r.err_code;o.stateCenter.reporter.setError(a,t),!r||1000002014!==r&&2014!==r?o.logger.error(pe+" "+JSON.stringify(t)):(o.stateCenter.configCheckToken=!1,null!=(r=i.roomTryHandler)&&r.renewLocalToken(e),o.cloudSetting.setToken(e),o.logger.warn(pe+" "+JSON.stringify(t)))},this.isUseNetAgent?null!=(r=this.liveRoomHandler)&&r.renewToken({token:e},A,n,i):this.service.sendMessage("renew_token",{token:e},A,n,void 0,{sessionID:i.sessionID,roomID:t,roomSessionID:i.roomSessionID})):(null!=(r=i.roomTryHandler)&&r.renewLocalToken(e),this.cloudSetting.setToken(e),this.reporter.setReporterInfo(this.stateCenter.idName||"",e),a.end())),!0):("string"!=typeof e||i.roomTryHandler?(this.logger.error(pe+" token must be string and not empty"),this.stateCenter.reporter.setError(a,We.error.INPUT_PARAM)):(this.logger.error(pe+" calling must after loginRoom"),this.stateCenter.reporter.setError(a,We.error.NOT_LOGIN)),!1):(this.logger.error(pe+" calling must after loginRoom"),this.stateCenter.reporter.setError(a,We.error.NOT_LOGIN),!1):(this.logger.error(pe+" roomID must be string and no empty"),!1)},Fr.prototype.setCloudSettingURLs=function(e){var t=this;this.logger.info("zm.scsu call "),Array.isArray(e)&&0<e.length&&e.every((function(e){return"string"==typeof e&&-1<e.indexOf("http")}))&&this.cloudSetting.init({productNum:1,appID:this.stateCenter.appid,env:this.stateCenter.ENV,pollingNotify:function(e,r){t.logger.info("zm.scsu"," setting file changed "+e+" "+JSON.stringify(r)),t.stateCenter.actionListener("_cloudSettingNotify",e,r)},reportNotify:this.cloudReportNotify.bind(this),online:!this.stateCenter.testEnvironment,unify:this.isUseNetAgent,connection:this.netAgent})},Fr.prototype.loginRoom=function(e,t,r,i){var A=this;return this.logger.info(oe+" call by user "+(null==r?void 0:r.userID)+" "+e+" "+this.version),new Promise((function(n,s){return Lr(A,void 0,void 0,(function(){var A,c,g,u,l;return Mr(this,(function(h){switch(h.label){case 0:return 1!==this.stateCenter.ENV?[3,2]:[4,new Promise((function(e){}))];case 1:h.sent(),h.label=2;case 2:return c=this.loginReport(n,s,e,t,i),u=c.interResolve,A=c.interReject,c=c.loginSpan,(i=i||{}).maxMemberCount||(i.maxMemberCount=0),g=this.getRoomModules(e),l=Ye.error,g?(this.logger.setSessionInfo(this.stateCenter.appid,e,"",r.userID,"",this.stateCenter.sdKVersion),A(l.REPEATEDLY_LOGIN)):((g=new zt(e,this.stateCenter,this.logger,this.dataReport,this,this.liveRoomHandler,this.service)).roomTryHandler||(g.roomTryHandler=new Lt(this.logger,this.stateCenter,g)),g.roomTryHandler.init(this.stateCenter.roomRetryTime),g.roomTryHandler.initRoom(g.roomHandler,e,t,r,this.stateCenter.server,this.stateCenter.serverBak,i),g.roomTryHandler.setLoginRoomCallback(u,A),g.roomHandler.roomStateHandle("CONNECTING",v.Logining,{code:0,msg:""}),(u=function(e,t){var r,i,A=[],n={};for(r in e)n[e[r].order]=e[r],e[r].key=r;for(i in n)A.push(n[i]);for(var o=0;o<A.length;o++)for(var s=A[o].rules,a=0;a<s.length;a++){var c={key:A[o].key,value:A[o].value,action:t.action,logger:t.logger},g=c.value,u=s[a].name?""+s[a].name:"";if((void 0===g&&u===Tt.NOT_EMPTY||void 0!==g)&&Pt[u]&&(u=Pt[u](c.key,g,c.action,c.logger,s[a]))!=Ot)return u}return Ot}({roomID:{order:0,value:e,rules:[{name:Tt.NOT_EMPTY,error:l.ROOM_ID_NULL},{name:Tt.TYPE_STRING,error:l.INPUT_PARAM,extMsg:"roomID must be string"},{name:Tt.MAX_LENGTH_128,error:l.ROOM_ID_TOO_LONG},{name:Tt.ILLEGAL_CHARACTERS,error:l.ROOM_ID_INVALID_CHARACTER}]},token:{order:1,value:t,rules:[{name:Tt.NOT_EMPTY,error:l.INPUT_PARAM},{name:Tt.TYPE_STRING,error:l.INPUT_PARAM}]},user:{order:2,value:r,rules:[{name:Tt.NOT_EMPTY,error:l.INPUT_PARAM,extMsg:" param user error."},{name:Tt.TYPE_OBJECT,error:l.INPUT_PARAM,extMsg:" param user error."}]},"user.userID":{order:3,value:r.userID,rules:[{name:Tt.NOT_EMPTY,error:l.USER_ID_NULL,extMsg:" param user error."},{name:Tt.TYPE_STRING,error:l.INPUT_PARAM,extMsg:" param userID error."},{name:Tt.MAX_LENGTH_64,error:l.USER_ID_TOO_LONG},{name:Tt.ILLEGAL_CHARACTERS,error:l.USER_ID_INVALID_CHARACTER}]},"user.userName":{order:4,value:r.userName,rules:[{name:Tt.TYPE_STRING,error:l.INPUT_PARAM,extMsg:" userName must be string."},{name:Tt.MAX_LENGTH_256,error:l.USER_NAME_TOO_LONG}]},config:{order:5,value:i,rules:[]},"config.maxMemberCount":{order:6,value:i.maxMemberCount,rules:[{name:Tt.TYPE_INTEGER,error:l.INPUT_PARAM,extMsg:" maxMemberCount must be integer number."}]}},{action:oe,logger:this.logger}))!==Ot?(g.roomHandler.roomStateHandle("DISCONNECTED",v.LoginFailed,u.error,u.extMsg),A(u.error,u.extMsg)):(this.logger.setSessionInfo(this.stateCenter.appid,"","",r.userID,"",this.version),0<this.stateCenter.roomModulesList.length&&1==this.stateCenter.isMultiRoom?g.isMulti=!0:Or([],this.stateCenter.roomModulesList,!0).forEach((function(e){return e.roomHandler.logout()})),i&&(g.config=i),this.stateCenter.roomModulesList.push(g),this.netAgent&&(this.stateCenter.idName=r.userID,this.netAgent.setUserInfo(r.userID),this.stateCenter.actionListener("_roomLogin",e,t),this.netAgent.isConnect())&&this.fetchAppConfig(t),this.cloudSetting.setUserID(r.userID),this.cloudSetting.setToken(t),this.cloudSetting.activePolling(),this.stateCenter.reporter.setCommonAttributes({id_name:r.userID}),this.stateCenter.reporter.setReporterInfo(r.userID,t),this.logger.setTokenInfo(t,r.userID),this.stateCenter.reporter.setSpanInMap(c,{key:Ye.event,par:e}),l=this.stateCenter.settingConfig.getSetting("room_server",!0),Array.isArray(l)&&0<l.length&&(this.logger.info(oe," setting room_server "+l),this.stateCenter.server=l[0],this.stateCenter.serverBak=l[1]||l[0]),this.stateCenter.setMultiRoom=!0,g.roomTryHandler.startMaxTime(),this.isUseNetAgent&&!this.netAgent.isConnect()?(this.logger.info(oe," us is not connected"),g.roomHandler.setRunState(o.trylogin),this.netAgent.connectUa()):(this.isUseNetAgent&&(this.stateCenter.networkState=a.online),g.roomTryHandler.active(!0)))),[2]}}))}))}))},Fr.prototype.handleLogUpload=function(e){var t="";e&&e.app_config?t=e.app_config.domain:this.stateCenter.appConfig&&this.stateCenter.appConfig.app_config&&(t=this.stateCenter.appConfig.app_config.domain),this.logger.info(ge+" call"),this.logger.url?this.logger.info(ge+" log is connected"):(null!=(e=this.stateCenter.geoFencing)&&e.logreport?(this.stateCenter.logDomain=null==(e=this.stateCenter.geoFencing)?void 0:e.logreport,t=this.getMainDomain(null==(e=this.stateCenter.geoFencing)?void 0:e.logreport)):this.stateCenter.testEnvironment?(this.stateCenter.logDomain="weblogger-hk-test.zegocloud.com",t="zegocloud.com"):this.stateCenter.logDomain="weblogger".concat(this.stateCenter.appid,"-api.").concat(t),t?(e="",0===this.stateCenter.ENV?(e="wss://".concat(this.stateCenter.logDomain,"/log"),this.reporter.setConfig({serverUrl:"wss://".concat(this.stateCenter.logDomain,"/zglog/tlog")})):e="https://".concat(this.stateCenter.logDomain,"/httplog"),this.logger.setLogServer(e)):this.logger.warn(ge+" appconfig no domain"))},Fr.prototype.fetchAppConfigByTargetToken=function(e,t){return Lr(this,void 0,void 0,(function(){var r,i,A,n,o;return Mr(this,(function(s){switch(s.label){case 0:if(this.logger.info(ce+" call"),!t)return this.logger.warn(ce+" user not exist"),[2];if(r=this.getUserID(),i="",A=null,e)i=e;else{if(!(0<this.stateCenter.roomModulesList.length))return this.logger.warn(ce+" token not exist"),[2];i=this.getToken()}this.logger.roomid||this.logger.setSessionInfo(this.stateCenter.appid,"player-no-room","",t,"",this.stateCenter.sdKVersion),s.label=1;case 1:return s.trys.push([1,3,4,5]),this.netAgent.setUserInfo(t),[4,this.netAgent.getAppConfigByAgent("init",i,5e3)];case 2:return n=s.sent(),o=n.data,0===n.code&&(this.handleLogUpload(o),A=o),[3,5];case 3:return s.sent(),this.logger.error(ce+" token not validated"),[3,5];case 4:return r&&this.netAgent.setUserInfo(r),this.logger.info(ce+" call success"),[2,A];case 5:return[2]}}))}))},Fr.prototype.fetchAppConfig=function(e){return Lr(this,void 0,void 0,(function(){var t,r,i,A,n,o,a,c;return Mr(this,(function(g){switch(g.label){case 0:if(this.stateCenter.appConfigFetched)return this.logger.warn(ae+" config fetched"),[2];if(!this.getUserID())return this.logger.warn(ae+" user not exist"),[2];if(t="",e)t=e;else{if(!(0<this.stateCenter.roomModulesList.length))return this.logger.warn(ae+" token not exist"),[2];t=this.getToken()}r=this.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:""},"/sdk_config/init"),this.logger.info(oe+" initConfig etag: "+this.stateCenter.appConfigEtag),i=!!this.stateCenter.appConfig,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.netAgent.getAppConfigByAgent("init",t,5e3,this.stateCenter.appConfigEtag)];case 2:if(n=g.sent(),a=n.code,c=n.data,A=n.etag,n=n.retryCount,r.setAttributes({trigger_reason:St(this.stateCenter.appConfig?"refresh":"normal"),try_count:wt(n||0)}),r.end(),this.stateCenter.appConfigFetched=!0,this.logger.info(oe+" initConfig code:"+a+" data: "+JSON.stringify(c)+" etag: "+A),this.stateCenter.appConfigEtag!==A){if(0==Object.keys(c).length)return this.logger.info(oe+" initConfig data null"),[2];this.stateCenter.appConfig={app_config:n=c.app_config,media_config:{publish_config:o=(a=c.media_config).publish_config,play_config:a=a.play_config},speedlog_config:{charge_info_report_no_playing:(c=c.speedlog_config.charge_info_report_no_playing)||0}},this.stateCenter.appConfigEtag=A,n=JSON.stringify(this.stateCenter.appConfig),o=M(n,Y),F(z+"_"+this.getAppID()+"_"+(this.stateCenter.mode||V.modeNo),o),a=M(this.stateCenter.appConfigEtag+"",Y),F(j+"_"+this.getAppID()+"_"+(this.stateCenter.mode||V.modeNo),a)}return this.handleLogUpload(),!i&&this.stateCenter.appConfig&&this.stateCenter.actionListener("_appConfigRsp"),!this.stateCenter.netAppConfig&&this.stateCenter.appConfig&&(this.stateCenter.netAppConfig=Object.assign(this.stateCenter.appConfig),this.stateCenter.actionListener("_netAppConfigRsp",this.stateCenter.netAppConfig),this._onAppConfigUpdate)&&this._onAppConfigUpdate(this.stateCenter.netAppConfig),[3,4];case 3:return c=g.sent(),this.logger.error(oe+" fail "+JSON.stringify(c)),r.setAttributes({error:null==c?void 0:c.code}),r.end(),[20012,20008].includes(null==c?void 0:c.code)&&this.stateCenter.roomModulesList.forEach((function(e){e.roomTryHandler&&e.roomTryHandler.loginFail(b.APPID_INVALID)})),[3,4];case 4:return[2]}}))}))},Fr.prototype.getCloudSetting=function(){var e,t=this;null!=(e=this.cloudSetting)&&e.fetchMultiSetting([J,"room","rtc"]).then((function(e){var r,i;t.logger.info(oe," settingConfig "+JSON.stringify(e)),e&&(t.stateCenter.settingConfig.setSetting(null==(i=null==e?void 0:e.init)?void 0:i.setting,["remote_log_level","zip_log","detaillog_domain"]),t.stateCenter.actionListener("_settingCanFetch",null==e?void 0:e.rtc),(i=t.stateCenter.settingConfig.getSetting("remote_log_level",!0))&&(t.logger.info("".concat(oe,"  setting remote_log_level ").concat(i)),t.logger.setRemoteLogLevel(i)),void 0!==(e=t.stateCenter.settingConfig.getSetting("zip_log"))&&(t.logger.info("".concat(ie," force setting zip_log ").concat(e)),t.logger.setZipLogConfig(e,!0)),t.handleZipLogUrl(),(i=t.stateCenter.settingConfig.getSetting("unify",t.stateCenter.netHasSet))&&(t.logger.info("".concat(oe," unify ").concat(JSON.stringify(i))),e=i.enable,i=i.sdk_conn_ver,r=!0,r=!!(e&&i<=V.connectVer),!0===t.isUseNetAgent)&&!1===r&&(t.cloudSetting.setOptions({unify:!1}),"connecting"!==t.stateCenter.connectState&&(t.stateCenter.connectState="connecting",t.stateCenter.actionListener("_connectChanged","connecting")),e=Or([],t.stateCenter.roomModulesList,!0),Or([],t.stateCenter.roomModulesList,!0).forEach((function(e){e.roomHandler.logout(!0,!0)})),t.stateCenter.useNetAgent=r,e.forEach((function(e){var r;t.stateCenter.roomModulesList.push(e),e.roomTryHandler||(e.roomTryHandler=new Lt(t.logger,t.stateCenter,e)),e.roomTryHandler.init(t.stateCenter.roomRetryTime),e.roomTryHandler.initRoom(e.roomHandler,e.roomID,e.token,{userID:t.stateCenter.idName,userName:t.stateCenter.nickName},t.stateCenter.server,t.stateCenter.serverBak,e.config),null!=(r=e.roomTryHandler)&&r.startMaxTime(),e.roomTryHandler.onactive=function(r,i){r?"connected"!==t.stateCenter.connectState&&(t.stateCenter.connectState="connected",t.stateCenter.actionListener("_connectChanged","connected",{roomID:e.roomID})):(t.logger.info(oe," onactive"),e.roomHandler.transError(i),e.roomHandler.disconnectedHandle(i))},null!=(r=e.roomTryHandler)&&r.active()}))),i=t.stateCenter.settingConfig.getSetting("report_script"))&&(r=i.url,e=i.key,i=i.hash,t.logger.info("".concat(oe," report script ").concat(r," ").concat(e," ").concat(i)),t.stateCenter.reporter.loadScript(!0,r,e,i))})).catch((function(e){t.logger.warn(oe," settingConfig "+JSON.stringify(e))})),this.stateCenter.onListener("_cloudSettingNotify",(function(e,r){var i=t.cloudSetting.getEnvVariables()||{},A=t.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:""},"/cloud_setting/refresh");A.setAttributes({request_kv:ut(i),files:lt([{name:e,content:r.setting,versions:r.versions,code:null==r?void 0:r.code,message:null==r?void 0:r.message}])}),A.end(),e===J&&(t.stateCenter.settingConfig.setSetting(null==r?void 0:r.setting,["remote_log_level"]),i=t.stateCenter.settingConfig.getSetting("remote_log_level"))&&(t.logger.info(oe," setting remote_log_level "+i),t.logger.setRemoteLogLevel(i))}))},Fr.prototype.cloudReportNotify=function(e,t,r){0!==(null==r?void 0:r.code)||!1===(null==r?void 0:r.polling)?"request_start"===t?this.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:ht,par:e+""},ht,!0):"request_end"===t&&this.stateCenter.reporter.spanEnd({key:ht,par:e+""},{request_detail:dt(null==r?void 0:r.reportData),files:pt(null==r?void 0:r.files),code:null==r?void 0:r.code,request_params:null==r?void 0:r.params,request_kv:null==r?void 0:r.requestKV}):this.logger.info("zm.crn not report")},Fr.prototype.loginReport=function(e,t,r,i,A){var n=this,o=Ye,a=this.stateCenter.reporter.createSpan(s.I,{key:Fe.event},{key:""},o.event);return a.setAttributes({svr_env:o.svr_env(this.stateCenter.testEnvironment?"test":"online"),token:o.token(i)}),A&&("boolean"==typeof A.userUpdate&&a.setAttribute("user_state_update",o.user_state_update(A.userUpdate?1:0)),"number"==typeof A.maxMemberCount)&&a.setAttributes({max_member_cnt:o.max_member_cnt(A.maxMemberCount)}),{interResolve:function(t){var i=n.getRoomSessionID(r),A=n.getRoomModules(r),s=n.getSessionId(r);a.setAttributes({room_id:o.room_id(r),room_sid_string:o.room_sid_string(i),liveroom_sid_string:o.liveroom_sid_string(s),try_cnt:o.try_cnt(null==(i=null==A?void 0:A.roomTryHandler)?void 0:i.retryActiveCount),server:o.server(null==(s=null==A?void 0:A.roomHandler)?void 0:s.server),room_mode:o.room_mode(n.stateCenter.isMultiRoom?1:0),role:o.role(n.stateCenter.role),audience_create_room:o.audience_create_room(n.stateCenter.roomCreateFlag?1:0),max_member_cnt:o.max_member_cnt((null==A?void 0:A.maxMemberCount)||0)}),a.end(),e(t)},interReject:function(e,i){var A,s;void 0===i&&(i=""),a.setAttributes({room_id:o.room_id(r)}),e.code<2e9&&1e9<e.code||e.code<1e6?(A=x.decodeServerError(e.code,e.msg),s=x.getLiveRoomError(e.code,n.isUseNetAgent)):A={code:e.code,message:e.msg},A&&n.stateCenter.reporter.setError(a,{code:A.code,msg:A.message+i}),s&&b[s]&&(e.code=b[s].code,e.msg.includes("unknown"))&&(e.msg=b[s].msg),t(e.code&&e.msg&&""!==i?{code:e.code,msg:e.msg+i}:e)},loginSpan:a}},Fr.prototype.logoutRoom=function(e){var t,r=this;this.logger.info(se+" call by user "+e),this.stateCenter.roomModulesList.length?void 0===e?(Or([],this.stateCenter.roomModulesList,!0).forEach((function(e){r.logoutSpan(e),e.roomHandler.logout(!0)})),this.cloudSetting.uninit()):"string"!=typeof e||""==e?(this.logger.error(se+" roomID must be string and not empty"),this.logoutSpan(void 0,Ze.error.INPUT_PARAM)):(t=this.getRoomModules(e))?(this.logoutSpan(t),t.roomHandler.logout(),0===this.stateCenter.roomModulesList.length&&this.cloudSetting.uninit()):(this.logger.error(se+" room not exist"),this.logoutSpan(void 0,Ze.error.ROOM_NOT_EXIST,e)):this.logger.warn(se+" no room")},Fr.prototype.uploadLog=function(){var e=this;return new Promise((function(t,r){e.logger.info("zm.zip.udlg call"),e.logger.uploadStorageLog().then((function(){e.logger.info("zm.zip.udlg call success"),t({errorCode:0,extendedData:"upload logs success!"})})).catch((function(t){e.logger.error("zm.zip.udlg upload zip log failed, result: "+((null==t?void 0:t.message)||"unknown")),r({errorCode:b.UPLOAD_LOG_ERROR.code,extendedData:b.UPLOAD_LOG_ERROR.msg+", result: "+((null==t?void 0:t.message)||"unknown")})}))}))},Fr.prototype.sendCustomCommand=function(e,t,r){return new Promise((function(e,t){console.error(_),t()}))},Fr.prototype._sendCustomCommand=function(e,t,r){return new Promise((function(e,t){console.error(_),t()}))},Fr.prototype.sendBroadcastMessage=function(e,t){return new Promise((function(e,t){console.error(_),t()}))},Fr.prototype._sendBroadcastMessage=function(e,t,r,i){return void 0===r&&(r=1),void 0===i&&(i=1),new Promise((function(e,t){console.error(_),t()}))},Fr.prototype.setRoomExtraInfo=function(e,t,r){return new Promise((function(e,t){console.error(_),t()}))},Fr.prototype._setRoomExtraInfo=function(e,t,r){return new Promise((function(e,t){console.error(_),t()}))},Fr.prototype.sendBarrageMessage=function(e,t){return new Promise((function(e,t){console.error(_),t()}))},Fr.prototype._sendBarrageMessage=function(e,t,r,i){return void 0===r&&(r=1),void 0===i&&(i=1),new Promise((function(e,t){console.error(_),t()}))},Fr.prototype.sendRelayMessage=function(e,t,r,i,A){console.error(_)},Fr.prototype.requestJoinLive=function(e,t,r,i,A){return console.error(_),!1},Fr.prototype.inviteJoinLive=function(e,t,r,i,A){return console.error(_),!1},Fr.prototype.endJoinLive=function(e,t,r,i){return console.error(_),!1},Fr.prototype.respondJoinLive=function(e,t,r,i,A){return console.error(_),!1},Fr.prototype.getVersion=function(){return this.version},Fr.prototype.setSdkBizVersion=function(e){"string"==typeof e&&""!==e&&(this.stateCenter.bizVersion=e)},Fr.prototype.on=function(e,t){var r=this.stateCenter.reporter.createSpan(s.H,{key:Ge},{key:""},qe.event);return r.setAttributes({listener:qe.listener(e)}),this.stateCenter.listenerList[e]?"function"!=typeof t?(this.logger.error(de+" listener callBack must be funciton"),this.stateCenter.reporter.setError(r,qe.error.INPUT_PARAM," listener callBack must be function"),!1):(-1==this.stateCenter.listenerList[e].indexOf(t)&&this.stateCenter.listenerList[e].push(t),r.end(),!0):(this.logger.error(de+" event "+e+" no found"),this.stateCenter.reporter.setError(r,qe.error.INPUT_PARAM," event "+e+" no found"),!1)},Fr.prototype.off=function(e,t){var r,i=this.stateCenter.reporter.createSpan(s.H,{key:Ge},{key:""},"/sdk/off_listener");return i.setAttributes({listener:Je(e)}),this.stateCenter.listenerList[e]?(r=this.stateCenter.listenerList[e],t?r.splice(r.indexOf(t),1):this.stateCenter.listenerList[e]=[],i.end(),!0):(this.logger.error("zm.off listener no found"),this.stateCenter.reporter.setError(i,qe.error.INPUT_PARAM," event "+e+" no found"),!1)},Fr.prototype._on=function(e,t){return this.stateCenter.listenerList[e]?"function"!=typeof t?(this.logger.error(de+" listener callBack must be funciton"),!1):(-1==this.stateCenter.listenerList[e].indexOf(t)&&this.stateCenter.listenerList[e].push(t),!0):(this.logger.error(de+" event "+e+" no found"),!1)},Fr.prototype._off=function(e,t){var r;return this.stateCenter.listenerList[e]?(r=this.stateCenter.listenerList[e],t?r.splice(r.indexOf(t),1):this.stateCenter.listenerList[e]=[],!0):(this.logger.error("zm.off listener no found"),!1)},Fr.prototype.isTestEnvironment=function(){return this.stateCenter.testEnvironment},Fr.prototype.isLogin=function(e){return!!(e=this.getRoomModules(e)||this.stateCenter.roomModulesList[0])&&e.isLogin()},Fr.prototype.getMultiRoom=function(){return this.stateCenter.isMultiRoom},Fr.prototype.getAppID=function(){return this.stateCenter.appid},Fr.prototype.getUserID=function(){return this.stateCenter.idName},Fr.prototype.getUserName=function(){return this.stateCenter.nickName},Fr.prototype.getToken=function(e){return(this.getRoomModules(e)||this.stateCenter.roomModulesList[0]).token},Fr.prototype.setRoomCreateFlag=function(e){this.stateCenter.roomCreateFlag=e},Fr.prototype.setRole=function(e){this.stateCenter.role=e},Fr.prototype.getSessionId=function(e){return(e=this.getRoomModules(e)||this.stateCenter.roomModulesList[0])?e.userSidString:"0"},Fr.prototype.getRoomSessionID=function(e){return(e=this.getRoomModules(e)||this.stateCenter.roomModulesList[0])?e.roomSidString:"0"},Fr.prototype.getAppConfig=function(){return this.stateCenter.appConfig},Fr.prototype.setTestPackageSize=function(e){this.cloudSetting.zegoSetting.settingFetchHandler.testNetPackageSize=e,this.stateCenter.testNetPackageSize=e},Fr.prototype.setAccess=function(e){this.stateCenter.configOK&&(this.stateCenter.netHasSet=!0,this.stateCenter.useNetAgent=e,this.stateCenter.useNetAgent=this.getSettingUnify(!0),this.netAgent.setAccess(this.isUseNetAgent),this.cloudSetting.setOptions({unify:this.isUseNetAgent}))},Fr.prototype.enableMultiRoom=function(e){var t=this.stateCenter.reporter.createSpan(s.H,{key:Fe.event},{key:""},ct.event);return"boolean"!=typeof e?(this.logger.error("zm.emr param must be boolean"),this.stateCenter.reporter.setError(t,ct.error.kAlreadyLoginError),!1):(t.setAttribute("is_multi",ct.is_multi(e)),0<this.stateCenter.roomModulesList.length||this.stateCenter.setMultiRoom?(this.logger.error("zm.emr multi room can only be set once before first login"),this.stateCenter.reporter.setError(t,ct.error.kInvalidParamError),!1):(t.end(),this.stateCenter.isMultiRoom=e,this.stateCenter.setMultiRoom=!0))},Fr.prototype.getRoomModules=function(e){return this.stateCenter.roomModulesList.find((function(t){return t.roomID==e}))},Fr.prototype._onAppConfigUpdate=function(e){},Fr.prototype._onBeforePageUnload=function(){},Fr.use=function(e){switch(e.type){case"message":case"live":e.install(Fr,zt,Xt,br)}},Fr.setGeoFence=function(e,t){if(![0,1,2].includes(e))throw new Error("GeoFencing set Error");if(!t.every((function(e){return Z.find((function(t){return t===e}))})))throw new Error("GeoFencing set Error");Fr.geoFenceType=e,Fr.geoFenceAreaList=t},Fr.setEngineOptions=function(e){if(e.geoFenceType){if(![0,1,2].includes(e.geoFenceType))throw new Error("GeoFencing set Error");Fr.geoFenceType=e.geoFenceType}if(e.geoFenceAreaList){if(!e.geoFenceAreaList.every((function(e){return W.find((function(t){return t.id===e}))})))throw new Error("GeoFencing set Error");Fr.geoFenceAreaList=e.geoFenceAreaList}Fr.engineOptions=e},Fr.prototype.resetRoomTokenTimer=function(e,t){(e=this.getRoomModules(e)||this.stateCenter.roomModulesList[0])&&t&&0<t&&e.roomHandler.resetTokenTimer(1e3*t)},Fr.prototype.isDisConnect=function(){return(this.isUseNetAgent?this.liveRoomHandler:this.service).isDisConnect()},Fr.prototype.sendMessage=function(e,t,r,i){(this.isUseNetAgent?this.liveRoomHandler:this.service).sendMessage(e,t,r,i)},Fr.prototype.getNetworkInfo=function(){return this.netAgent.getNTP()},Fr.prototype.setProtoFormat=function(e){if(!["json","pb"].includes(e=void 0===e?"json":e))throw new Error("Failed to execute 'setProtoFormat': Arguments 'format' must be 'json' or 'pb'.");this.stateCenter.protoFormat=e},Fr.prototype.setSdkLoginRelateService=function(e){Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))&&(this.stateCenter.relateService=e)},Fr.prototype.sendMessageByService=function(e,t,r,i,A,n){return this.service.sendMessage(e,t,r,i,A,n)},Fr.prototype.getHeader=function(e){var t=this.stateCenter.roomModulesList[0];if(t&&t.isLogin())return this.service.getHeader(e,t.sessionID,t.roomID,t=t.roomSessionID);this.logger.error("zm.gh room no found or no login")},Fr.prototype.sendPB=function(e){return e instanceof Uint8Array?this.service.sendPB(e):(this.logger.error("zm.spb type error"),!1)},Fr.prototype.onPushBizChannel=function(e){e&&this.service.on("push_biz_channel",e)},Fr.prototype.getRoomID=function(){return this.stateCenter.roomid},Fr.prototype.getServerTimeOffset=function(){return this.stateCenter.serverTimeOffset},Fr.prototype.getReqHead=function(e){return e="string"==typeof e&&""!==e&&this.getRoomModules(e)||this.stateCenter.roomModulesList[0],this.liveRoomHandler.getReqHead(e)},Fr.prototype.sendSwitchMessage=function(e,t){throw this.logger.error("".concat("zm.ssm"," ").concat(b.WHITE_BOARD_VERSION_ERROR.msg)),b.WHITE_BOARD_VERSION_ERROR},Fr.prototype.onSwitchMessage=function(e){e&&this.liveRoomHandler&&(this.liveRoomHandler.onSwitchMessage=e)},Fr.prototype.onAppConfigUpdate=function(e){e&&(this._onAppConfigUpdate=e)},Fr.prototype.onBeforePageUnload=function(e){e&&(this._onBeforePageUnload=e)},Fr.prototype.getProtoVer=function(){return i.SWITCH_TWO},Fr.prototype.sendBusinessMessage=function(e,t,r){return"number"==typeof e&&t?this.liveRoomHandler.sendMessage(e,t,void 0,void 0,r,void 0,!1):-1},Fr.prototype.logoutSpan=function(e,t,r){var i=this,A=this.stateCenter.reporter.createSpan(s.I,{key:Fe.event},{key:Ze.event,par:null==e?void 0:e.roomID},Ze.event,!0);A.setAttributes({is_multi:Ze.is_multi(this.stateCenter.isMultiRoom),is_send_cmd_net:Ze.is_send_cmd_net(!0)}),e?A.setAttributes({room_id:Ze.room_id(null==e?void 0:e.roomID),room_sid_string:Ze.room_sid_string(null==e?void 0:e.roomSidString),liveroom_sid_string:Ze.liveroom_sid_string(null==e?void 0:e.userSidString)}):"string"==typeof r&&A.setAttributes({room_id:Ze.room_id(r)}),t?this.stateCenter.reporter.setError(A,t):A.end(),setTimeout((function(){i.reporter.flush()}),200)},Fr.prototype.getMsgSpan=function(e,t,r){return this.stateCenter.reporter.createSpan(s.H,{key:Ye.event,par:t},{key:e,par:t},e,r=void 0!==r&&r)},Fr.prototype.updateTimeOffsetInterval=function(){var e=this;"number"==typeof this.netAgent.timeOffset&&this.stateCenter.reporter.setTimeOffset(this.netAgent.timeOffset),this.timeOffsetUpdateTimer=setTimeout((function(){e.updateTimeOffsetInterval()}),9e5)},Fr.prototype.setLocalGeoFencing=function(){var e;null!=(e=this.stateCenter.netGeoFencing)&&e.id&&null!=(e=this.stateCenter.netGeoFencing)&&e.accesshub&&(e=M(JSON.stringify(this.stateCenter.netGeoFencing),Y),F("z_geos_"+this.stateCenter.appid+"_"+(this.stateCenter.mode||V.modeNo),e),this.stateCenter.netGeoFencing={})},Fr.prototype.getLocalGeoFencing=function(){var e=G("z_geos_"+this.stateCenter.appid+"_"+(this.stateCenter.mode||V.modeNo));if(e){if(e=O(e,Y))try{return JSON.parse(e)}catch(e){this.logger.warn("zm.glgf local geo descrypt fail")}}else this.logger.info("zm.glgf no local geo");return null},Fr.prototype.getGeoFencingIDAndDomain=function(e,t){var r=[];return 1===e?t.forEach((function(e){var t=W.find((function(t){return t.id===e}));t&&r.push(t)})):2===e&&(r=JSON.parse(JSON.stringify(W)),t.forEach((function(e){var t=W.find((function(t){return t.id===e}));t&&(r=r.filter((function(e){return e.id!==(null==t?void 0:t.id)})),t.relative_geofencings.forEach((function(e){r=r.filter((function(t){return t.id!==e}))})))}))),0<r.length?r:null},Fr.rtmVersion="2.0.0",Fr);function Fr(e,t,r,i,n,o,c,g){var u,l,p,C=this,I=(this.logger=r,this.dataReport=i,this.reporter=n,this.version=o,this.options=g,this.roomLoginResponseListener=function(){clearTimeout(C.cloudSettingTimer),C.cloudSettingTimer=setTimeout((function(){C.logger.info(oe+" fetch cloud setting"),C.getCloudSetting()}),100)},this.stateCenter=new Ft(this.logger,this.dataReport),this.stateCenter.ENV=c,this.stateCenter.product=q.product,this.cloudSetting=new Nr,this.getReportSeq=d,this.getSeq=h,this.initCallback(),this.stateCenter.deviceID=x.generateUUID(c),this.logger.info("".concat(ie," device ID is ").concat(this.stateCenter.deviceID)),this.reporter.init(e,c,this.stateCenter.deviceID),this.reporter.setLogger(this.logger),this.stateCenter.reporter=this.reporter,Fe),f=this.stateCenter.reporter.createSpan(s.H,{key:""},{key:I.event},I.event,!0);0!=c&&1!=c||this.setDebug(t),r="Express",null!=(i=this.options)&&i.reportData&&(u=null==(o=null==(n=this.options)?void 0:n.reportData)?void 0:o.version,r=(null==(i=null==(g=this.options)?void 0:g.reportData)?void 0:i.project)||r),f.setAttributes({biz_type:I.biz_type(0),project:I.project(r),servers:I.servers("string"==typeof t?[t]:t),liveroom_version:I.liveroom_version(u),is_from_cache:I.is_from_cache(!1),sev_env:I.sev_env(this.stateCenter.testEnvironment?"test":"online")}),x.checkConfigParam(e,t,this.logger)?(this.stateCenter.appid=e,this.stateCenter.configOK=!0,this.stateCenter.sdKVersion=this.version,this.stateCenter.testEnvironment&&(this.stateCenter.mode=B.MODE_TEST),this.netAgent=new w,this.logger.setSessionInfo(this.stateCenter.appid,"","","","",this.version),this.netAgent.init(),this.netAgent.setLogger(this.logger),n={appID:this.stateCenter.appid,env:this.stateCenter.ENV,mode:this.stateCenter.mode},Fr.geoFenceType&&Fr.geoFenceAreaList&&(n.geoFencing={type:Fr.geoFenceType,list:Fr.geoFenceAreaList}),this.netAgent.setAppInfo(n),this.liveRoomHandler=new br(this.logger,this.stateCenter,this.netAgent,this.dataReport,this),this.service=new Xt(this.stateCenter,this.logger,this),o="",0===c?o="rtc":1===c&&(o="ali"),this.stateCenter.settingConfig=new er,this.cloudSetting.setLog(this.logger),this.cloudSetting.init({productNum:1,appID:e,env:c,pollingNotify:function(e,t){C.logger.info(ie," setting file changed "+e+" "+JSON.stringify(t)),C.stateCenter.actionListener("_cloudSettingNotify",e,t)},reportNotify:this.cloudReportNotify.bind(this),online:!this.stateCenter.testEnvironment,unify:this.isUseNetAgent,connection:this.netAgent}),(g=this.stateCenter.settingConfig.getSetting("remote_log_level"))&&(this.logger.info("".concat(ie," setting remote_log_level default ").concat(g)),this.logger.setRemoteLogLevel(g)),void 0!==(i=this.stateCenter.settingConfig.getSetting("zip_log"))&&(this.logger.info("".concat(ie," setting zip_log default ").concat(i)),this.logger.setZipLogConfig(i)),this.cloudSetting.setEnvVariable("environment",o),r=this.cloudSetting.getSettingCache(J),u=this.cloudSetting.getSettingCache("room"),l=!1,p=setTimeout((function(){C.logger.warn("".concat(ie," time out, get cache settings failed!")),C.isUseNetAgent&&(l=!0,C.createNetAgent(),C.getStoreAppConfig()),f.setAttributes({use_na:I.use_na(C.isUseNetAgent?1:0)}),f.end()}),3e3),Promise.all([r,u]).then((function(r){p&&clearTimeout(p);var i=null==r?void 0:r[0],A=(void 0!==(C.stateCenter.settingConfig.setSetting(null==i?void 0:i.setting),C.stateCenter.useNetAgent=C.getSettingUnify(C.stateCenter.netHasSet),C.cloudSetting.setOptions({unify:C.isUseNetAgent}),C.isUseNetAgent&&!l&&(C.createNetAgent(),C.getStoreAppConfig()),(o=C.stateCenter.settingConfig.getSetting("remote_log_level",!0))&&(C.logger.info("".concat(ie,"  setting remote_log_level ").concat(o)),C.logger.setRemoteLogLevel(o)),C.handleZipLogUrl(),o=C.stateCenter.settingConfig.getSetting("zip_log"))&&(C.logger.info("".concat(ie," setting zip_log ").concat(o)),C.logger.setZipLogConfig(o)),(o=C.stateCenter.settingConfig.getSetting("report_script"))?(A=o.url,n=o.key,o=o.hash,C.logger.info("".concat(ie," report script ").concat(A," ").concat(n," ").concat(o)),C.stateCenter.reporter.loadScript(!1,A,n,o),f.setAttributes({lua_md5:I.lua_md5(o)})):C.stateCenter.reporter.loadScript(!1,"","",""),null==r?void 0:r[1]),n=(C.stateCenter.settingConfig.setSetting(null==A?void 0:A.setting),C.stateCenter.reporter.createSpan(s.H,{key:I.event},{key:""},"/cloud_setting/cache")),o=(n.setAttributes({files:gt([{name:J,content:JSON.stringify(null==i?void 0:i.setting),versions:JSON.stringify(null==i?void 0:i.versions),code:0,message:""},{name:"room",content:JSON.stringify(null==A?void 0:A.setting),versions:JSON.stringify(null==A?void 0:A.versions),code:0,message:""}])}),n.end(),f.setAttributes({use_na:I.use_na(C.isUseNetAgent?1:0)}),f.end(),Array.isArray(t)?t[0]:t);if(!C.isUseNetAgent&&!P(o,e))throw C.logger.error("".concat(ie," the server does not match the appID")),new Error("The server does not match the appID")})).catch((function(e){if(p&&clearTimeout(p),f.setAttributes({use_na:I.use_na(C.isUseNetAgent?1:0)}),f.end(),C.logger.warn("".concat(ie,"  initConfig ").concat(JSON.stringify(e))),(null==e?void 0:e.code)===b.GEO_SET_ERROR.code)throw Error("GeoFencing set Error")})),"string"==typeof t?(this.stateCenter.server=t,this.stateCenter.serverBak=t):Array.isArray(t)&&0<t.length&&(this.stateCenter.server=t[0],this.stateCenter.serverBak=t[1]||t[0]),this.logger.info("".concat(ie,"  ").concat(null===navigator||void 0===navigator?void 0:navigator.appVersion," ").concat(this.version," rtmVersion: ").concat(Fr.rtmVersion," logVersion:").concat(A.ZegoLogger.logVersion)),this.bindWindowListener(),this.stateCenter.networkState=!navigator||navigator.onLine?a.online:a.offline,n="Firefox"===T()?null===navigator||void 0===navigator?void 0:navigator.userAgent:null===navigator||void 0===navigator?void 0:navigator.appVersion,f.setAttribute("sys_info",n||""),this.initSpans(),this.logger.setSessionInfo(this.stateCenter.appid,"","","","",this.version)):(this.logger.error("".concat(ie," init sdk error")),this.stateCenter.reporter.setError(f,I.error.kInvalidParamError)),this.stateCenter.onListener("roomLoginResponse",this.roomLoginResponseListener)}var Gr=r(7),Ur=function(){return(Ur=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},xr=(Hr.prototype.init=function(e,t,r){var i=this;this.tracer.init({product:this.product,version:"1.0.0",env:t,appID:e,deviceID:r,importantLevel:q.importLevel,levels:q.levels,bps:q.bps,spanStart:function(e){try{"function"==typeof scriptSpanStart&&scriptSpanStart(i.commonStates,i.tracer,e)}catch(e){i.logger.warn("zm.tc.ii dy span start ",JSON.stringify(e))}},spanBeforeEnd:function(e){e.setAttribute("ntype_end",L())},spanEnd:function(e,t){try{"function"==typeof scriptSpanEnd&&scriptSpanEnd(i.commonStates,i.tracer,e)}catch(e){i.logger.warn("zm.tc.ii dy span end ",JSON.stringify(e))}},resources:{product:this.product,appid:e,device_id:r,console:0==t?"rtc":"ali"}})},Hr.prototype.setConfig=function(e){this.tracer.setConfig(e)},Hr.prototype.loadScript=function(e,t,r,i){return function(e,t,r,i){return new(r=r||Promise)((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var A;return function(e,t){var r,i,A,n={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){var c=[s,a];if(r)throw new TypeError("Generator is already executing.");for(;n=o&&c[o=0]?0:n;)try{if(r=1,i&&(A=2&c[0]?i.return:c[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,c[1])).done)return A;switch(i=0,(c=A?[2&c[0],A.value]:c)[0]){case 0:case 1:A=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(A=0<(A=n.trys).length&&A[A.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!A||c[1]>A[0]&&c[1]<A[3]))n.label=c[1];else if(6===c[0]&&n.label<A[1])n.label=A[1],A=c;else{if(!(A&&n.label<A[2])){A[2]&&n.ops.pop(),n.trys.pop();continue}n.label=A[2],n.ops.push(c)}}c=t.call(e,n)}catch(a){c=[6,a],i=0}finally{r=A=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.tracer.loadJs(e,t,r,i,"\nfunction scriptSpanStart(states, tracer, span) {\n    \n}\nfunction scriptSpanEnd(states, tracer, span) {\n    if (span['tags']['msg_content']) {\n        span['tags']['msg_content_size'] = span['tags']['msg_content'].length;\n        delete span['tags']['msg_content'];\n    }\n    delete span['tags']['resp'];\n    const filterSpans = ['/rtc/login', '/rtc/hb', '/rtc/recv_remote_stream'];\n    if (filterSpans.includes(span.name)) {\n        console.log(span.name + ' do not report');\n        span.droped = true;\n    }\n}\nfunction scriptInit(states, tracer) {\n\n}\n\n",{})];case 1:return n.sent(),"function"==typeof scriptInit&&scriptInit(this.commonStates,this.tracer),[3,3];case 2:return A=n.sent(),this.logger.warn("zm.tc.ls"," load script fail "+JSON.stringify(A)),[3,3];case 3:return[2]}}))}))},Hr.prototype.setReporterInfo=function(e,t){var r=new Map;r.set("userID",e),r.set("token",t),this.tracer.startReport(r)},Hr.prototype.flush=function(e){this.tracer.flush(e)},Hr.prototype.destroy=function(){this.tracer.destroy()},Hr.prototype.setCommonStates=function(e){this.commonStates=e},Hr.prototype.setResource=function(e){this.tracer.setResource(e)},Hr.prototype.setCommonAttributes=function(e){this.commonAttrs=Object.assign({},this.commonAttrs,e)},Hr.prototype.createSpan=function(e,t,r){return(e=this.tracer.createSpan(e,t,{parent:r})).setAttributes(Ur({ntype:L(),error:0,message:""},this.commonAttrs)),e},Hr.prototype.spanEnd=function(e,t){e&&t&&e.setAttributes(Ur({},t)),e&&e.end()},Hr.prototype.spanSetAttributes=function(e,t){e&&e.setAttributes(t)},Hr.prototype.spanAppendAttribute=function(e,t,r){e&&e.appendAttribute(t,r)},Hr.prototype.setError=function(e,t,r){e.setAttributes({error:t.code||t.errorCode,message:(t.msg||t.message||t.extendedData)+" "+(r=void 0===r?"":r)}),e.end()},Hr.prototype.setLogger=function(e){this.tracer.setLogger(e)},Hr.prototype.setTimeOffset=function(e){this.tracer.setTimeOffset(e)},Hr.prototype.setUnloadState=function(e){this.isUnload=!0,this.tracer.setUnloadState(e)},Hr.prototype.setNetStateCheck=function(){this.tracer.setNetStateCheck()},Hr);function Hr(e){this.logger=e,this.product=q.product,this.commonAttrs={},this.commonStates={},this.isUnload=!1,new Gr.DynamicCode,this.tracer=new Gr.ZegoTracer,this.tracer.setSampleConfig({level:s.L})}var qr=["/sdk/start_publish","/publish/start","/publish/restart"],Jr=["/sdk/start_play","/play/start","/play/restart"],Yr=(Kr.prototype.init=function(e,t,r){this.tracerHandler.init(e,t,r)},Kr.prototype.setConfig=function(e){this.tracerHandler.setConfig(e)},Kr.prototype.loadScript=function(e,t,r,i){return this.tracerHandler.loadScript(e,t,r,i)},Kr.prototype.setReporterInfo=function(e,t){this.tracerHandler.setReporterInfo(e,t)},Kr.prototype.flush=function(e){this.tracerHandler.flush(e)},Kr.prototype.destroy=function(){this.tracerHandler.destroy()},Kr.prototype.setCommonStates=function(e){this.tracerHandler.setCommonStates(e)},Kr.prototype.setResource=function(e){this.tracerHandler.setResource(e)},Kr.prototype.setCommonAttributes=function(e){this.tracerHandler.setCommonAttributes(e)},Kr.prototype.setPublicPros=function(e){this.publicPros=Object.assign({},this.publicPros,e)},Kr.prototype.createSpan=function(e,t,r,i,A){var n;t&&t.key&&t.par?(o=t.par1?"_"+t.par1:"",!(n=null==(n=this.reportList[t.key])?void 0:n[t.par+o])&&t.bak_key&&(n=null==(s=this.reportList[t.bak_key])?void 0:s[t.par+o])):t&&!(n=this.reportList[t.key])&&t.bak_key&&(n=this.reportList[t.bak_key]);var o,s=this.tracerHandler.createSpan(e,i,n=n||this.reportList[Fe.event]);return"/sdk/login"===t.key&&(s.setAttribute("room_id",t.par),this.publicPros[t.par])&&s.setAttributes(this.publicPros[t.par]),(qr.includes(t.key)||Jr.includes(t.key))&&s.setAttribute("stream_id",t.par),qr.includes(t.key)&&this.publicPros["_publish_"+t.par]&&s.setAttributes(this.publicPros["_publish_"+t.par]),Jr.includes(t.key)&&this.publicPros["_play_"+t.par]&&s.setAttributes(this.publicPros["_play_"+t.par]),A&&(r.par?(this.reportList[r.key]||(this.reportList[r.key]={}),this.reportList[r.key][r.par+(o=r.par1?"_"+r.par1:"")]=s):this.reportList[r.key]=s),s},Kr.prototype.setSpanInMap=function(e,t){t.par?(this.reportList[t.key]||(this.reportList[t.key]={}),this.reportList[t.key][t.par+(t.par2?"_"+t.par2:"")]=e):this.reportList[t.key]=e},Kr.prototype.spanEnd=function(e,t,r){var i;e.par?(i=e.par1?"_"+e.par1:"",i=this.reportList[e.key]&&this.reportList[e.key][e.par+i],this.reportList[e.key]&&!r&&delete this.reportList[e.key][e.par]):(i=this.reportList[e.key],r||delete this.reportList[e.key]),this.tracerHandler.spanEnd(i,t)},Kr.prototype.spanSetAttributes=function(e,t){var r,i;e.par?(r=e.par1?"_"+e.par1:"",!(i=this.reportList[e.key]&&this.reportList[e.key][e.par+r])&&e.bak_key&&(i=this.reportList[e.bak_key]&&this.reportList[e.bak_key][e.par+r])):!(i=this.reportList[e.key])&&e.bak_key&&(i=this.reportList[e.key]),this.tracerHandler.spanSetAttributes(i,t)},Kr.prototype.spanAppendAttribute=function(e,t,r){var i,A;e.par?(i=e.par1?"_"+e.par1:"",!(A=this.reportList[e.key]&&this.reportList[e.key][e.par+i])&&e.bak_key&&(A=this.reportList[e.bak_key]&&this.reportList[e.bak_key][e.par+i])):!(A=this.reportList[e.key])&&e.bak_key&&(A=this.reportList[e.key]),this.tracerHandler.spanAppendAttribute(A,t,r)},Kr.prototype.setError=function(e,t,r){this.tracerHandler.setError(e,t,r)},Kr.prototype.setLogger=function(e){this.tracerHandler.setLogger(e)},Kr.prototype.setTimeOffset=function(e){this.tracerHandler.setTimeOffset(e)},Kr.prototype.setUnloadState=function(e){this.tracerHandler.setUnloadState(e)},Kr.prototype.setNetStateCheck=function(){this.tracerHandler.setNetStateCheck()},Kr);function Kr(e){this.logger=e,this.reportList={},this.publicPros={},this.tracerHandler=new xr(e)}jr.prototype.enableMultiRoom=function(e){return this.zegoWebRTM.enableMultiRoom(e)},jr.prototype.loginRoom=function(e,t,r,i){return this.zegoWebRTM.loginRoom(e,t,r,i)},jr.prototype.logoutRoom=function(e){return this.zegoWebRTM.logoutRoom(e)},jr.prototype.renewToken=function(e,t){return this.zegoWebRTM.renewToken(e,t)},jr.prototype.sendBarrageMessage=function(e,t){return this.zegoWebRTM.sendBarrageMessage(e,t)},jr.prototype.sendBroadcastMessage=function(e,t){return this.zegoWebRTM.sendBroadcastMessage(e,t)},jr.prototype.sendCustomCommand=function(e,t,r){return this.zegoWebRTM.sendCustomCommand(e,t,r)},jr.prototype.setRoomExtraInfo=function(e,t,r){return this.zegoWebRTM.setRoomExtraInfo(e,t,r)},jr.prototype.setLogConfig=function(e){return this.zegoWebRTM.setLogConfig(e)},jr.prototype.setDebugVerbose=function(e){return this.zegoWebRTM.setDebugVerbose(e)},jr.prototype.on=function(e,t){return this.zegoWebRTM.on(e,t)},jr.prototype.getVersion=function(){return this.zegoWebRTM.getVersion()},jr.prototype.off=function(e,t){return this.zegoWebRTM.off(e,t)},jr.use=function(e){Pr.use(e)},jr.setGeoFence=function(e,t){Pr.setGeoFence(e,t)},jr.setEngineOptions=function(e){Pr.setEngineOptions(e)},jr.version="2.0.0";var zr=jr;function jr(e,t,r,i){this.logger=new A.ZegoLogger(r=void 0===r?0:r),this.dataReport=new A.ZegoDataReport(this.logger),this.reporter=new Yr(this.logger),this.zegoWebRTM=new Pr(e,t,this.logger,this.dataReport,this.reporter,jr.version,r,i)}}],A={},r.m=i,r.c=A,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var A in e)r.d(i,A,function(t){return e[t]}.bind(null,A));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19);function r(e){var t;return(A[e]||(t=A[e]={i:e,l:!1,exports:{}},i[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}var i,A}(r(782),r(13))},9869:function(e){"undefined"!=typeof self&&self,e.exports=function(){return t={21:function(e,t,r){"use strict";function i(e){return e}r.r(t);var A="zm.lv.ssg",n="zm.lv.pss",o="/liveroom/send_end_join_live",s=i,a=i,c="/liveroom/send_invite_join_live",g=i,u=i,l="/liveroom/send_join_live_result",h=i,d=i,p="/liveroom/send_request_join_live",C=i,I=i,f={code:1002014,msg:"room not exist"},E={code:1002099,msg:"room inner error"},Q=(B.prototype.resetLiveHandler=function(){this.joinLiveCallbackMap={},this.joinLiveRequestMap={}},B.prototype.getSignalCmdContent=function(e,t,r){return e={request_id:e,room_id:this.room.roomID,from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,to_userid:t},null!=r&&(e.result=r),JSON.stringify(e)},B.prototype.requestJoinLive=function(e,t,r,i){var A,n=this.stateCenter.getRequestId(),o=this.getSignalCmdContent(n,e);return null!=i&&(this.stateCenter.reporter.spanSetAttributes({key:p,par:null==(A=this.room)?void 0:A.roomID},{request_id:I(n)}),this.joinLiveCallbackMap[n]=i,this.sendSignalCmd(1001,o,e,t,r),!0)},B.prototype.sendSignalCmd=function(e,t,r,i,n){var o=this;this.room.isLogin()?((this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendSignalCmd({sub_cmd:e,signal_msg:t,dest_id_name:[r]},(function(e){i&&i(e.header.seq)}),(function(e){var t=E;e.header&&e.body?n&&n(o.rtm.getServerError(e.body.err_code),e.header.seq):(e.code&&e.msg&&(t=e),n&&n(t,0))}),this.room),this.logger.info(A+" call success"+e)):this.logger.error(A+" state error")},B.prototype.inviteJoinLive=function(e,t,r,i){var A,n=this.stateCenter.getRequestId(),o=this.getSignalCmdContent(n,e);return null!=i&&(this.stateCenter.reporter.spanSetAttributes({key:c,par:null==(A=this.room)?void 0:A.roomID},{request_id:u(n)}),this.joinLiveCallbackMap[n]=i,this.sendSignalCmd(1003,o,e,t,r),!0)},B.prototype.endJoinLive=function(e,t,r){var i,A=this.stateCenter.getRequestId(),n=this.getSignalCmdContent(A,e);return this.stateCenter.reporter.spanSetAttributes({key:o,par:null==(i=this.room)?void 0:i.roomID},{request_id:a(A)}),this.sendSignalCmd(1004,n,e,t,r),!0},B.prototype.respondJoinLive=function(e,t,r,i){var A=this.joinLiveRequestMap[e];if(!A)return this.logger.info("zm.lv.rjl no dest id name"),!1;this.stateCenter.reporter.spanSetAttributes({key:l,par:null==(n=this.room)?void 0:n.roomID},{to_user_id:h(A)});var n=0;return t=this.getSignalCmdContent(e,A,n=!0===t?1:n),this.sendSignalCmd(1002,t,A,r,i),delete this.joinLiveRequestMap[e],!0},B.prototype.handlePushSignalMsg=function(e){var t=JSON.parse(e.body.signal_msg);switch(this.logger.info(n+" hpsm= ",t),e.body.sub_cmd){case 11001:this.handlePushJoinLiveRequestMsg(t);break;case 11002:this.handlePushJoinLiveResultMsg(t);break;case 11003:this.handlePushJoinLiveInviteMsg(t);break;case 11004:this.handlePushJoinLiveStopMsg(t)}},B.prototype.handlePushJoinLiveRequestMsg=function(e){var t,r=e.request_id;"string"!=typeof r?this.logger.error(n+" no requestId"):"string"!=typeof(t=e.from_userid)?this.logger.error(n+" no from user"):(this.joinLiveRequestMap[r]=t,this.onRecvJoinLiveRequest(r,e.from_userid,e.from_username,e.room_id),this.logger.info(n+" onRecvJoinLiveRequest "+t))},B.prototype.onRecvJoinLiveRequest=function(e,t,r,i){this.stateCenter.actionListener("recvJoinLiveRequest",e,t,r,i)},B.prototype.handlePushJoinLiveInviteMsg=function(e){var t,r=e.request_id;"string"!=typeof r?this.logger.error(n+"no requestId"):"string"!=typeof(t=e.from_userid)?this.logger.error(n+" no from user"):(this.joinLiveRequestMap[r]=t,this.onRecvInviteJoinLiveRequest(r,e.from_userid,e.from_username,e.room_id),this.logger.info(n+" onRecvInviteJoinLiveRequest "+t))},B.prototype.onRecvInviteJoinLiveRequest=function(e,t,r,i){this.stateCenter.actionListener("recvInviteJoinLiveRequest",e,t,r,i)},B.prototype.handlePushJoinLiveResultMsg=function(e){var t,r,i=e.request_id;"string"!=typeof i?this.logger.error(n+" no requestId"):null==(t=e.result)?this.logger.info(n+" no result"):(t=1==t,this.joinLiveCallbackMap[i]&&((r=this.joinLiveCallbackMap[i])?(this.logger.info(n+" joinLiveRequest/invite result "+t),delete this.joinLiveCallbackMap[i],r(t,e.from_userid,e.from_username)):this.logger.info(n+" no callback")))},B.prototype.handlePushJoinLiveStopMsg=function(e){var t=e.request_id;"string"!=typeof t?this.logger.error(n+" no requestId"):(this.logger.info(n+" onRecvEndJoinLiveCommand "+e.from_userid),this.onRecvEndJoinLiveCommand(t,e.from_userid,e.from_username,e.room_id))},B.prototype.onRecvEndJoinLiveCommand=function(e,t,r,i){this.stateCenter.actionListener("recvEndJoinLiveCommand",e,t,r,i)},B);function B(e,t,r,i,A,n){this.logger=e,this.stateCenter=t,this.service=r,this.liveRoomHandler=i,this.rtm=A,this.room=n,this.joinLiveCallbackMap={},this.joinLiveRequestMap={}}var m={requestJoinLive:function(e,t,r,i,A){var n=this,o=this.getMsgSpan(p,A||(null==(s=this.stateCenter.roomModulesList[0])?void 0:s.roomID),!0),s=this.getRoomModules(A)||this.stateCenter.roomModulesList[0];return s?(o.setAttributes({to_user_id:C(e)}),s.liveHandler.requestJoinLive(e,(function(e){o.end(),t(e)}),(function(e,t){n.stateCenter.reporter.setError(o,e),r(e,t)}),i)):(this.stateCenter.reporter.setError(o,f),r&&r(f,0),!1)},inviteJoinLive:function(e,t,r,i,A){var n=this,o=this.getMsgSpan(c,A||(null==(s=this.stateCenter.roomModulesList[0])?void 0:s.roomID),!0),s=this.getRoomModules(A)||this.stateCenter.roomModulesList[0];return s?(o.setAttributes({to_user_id:g(e)}),s.liveHandler.inviteJoinLive(e,(function(e){o.end(),t(e)}),(function(e,t){n.stateCenter.reporter.setError(o,e),r(e,t)}),i)):(this.stateCenter.reporter.setError(o,f),r&&r(f,0),!1)},endJoinLive:function(e,t,r,i){var A=this,n=this.getMsgSpan(o,i||(null==(a=this.stateCenter.roomModulesList[0])?void 0:a.roomID),!0),a=this.getRoomModules(i)||this.stateCenter.roomModulesList[0];return a?(n.setAttributes({to_user_id:s(e)}),a.liveHandler.endJoinLive(e,(function(e){n.end(),t(e)}),(function(e,t){A.stateCenter.reporter.setError(n,e),r(e,t)}))):(this.stateCenter.reporter.setError(n,f),r&&r(f,0),!1)},respondJoinLive:function(e,t,r,i,A){var n=this,o=this.getMsgSpan(l,A||(null==(s=this.stateCenter.roomModulesList[0])?void 0:s.roomID),!0),s=this.getRoomModules(A)||this.stateCenter.roomModulesList[0];return s?(o.setAttributes({request_id:d(e),join_result:t}),s.liveHandler.respondJoinLive(e,t,(function(e){o.end(),r(e)}),(function(e,t){n.stateCenter.reporter.setError(o,e),i(e,t)}))):(this.stateCenter.reporter.setError(o,f),i&&i(f,0),!1)}},y={handlePushSignalMsg:function(e){var t=null==(r=null==e?void 0:e.header)?void 0:r.room_id,r=this.stateCenter.roomModulesList.find((function(e){return e.roomID==t}));r?r.liveHandler.handlePushSignalMsg(e):this.logger.error("zm.sv.ps room no found ignore "+JSON.stringify(e))}},v={initLiveHandler:function(){this.liveHandler=new Q(this.logger,this.stateCenter,this.service,this.liveRoomHandler,this.rtm,this)}};t.default={type:"live",install:function(e,t,r,i){for(var A in m)Object.defineProperty(e.prototype,A,{value:m[A],writable:!1});for(var A in y)Object.defineProperty(r.prototype,A,{value:y[A],writable:!1}),Object.defineProperty(i.prototype,A,{value:y[A],writable:!1});for(var A in v)Object.defineProperty(t.prototype,A,{value:v[A],writable:!1})}}}},r={},e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var A in t)e.d(i,A,function(e){return t[e]}.bind(null,A));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=21);function e(i){var A;return(r[i]||(A=r[i]={i:i,l:!1,exports:{}},t[i].call(A.exports,A,A.exports,e),A.l=!0,A)).exports}var t,r}()},3126:function(e){"undefined"!=typeof self&&self,e.exports=function(){return t={0:function(e,t,r){var i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}function A(e){var t=Math.clz32(e&-e);return e?31-t:t}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var n={},o={};function s(e,t){var r,i,A;return t?(A=0<=(e>>>=0)&&e<256)&&(i=o[e])?i:(r=c(e,0,!0),A&&(o[e]=r),r):(A=-128<=(e|=0)&&e<128)&&(i=n[e])?i:(r=c(e,e<0?-1:0,!1),A&&(n[e]=r),r)}function a(e,t){if(isNaN(e))return t?f:I;if(t){if(e<0)return f;if(d<=e)return y}else{if(e<=-p)return v;if(p<=e+1)return m}return e<0?a(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,i){return new r(e,t,i)}r.fromInt=s,r.fromNumber=a,r.fromBits=c;var g=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if(t="number"==typeof t?(r=t,!1):!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?f:I;if((r=r||10)<2||36<r)throw RangeError("radix");var i;if(0<(i=e.indexOf("-")))throw Error("interior hyphen");if(0===i)return u(e.substring(1),t,r).neg();for(var A=a(g(r,8)),n=I,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+s),r);n=(s<8?(s=a(g(r,s)),n.mul(s)):n=n.mul(A)).add(a(c))}return n.unsigned=t,n}function l(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=l;var h=4294967296,d=h*h,p=d/2,C=s(1<<24),I=s(0),f=(r.ZERO=I,s(0,!0)),E=(r.UZERO=f,s(1)),Q=(r.ONE=E,s(1,!0)),B=(r.UONE=Q,s(-1)),m=(r.NEG_ONE=B,c(-1,2147483647,!1)),y=(r.MAX_VALUE=m,c(-1,-1,!0)),v=(r.MAX_UNSIGNED_VALUE=y,c(0,-2147483648,!1)),_=(r.MIN_VALUE=v,r.prototype);return _.toInt=function(){return this.unsigned?this.low>>>0:this.low},_.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},_.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";var t,r;if(this.isNegative())return this.eq(v)?(r=a(e),r=(t=this.div(r)).mul(r).sub(this),t.toString(e)+r.toInt().toString(e)):"-"+this.neg().toString(e);for(var i=a(g(e,6),this.unsigned),A=this,n="";;){var o=A.div(i),s=(A.sub(o.mul(i)).toInt()>>>0).toString(e);if((A=o).isZero())return s+n;for(;s.length<6;)s="0"+s;n=""+s+n}},_.getHighBits=function(){return this.high},_.getHighBitsUnsigned=function(){return this.high>>>0},_.getLowBits=function(){return this.low},_.getLowBitsUnsigned=function(){return this.low>>>0},_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(v)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},_.isZero=function(){return 0===this.high&&0===this.low},_.eqz=_.isZero,_.isNegative=function(){return!this.unsigned&&this.high<0},_.isPositive=function(){return this.unsigned||0<=this.high},_.isOdd=function(){return 1==(1&this.low)},_.isEven=function(){return 0==(1&this.low)},_.equals=function(e){return i(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},_.eq=_.equals,_.notEquals=function(e){return!this.eq(e)},_.neq=_.notEquals,_.ne=_.notEquals,_.lessThan=function(e){return this.comp(e)<0},_.lt=_.lessThan,_.lessThanOrEqual=function(e){return this.comp(e)<=0},_.lte=_.lessThanOrEqual,_.le=_.lessThanOrEqual,_.greaterThan=function(e){return 0<this.comp(e)},_.gt=_.greaterThan,_.greaterThanOrEqual=function(e){return 0<=this.comp(e)},_.gte=_.greaterThanOrEqual,_.ge=_.greaterThanOrEqual,_.compare=function(e){var t,r;return i(e)||(e=l(e)),this.eq(e)?0:(t=this.isNegative(),r=e.isNegative(),t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1)},_.comp=_.compare,_.negate=function(){return!this.unsigned&&this.eq(v)?v:this.not().add(E)},_.neg=_.negate,_.add=function(e){i(e)||(e=l(e));var t=0,r=0,A=0,n=0;return r+=(A=A+((n+=(65535&this.low)+(65535&e.low))>>>16)+((this.low>>>16)+(e.low>>>16)))>>>16,c((A&=65535)<<16|(n&=65535),((t+=(r+=(65535&this.high)+(65535&e.high))>>>16)+((this.high>>>16)+(e.high>>>16))&65535)<<16|(r&=65535),this.unsigned)},_.subtract=function(e){return i(e)||(e=l(e)),this.add(e.neg())},_.sub=_.subtract,_.multiply=function(e){var r,A,n,o,s,g,u,h,d,p;return this.isZero()?this:(i(e)||(e=l(e)),t?c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):e.isZero()?this.unsigned?f:I:this.eq(v)?e.isOdd()?v:I:e.eq(v)?this.isOdd()?v:I:this.isNegative()?e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg():e.isNegative()?this.mul(e.neg()).neg():this.lt(C)&&e.lt(C)?a(this.toNumber()*e.toNumber(),this.unsigned):(o=e.high>>>16,s=65535&e.high,g=e.low>>>16,p=(p=d=h=u=0)+((h=h+((d+=(n=65535&this.low)*(e=65535&e.low))>>>16)+(A=this.low>>>16)*e)>>>16)+((h=(65535&h)+n*g)>>>16),c((h&=65535)<<16|(d&=65535),(u=(u=(u+=(p+=(r=65535&this.high)*e)>>>16)+((p=(65535&p)+A*g)>>>16)+((p=(65535&p)+n*s)>>>16))+((this.high>>>16)*e+r*g+A*s+n*o)&65535)<<16|(p&=65535),this.unsigned)))},_.mul=_.multiply,_.divide=function(e){if((e=i(e)?e:l(e)).isZero())throw Error("division by zero");var r,A,n;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?f:I;if(this.unsigned){if((e=e.unsigned?e:e.toUnsigned()).gt(this))return f;if(e.gt(this.shru(1)))return Q;A=f}else{if(this.eq(v))return e.eq(E)||e.eq(B)?v:e.eq(v)?E:(n=this.shr(1).div(e).shl(1)).eq(I)?e.isNegative()?E:B:(r=this.sub(e.mul(n)),n.add(r.div(e)));if(e.eq(v))return this.unsigned?f:I;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();A=I}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),s=o<=48?1:g(2,o-48),u=a(n),h=u.mul(e);h.isNegative()||h.gt(r);)h=(u=a(n-=s,this.unsigned)).mul(e);u.isZero()&&(u=E),A=A.add(u),r=r.sub(h)}return A},_.div=_.divide,_.modulo=function(e){return i(e)||(e=l(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},_.mod=_.modulo,_.rem=_.modulo,_.not=function(){return c(~this.low,~this.high,this.unsigned)},_.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},_.clz=_.countLeadingZeros,_.countTrailingZeros=function(){return this.low?A(this.low):A(this.high)+32},_.ctz=_.countTrailingZeros,_.and=function(e){return i(e)||(e=l(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},_.or=function(e){return i(e)||(e=l(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},_.xor=function(e){return i(e)||(e=l(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},_.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},_.shl=_.shiftLeft,_.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},_.shr=_.shiftRight,_.shiftRightUnsigned=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},_.shru=_.shiftRightUnsigned,_.shr_u=_.shiftRightUnsigned,_.rotateLeft=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?c(this.low<<e|this.high>>>(t=32-e),this.high<<e|this.low>>>t,this.unsigned):c(this.high<<(e-=32)|this.low>>>(t=32-e),this.low<<e|this.high>>>t,this.unsigned)},_.rotl=_.rotateLeft,_.rotateRight=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?c(this.high<<(t=32-e)|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned):c(this.low<<(t=32-(e-=32))|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)},_.rotr=_.rotateRight,_.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},_.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},_.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},_.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,i){return i?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},e.default=r,"default"in e?e.default:e}({});void 0!==(t=function(){return i}.apply(t,[]))&&(e.exports=t)},20:function(e,t,r){"use strict";function i(e){return e}function A(e){return e}function n(e){return e}r.r(t);var o,s="zm.scc",a="zm.sbcm",c="zm.srlm",g="zm.sbrm",u="zm.msg.sdr",l="zm.msg.rlr",h="zm.msg.rps",d="zm.msg.srm",p="zm.msg.scm",C="zm.msg.sbm",I="zm.msg.bps",f="zm.msg.slm",E="zm.sv.ps",Q={code:1100001,msg:"input parm error."},B={code:1100002,msg:"network timeout."},m={code:1000002,msg:"not login"},y={code:1009001,msg:"message content is empty"},v={code:1009010,msg:"failed to send message"},_={code:1002014,msg:"room not exist"},S={code:1002099,msg:"room inner error"},w={code:1109001,msg:"frequency limited."},D={INPUT_PARAM:Q,IM_CONTENT_NULL:y,IM_CONTENT_TOO_LONG:Y={code:1009002,msg:"message content is too long"},ROOM_NOT_EXIST:_},b="/liveroom/send_custom_command",k=A,R={INPUT_PARAM:Q,IM_CONTENT_NULL:y,IM_CONTENT_TOO_LONG:Y,ROOM_NOT_EXIST:_},N="/liveroom/send_room_message",T=n,L=n,M={INPUT_PARAM:Q,IM_CONTENT_NULL:y,IM_CONTENT_TOO_LONG:Y,ROOM_NOT_EXIST:_},O=A,P=A,F=Q,G={code:1102022,msg:"trans send frequently"},U=_,x=i,H=i,q=A,J=n,Y=((y=o=o||{})[y.I=0]="I",y[y.H=10]="H",y[y.M=100]="M",y[y.L=1e3]="L",r(0)),K=r.n(Y),z=(Object.defineProperty(j.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"serviceHandler",{get:function(){return this.isUseNetAgent?this.liveRoomHandler:this.service},enumerable:!1,configurable:!0}),j.prototype.loginRsp=function(e){var t,r=this;if(null!=e.body.ret_timestamp&&"string"==typeof e.body.ret_timestamp&&(t=parseFloat(e.body.ret_timestamp),this.serverTimeOffset=0==t?0:e.body.ret_timestamp-(new Date).getTime()),e.body.bigim_time_window&&"number"==typeof e.body.bigim_time_window&&(this.bigimTimeWindow=e.body.bigim_time_window),e.body.dati_time_window&&"number"==typeof e.body.dati_time_window&&(this.datiTimeWindow=e.body.dati_time_window),e.body.trans_seqs)for(var i=0;i<e.body.trans_seqs.length;i++){var A=e.body.trans_seqs[i].trans_channel,n=e.body.trans_seqs[i].trans_seq_list||e.body.trans_seqs[i].trans_seq_array;0<(n=(n=n.filter((function(e){var t=e.trans_type;return e=e.trans_seq,!r.transSeqMap[t]||r.transSeqMap[t].seq<e}))).map((function(e){return{trans_type:e.trans_type,trans_local_seq:e.trans_seq}}))).length&&this.fetchReliableMessage(A,n)}},j.prototype.sendReliableMessage=function(e,t,r,i){var A,n=this;this.logger.info(u+" call"),this.room.isLogin()?this.isReliable?(this.logger.error(u+" send too often"),i(G)):(this.transSeqMap[e]||(this.transSeqMap[e]={seq:0}),A={trans_type:e,trans_data:t,trans_local_seq:this.transSeqMap[e].seq,trans_channel:"clt"},this.isReliable=!0,this.serviceHandler.sendReliableMessage(A,(function(i){n.transSeqMap[e].seq=i.body.trans_seq,n.logger.info(u+" trans "+e+" seq "+i.body.trans_seq),n.isReliable=!1,n.roomExtraInfo[e]={key:e,value:t,updateUser:{userID:n.room.userID,userName:n.room.userName},updateTime:Date.now()},r({seq:i.header.seq,errorCode:0})}),(function(e){var t=S;e.body&&e.body.err_code?(t=n.rtm.getServerError(e.body.err_code),n.logger.error(d+"  "+t.msg)):t=e,n.isReliable=!1,i(t)}),this.room)):(this.logger.error(u+" state error"),i&&i(m))},j.prototype.fetchReliableMessage=function(e,t){function r(e){i.handleFetchTransRsp(e,A)}var i=this,A=(e={trans_channel:e,fetch_array:t},this.stateCenter.reporter.createSpan(o.H,{key:"/sdk/login",par:this.room.roomID},{key:""},"/liveroom/get_room_extrainfo"));A.setAttributes({fetch_array:x(t)}),this.serviceHandler.fetchReliableMessage(e,r,r,this.room),this.logger.info("zm.msg.frm call success")},j.prototype.handleFetchTransRsp=function(e,t){if(e.body&&0!=e.body.err_code)this.logger.error(l+" trans send error "+e.body.err_code),this.stateCenter.tracer.setError(t,{code:e.body.err_code});else if(e.header&&e.body){var r=e.body.trans_list||e.body.trans_fetch_results,i=[],A=[];if(Array.isArray(r)&&0<r.length){for(var n=0;n<r.length;n++){var o,s,a=r[n];1000001109===a.err_code?this.logger.warn(l+" fetch trans unknown type "+a.err_code):(A.push({trans_type:o=a.trans_type,trans_seq:s=a.trans_seq}),1000001110===a.err_code?(this.logger.warn(l+" fetch trans seq is wrong "+a.err_code),this.transSeqMap[o]={seq:s}):!this.transSeqMap[o]||this.transSeqMap[o].seq<s?(this.transSeqMap[o]={seq:s},i.push(a)):this.logger.warn(l+" fetch trans seq wrong"))}this.roomExtraInfo={},0<i.length&&this.onRecvReliableMessage(i)}t.setAttributes({result_array:H(A)}),t.end()}else this.logger.error(l+" trans send error "+e),this.stateCenter.tracer.setError(t,B)},j.prototype.handlePushTransMsg=function(e){var t,r=e.body.trans_type,i=e.body.trans_seq;!this.transSeqMap[r]||this.transSeqMap[r].seq<i?(this.transSeqMap[r]={seq:i},this.onRecvReliableMessage([e.body],(null==(t=null==e?void 0:e.body)?void 0:t.trans_idname)===this.stateCenter.idName||(null==(t=null==e?void 0:e.body)?void 0:t.id_name)===this.stateCenter.idName)):this.logger.warn(h+" trans seq wrong"),this.logger.info(h+" trans "+r+" seq "+i)},j.prototype.sendRoomMsg=function(e,t,r,i,A,n){var o=this;if(!this.room.isLogin())return this.logger.error(d+" state error"),n(m),!1;var s=Date.parse(new Date+"");return 0<this.sendRoomMsgTime&&this.sendRoomMsgTime+this.sendRoomMsgInterval>s?(this.logger.info(d+" freq error"),n&&n(w,0,e,i),!1):(this.sendRoomMsgTime=s,s=this.serviceHandler.sendRoomMsg({msg_category:e,msg_type:1,msg_priority:1,msg_content:i},(function(e){A({seq:e.header.seq,errorCode:0,messageID:e.body.msg_id})}),(function(e){var t,r,i=S;e.header&&e.body?(r=(t=[o.rtm.getServerError(e.body.err_code),e.body.msg_id])[1],o.logger.error(d+"  "+(i=t[0]).msg),n({seq:e.header.seq,errorCode:(i=i==B?v:i).code,messageID:r})):(e.code&&e.msg&&(i=e),n({seq:0,errorCode:i.code,messageID:0}))}),this.room),this.stateCenter.reporter.spanSetAttributes({key:N,par:null==(e=this.room)?void 0:e.roomID},{send_seq:T(s)}),this.logger.info(d+"  call success"),!0)},j.prototype.handlePushRoomMsg=function(e){var t,r=[];this.isUseNetAgent?(t=e.body.msg_list,e.body.msg_list.forEach((function(e){e={fromUser:{userID:e.id_name,userName:e.nick_name},message:e.msg_content,sendTime:e.send_time.toNumber(),messageID:e.msg_id.toNumber()},r.push(e)})),e.body.server_msg_id=e.body.server_msg_id.toNumber(),e.body.ret_msg_id=e.body.ret_msg_id.toNumber()):(t=e.body.chat_data,e.body.chat_data.forEach((function(e){r.push(e={fromUser:{userID:e.id_name,userName:e.nick_name},message:e.msg_content,sendTime:e.send_time,messageID:e.msg_id})}))),this.stateCenter.actionListener("IMRecvBroadcastMessage",this.room.roomID,r),this.stateCenter.actionListener("_recvRoomMsg",t,e.body.server_msg_id,e.body.ret_msg_id)},j.prototype.sendCustomCommand=function(e,t,r,i){var A,n=this;return this.room.isLogin()?(t={from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,request_id:this.stateCenter.getRequestId(),custom_content:t||"",room_id:this.room.roomID},this.stateCenter.reporter.spanSetAttributes({key:b,par:null==(A=this.room)?void 0:A.roomID},{request_id:k(t.request_id)}),A={dest_id_name:e,custom_msg:JSON.stringify(t)},this.serviceHandler.sendCustomCommand(A,(function(e){r({seq:e.header.seq,errorCode:0})}),(function(e){var t,r=n.rtm.getServerError(e.body.err_code);n.logger.error(p+" "+r.msg),t=2===(null==(t=e.body)?void 0:t.err_code)||1000000002===(null==(t=e.body)?void 0:t.err_code)?Q:r==B?v:r,i({seq:e.header.seq,errorCode:t.code,code:t.code})}),this.room),this.logger.info(p+" call success"),!0):(this.logger.error(p+" state error"),i(m),!1)},j.prototype.handlePushCustomMsg=function(e){e=[(e=JSON.parse(e.body.custommsg)).from_userid,e.from_username,e.room_id,e.custom_content],this.stateCenter.actionListener("IMRecvCustomCommand",e[2],{userID:e[0],userName:e[1]},e[3])},j.prototype.sendBigRoomMessage=function(e,t,r,i,A,n){var o,s,a,c,g=this;this.room.isLogin()?(o=this.bigimTimeWindow,s=this.serverTimeOffset,a=(new Date).getTime()+s,c=this.rtm.getSeq().toString(),this.bigImCallbackMap[c]={success:A,error:n},0==o?this.sendBigRoomMessageInternal([{msg_category:e,msg_type:1,msg_content:i,bigmsg_client_id:c}],(function(e){g.handleBigImMsgRsp(e)}),(function(e){n&&n(e)})):(A=Math.floor(a/o),this.bigImLastTimeIndex<A&&0==this.bigIMmessageList.length?(this.bigImLastTimeIndex=A,this.sendBigRoomMessageInternal([{msg_category:e,msg_type:1,msg_content:i,bigmsg_client_id:c}],(function(e){g.handleBigImMsgRsp(e)}),(function(e){n&&n(e)}))):(this.bigIMmessageList.push({msg_category:e,msg_type:1,msg_content:i,bigmsg_client_id:c}),1==this.bigIMmessageList.length&&this.setBigImTimer(s,o)))):(this.logger.error(C+" state error"),n&&n(m))},j.prototype.sendBigRoomMessageInternal=function(e,t,r){this.serviceHandler.sendBigRoomMessage({msgs:e},(function(e){t(e)}),(function(e){var t=S;e.header&&e.body||(e.code&&e.msg&&(t=e),r(t)),r(t)}),this.room),this.logger.info(C+" sendBigRoomMessage called")},j.prototype.handleBigImMsgRsp=function(e){this.bigimTimeWindow=e.body.bigim_time_window;for(var t=e.body.msg_list||e.body.msgs,r=0;r<t.length;r++){var i,A=t[r].msg_client_id||t[r].bigmsg_client_id;this.bigImCallbackMap[A]&&(null!=(i=this.bigImCallbackMap[A].success)&&i({seq:e.header.seq,errorCode:0,messageID:t[r].msg_id||t[r].bigmsg_id}),delete this.bigImCallbackMap[A])}},j.prototype.setBigImTimer=function(e,t){var r=this;e=t-((new Date).getTime()+e)%t,t=this.rtm.generateRandumNumber(t)+e,this.bigImTimer=setTimeout((function(){r.onBigImTimer()}),t)},j.prototype.onBigImTimer=function(){for(var e=this,t=(new Date).getTime()+this.serverTimeOffset,r=(this.bigImLastTimeIndex=Math.floor(t/this.bigimTimeWindow),[]),i=[],A=0;A<this.bigIMmessageList.length&&!(20<=A);A++){var n=this.bigIMmessageList[A];r.push({msg_category:n.msg_category,msg_type:n.msg_type,msg_content:n.msg_content,bigmsg_client_id:n.bigmsg_client_id}),i.push(n.bigmsg_client_id)}20<this.bigIMmessageList.length?this.bigIMmessageList.splice(0,20):this.bigIMmessageList=[],this.sendBigRoomMessageInternal(r,(function(t){e.handleBigImMsgRsp(t)}),(function(t,r){for(var A=0;A<i.length;A++){var n=i[A],o=e.bigImCallbackMap[n];o&&(null!=o.error&&o.error(t,r),delete e.bigImCallbackMap[n])}})),this.bigImTimer&&clearTimeout(this.bigImTimer),this.bigImTimer=null,0<this.bigIMmessageList.length&&this.setBigImTimer(this.serverTimeOffset,this.bigimTimeWindow)},j.prototype.handlePushMergeMsg=function(e){for(var t=e.body.message_list||e.body.messages,r=0;r<t.length;r++)14001===t[r].sub_cmd&&this.handlePushBigRooMsg(t[r].msg_body)},j.prototype.handlePushBigRooMsg=function(e){var t;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){return void this.logger.warn(I+"parse json error")}else t=e;if(t){e=t.room_id||this.room.roomID;for(var r=[],i=t.msg_list||t.msg_data,A=0;A<i.length;A++){var n=i[A];n.id_name==this.stateCenter.idName?this.logger.info(I+" self message"):r.push({idName:n.id_name,nickName:n.nick_name,messageId:n.msg_id||n.bigmsg_id,category:n.msg_category,type:n.msg_type,content:n.msg_content,time:n.send_time||K.a.isLong(n.msg_timestamp)&&n.msg_timestamp.toNumber()})}0==r.length?this.logger.info(I+" no other pushData except self"):this.onRecvBigRoomMessage(r,e),this.logger.info(I+"call success")}else this.logger.warn(I+" cann't find message body")},j.prototype.onRecvBigRoomMessage=function(e,t){var r=[];e.forEach((function(e){r.push(e={fromUser:{userID:e.idName,userName:e.nickName},message:e.content,sendTime:e.time,messageID:e.messageId})})),this.stateCenter.actionListener("IMRecvBarrageMessage",t,r),this.stateCenter.actionListener("_recvBigRoomMessage",e,t)},j.prototype.resetMessageInfo=function(){this.transSeqMap={},this.realyMessageList=[],this.relayTimer&&(clearTimeout(this.relayTimer),this.relayTimer=null),this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImCallbackMap={},this.bigImTimer&&(clearTimeout(this.bigImTimer),this.bigImTimer=null),this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0},j.prototype.sendRelayMessage=function(e,t,r,i){var A=this.datiTimeWindow,n=this.serverTimeOffset;0<A?(this.realyMessageList.push({type:e,data:t,success:r,error:i}),1==this.realyMessageList.length&&this.setRelayTimer(n,A)):this.sendRelayMessageInternal(e,t,r,i)},j.prototype.sendRelayMessageInternal=function(e,t,r,i){var A=this;this.logger.info(f+" call"),this.serviceHandler.sendRelayMessage(e={relay_type:e,relay_data:t},(function(e){r&&r(e.header.seq,e.body.relay_result)}),(function(e){var t=S;e.header&&e.body?i&&i(A.rtm.getServerError(e.body.err_code),e.header.seq):(e.code&&e.msg&&(t=e),i&&i(t,0))}),t=this.room)},j.prototype.setRelayTimer=function(e,t){var r=this;e=(new Date).getTime()+e,e=this.rtm.generateRandumNumber(2*t-e%t),this.logger.info(f+" setTimer "+e),this.relayTimer=setTimeout((function(){r.onRelayTimer()}),e)},j.prototype.onRelayTimer=function(){var e;0==this.realyMessageList.length?this.logger.info(f+"  no relay data"):(this.sendRelayMessageInternal((e=this.realyMessageList[0]).type,e.data,e.success,e.error),this.relayTimer&&clearTimeout(this.relayTimer),this.relayTimer=null,this.realyMessageList.splice(0,1),0<this.realyMessageList.length&&this.setRelayTimer(this.serverTimeOffset,this.datiTimeWindow))},j);function j(e,t,r,i,A,n,o){var s=this;this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=i,this.liveRoomHandler=A,this.rtm=n,this.room=o,this.sendRoomMsgTime=0,this.sendRoomMsgInterval=500,this.bigImCallbackMap={},this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImTimer=null,this.relayTimer=null,this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0,this.isReliable=!1,this.transSeqMap={},this.roomExtraInfo={},this.onRecvReliableMessage=function(e,t){void 0===t&&(t=!1);var r=e.map((function(e){var t={key:e.trans_type,value:e.trans_data,updateUser:{userID:e.id_name||e.trans_idname,userName:e.nick_name||e.trans_nickname},updateTime:K.a.isLong(e.trans_send_time)?e.trans_send_time.toNumber():e.trans_send_time};return s.roomExtraInfo[e.trans_type]=t}));t?s.logger.warn(h+" id name same"):(0<r.length&&s.stateCenter.actionListener("roomExtraInfoUpdate",s.room.roomID,Object.values(s.roomExtraInfo)),e.forEach((function(e){s.stateCenter.actionListener("recvReliableMessage",e.trans_type,e.trans_seq,e.trans_data)})))},this.realyMessageList=[]}function V(e,t,r,i){var A=this;return void 0===r&&(r=1),void 0===i&&(i=1),new Promise((function(n,o){var s,c=A.getMsgSpan(N,e,!0),g=(o=A.stateCenter.proxyRes(c,(function(e){c.setAttributes({msg_id:L(e.messageID)}),n(e)}),o)).interResolve;o=o.interReject,"string"!=typeof e||""==e?(A.logger.error(a+" roomid must be string and not empty"),o(M.INPUT_PARAM," param roomID error")):void 0===t||""==t?(A.logger.error(a+" message is empty"),o(M.IM_CONTENT_NULL)):"string"!=typeof t?(A.logger.error(a+" message must be string"),o(M.INPUT_PARAM," param message error")):1024<t.length?(A.logger.error(a+" message too long"),o(M.IM_CONTENT_TOO_LONG)):(s=A.getRoomModules(e),c.setAttributes({send_seq:T(),msg_content:t}),s?s.messageHandler.sendRoomMsg(r,i,e,t,(function(e){e.messageID&&c.setAttributes({msg_id:e.messageID}),g(e)}),o):o(M.ROOM_NOT_EXIST))}))}function W(e,t,r){var i=this;return new Promise((function(A,n){var o,a,c=i.getMsgSpan(b,e,!0);n=(A=i.stateCenter.proxyRes(c,A,n)).interResolve,A=A.interReject,"string"!=typeof e||""==e?(i.logger.error(s+" roomid must be string and not empty"),A(Q," param roomID error")):r instanceof Array&&!r.find((function(e){return"string"!=typeof e}))?"string"!=typeof t&&"object"!=typeof t?(i.logger.error(s+" custom content must be a non empty string or object"),A(R.INPUT_PARAM," param command error")):"string"==typeof t&&1024<t.length?(i.logger.error(s+" command too long"),A(R.IM_CONTENT_TOO_LONG)):(o=i.getRoomModules(e),a="string"==typeof t?t:JSON.stringify(t),c.setAttributes({msg_content:a}),o?o.messageHandler.sendCustomCommand(r,t,n,A):A(R.ROOM_NOT_EXIST)):(i.logger.error(s+" dstMembers must be string array"),A(R.INPUT_PARAM," param toUserList error"))}))}function Z(e,t,r,i){var A=this;return void 0===r&&(r=1),void 0===i&&(i=1),new Promise((function(n,o){var s=A.getMsgSpan("/liveroom/send_big_room_message",e);o=(n=A.stateCenter.proxyRes(s,n,o)).interResolve,n=n.interReject,"string"!=typeof e||""==e?(A.logger.error(g+" roomid must be string and not empty"),n(D.INPUT_PARAM," param roomID error")):void 0===t||""==t?(A.logger.error(g+" message is empty"),n(D.IM_CONTENT_NULL)):"string"!=typeof t?(A.logger.error(g+" message must be string"),n(D.INPUT_PARAM," param message error")):1024<t.length?(A.logger.error(g+" message too long"),n(D.IM_CONTENT_TOO_LONG)):(s.setAttributes({msg_content:t}),(s=A.getRoomModules(e))?s.messageHandler.sendBigRoomMessage(r,i,e,t,o,n):n(D.ROOM_NOT_EXIST))}))}function X(e,t,r){var i=this;return new Promise((function(A,n){var o=i.getMsgSpan("/liveroom/set_room_extrainfo",e),s=(A=i.stateCenter.proxyRes(o,A,(function(e){i.stateCenter.useNetAgent&&1015===e.errorCode&&(e.errorCode=1002017),n(e)}))).interResolve;A=A.interReject,"string"!=typeof e||""==e?(i.logger.error(a+" roomid must be string and not empty"),A(M.INPUT_PARAM," param roomID error")):t&&"string"==typeof t?128<t.length?(i.logger.error(c+" type is too long"),A({errorCode:F.code})):r&&"string"==typeof r?4096<r.length?(i.logger.error(c+" type is too long"),A({errorCode:F.code})):(o.setAttributes({key:O(t),value:P(r)}),(o=i.getRoomModules(e))?o.messageHandler.sendReliableMessage(t,r,s,A):A(U)):(i.logger.error(c+" data must be string"),A({errorCode:F.code})):(i.logger.error(c+" type must be string"),A({errorCode:F.code}))}))}var $={_sendBroadcastMessage:V,sendBroadcastMessage:function(e,t){var r=this;return new Promise((function(i,A){V.call(r,e,t).then((function(e){i({errorCode:e.errorCode,messageID:e.messageID,extendedData:e.extendedData})})).catch((function(e){A(e)}))}))},_sendCustomCommand:W,sendCustomCommand:function(e,t,r){var i=this;return new Promise((function(A,n){W.call(i,e,t,r).then((function(e){A({errorCode:e.errorCode,extendedData:e.extendedData})})).catch((function(e){n(e)}))}))},_sendBarrageMessage:Z,sendBarrageMessage:function(e,t){var r=this;return new Promise((function(i,A){Z.call(r,e,t).then((function(e){i({errorCode:e.errorCode,messageID:e.messageID,extendedData:e.extendedData})})).catch((function(e){A(e)}))}))},_setRoomExtraInfo:X,setRoomExtraInfo:function(e,t,r){return X.call(this,e,t,r)},sendRelayMessage:function(e,t,r,i,A){(A=this.getRoomModules(A)||this.stateCenter.roomModulesList[0])?A.messageHandler.sendRelayMessage(e,t,r,i):i&&i(_,0)}},ee={handlePushRoomMsg:function(e){(e=this.handlePushMsg(e))[0].messageHandler.handlePushRoomMsg(e=e[1])},handlePushCustomMsg:function(e){(e=this.handlePushMsg(e))[0].messageHandler.handlePushCustomMsg(e=e[1])},handlePushMergeMsg:function(e){var t=null==(t=null==e?void 0:e.header)?void 0:t.room_id;(t=this.rtm.getRoomModules(t))?t.messageHandler.handlePushMergeMsg(e):this.logger.error(E+" room no found ignore "+JSON.stringify(e))},handlePushTransMsg:function(e){var t,r=(i=this.handlePushMsg(e))[0],i=i[1],A=null==(A=null==e?void 0:e.header)?void 0:A.room_id;(A=this.rtm.getMsgSpan("/liveroom/recv_room_extrainfo",A)).setAttributes({trans_type:q(null==(t=null==e?void 0:e.body)?void 0:t.trans_type),trans_seq:J(null==(t=null==e?void 0:e.body)?void 0:t.trans_seq)}),A.end(),r.messageHandler.handlePushTransMsg(i)},handleBigImMsgRsp:function(e){var t=null==(t=null==e?void 0:e.header)?void 0:t.room_id;(t=this.rtm.getRoomModules(t))?t.messageHandler.handleBigImMsgRsp(e):this.logger.error(E+" room no found ignore "+JSON.stringify(e))},handlePushMsg:function(e){var t=null==(t=null==e?void 0:e.header)?void 0:t.room_id;if(t=this.rtm.getRoomModules(t))return[t,e];this.logger.error(E+" room no found ignore "+JSON.stringify(e))}},te={initMessageHandler:function(){this.messageHandler=new z(this.logger,this.stateCenter,this.dataReport,this.service,this.liveRoomHandler,this.rtm,this)}};t.default={type:"message",install:function(e,t,r,i){for(var A in $)Object.defineProperty(e.prototype,A,{value:$[A],writable:!1});for(var A in ee)Object.defineProperty(r.prototype,A,{value:ee[A],writable:!1}),Object.defineProperty(i.prototype,A,{value:ee[A],writable:!1});for(var A in te)Object.defineProperty(t.prototype,A,{value:te[A],writable:!1})}}}},r={},e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var A in t)e.d(i,A,function(e){return t[e]}.bind(null,A));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=20);function e(i){var A;return(r[i]||(A=r[i]={i:i,l:!1,exports:{}},t[i].call(A.exports,A,A.exports,e),A.l=!0,A)).exports}var t,r}()},1679:function(e){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),i=0,A=2,n=!0;for(;A<arguments.length;)r[i++]=arguments[A++];return new Promise((function(A,o){r[i]=function(e){if(n)if(n=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];A.apply(null,t)}};try{e.apply(t||null,r)}catch(e){n&&(n=!1,o(e))}}))}},1420:function(e,t){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),A=new Array(123),n=0;n<64;)A[i[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;r.encode=function(e,t,r){for(var A,n=null,o=[],s=0,a=0;t<r;){var c=e[t++];switch(a){case 0:o[s++]=i[c>>2],A=(3&c)<<4,a=1;break;case 1:o[s++]=i[A|c>>4],A=(15&c)<<2,a=2;break;case 2:o[s++]=i[A|c>>6],o[s++]=i[63&c],a=0}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=i[A],o[s++]=61,1===a&&(o[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,o.slice(0,s))),n.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";r.decode=function(e,t,r){for(var i,n=r,s=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=A[c]))throw Error(o);switch(s){case 0:i=c,s=1;break;case 1:t[r++]=i<<2|(48&c)>>4,i=c,s=2;break;case 2:t[r++]=(15&i)<<4|(60&c)>>2,i=c,s=3;break;case 3:t[r++]=(3&i)<<6|c,s=0}}if(1===s)throw Error(o);return r-n},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},138:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}},3209:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function A(e,i,A){t[0]=e,i[A]=r[0],i[A+1]=r[1],i[A+2]=r[2],i[A+3]=r[3]}function n(e,i,A){t[0]=e,i[A]=r[3],i[A+1]=r[2],i[A+2]=r[1],i[A+3]=r[0]}function o(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function s(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?A:n,e.writeFloatBE=i?n:A,e.readFloatLE=i?o:s,e.readFloatBE=i?s:o}():function(){function t(e,t,r,i){var A=t<0?1:0;if(A&&(t=-t),0===t)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>34028234663852886e22)e((A<<31|2139095040)>>>0,r,i);else if(t<11754943508222875e-54)e((A<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var n=Math.floor(Math.log(t)/Math.LN2);e((A<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,r,i)}}function o(e,t,r){var i=e(t,r),A=2*(i>>31)+1,n=i>>>23&255,o=8388607&i;return 255===n?o?NaN:A*(1/0):0===n?1401298464324817e-60*A*o:A*Math.pow(2,n-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,i),e.readFloatLE=o.bind(null,A),e.readFloatBE=o.bind(null,n)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function A(e,i,A){t[0]=e,i[A]=r[0],i[A+1]=r[1],i[A+2]=r[2],i[A+3]=r[3],i[A+4]=r[4],i[A+5]=r[5],i[A+6]=r[6],i[A+7]=r[7]}function n(e,i,A){t[0]=e,i[A]=r[7],i[A+1]=r[6],i[A+2]=r[5],i[A+3]=r[4],i[A+4]=r[3],i[A+5]=r[2],i[A+6]=r[1],i[A+7]=r[0]}function o(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function s(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?A:n,e.writeDoubleBE=i?n:A,e.readDoubleLE=i?o:s,e.readDoubleBE=i?s:o}():function(){function t(e,t,r,i,A,n){var o=i<0?1:0;if(o&&(i=-i),0===i)e(0,A,n+t),e(1/i>0?0:2147483648,A,n+r);else if(isNaN(i))e(0,A,n+t),e(2146959360,A,n+r);else if(i>17976931348623157e292)e(0,A,n+t),e((o<<31|2146435072)>>>0,A,n+r);else{var s;if(i<22250738585072014e-324)e((s=i/5e-324)>>>0,A,n+t),e((o<<31|s/4294967296)>>>0,A,n+r);else{var a=Math.floor(Math.log(i)/Math.LN2);1024===a&&(a=1023),e(4503599627370496*(s=i*Math.pow(2,-a))>>>0,A,n+t),e((o<<31|a+1023<<20|1048576*s&1048575)>>>0,A,n+r)}}}function o(e,t,r,i,A){var n=e(i,A+t),o=e(i,A+r),s=2*(o>>31)+1,a=o>>>20&2047,c=4294967296*(1048575&o)+n;return 2047===a?c?NaN:s*(1/0):0===a?5e-324*s*c:s*Math.pow(2,a-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=o.bind(null,A,0,4),e.readDoubleBE=o.bind(null,n,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function A(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function n(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},4556:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},3794:function(e){"use strict";e.exports=function(e,t,r){var i=r||8192,A=i>>>1,n=null,o=i;return function(r){if(r<1||r>A)return e(r);o+r>i&&(n=e(i),o=0);var s=t.call(n,o,o+=r);return 7&o&&(o=1+(7|o)),s}}},2482:function(e,t){"use strict";var r=t;r.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var i,A=null,n=[],o=0;t<r;)(i=e[t++])<128?n[o++]=i:i>191&&i<224?n[o++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[o++]=55296+(i>>10),n[o++]=56320+(1023&i)):n[o++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((A||(A=[])).push(String.fromCharCode.apply(String,n)),o=0);return A?(o&&A.push(String.fromCharCode.apply(String,n.slice(0,o))),A.join("")):String.fromCharCode.apply(String,n.slice(0,o))},r.write=function(e,t,r){for(var i,A,n=r,o=0;o<e.length;++o)(i=e.charCodeAt(o))<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(A=e.charCodeAt(o+1)))?(++o,t[r++]=(i=65536+((1023&i)<<10)+(1023&A))>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128);return r-n}},13:function(e,t,r){
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
e.exports=function e(t,r,i){function A(o,s){if(!r[o]){if(!t[o]){if(n)return n(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return A(r||e)}),c,c.exports,e,t,r,i)}return r[o].exports}for(var n=void 0,o=0;o<i.length;o++)A(i[o]);return A}({1:[function(e,t,i){(function(e){"use strict";var r,i,A=e.MutationObserver||e.WebKitMutationObserver;if(A){var n=0,o=new A(g),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),r=function(){s.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){g(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(g,0)};else{var a=new e.MessageChannel;a.port1.onmessage=g,r=function(){a.port2.postMessage(0)}}var c=[];function g(){var e,t;i=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}i=!1}function u(e){1!==c.push(e)||i||r()}t.exports=u}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var i=e(1);function A(){}var n={},o=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,e!==A&&h(this,e)}function g(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){i((function(){var i;try{i=t(r)}catch(t){return n.reject(e,t)}i===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,i)}))}function l(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function i(t){r||(r=!0,n.reject(e,t))}function A(t){r||(r=!0,n.resolve(e,t))}function o(){t(A,i)}var s=d(o);"error"===s.status&&i(s.value)}function d(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function p(e){return e instanceof this?e:n.resolve(new this(A),e)}function C(e){var t=new this(A);return n.reject(t,e)}function I(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,a=-1,c=new this(A);++a<r;)g(e[a],a);return c;function g(e,A){function a(e){o[A]=e,++s!==r||i||(i=!0,n.resolve(c,o))}t.resolve(e).then(a,(function(e){i||(i=!0,n.reject(c,e))}))}}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var o=-1,s=new this(A);++o<r;)a(e[o]);return s;function a(e){t.resolve(e).then((function(e){i||(i=!0,n.resolve(s,e))}),(function(e){i||(i=!0,n.reject(s,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(A);return this.state!==a?u(r,this.state===s?e:t,this.outcome):this.queue.push(new g(r,e,t)),r},g.prototype.callFulfilled=function(e){n.resolve(this.promise,e)},g.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},g.prototype.callRejected=function(e){n.reject(this.promise,e)},g.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},n.resolve=function(e,t){var r=d(l,t);if("error"===r.status)return n.reject(e,r.value);var i=r.value;if(i)h(e,i);else{e.state=s,e.outcome=t;for(var A=-1,o=e.queue.length;++A<o;)e.queue[A].callFulfilled(t)}return e},n.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e},c.resolve=p,c.reject=C,c.all=I,c.race=f},{1:1}],3:[function(e,t,i){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var o=n();function s(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(A){if("TypeError"!==A.name)throw A;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function g(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function h(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",p=void 0,C={},I=Object.prototype.toString,f="readonly",E="readwrite";function Q(e){for(var t=e.length,r=new ArrayBuffer(t),i=new Uint8Array(r),A=0;A<t;A++)i[A]=e.charCodeAt(A);return r}function B(e){return new c((function(t){var r=e.transaction(d,E),i=a([""]);r.objectStore(d).put(i,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function m(e){return"boolean"==typeof p?c.resolve(p):B(e).then((function(e){return p=e}))}function y(e){var t=C[e.name],r={};r.promise=new c((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady=t.dbReady?t.dbReady.then((function(){return r.promise})):r.promise}function v(e){var t=C[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function _(e,t){var r=C[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function S(e,t){return new c((function(r,i){if(C[e.name]=C[e.name]||O(),e.db){if(!t)return r(e.db);y(e),e.db.close()}var A=[e.name];t&&A.push(e.version);var n=o.open.apply(o,A);t&&(n.onupgradeneeded=function(t){var r=n.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(d)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),n.onerror=function(e){e.preventDefault(),i(n.error)},n.onsuccess=function(){var t=n.result;t.onversionchange=function(e){e.target.close()},r(t),v(e)}}))}function w(e){return S(e,!1)}function D(e){return S(e,!0)}function b(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),i=e.version>e.db.version;if(e.version<e.db.version&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var A=e.db.version+1;A>e.version&&(e.version=A)}return!0}return!1}function k(e){return new c((function(t,r){var i=new FileReader;i.onerror=r,i.onloadend=function(r){var i=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},i.readAsBinaryString(e)}))}function R(e){return a([Q(atob(e.data))],{type:e.type})}function N(e){return e&&e.__local_forage_encoded_blob}function T(e){var t=this,r=t._initReady().then((function(){var e=C[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(r,e,e),r}function L(e){y(e);for(var t=C[e.name],r=t.forages,i=0;i<r.length;i++){var A=r[i];A._dbInfo.db&&(A._dbInfo.db.close(),A._dbInfo.db=null)}return e.db=null,w(e).then((function(t){return e.db=t,b(e)?D(e):t})).then((function(i){e.db=t.db=i;for(var A=0;A<r.length;A++)r[A]._dbInfo.db=i})).catch((function(t){throw _(e,t),t}))}function M(e,t,r,i){void 0===i&&(i=1);try{var A=e.db.transaction(e.storeName,t);r(null,A)}catch(A){if(i>0&&(!e.db||"InvalidStateError"===A.name||"NotFoundError"===A.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===A.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),D(e)})).then((function(){return L(e).then((function(){M(e,t,r,i-1)}))})).catch(r);r(A)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(e){var t=this,r={db:null};if(e)for(var i in e)r[i]=e[i];var A=C[r.name];A||(A=O(),C[r.name]=A),A.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=T);var n=[];function o(){return c.resolve()}for(var s=0;s<A.forages.length;s++){var a=A.forages[s];a!==t&&n.push(a._initReady().catch(o))}var g=A.forages.slice(0);return c.all(n).then((function(){return r.db=A.db,w(r)})).then((function(e){return r.db=e,b(r,t._defaultConfig.version)?D(r):e})).then((function(e){r.db=A.db=e,t._dbInfo=r;for(var i=0;i<g.length;i++){var n=g[i];n!==t&&(n._dbInfo.db=r.db,n._dbInfo.version=r.version)}}))}function F(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){M(r._dbInfo,f,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),N(e)&&(e=R(e)),t(e)},o.onerror=function(){i(o.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function G(e,t){var r=this,i=new c((function(t,i){r.ready().then((function(){M(r._dbInfo,f,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var r=o.result;if(r){var i=r.value;N(i)&&(i=R(i));var A=e(i,r.key,s++);void 0!==A?t(A):r.continue()}else t()},o.onerror=function(){i(o.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function U(e,t,r){var i=this;e=l(e);var A=new c((function(r,A){var n;i.ready().then((function(){return n=i._dbInfo,"[object Blob]"===I.call(t)?m(n.db).then((function(e){return e?t:k(t)})):t})).then((function(t){M(i._dbInfo,E,(function(n,o){if(n)return A(n);try{var s=o.objectStore(i._dbInfo.storeName);null===t&&(t=void 0);var a=s.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),r(t)},o.onabort=o.onerror=function(){A(a.error?a.error:a.transaction.error)}}catch(e){A(e)}}))})).catch(A)}));return g(A,r),A}function x(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){M(r._dbInfo,E,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName).delete(e);n.oncomplete=function(){t()},n.onerror=function(){i(o.error)},n.onabort=function(){i(o.error?o.error:o.transaction.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function H(e){var t=this,r=new c((function(e,r){t.ready().then((function(){M(t._dbInfo,E,(function(i,A){if(i)return r(i);try{var n=A.objectStore(t._dbInfo.storeName).clear();A.oncomplete=function(){e()},A.onabort=A.onerror=function(){r(n.error?n.error:n.transaction.error)}}catch(e){r(e)}}))})).catch(r)}));return g(r,e),r}function q(e){var t=this,r=new c((function(e,r){t.ready().then((function(){M(t._dbInfo,f,(function(i,A){if(i)return r(i);try{var n=A.objectStore(t._dbInfo.storeName).count();n.onsuccess=function(){e(n.result)},n.onerror=function(){r(n.error)}}catch(e){r(e)}}))})).catch(r)}));return g(r,e),r}function J(e,t){var r=this,i=new c((function(t,i){e<0?t(null):r.ready().then((function(){M(r._dbInfo,f,(function(A,n){if(A)return i(A);try{var o=n.objectStore(r._dbInfo.storeName),s=!1,a=o.openKeyCursor();a.onsuccess=function(){var r=a.result;r?0===e||s?t(r.key):(s=!0,r.advance(e)):t(null)},a.onerror=function(){i(a.error)}}catch(e){i(e)}}))})).catch(i)}));return g(i,t),i}function Y(e){var t=this,r=new c((function(e,r){t.ready().then((function(){M(t._dbInfo,f,(function(i,A){if(i)return r(i);try{var n=A.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];n.onsuccess=function(){var t=n.result;t?(o.push(t.key),t.continue()):e(o)},n.onerror=function(){r(n.error)}}catch(e){r(e)}}))})).catch(r)}));return g(r,e),r}function K(e,t){t=h.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var i,A=this;if(e.name){var n=e.name===r.name&&A._dbInfo.db?c.resolve(A._dbInfo.db):w(e).then((function(t){var r=C[e.name],i=r.forages;r.db=t;for(var A=0;A<i.length;A++)i[A]._dbInfo.db=t;return t}));i=n.then(e.storeName?function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;y(e);var i=C[e.name],A=i.forages;t.close();for(var n=0;n<A.length;n++){var s=A[n];s._dbInfo.db=null,s._dbInfo.version=r}var a=new c((function(t,i){var A=o.open(e.name,r);A.onerror=function(e){A.result.close(),i(e)},A.onupgradeneeded=function(){A.result.deleteObjectStore(e.storeName)},A.onsuccess=function(){var e=A.result;e.close(),t(e)}}));return a.then((function(e){i.db=e;for(var t=0;t<A.length;t++){var r=A[t];r._dbInfo.db=e,v(r._dbInfo)}})).catch((function(t){throw(_(e,t)||c.resolve()).catch((function(){})),t}))}}:function(t){y(e);var r=C[e.name],i=r.forages;t.close();for(var A=0;A<i.length;A++)i[A]._dbInfo.db=null;var n=new c((function(t,r){var i=o.deleteDatabase(e.name);i.onerror=function(){var e=i.result;e&&e.close(),r(i.error)},i.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},i.onsuccess=function(){var e=i.result;e&&e.close(),t(e)}}));return n.then((function(e){r.db=e;for(var t=0;t<i.length;t++)v(i[t]._dbInfo)})).catch((function(t){throw(_(e,t)||c.resolve()).catch((function(){})),t}))})}else i=c.reject("Invalid arguments");return g(i,t),i}var z={_driver:"asyncStorage",_initStorage:P,_support:s(),iterate:G,getItem:F,setItem:U,removeItem:x,clear:H,length:q,key:J,keys:Y,dropInstance:K};function j(){return"function"==typeof openDatabase}var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W="~~local_forage_type~",Z=/^~~local_forage_type~([^~]+)~/,X="__lfsc__:",$=X.length,ee="arbf",te="blob",re="si08",ie="ui08",Ae="uic8",ne="si16",oe="si32",se="ur16",ae="ui32",ce="fl32",ge="fl64",ue=$+ee.length,le=Object.prototype.toString;function he(e){var t,r,i,A,n,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),g=new Uint8Array(c);for(t=0;t<s;t+=4)r=V.indexOf(e[t]),i=V.indexOf(e[t+1]),A=V.indexOf(e[t+2]),n=V.indexOf(e[t+3]),g[a++]=r<<2|i>>4,g[a++]=(15&i)<<4|A>>2,g[a++]=(3&A)<<6|63&n;return c}function de(e){var t,r=new Uint8Array(e),i="";for(t=0;t<r.length;t+=3)i+=V[r[t]>>2],i+=V[(3&r[t])<<4|r[t+1]>>4],i+=V[(15&r[t+1])<<2|r[t+2]>>6],i+=V[63&r[t+2]];return r.length%3==2?i=i.substring(0,i.length-1)+"=":r.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}function pe(e,t){var r="";if(e&&(r=le.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===le.call(e.buffer))){var i,A=X;e instanceof ArrayBuffer?(i=e,A+=ee):(i=e.buffer,"[object Int8Array]"===r?A+=re:"[object Uint8Array]"===r?A+=ie:"[object Uint8ClampedArray]"===r?A+=Ae:"[object Int16Array]"===r?A+=ne:"[object Uint16Array]"===r?A+=se:"[object Int32Array]"===r?A+=oe:"[object Uint32Array]"===r?A+=ae:"[object Float32Array]"===r?A+=ce:"[object Float64Array]"===r?A+=ge:t(new Error("Failed to get type for BinaryArray"))),t(A+de(i))}else if("[object Blob]"===r){var n=new FileReader;n.onload=function(){var r=W+e.type+"~"+de(this.result);t(X+te+r)},n.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}}function Ce(e){if(e.substring(0,$)!==X)return JSON.parse(e);var t,r=e.substring(ue),i=e.substring($,ue);if(i===te&&Z.test(r)){var A=r.match(Z);t=A[1],r=r.substring(A[0].length)}var n=he(r);switch(i){case ee:return n;case te:return a([n],{type:t});case re:return new Int8Array(n);case ie:return new Uint8Array(n);case Ae:return new Uint8ClampedArray(n);case ne:return new Int16Array(n);case se:return new Uint16Array(n);case oe:return new Int32Array(n);case ae:return new Uint32Array(n);case ce:return new Float32Array(n);case ge:return new Float64Array(n);default:throw new Error("Unkown type: "+i)}}var Ie={serialize:pe,deserialize:Ce,stringToBuffer:he,bufferToString:de};function fe(e,t,r,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,i)}function Ee(e){var t=this,r={db:null};if(e)for(var i in e)r[i]="string"!=typeof e[i]?e[i].toString():e[i];var A=new c((function(e,i){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return i(e)}r.db.transaction((function(A){fe(A,r,(function(){t._dbInfo=r,e()}),(function(e,t){i(t)}))}),i)}));return r.serializer=Ie,A}function Qe(e,t,r,i,A,n){e.executeSql(r,i,A,(function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?n(e,o):fe(e,t,(function(){e.executeSql(r,i,A,n)}),n)}),n):n(e,o)}),n)}function Be(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"SELECT * FROM "+A.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var i=r.rows.length?r.rows.item(0).value:null;i&&(i=A.serializer.deserialize(i)),t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function me(e,t){var r=this,i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"SELECT * FROM "+A.storeName,[],(function(r,i){for(var n=i.rows,o=n.length,s=0;s<o;s++){var a=n.item(s),c=a.value;if(c&&(c=A.serializer.deserialize(c)),void 0!==(c=e(c,a.key,s+1)))return void t(c)}t()}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function ye(e,t,r,i){var A=this;e=l(e);var n=new c((function(n,o){A.ready().then((function(){void 0===t&&(t=null);var s=t,a=A._dbInfo;a.serializer.serialize(t,(function(t,c){c?o(c):a.db.transaction((function(r){Qe(r,a,"INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){n(s)}),(function(e,t){o(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(i>0)return void n(ye.apply(A,[e,s,r,i-1]));o(t)}}))}))})).catch(o)}));return g(n,r),n}function ve(e,t,r){return ye.apply(this,[e,t,r,1])}function _e(e,t){var r=this;e=l(e);var i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"DELETE FROM "+A.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function Se(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Qe(t,i,"DELETE FROM "+i.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return g(r,e),r}function we(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Qe(t,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(t,r){var i=r.rows.item(0).c;e(i)}),(function(e,t){r(t)}))}))})).catch(r)}));return g(r,e),r}function De(e,t){var r=this,i=new c((function(t,i){r.ready().then((function(){var A=r._dbInfo;A.db.transaction((function(r){Qe(r,A,"SELECT key FROM "+A.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var i=r.rows.length?r.rows.item(0).key:null;t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return g(i,t),i}function be(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Qe(t,i,"SELECT key FROM "+i.storeName,[],(function(t,r){for(var i=[],A=0;A<r.rows.length;A++)i.push(r.rows.item(A).key);e(i)}),(function(e,t){r(t)}))}))})).catch(r)}));return g(r,e),r}function ke(e){return new c((function(t,r){e.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,i){for(var A=[],n=0;n<i.rows.length;n++)A.push(i.rows.item(n).name);t({db:e,storeNames:A})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}function Re(e,t){t=h.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var i,A=this;return g(i=e.name?new c((function(t){var i;i=e.name===r.name?A._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:i,storeNames:[e.storeName]}:ke(i))})).then((function(e){return new c((function(t,r){e.db.transaction((function(i){function A(e){return new c((function(t,r){i.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var n=[],o=0,s=e.storeNames.length;o<s;o++)n.push(A(e.storeNames[o]));c.all(n).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):c.reject("Invalid arguments"),t),i}var Ne={_driver:"webSQLStorage",_initStorage:Ee,_support:j(),iterate:me,getItem:Be,setItem:ve,removeItem:_e,clear:Se,length:we,key:De,keys:be,dropInstance:Re};function Te(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Le(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function Me(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Oe(){return!Me()||localStorage.length>0}function Pe(e){var t=this,r={};if(e)for(var i in e)r[i]=e[i];return r.keyPrefix=Le(e,t._defaultConfig),Oe()?(t._dbInfo=r,r.serializer=Ie,c.resolve()):c.reject()}function Fe(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var i=localStorage.key(r);0===i.indexOf(e)&&localStorage.removeItem(i)}}));return g(r,e),r}function Ge(e,t){var r=this;e=l(e);var i=r.ready().then((function(){var t=r._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}));return g(i,t),i}function Ue(e,t){var r=this,i=r.ready().then((function(){for(var t=r._dbInfo,i=t.keyPrefix,A=i.length,n=localStorage.length,o=1,s=0;s<n;s++){var a=localStorage.key(s);if(0===a.indexOf(i)){var c=localStorage.getItem(a);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,a.substring(A),o++)))return c}}}));return g(i,t),i}function xe(e,t){var r=this,i=r.ready().then((function(){var t,i=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t}));return g(i,t),i}function He(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,i=[],A=0;A<r;A++){var n=localStorage.key(A);0===n.indexOf(e.keyPrefix)&&i.push(n.substring(e.keyPrefix.length))}return i}));return g(r,e),r}function qe(e){var t=this.keys().then((function(e){return e.length}));return g(t,e),t}function Je(e,t){var r=this;e=l(e);var i=r.ready().then((function(){localStorage.removeItem(r._dbInfo.keyPrefix+e)}));return g(i,t),i}function Ye(e,t,r){var i=this;e=l(e);var A=i.ready().then((function(){void 0===t&&(t=null);var r=t;return new c((function(A,n){var o=i._dbInfo;o.serializer.serialize(t,(function(t,i){if(i)n(i);else try{localStorage.setItem(o.keyPrefix+e,t),A(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||n(e),n(e)}}))}))}));return g(A,r),A}function Ke(e,t){if(t=h.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var i,A=this;return i=e.name?new c((function(t){t(e.storeName?Le(e,A._defaultConfig):e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):c.reject("Invalid arguments"),g(i,t),i}var ze={_driver:"localStorageWrapper",_initStorage:Pe,_support:Te(),iterate:Ue,getItem:Ge,setItem:Ye,removeItem:Je,clear:Fe,length:qe,key:xe,keys:He,dropInstance:Ke},je=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ve=function(e,t){for(var r=e.length,i=0;i<r;){if(je(e[i],t))return!0;i++}return!1},We=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ze={},Xe={},$e={INDEXEDDB:z,WEBSQL:Ne,LOCALSTORAGE:ze},et=[$e.INDEXEDDB._driver,$e.WEBSQL._driver,$e.LOCALSTORAGE._driver],tt=["dropInstance"],rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),it={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function At(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function nt(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(arguments[0][r]=We(t[r])?t[r].slice():t[r])}return arguments[0]}var ot=function(){function e(t){for(var r in A(this,e),$e)if($e.hasOwnProperty(r)){var i=$e[r],n=i._driver;this[r]=n,Ze[n]||this.defineDriver(i)}this._defaultConfig=nt({},it),this._config=nt({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":i(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var i=new c((function(t,r){try{var i=e._driver,A=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(A);for(var n=rt.concat("_initStorage"),o=0,s=n.length;o<s;o++){var a=n[o];if((!Ve(tt,a)||e[a])&&"function"!=typeof e[a])return void r(A)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=c.reject(t);return g(r,arguments[arguments.length-1]),r}},r=0,i=tt.length;r<i;r++){var A=tt[r];e[A]||(e[A]=t(A))}};u();var l=function(r){Ze[i]&&console.info("Redefining LocalForage driver: "+i),Ze[i]=e,Xe[i]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,r):l(!!e._support):l(!0)}catch(e){r(e)}}));return u(i,t,r),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var i=Ze[e]?c.resolve(Ze[e]):c.reject(new Error("Driver not found."));return u(i,t,r),i},e.prototype.getSerializer=function(e){var t=c.resolve(Ie);return u(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(r,e,e),r},e.prototype.setDriver=function(e,t,r){var i=this;We(e)||(e=[e]);var A=this._getSupportedDrivers(e);function n(){i._config.driver=i.driver()}function o(e){return i._extend(e),n(),i._ready=i._initStorage(i._config),i._ready}function s(e){return function(){var t=0;function r(){for(;t<e.length;){var A=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(A).then(o).catch(r)}n();var s=new Error("No available storage method found.");return i._driverSet=c.reject(s),i._driverSet}return r()}}var a=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=a.then((function(){var e=A[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,n(),i._wrapLibraryMethodsWithReady(),i._initDriver=s(A)}))})).catch((function(){n();var e=new Error("No available storage method found.");return i._driverSet=c.reject(e),i._driverSet})),u(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!Xe[e]},e.prototype._extend=function(e){nt(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,i=e.length;r<i;r++){var A=e[r];this.supports(A)&&t.push(A)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=rt.length;e<t;e++)At(this,rt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),st=new ot;t.exports=st},{3:3}]},{},[4])(4)},782:function(e,t,r){"use strict";e.exports=r(4656)},4656:function(e,t,r){"use strict";var i=t;function A(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=r(8401),i.BufferWriter=r(4927),i.Reader=r(4961),i.BufferReader=r(6794),i.util=r(7775),i.rpc=r(2786),i.roots=r(8885),i.configure=A,A()},4961:function(e,t,r){"use strict";e.exports=a;var i,A=r(7775),n=A.LongBits,o=A.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e,this.pos=0,this.len=e.length}var c,g="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a(e);throw Error("illegal buffer")},u=function(){return A.Buffer?function(e){return(a.create=function(e){return A.Buffer.isBuffer(e)?new i(e):g(e)})(e)}:g};function l(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new n(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}a.create=u(),a.prototype._slice=A.Array.prototype.subarray||A.Array.prototype.slice,a.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),a.prototype.int32=function(){return 0|this.uint32()},a.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a.prototype.bool=function(){return 0!==this.uint32()},a.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},a.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=A.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},a.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=A.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},a.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},a.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},a.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a._configure=function(e){i=e,a.create=u(),i._configure();var t=A.Long?"toLong":"toNumber";A.merge(a.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},6794:function(e,t,r){"use strict";e.exports=n;var i=r(4961);(n.prototype=Object.create(i.prototype)).constructor=n;var A=r(7775);function n(e){i.call(this,e)}n._configure=function(){A.Buffer&&(n.prototype._slice=A.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},8885:function(e){"use strict";e.exports={}},2786:function(e,t,r){"use strict";t.Service=r(1266)},1266:function(e,t,r){"use strict";e.exports=A;var i=r(7775);function A(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(A.prototype=Object.create(i.EventEmitter.prototype)).constructor=A,A.prototype.rpcCall=function e(t,r,A,n,o){if(!n)throw TypeError("request must be specified");var s=this;if(!o)return i.asPromise(e,s,t,r,A,n);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function(e,r){if(e)return s.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof A))try{r=A[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",r,t),o(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},A.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},3686:function(e,t,r){"use strict";e.exports=A;var i=r(7775);function A(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=A.zero=new A(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var o=A.zeroHash="\0\0\0\0\0\0\0\0";A.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new A(r,i)},A.from=function(e){if("number"==typeof e)return A.fromNumber(e);if(i.isString(e)){if(!i.Long)return A.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new A(e.low>>>0,e.high>>>0):n},A.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},A.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;A.fromHash=function(e){return e===o?n:new A((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},A.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},A.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},A.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},A.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},7775:function(e,t,r){"use strict";var i=t;function A(e,t,r){for(var i=Object.keys(t),A=0;A<i.length;++A)void 0!==e[i[A]]&&r||(e[i[A]]=t[i[A]]);return e}function n(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&A(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}i.asPromise=r(1679),i.base64=r(1420),i.EventEmitter=r(138),i.float=r(3209),i.inquire=r(4556),i.utf8=r(2482),i.pool=r(3794),i.LongBits=r(3686),i.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),i.global=i.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},i.merge=A,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=n,i.ProtocolError=n("ProtocolError"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&null!=this[e[r]])return e[r]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},8401:function(e,t,r){"use strict";e.exports=u;var i,A=r(7775),n=A.LongBits,o=A.base64,s=A.utf8;function a(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function g(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new a(c,0,0),this.tail=this.head,this.states=null}var l=function(){return A.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};function h(e,t,r){t[r]=255&e}function d(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function C(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=l(),u.alloc=function(e){return new A.Array(e)},A.Array!==Array&&(u.alloc=A.pool(u.alloc,A.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new a(e,t,r),this.len+=t,this},(d.prototype=Object.create(a.prototype)).fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(p,10,n.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.int64=u.prototype.uint64=function(e){var t=n.from(e);return this._push(p,t.length(),t)},u.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(p,t.length(),t)},u.prototype.bool=function(e){return this._push(h,1,e?1:0)},u.prototype.sfixed32=u.prototype.fixed32=function(e){return this._push(C,4,e>>>0)},u.prototype.sfixed64=u.prototype.fixed64=function(e){var t=n.from(e);return this._push(C,4,t.lo)._push(C,4,t.hi)},u.prototype.float=function(e){return this._push(A.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(A.float.writeDoubleLE,8,e)};var I=A.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(A.isString(e)){var r=u.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(I,t,e)},u.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},u.prototype.fork=function(){return this.states=new g(this),this.head=this.tail=new a(c,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(c,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){i=e,u.create=l(),i._configure()}},4927:function(e,t,r){"use strict";e.exports=n;var i=r(8401);(n.prototype=Object.create(i.prototype)).constructor=n;var A=r(7775);function n(){i.call(this)}function o(e,t,r){e.length<40?A.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}n._configure=function(){n.alloc=A._Buffer_allocUnsafe,n.writeBytesBuffer=A.Buffer&&A.Buffer.prototype instanceof Uint8Array&&"set"===A.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},n.prototype.bytes=function(e){A.isString(e)&&(e=A._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=A.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},n._configure()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WebRTCUtil:function(){return an},ZegoExpressEngine:function(){return Ip}});var e,t,r=__webpack_require__(4545),i="3.0.0";!function(e){e[e.debug=0]="debug",e[e.info=1]="info",e[e.warn=2]="warn",e[e.error=3]="error",e[e.report=99]="report",e[e.disable=100]="disable"}(e||(e={})),function(e){e[e.CN=2]="CN",e[e.NA=3]="NA",e[e.EU=4]="EU",e[e.AS=5]="AS",e[e.IN=6]="IN",e[e.NCN=7]="NCN"}(t||(t={}));var A,n;!function(e){e[e.disable=0]="disable",e[e.websocket=1]="websocket",e[e.https=2]="https"}(A||(A={})),function(e){e[e.SDKProject_Other=0]="SDKProject_Other",e[e.SDKProject_ZegoExpressVideo=1]="SDKProject_ZegoExpressVideo",e[e.SDKProject_ZegoExpressAudio=2]="SDKProject_ZegoExpressAudio",e[e.SDKProject_ZegoLiveRoom=3]="SDKProject_ZegoLiveRoom",e[e.SDKProject_ZegoAudioRoom=4]="SDKProject_ZegoAudioRoom",e[e.SDKProject_ZegoAVKit=5]="SDKProject_ZegoAVKit",e[e.SDKProject_ZegoWebRTC=6]="SDKProject_ZegoWebRTC",e[e.SDKProject_ZegoMiniProgram=7]="SDKProject_ZegoMiniProgram"}(n||(n={}));var o;!function(e){e[e.disconnected=0]="disconnected",e[e.connecting=1]="connecting",e[e.connected=2]="connected"}(o||(o={}));var s,a,c,g={width:320,height:240,frameRate:15,bitRate:300},u={width:640,height:480,frameRate:15,bitRate:800},l={width:1280,height:720,frameRate:20,bitRate:1500},h={frameRate:20,bitRate:800},d={frameRate:15,bitRate:1500},p={frameRate:5,bitRate:2e3},C=0,I=1,f=2,E=3,Q=4,B=5,m=6,y=7,v=0,_=1,S=2,w=3,D=4,b=5,k=6,R=7,N=1,T=2,L={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8};!function(e){e[e.tryProbe=0]="tryProbe",e[e.probed=2]="probed"}(s||(s={})),function(e){e[e.CDN=0]="CDN",e[e.RTC=1]="RTC",e[e.L3=2]="L3",e[e.DG=3]="DG"}(a||(a={})),function(e){e[e.UDP=0]="UDP",e[e.RTMP=1]="RTMP",e[e.FLV=2]="FLV",e[e.HLS=3]="HLS",e[e.WEBRTC=4]="WEBRTC"}(c||(c={}));var M,O,P,F=0,G=1,U=2,x=1e3,H={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},q=2001,J=2002,Y=2003,K=1,z=0;!function(e){e[e.logout=0]="logout",e[e.trylogin=1]="trylogin",e[e.login=2]="login"}(M||(M={})),function(e){e[e.logout=0]="logout",e[e.trylogin=1]="trylogin",e[e.login=2]="login",e[e.reconnect=3]="reconnect"}(O||(O={})),function(e){e[e.offline=0]="offline",e[e.online=1]="online"}(P||(P={}));var j,V={0:{code:1,description:"user_stop_publishing_stream_normal"},1:{code:2,description:"user_heart_beat_timeout"},2:{code:3,description:"user_repeat_login"},3:{code:4,description:"user_kicked_out"},4:{code:5,description:"user_offline"},100:{code:6,description:"remove_by_server"}};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CDN=1]="CDN",e[e.RTC=2]="RTC",e[e.L3=3]="L3"}(j||(j={}));var W,Z=12001,X=12002,$=12003,ee=1,te=2,re=3;!function(e){e[e.low=1]="low",e[e.stantard=2]="stantard",e[e.hight=3]="hight",e[e.custome=4]="custome"}(W||(W={}));var ie,Ae,ne,oe,se,ae,ce={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8};!function(e){e[e.captureFpsToLow=1001]="captureFpsToLow",e[e.captureVolumeToLow=1002]="captureVolumeToLow",e[e.sendVideoBitrateToLow=1003]="sendVideoBitrateToLow",e[e.sendFpsToLow=1004]="sendFpsToLow",e[e.sendAudioBitrateToLow=1005]="sendAudioBitrateToLow",e[e.receiveVolumeToLow=1006]="receiveVolumeToLow",e[e.receiveAudioDecodedFail=1007]="receiveAudioDecodedFail",e[e.receiveVideoDecodedFail=1008]="receiveVideoDecodedFail",e[e.receiveVideoFpsDecodedToLow=1009]="receiveVideoFpsDecodedToLow",e[e.renderVideoFpsToLow=1010]="renderVideoFpsToLow",e[e.captureFpsNormal=2001]="captureFpsNormal",e[e.captureVolumeNormal=2002]="captureVolumeNormal",e[e.sendVideoBitrateNormal=2003]="sendVideoBitrateNormal",e[e.sendFpsNormal=2004]="sendFpsNormal",e[e.sendAudioBitrateNormal=2005]="sendAudioBitrateNormal",e[e.receiveVolumeNormal=2006]="receiveVolumeNormal",e[e.receiveAudioDecodedNormal=2007]="receiveAudioDecodedNormal",e[e.receiveVideoDecodedNormal=2008]="receiveVideoDecodedNormal",e[e.receiveVideoFpsDecodedNormal=2009]="receiveVideoFpsDecodedNormal",e[e.renderVideoFpsNormal=2010]="renderVideoFpsNormal"}(ie||(ie={})),function(e){e[e.cdn=0]="cdn",e[e.ultra=1]="ultra"}(Ae||(Ae={})),function(e){e[e.stop=0]="stop",e[e.start=1]="start"}(ne||(ne={})),function(e){e[e.cdn=0]="cdn",e[e.ultra=1]="ultra",e[e.customUrl=2]="customUrl"}(oe||(oe={})),function(e){e[e.CDN=0]="CDN",e[e.BGP=1]="BGP"}(se||(se={})),function(e){e[e.ClientType_None=0]="ClientType_None",e[e.ClientType_H5=1]="ClientType_H5",e[e.ClientType_SmallPragram=2]="ClientType_SmallPragram",e[e.ClientType_Webrtc=3]="ClientType_Webrtc"}(ae||(ae={}));var ge,ue,le,he,de,pe,Ce,Ie,fe,Ee,Qe,Be,me=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._id=null,this.next=null,this.prev=null,this._id=e,this._data=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id?this._id:null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),e.prototype.hasNext=function(){return this.next&&this.next.id},e.prototype.hasPrev=function(){return this.prev&&this.prev.id},e}(),ye=function(){function e(){this.start=new me,this.end=new me,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}return e.prototype.insertBefore=function(e,t){var r=new me(this._idCounter,t);return r.next=e,r.prev=e.prev,e.prev&&(e.prev.next=r),e.prev=r,++this._idCounter,++this._numNodes,r},e.prototype.addLast=function(e){return this.insertBefore(this.end,e)},e.prototype.add=function(e){return this.addLast(e)},e.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},e.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},e.prototype.size=function(){return this._numNodes},e.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(e>=0)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw"Index out of bounds.";return r},e.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},e.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},e.prototype.removeFirst=function(){var e=null;return this._numNodes>0&&this.start.next&&(e=this.remove(this.start.next)),e},e.prototype.removeLast=function(){var e=null;return this._numNodes>0&&this.end.prev&&(e=this.remove(this.end.prev)),e},e.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},e.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},e.prototype.find=function(e){for(var t=this.start,r=!1,i=null;t.hasNext()&&!r;)e(t=t.next)&&(i=t,r=!0);return i},e.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},e.prototype.push=function(e){return this.addLast(e)},e.prototype.unshift=function(e){this.insertBefore(this._numNodes>0?this.start.next:this.end,e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(){return this.removeFirst()},e}(),ve=0,_e=1,Se=2,we=0,De=1,be=2,ke=3;!function(e){e[e.Unknown=-1]="Unknown",e[e.Excellent=0]="Excellent",e[e.Good=1]="Good",e[e.Middle=2]="Middle",e[e.Poor=3]="Poor",e[e.Die=4]="Die"}(ge||(ge={})),function(e){e[e.MinQuality=0]="MinQuality",e[e.DieQuality=0]="DieQuality",e[e.PoorMinQuality=1]="PoorMinQuality",e[e.MiddleMinQuality=30]="MiddleMinQuality",e[e.GoodMinQuality=60]="GoodMinQuality",e[e.ExcellentMinQuality=85]="ExcellentMinQuality",e[e.MaxQuality=100]="MaxQuality"}(ue||(ue={})),function(e){e[e.ZegoDefined=0]="ZegoDefined",e[e.UserUnregister=1]="UserUnregister"}(le||(le={})),function(e){e[e.CDN=0]="CDN",e[e.L3=1]="L3"}(he||(he={})),function(e){e[e.RTC=0]="RTC",e[e.CDN=1]="CDN",e[e.L3=2]="L3",e[e.DG=3]="DG"}(de||(de={})),function(e){e[e.PortraitSegmentation=0]="PortraitSegmentation"}(pe||(pe={})),function(e){e[e.Default=3]="Default",e[e.StandardVideoCall=4]="StandardVideoCall",e[e.HighVideoCall=5]="HighVideoCall",e[e.StandardChatroom=6]="StandardChatroom",e[e.HighQualityChatroom=7]="HighQualityChatroom",e[e.Broadcast=8]="Broadcast"}(Ce||(Ce={})),function(e){e[e.I=0]="I",e[e.H=10]="H",e[e.M=100]="M",e[e.L=1e3]="L"}(Ie||(Ie={})),function(e){e[e.BASE_LINE=1]="BASE_LINE",e[e.MAIN=2]="MAIN",e[e.HIGH=3]="HIGH"}(fe||(fe={})),function(e){e.ONLY_BASELINE="only_baseline",e.HARD_SOFT_ENCODEC_FIRST="hard_or_soft_encodec_first",e.HIGH_PROFILE_FIRST="high_profile_first"}(Ee||(Ee={})),function(e){e[e.useAnalyzer=0]="useAnalyzer",e[e.useWorklet=1]="useWorklet"}(Qe||(Qe={})),function(e){e[e.None=0]="None",e[e.Vocalist=1]="Vocalist",e[e.BackingSinging=2]="BackingSinging"}(Be||(Be={}));var Re,Ne={code:1000002,message:"not login room"},Te={code:1000017,message:"network is broken"},Le={code:1001021,message:"set geoFence fail"},Me={code:1100001,message:"input param error."},Oe={code:1100002,message:"network timeout."},Pe={code:1100003,msg:"socket close"},Fe={code:1100999,message:"unknown server error"},Ge={code:1101002,message:"get app config fail"},Ue=1101003,xe=1102016,He={code:1102017,message:"dispatch error"},qe={code:1102018,message:"token expired"},Je={code:1102022,message:"dispatch request timeout"},Ye={code:1102023,message:"connect signal fail"},Ke={code:1103001,message:"input param error"},ze={code:1103002,message:"browser do not support"},je={code:1103011,message:"enumerate devices fail"},Ve={code:1103021,message:"session request fail"},We={code:1103022,message:"create offer error"},Ze={code:1103055,message:"publish stream no found"},Xe={code:1104021,message:"session request fail"},$e={code:1104027,message:"server session closed"},et={code:1104038,message:"resource mode is not supported"},tt=1006006,rt={code:1000067,message:"Logged in room, setting scenario is not supported"},it={code:1103083,message:"sdp wrong format"},At={code:1103084,message:"mini sdp buffer size exceeded"},nt={code:1103085,message:"url size exceeded"},ot=1103086,st="this publish stream id is not created by CreateZegoStream",at=1103087,ct="the zego stream does not capture audio",gt=1103088,ut="the zego stream does not capture video",lt=function(e){return e},ht=function(e){return e},dt=function(e){return e},pt=function(e){return e},Ct=function(e){return e},It="/sdk/init",ft="/sdk/login",Et="listener",Qt="/sdk/on_listener",Bt={INPUT_PARAM:Me},mt="/sdk/off_listener",yt={INPUT_PARAM:Me},vt="/sdk/init",_t={event:"/sdk/create_stream",error:{kBrowserNotSupportError:ze,kParamError:Ke,kScreenCancelError:{code:1103042,message:"screen canceled"},kScreenFailedError:{code:1103010,message:"screen fail"},kScreenNotSupportError:{code:1103043,message:"screen not support"},kHttpsRequiredError:{code:1103053,message:"https is required"},kGetUserMediaError:{code:1103061,message:"get media fail"},kDeviceNoAllowedError:{code:1103064,message:"get device not allowed"},kDeviceNoReadableError:{code:1103065,message:"device is not readable"},kDeviceOverConstrainedError:{code:1103066,message:"device does not meet constraints"}},stream_type:ht,screen:lt,camera:lt,custom:lt,preview_conf:lt,media_stream_id:ht},St={event:"/sdk/start_publish",error:{kPublishParamError:Ke,kPublishNetworkTimeoutError:Oe,kPublishDispatchTimeoutError:Je,kPublishDispatchError:He,kPublishNetworkBrokenError:Te,kPublishNoPreviewError:{code:1103044,message:"stream is not from zego"},kPublishNoCaptureError:{code:1103099,message:"stream is not capturing"},kPublishEffectIsStarting:{code:1103073,message:"video effect is starting, please operate after video effect is started"},kPublishNoLoginError:Ne,kPublishRetryTimeoutError:{code:1103051,message:"publisher retry timeout"},kMediaServerForbidError:{code:1003025,message:"stream is forbided by media server"},kPublishTokenExpiredError:qe,kPublishSessionClosedError:{code:1103027,message:"server session closed"},kPublishNegoTimeoutError:{code:1103030,message:"negotiation timeout"},kCreateOfferError:We,kSetLocalDescError:{code:1103023,message:"setLocalDescription error"},kSessionTimeoutError:{code:1103060,message:"session request timeout"},kSessionRequestError:Ve,kSetRemoteDescError:{code:1103025,message:"other side offer error"},kMediaConnectionError:{code:1103028,message:"ice connection error"},kWebsocketDisconnectedError:{code:1103050,message:"websocket disconnected"},kMediaDescError:{code:1103024,message:"mediaDesc error"},kCandidateError:{code:1103026,message:"candidate error"},kIsPublishing:{code:1103056,message:"publish is publishing"},kClientIPChangedError:{code:1103058,message:"client ip changed"},kTTLOverTimeError:{code:1103059,message:"ttl over time"},kUpdateMediaDescriptionTimeOut:{code:1103067,message:"update sdp time out"},kUpdateMediaDescriptionError:{code:1103068,message:"update sdp fail"},kPublishNetProbePoor:{code:1103069,message:"publish stream poor and net probe poor"},kPublishNotSubscribeBackgroundProcessError:{code:1103070,message:"background process is start, but not subscribe yet"}},urls:dt,is_center:Ct,server_url:ht,publish_option:lt,message:ht,stream_id:ht,stream_sid:pt,room_id:ht,video_en_codec_id:pt,cap_w:pt,cap_h:pt,w:pt,h:pt,video_en_fps:pt,video_en_bps:pt,audio_c_channel_count:pt,audio_en_bps:pt,aec_level:pt,ans_level:pt,agc:Ct,enable_camera:Ct,enable_mic:Ct,video_activate:Ct,audio_activate:Ct,gw_version:pt,use_na:pt},wt={event:"/publish/start",is_peer:Ct,reason:ht,url:ht,ip:ht,peer_id:pt,source_type:ht,net_protocol:ht,wait_consume:pt,dispatch_consume:pt,signal_consume:pt,is_center:Ct},Dt={event:"/publish/restart",stream_id:ht,server_url:ht,reason_code:pt},bt={event:"/sdk/publish",room_id:ht,room_sid_string:ht,retry_btime:pt,max_retry_interval:pt,fail_cnt:pt,continuous_fail_cnt:pt,probe_ip_cnt:pt,valid_probe_ip_cnt:pt,poor_quality_retry_cnt:pt,use_resource_type:dt,probe_not_trigger_retry_info:lt,stop_reason:ht,try_cnt:pt,server_url:ht,publish_begin_time:pt,publish_state_time:pt,bitrate:pt,h:pt,w:pt,cap_w:pt,cap_h:pt,fps:pt,use_na:pt,env:pt,webrtc_sid:pt,stream_id:ht,itemtype:ht},kt="/sdk/api/publish_video_c_size",Rt=pt,Nt=pt,Tt=pt,Lt="/sdk/play_video_size_changed",Mt=pt,Ot=pt,Pt=pt,Ft={event:"/rtc/publish",tryidx:pt,url:ht,ip:ht,net_protocol:ht,lsttime:pt,denied_info:ht,dispatch_external_ip:ht,total_stat:lt,room_id:ht,room_sid_string:ht,resource_type:ht,protocol:ht,stop_reason:ht},Gt="/sdk/stop_publish",Ut={kParamError:Ke},xt=ht,Ht=pt,qt=ht,Jt="/rtc/publish_stream_state_error",Yt={event:"/sdk/start_play",error:{kStreamIDNullError:{code:1000015,message:"streamID is empty"},kPlayParamError:{code:1104001,message:"input parm error"},kPlayStreamIDToLongError:{code:1000014,message:"stream ID is too long"},kPlayStreamIDInvalidCharacterError:{code:1000016,message:"stream ID contains illegal characters"},kPlayNoLoginError:Ne,kPlayRepeatedPullError:{code:1103049,message:"repeated pull same stream"},kPlayNetworkTimeoutError:Oe,kPlayDispatchTimeoutError:Je,kPlayDispatchError:He,kPlayNetworkBrokenError:Te,kPlayUnsupportedResourceMode:et,kPlayStreamNotFound:{code:1104039,message:"play stream not found"},kPlayRetryTimeoutError:{code:1104031,message:"player retry timeout"},kPlaySessionClosedError:$e,kPlaySessionResetError:{code:1104035,message:"reset session push"},kPlayNegoTimeoutError:{code:1104030,message:"negotiation timeout"},kCreateOfferError:{code:1104022,message:"create offer error"},kSetLocalDescError:{code:1104023,message:"setLocalDescription error"},kSessionRequestError:Xe,kSessionTimeoutError:{code:1104036,message:"session request timeout"},kSetRemoteDescError:{code:1104025,message:"other side offer error"},kMediaConnectionError:{code:1104028,message:"ice connection error"},kWebsocketDisconnectedError:{code:1104029,message:"websocket disconnected"},kCandidateError:{code:1104026,message:"candidate error"},kMediaDescError:{code:1104024,message:"mediaDesc error"},kIsPlaying:{code:1104032,message:"player is playing"},kClientIPChangedError:{code:1104033,message:"client ip changed"},kTTLOverTimeError:{code:1104034,message:"ttl is over time"},kProbeTimeOutError:{code:1104037,message:"probe time out"},kPlayNetProbePoor:{code:1104041,message:"stream quality poor and net probe poor"}},room_id:ht,urls:dt,is_center:Ct,server_url:ht,video_layer:pt,play_option:lt,message:ht,stream_id:ht,stream_sid:pt,resource_mode:pt,src:ht,video_codec_id:ht,room_sid_string:ht,is_multi:Ct,audio_activate:Ct,video_activate:Ct,gw_version:pt,use_na:pt,biz_product:pt},Kt={event:"/play/start",is_peer:Ct,reason:ht,url:ht,ip:ht,peer_id:pt,source_type:ht,net_protocol:ht,wait_consume:pt,dispatch_consume:pt,signal_consume:pt,is_center:Ct},zt={event:"/play/restart",stream_id:ht,server_url:ht,reason_code:pt},jt={event:"/sdk/play",audio_cumulative_break_time:pt,audio_cumulative_decode_time:pt,video_cumulative_break_time:pt,video_cumulative_decode_time:pt,l3_a_break_time:pt,l3_a_decode_time:pt,l3_v_break_time:pt,l3_v_decode_time:pt,rtc_a_break_time:pt,rtc_a_decode_time:pt,rtc_v_break_time:pt,rtc_v_decode_time:pt,fft_audio:pt,fft_video:pt,room_id:ht,room_sid_string:ht,retry_btime:pt,max_retry_interval:pt,use_na:pt,fail_cnt:pt,continuous_fail_cnt:pt,probe_ip_cnt:pt,valid_probe_ip_cnt:pt,poor_quality_retry_cnt:pt,probe_not_trigger_retry_info:lt,use_resource_type:dt,stop_reason:ht,try_cnt:pt,webrtc_sid:pt,itemtype:ht,server_url:ht,play_begin_time:pt,play_state_time:pt,play_state_cnt:pt,first_frame_time:pt,protocol:ht,dispatch_external_ip:ht,total_stat:lt,w:pt,h:pt,abrc:pt,vbrc:pt,vinfo:lt},Vt={event:"/rtc/play",tryidx:pt,url:ht,ip:ht,stream_id:ht,room_id:ht,room_sid_string:ht,net_protocol:ht,lsttime:pt,denied_info:ht,stop_reason:ht,dispatch_external_ip:ht,env:pt,resource_type:ht,protocol:ht,total_stat:lt,vinfo:lt},Wt="/sdk/stop_play",Zt={kParamError:Ke},Xt=ht,$t=ht,er=pt,tr=pt,rr="/rtc/play_stream_state_error",ir="/device/list",Ar={kBrowserNotSupportError:ze,kEnumDevicesError:je},nr=lt,or=ht,sr={event:"/device/audio_device_changed",error:{kBrowserNotSupportError:ze,kEnumDevicesError:je},interrupt:pt,device:ht,device_name:ht},ar={event:"/device/video_device_changed",error:{kBrowserNotSupportError:ze,kEnumDevicesError:je},interrupt:pt,device:ht,device_name:ht},cr="/sdk/check_system",gr=lt,ur="/sdk/remote_camera_update",lr=ht,hr=ht,dr=pt,pr="/sdk/remote_mic_update",Cr=ht,Ir=ht,fr=pt,Er="/sdk/destroy_stream",Qr={kLocalStreamError:{code:1000018,message:"local stream wrong"}},Br=ht,mr="/device/api/audio_output",yr=ht,vr=ht,_r="/liveroom/recv_stream_update_info",Sr=ht,wr=lt,Dr={ROOM_NOT_EXIST:{code:1002014,msg:"room not exist"}},br="/liveroom/send_stream_update_info",kr=ht,Rr=ht,Nr=ht,Tr={event:"/liveroom/get_current_stream_list",room_id:ht,room_sid_string:ht,stream_seq:pt,stream_size:pt,stream_list:lt,use_ua:pt,error:{kParamError:Ke,NOT_LOGIN:Ne}},Lr={event:"/sdk/net_first_video_frame",webrtc_sid:pt,fft_consumed:lt,resource_type:ht,reliability:pt,push_consumed:pt,prepare_recv_consumed:pt,connected_consumed:pt,protocol:ht,biz_product:pt,dev_changed:Ct},Mr={event:"/sdk/net_first_audio_frame",webrtc_sid:pt,fft_consumed:lt,resource_type:ht,reliability:pt,push_consumed:pt,prepare_recv_consumed:pt,connected_consumed:pt,protocol:ht,biz_product:pt,dev_changed:Ct},Or="/app/lifecycle",Pr=ht,Fr={kParamError:Me},Gr="/sdk/listener",Ur="/sdk/net_probe",xr=pt,Hr=dt,qr={event:"/sdk/net_probe_result",is_switch:Ct,is_publish:Ct,stream_id:ht,result:pt,node:ht,net_quality:pt,probe_net_quality:pt},Jr="/cloud_setting/cache",Yr=lt,Kr="/cdn/play",zr=ht,jr=ht,Vr=ht,Wr="/l3/play",Zr=pt,Xr=pt,$r="/sdk/play_src_changed",ei=ht,ti=ht,ri={event:"/publish/stream_resource",urls:dt,try_cnt:pt,is_center:Ct},ii="/publish/server_connect",Ai=ht,ni="/publish/create_offer",oi=ht,si=Ct,ai="/publish/set_local_sdp",ci=ht,gi=Ct,ui={event:"/publish/create_session",sdp:ht,is_mini:Ct,gw_nodes:dt,gw_nodes_ttl:pt,gw_version:pt,webrtc_sid:pt},li="/publish/set_remote_sdp",hi=ht,di=Ct,pi=pt,Ci="/publish/ice_connected",Ii="/publish/rtc_publish_event",fi=pt,Ei="/rtc/play_event_message",Qi=pt,Bi="/rtc/recv_close_session",mi=lt,yi="/rtc/recv_reset_session",vi="/rtc/ice_connection_state_changed",_i=ht,Si="/publish/send_media_desc",wi=pt,Di="/publish/recv_media_desc",bi=ht,ki=Ct,Ri="/publish/send_ice_candidate",Ni=lt,Ti="/publish/recv_ice_candidate",Li=lt,Mi={event:"/play/stream_resource",urls:dt,try_cnt:pt,is_center:Ct},Oi="/play/server_connect",Pi="/play/create_offer",Fi=ht,Gi=Ct,Ui="/play/set_local_sdp",xi=ht,Hi=Ct,qi={event:"/play/create_session",sdp:ht,is_mini:Ct,gw_nodes:dt,gw_nodes_ttl:pt,gw_version:pt,webrtc_sid:pt},Ji="/play/set_remote_sdp",Yi=ht,Ki=Ct,zi=pt,ji="/play/ice_connected",Vi="/play/send_media_desc",Wi=pt,Zi="/play/recv_media_desc",Xi=ht,$i=Ct,eA="/play/send_ice_candidate",tA=lt,rA="/play/recv_ice_candidate",iA=lt,AA="/zegoconn/connect",nA={event:"/zegoconn/proxy_connect",service_no:pt,proxy_link_sources:pt,recv_time:pt,connect_stream:pt},oA={event:"/zegoconn/proxy_broken",service_no:pt},sA={event:"/zegoconn/proxy_disconnect",service_no:pt},aA="/rtc/exception_update",cA=pt,gA=ht,uA={kParamError:Me,kPublishStreamNoFoundError:Ze,kNoLoginError:Ne,kNoResponseError:{code:1103063,message:"publish target no response"},kBizChannelError:{code:1102021,message:"biz channel error."},kInvalidChannelError:{code:1102024,message:"invalid channel"},kUnknownServerError:Fe},lA="/mss/pushadd",hA="/mss/pushdel",dA=ht,pA={event:"/liveroom/send_stream_extra_info",error:{kParamError:Me,kExtraInfoNullError:{code:1003050,message:"extra info of publishing stream is null"},kNoLoginError:Ne,kPublishStreamNoFoundError:Ze,kUpdateStreamInfoFailError:{code:1103062,message:"update stream info fail"}},stream_id:ht,stream_extra_info:ht,room_sid_string:ht,room_id:ht,send_seq:pt};!function(e){e.WIN32="WIN32",e.MAC="Mac",e.ANDROID="Android",e.LINUX="Linux",e.IOS="iOS",e.UNKNOWN="WTF"}(Re||(Re={}));var CA=function(){return CA=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},CA.apply(this,arguments)},IA=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},fA=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function EA(e){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\*])+$/.test(e)&&/^[^:/]*$/g.test(e)}function QA(e){return!!(e.startsWith("rtmp://")||e.startsWith("avertp://")||e.startsWith("https://")&&e.endsWith(".flv")||e.startsWith("https://")&&e.endsWith(".m3u8"))}function BA(e,t,r){t.success&&(r[e+"SuccessCallback"]=t.success),t.error&&(r[e+"ErrorCallback"]=t.error)}function mA(e,t){return t[e+"SuccessCallback"]}function yA(e,t,r,i){BA(e,{success:function(e,i){for(var A=[],n=2;n<arguments.length;n++)A[n-2]=arguments[n];!function(e,t,r,i,A){switch(r){case"eventStart":e.eventStart(t,i);break;case"eventEndWithMsgInfo":e.eventEndWithMsgInfo(t,i,A[0]);break;case"addEventMsg":e.addEventMsg(t,i,A[0],A[1]);break;case"addEvent":e.addEvent(t,i);break;case"eventEnd":e.eventEnd(t,i);break;case"addMsgInfo":e.addMsgInfo(t,A[0])}}(t,r,e,i,A)}},i)}function vA(e,t,r){if(t)return{code:e,message:r||"liveroom error"};var i={1:"parse json error.",1001:"login is processing.",1002:"liveroom request error.",1003:"zpush connect fail.",1004:"zpush handshake fail.",1005:"zpush login fail.",1006:"user login state is wrong.",1007:"got no zpush addr",1008:"token error",1009:"dispatch error",1010:"token expired",1011:"token format error",1013:"token03 format error",2002:"biz channel error",1e9:"liveroom cmd error, code:",1000002001:"need relogin",1000002002:"third token auth error",1000002003:"token nonce type should be int64",1000002004:"token appid type  should be uint32",1000002005:"token timeout type should be int64",1000002006:"token user_id type should be string",1000002007:"token room_id type should be string",1000002008:"token format error",1000002009:"token privilege type should be map",1000002010:"token expire_time type should be int64",1000002011:"token user_id type should be string",1000002012:"token not exist",1000002013:"token update error",1000002014:"token not need to check"};if(0===e)return{code:0,message:""};var A={code:0,message:"liveroom cmd error"};if(A.code=e,e>1e9){var n=i[e];A.message=n?"liveroom cmd error, code: "+e+", message: "+n:i[1e9]+e}else A.message=i[e]?i[e]+" code:"+e:"unknown error code:"+e;return A}function _A(e,t){delete t[e+"SuccessCallback"],delete t[e+"ErrorCallback"]}function SA(e,t){var r={code:-1,message:"server error"};return e>1e9&&(r.code=e-1e9+52e6),t&&(r.message=t),r}function wA(e,t){var r={1016:"MULTI_ROOM_UNABLE",1105:"ROOM_MAX_USER_COUNT",1012:"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM",2002:"TOKEN_ERROR",2003:"ROOM_ERROR_LOGIN_TIMEOUT",2010:"TOKEN_ERROR",5022:"ROOM_COUNT_EXCEED"};if(t)return e>2e5&&e<3e5?r[e-2e5]:e<2e5?{50116:"TOKEN_ERROR",50117:"TOKEN_EXPIRED",50118:"TOKEN_ERROR",50119:"TOKEN_ERROR",50120:"TOKEN_ERROR",50121:"TOKEN_ERROR",50122:"TOKEN_ERROR",50123:"TOKEN_EXPIRED",50124:"TOKEN_ERROR",50125:"TOKEN_ERROR",50126:"TOKEN_ERROR",50127:"TOKEN_ERROR",50128:"TOKEN_ERROR"}[e]||r[e]||"ROOM_INNER_ERROR":r[e]||"ROOM_INNER_ERROR";return e>1e9?r[e-1e9]||"":{1:"PARSE_JSON_ERROR",1001:"LOGIN_PROCESSING",1002:"LIVEROMM_REQUEST_ERROR",1003:"ZPUSH_REQUEST_FAIL",1004:"ZPUSH_REQUEST_FAIL",1005:"ZPUSH_REQUEST_FAIL",1006:"LOGIN_STATE_WRONG",1007:"ZPUSH_REQUEST_FAIL",1008:"TOKEN_ERROR",1009:"DIAPATCH_ERROR",1010:"TOKEN_EXPIRED",1011:"TOKEN_ERROR",1012:"SUBCMD_ERROR",1101:"ZEGO_AUTH_ERROR",2001:"BIZ_CHANNEL_ERROR",2002:"BIZ_CHANNEL_ERROR"}[e]||"ROOM_INNER_ERROR"}function DA(e,t,r,i){var A,n=[],o=[],s=[];r||(r=[]);for(var a=0;a<r.length;a++)if(r[a].anchor_id_name!=e&&r[a].id_name!=e&&r[a].user_id!=e){A=!1;for(var c=0;c<t.length;c++)if(r[a].stream_id===t[c].stream_id){r[a].extra_info!==t[c].extra_info&&s.push(r[a]),A=!0;break}A||n.push(r[a])}for(var g=0;g<t.length;g++)if(t[g].anchor_id_name!=e&&t[g].id_name!=e&&t[g].user_id!=e){A=!1;for(var u=0;u<r.length;u++)if(t[g].stream_id===r[u].stream_id){A=!0;break}A||o.push(t[g])}t.splice(0);for(a=0;a<r.length;a++)t.push(r[a]);i(n,o,s)}function bA(e,t){return 0==t?"number"==typeof e&&e%1==0&&e>=0:"number"==typeof e&&e%1==0&&e>0}function kA(e,t,r){return t=null!=t?t:1,r=null!=r?r:1e4,"number"==typeof e&&e%1==0&&e>=t&&e<=r}function RA(e,t){void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((function(t){for(var r=[],i=[],A=[],n=0;n<t.length;n++){var o=t[n];"audioinput"===o.kind&&r.push({deviceName:o.label,deviceID:o.deviceId}),"audiooutput"===o.kind&&i.push({deviceName:o.label,deviceID:o.deviceId}),"videoinput"===o.kind&&A.push({deviceName:o.label,deviceID:o.deviceId})}e&&e({microphones:r,speakers:i,cameras:A})})).catch((function(e){console.error("enumerate devices wrong "+e),t&&t(Ar.kEnumDevicesError)})):t&&t(Ar.kBrowserNotSupportError)}function NA(){return null!==navigator.platform.match("iPhone")?Re.IOS:null!==navigator.userAgent.match("Android")?Re.ANDROID:null!==navigator.platform.match("Mac")?Re.MAC:null!==navigator.platform.match("Win32")&&null===navigator.userAgent.match("WOW64")?Re.WIN32:Re.UNKNOWN}function TA(e,t,r,i){if("object"!=typeof e)return{result:!1,message:"Invalid constraint. Constraint Extend must be a object"};if(0===Object.keys(e).length)return{result:!1,message:"".concat(t," can not be a empty object")};for(var A=0,n=["exact","ideal","max","min"];A<n.length;A++){var o=n[A],s=e[o];if("number"==typeof s&&!bA(s,!1))return{result:!1,message:" ".concat(o," of ").concat(t," must be integer number")};if("number"==typeof r&&"number"==typeof s&&s<r)return{result:!1,message:" ".concat(o," of ").concat(t," must greater than ").concat(r)};if("number"==typeof i&&"number"==typeof s&&s>i)return{result:!1,message:" ".concat(o," of ").concat(t," cannot greater than ").concat(i)}}return{result:!0,message:"Constraint Extend OK."}}function LA(e,t,r,i,A){var n=TA(e,t,i,A);return n.result||r&&r(_t.error.kParamError,n.message),n.result}function MA(e,t){for(var r=0,i=["frameRate","width","height"];r<i.length;r++){var A=i[r],n=e[A];if(void 0===n)return t&&t(_t.error.kParamError," ".concat(A," is required when videoQuality is 4")),!1;if("number"==typeof n&&!bA(n,!1))return t&&t(_t.error.kParamError," ".concat(A," must be integer number")),!1;if("number"==typeof n&&("width"===A||"height"===A)&&n<0)return t&&t(_t.error.kParamError," ".concat(A," must greater than 0.")),!1;if("number"==typeof n&&"width"===A&&n>7680)t&&t(_t.error.kParamError," ".concat(A," cannot greater than 7680."));else if("number"==typeof n&&"height"===A&&n>4320)t&&t(_t.error.kParamError," ".concat(A," cannot greater than 4320."));else if("object"==typeof n){if("width"===A&&!LA(n,A,t,0,7680))return!1;if("height"===A&&!LA(n,A,t,0,4320))return!1;if("frameRate"===A&&!LA(n,A,t))return!1}else if("number"!=typeof n&&"object"!=typeof n)return t&&t(_t.error.kParamError," ".concat(A," must be number or object")),!1}return!0}function OA(e,t){if(void 0===e)return t(_t.error.kParamError," bitrate is required when videoQuality is 4"),!1;if("number"==typeof e){if(!kA(e,0,10240))return t(_t.error.kParamError," bitrate must be integer number"),!1;if(!function(e,t){return!(e>10240&&(t(_t.error.kParamError," bitrate cannot greater than 10 Mbps"),1))}(e,t))return!1}else t(_t.error.kParamError," bitrate must be number");return!0}function PA(e){var t=e.message.match(/action:(\d+)/),r=t?Number(t[1]):NaN;return[Yt.error.kTTLOverTimeError,Yt.error.kClientIPChangedError,St.error.kTTLOverTimeError,St.error.kClientIPChangedError].includes(e)||[6].includes(r)}function FA(e,t,r){return e.push(t),e.length>r&&e.shift(),e.reduce((function(e,t){return e+t}))/e.length}function GA(e){return e<600?97-Math.pow(.09*e,1.1):18*Math.exp(.002*(600-e))}function UA(e,t){if(t){return e<=55?99-Math.pow(.8*e,1.18):ue.PoorMinQuality}var r=100*e;return r<=40?96-Math.pow(r,1.22):ue.PoorMinQuality}function xA(e,t,r){if(void 0!==r){var i=function(e){return e<=50?98-Math.pow(e,1.15):ue.PoorMinQuality}(r);return.15*i+.85*Math.min(GA(e),UA(t,!1))}return Math.min(GA(e),UA(t,!0))}function HA(e){return e>=ue.ExcellentMinQuality?ge.Excellent:e>=ue.GoodMinQuality?ge.Good:e>=ue.MiddleMinQuality?ge.Middle:e>=ue.PoorMinQuality?ge.Poor:ge.Die}function qA(){var e=!!window.RTCRtpScriptTransform;if(!e){var t=!!RTCRtpSender.prototype.createEncodedStreams,r=!1;try{new ReadableStream;r=!0}catch(e){console.error("Transferable streams are not supported.")}e=t&&r}return e}function JA(e){for(var t,r=0,i=e.length,A="";r<i;)t=e.subarray(r,Math.min(r+32768,i)),A+=String.fromCharCode.apply(null,Array.from(t)),r+=32768;return btoa(A)}function YA(e,t,r){t.info("audio"===e.kind?r+" "+"mic(".concat(e.id,",").concat(e.label,",").concat(e.muted,",").concat(e.enabled,",").concat(e.readyState,")"):r+" "+"camera(".concat(e.id,",").concat(e.label,",").concat(e.muted,",").concat(e.enabled,",").concat(e.readyState,")"))}function KA(){return!!(navigator.userAgent.match(/Mobi/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i))}function zA(e,t,i){var A=(new Date).getTime(),n=(0,r.getReportSeq)();return function(e){var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t>>>0}("".concat(e,"_").concat(t,"_").concat(i,"_").concat(A,"_").concat(n))}function jA(e){var t="rtc";switch(e){case 0:case 3:default:t="rtc";break;case 1:t="cdn";break;case 2:t="l3"}return t}function VA(e,t){var r=document.createElement("video");return e&&(r.style.width=e+"px;"),t&&(r.style.height=t+"px;"),r.setAttribute("muted",""),r.setAttribute("autoplay",""),r.muted=!0,r.autoplay=!0,r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r}function WA(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r}function ZA(e){var t=this;return new Promise((function(r,i){return IA(t,void 0,void 0,(function(){var t,A,n,o,s,a;return fA(this,(function(c){switch(c.label){case 0:t=[CA({},e),CA(CA({},e),{video:{width:360}}),CA(CA({},e),{video:{width:640}}),CA(CA({},e),{video:{width:720}}),CA(CA({},e),{video:{width:854}}),CA(CA({},e),{video:{width:1280}})],A=null,n=null,o=0,c.label=1;case 1:if(!(o<t.length))return[3,6];s=t[o],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,navigator.mediaDevices.getUserMedia(s)];case 3:return A=c.sent(),[3,6];case 4:return a=c.sent(),n=a,[3,5];case 5:return o++,[3,1];case 6:return A?r(A):i(n),[2]}}))}))}))}function XA(e,t){if(e&&!(e instanceof MediaStream)&&e.zegoStream){if(t.info("cu.gs type:zego"),e.stream instanceof MediaStream)return e.stream;throw new Error("The ZegoLocalStream type requires first calling the capture api to capture the stream")}return e}var $A=function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||(i||(i=Array.prototype.slice.call(t,0,A)),i[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))},en=function(){function e(){}return e.zegoSdp=function(e){var t=e.split("\r\n"),r=[],i=[];t.forEach((function(e){var t=e.match(/a=rtpmap:(\d+)\s+((H264\/90000)|(opus\/48000\/2))/);t&&t[1]&&t[2]&&("H264/90000"===t[2]&&r.push(t[1]),"opus/48000/2"===t[2]&&i.push(t[1]))}));var A=[];return t.map((function(e){var t=!0,n=e.match(/((a=rtcp-fb:)|(a=rtpmap:)|(a=fmtp:))(\d+)/);if(n&&n[5]&&($A($A([],r,!0),i,!0).some((function(e){return e==n[5]}))||(t=!1)),e.indexOf("m=video")>-1){var o=e.split(" ");e=$A([o[0],o[1],o[2]],r,!0).join(" ")}else if(e.indexOf("m=audio")>-1){o=e.split(" ");e=$A([o[0],o[1],o[2]],i,!0).join(" ")}t&&A.push(e)})),A.join("\r\n")},e.getSDPByVideDecodeType=function(e,t,r,i){var A={str:"",arr:[],obj:{H264:[],H265:[],VP8:[],VP9:[],OTHER:[]}};if(!e.includes("m=video"))return e;var n=/m=video.+/.exec(e)[0];n=n.match(/[\s|\d]+/g)[1].replace(" ",""),A.str=n,A.arr=A.str.split(" "),A.arr.forEach((function(t){var r=new RegExp("a=rtpmap:"+t+".+").exec(e)[0];r.includes("H264")?A.obj.H264.push(t):r.includes("H265")?A.obj.H265.push(t):r.includes("VP8")?A.obj.VP8.push(t):r.includes("VP9")?A.obj.VP9.push(t):A.obj.OTHER.push(t)})),A.obj.OTHER.forEach((function(t){var r=new RegExp("a=fmtp:"+t+".+apt=(\\d+)").exec(e),i=r&&r[1];i&&(A.obj.H264.includes(i)?A.obj.H264.push(t):A.obj.H265.includes(i)?A.obj.H265.push(t):A.obj.VP8.includes(i)?A.obj.VP8.push(t):A.obj.VP9.includes(i)&&A.obj.VP9.push(t))}));var o=[];if("VP9"===t?o=$A($A($A([],A.obj.H265,!0),A.obj.H264,!0),A.obj.VP8,!0):"VP8"===t?o=$A($A($A([],A.obj.H265,!0),A.obj.H264,!0),A.obj.VP9,!0):"H264"===t?o=$A($A($A([],A.obj.H265,!0),A.obj.VP8,!0),A.obj.VP9,!0):"H265"===t&&(o=$A($A($A([],A.obj.VP8,!0),A.obj.H264,!0),A.obj.VP9,!0)),"H264"==t&&"boolean"==typeof r){var s=function(e){return function(t){return!!t.includes("profile-level-id=")&&(e?!t.includes("profile-level-id=42e01f"):t.includes("profile-level-id=42e01f"))}},a=function(e){return function(t){if(!t.includes("profile-level-id="))return!1;switch(e){case fe.BASE_LINE:return!t.includes("profile-level-id=42");case fe.MAIN:return!t.includes("profile-level-id=4d");case fe.HIGH:return!t.includes("profile-level-id=64");default:return!1}}},c=function(t){return function(){var r=[];return A.obj.H264.forEach((function(i){for(var A=new RegExp("a=fmtp:"+i+".+\\s\\n","g").exec(e)||[],n=0,o=t;n<o.length;n++){0!==A.filter(o[n]).length&&r.push(i)}var s=new RegExp("a=fmtp:"+i+".+apt=(\\d+)").exec(e),a=s&&s[1];a&&r.includes(a)&&r.push(i)})),r}};o=o.concat(function(){for(var e=[],t=0,n=void 0!==i&&i===Ee.HARD_SOFT_ENCODEC_FIRST?[c([s(r),a(fe.BASE_LINE)]),c([s(r)]),c([s(!r),a(fe.BASE_LINE)]),c([s(!r)])]:void 0!==i&&i===Ee.HIGH_PROFILE_FIRST?[c([a(fe.HIGH),s(r)]),c([a(fe.HIGH),s(!r)]),c([s(r)]),c([s(!r)])]:[c([a(fe.BASE_LINE),s(r)]),c([a(fe.BASE_LINE),s(!r)]),c([s(r)]),c([s(!r)])];t<n.length;t++){if(e=(0,n[t])(),new Set(e).size!==A.obj.H264.length)break;e=[]}return e}())}return o.forEach((function(t){var r=A.arr.indexOf(t);r>=0&&A.arr.splice(r,1);var i=new RegExp("a=rtpmap:"+t+".+\\s\\n","g"),n=new RegExp("a=rtcp-fb:"+t+".+\\s\\n","g"),o=new RegExp("a=fmtp:"+t+".+\\s\\n","g");e=(e=(e=e.replace(i,"")).replace(n,"")).replace(o,"")})),e=e.replace(n,A.arr.join(" "))},e}(),tn=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},rn=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},An=function(){function e(){var e=this;this.iceconnectionstatechangeTimes=0,this.isCheckAll=!1;var t=document.createElement("canvas");t.getContext("2d").fillStyle="rgba(255, 255, 255, 0)";try{this.localStream=t.captureStream()}catch(e){console.error("canvas captureStream error",e)}this.timer=setTimeout((function(){e.resolve("Detection timeout"),e.hangup()}),5e3)}return e.prototype.checkSupportByType=function(e,t){return tn(this,void 0,void 0,(function(){var t,r,i=this;return rn(this,(function(A){switch(A.label){case 0:return this.checkType=e,t={},this.localPc=new RTCPeerConnection(t),this.remotePc=new RTCPeerConnection(t),r=new Promise((function(e){return i.resolve=e})),this.localPc.addEventListener("icecandidate",(function(e){return i.onIceCandidate(i.localPc,e)})),this.remotePc.addEventListener("icecandidate",(function(e){return i.onIceCandidate(i.remotePc,e)})),this.remotePc.addEventListener("iceconnectionstatechange",(function(t){"connected"===i.remotePc.iceConnectionState&&(i.iceconnectionstatechangeResult=!0),2==++i.iceconnectionstatechangeTimes&&i.iceCandidate&&(clearTimeout(i.timer),i.resolve("connected"===i.remotePc.iceConnectionState||"The browser does not support ".concat(e," format")),i.hangup())})),this.localStream.getTracks().forEach((function(e){return i.localPc.addTrack(e,i.localStream)})),[4,this.check(e)];case 1:return A.sent(),[4,r];case 2:return[2,A.sent()]}}))}))},e.prototype.check=function(e,t){return tn(this,void 0,void 0,(function(){var r,i;return rn(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),t&&"function"==typeof this.localPc.addTransceiver&&(this.localPc.addTransceiver("video",{direction:"sendonly"}),this.localPc.addTransceiver("audio",{direction:"sendonly"})),[4,this.localPc.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 1:return(r=A.sent()).sdp=en.getSDPByVideDecodeType(r.sdp,e),this.onCreateOfferSuccess(r),[3,3];case 2:return i=A.sent(),this.onCreateSessionDescriptionError(i),[3,3];case 3:return[2]}}))}))},e.prototype.onCreateOfferSuccess=function(e){return tn(this,void 0,void 0,(function(){var t,r,i,A;return rn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.localPc.setLocalDescription(e)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),this.onSetSessionDescriptionError(t),[2];case 3:return n.trys.push([3,5,,6]),[4,this.remotePc.setRemoteDescription(e)];case 4:return n.sent(),[3,6];case 5:return r=n.sent(),this.onSetSessionDescriptionError(r),[2];case 6:return n.trys.push([6,9,,10]),[4,this.remotePc.createAnswer()];case 7:return i=n.sent(),[4,this.onCreateAnswerSuccess(i)];case 8:return n.sent(),[3,10];case 9:return A=n.sent(),this.onCreateSessionDescriptionError(A),[2];case 10:return[2]}}))}))},e.prototype.onCreateAnswerSuccess=function(e){return tn(this,void 0,void 0,(function(){var t,r;return rn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.remotePc.setLocalDescription(e)];case 1:return i.sent(),[3,3];case 2:return t=i.sent(),this.onSetSessionDescriptionError(t),[2];case 3:return i.trys.push([3,5,,6]),[4,this.localPc.setRemoteDescription(e)];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),this.onSetSessionDescriptionError(r),[2];case 6:return[2]}}))}))},e.prototype.onIceCandidate=function(e,t){return tn(this,void 0,void 0,(function(){var r;return rn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getOtherPc(e).addIceCandidate(t.candidate)];case 1:return i.sent(),[3,3];case 2:return r=i.sent(),console.error(this.checkType,"".concat(this.getPcName(e)," addIceCandidate error"),r),clearTimeout(this.timer),this.hangup(),this.resolve(r),[3,3];case 3:return"remotePc"===this.getPcName(e)&&t.candidate&&(this.iceCandidate=!0),this.iceconnectionstatechangeResult&&"localPc"===this.getPcName(e)&&(clearTimeout(this.timer),this.hangup(),this.resolve(!0)),[2]}}))}))},e.prototype.getOtherPc=function(e){return e===this.localPc?this.remotePc:this.localPc},e.prototype.getPcName=function(e){return e===this.localPc?"localPc":"remotePc"},e.prototype.onCreateSessionDescriptionError=function(e){console.error("Failed to create session description: ".concat(e.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(e)},e.prototype.onSetSessionDescriptionError=function(e){console.error("Failed to set session description: ".concat(e.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(e)},e.prototype.hangup=function(){this.localPc.close(),this.remotePc.close(),this.iceconnectionstatechangeTimes=0,this.localStream.getTracks().forEach((function(e){return e.stop()}))},e}(),nn=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},on=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function sn(e,t,r,i,A){return nn(this,void 0,void 0,(function(){var n,o,s,a,c,g,u,l;return on(this,(function(h){switch(h.label){case 0:return n={webRTC:!1,customCapture:!1,camera:!1,microphone:!1,videoCodec:{H264:!1,H265:!1,VP8:!1,VP9:!1},screenSharing:e,errInfo:{}},i&&"screenSharing"===i?(t({result:e,errInfo:n.errInfo}),[2]):i&&"customCapture"!==i||(((o=document.createElement("video")).captureStream||o.mozCaptureStream)&&(n.customCapture=!0),"customCapture"!==i)?(s=navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,a=function(){var e="https:"!==window.location.protocol&&"file:"!==window.location.protocol&&-1==window.location.hostname.indexOf("127.0.0.1")&&-1==window.location.hostname.indexOf("localhost");if(e)throw console.error("webrtc requires https or localhost"),new Error("webrtc requires https or localhost");return!e}(),i&&"camera"!==i&&"microphone"!==i?[3,9]:s?a?[3,1]:(n.camera=!1,n.microphone=!1,console.error("webrtc requires https or localhost"),[3,9]):[3,9]):(t({result:n.customCapture,errInfo:n.errInfo}),[2]);case 1:if(i&&"camera"!==i)return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,ZA({video:!0,audio:!1})];case 3:return(c=h.sent())&&(n.camera=!0)&&c.getTracks().forEach((function(e){e.stop()})),[3,5];case 4:return g=h.sent(),n.errInfo.camera={name:g.name,message:g.message},console.error("camera devices detect error: ",g.name,g.message),[3,5];case 5:if(i&&"microphone"!==i)return[3,9];h.label=6;case 6:return h.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!0,video:!1})];case 7:return(u=h.sent())&&(n.microphone=!0)&&u.getTracks().forEach((function(e){return e.stop()})),[3,9];case 8:return l=h.sent(),n.errInfo.microphone={name:l.name,message:l.message},console.error("microphone devices detect error: ",l.name,l.message),[3,9];case 9:return"camera"===i||"microphone"===i?(t({result:n[i],errInfo:n.errInfo}),[2]):(function(e,t,r,i){nn(this,void 0,void 0,(function(){var A,n,o,s,a,c,g,u,l,h,d;return on(this,(function(p){switch(p.label){case 0:return A={webRTC:!1,H264:!1,VP8:!1,VP9:!1,H265:!1},r?1!==t||"VP8"!==r&&"H264"!==r?[3,2]:[4,(h=new An).checkSupportByType(r,i)]:[3,2];case 1:return"boolean"==typeof(n=p.sent())?(A[r]=n,[2,e(A)]):(A[r]=!1,[2,e(A,n)]);case 2:if("webRTC"!==r&&1!==t)return[3,7];p.label=3;case 3:return p.trys.push([3,5,,6]),d=new RTCPeerConnection,i&&"function"==typeof d.addTransceiver&&(d.addTransceiver("video",{direction:"sendonly"}),d.addTransceiver("audio",{direction:"sendonly"})),[4,d.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 4:return p.sent(),A.webRTC=!0,[3,6];case 5:return o=p.sent(),e&&e(A,o),[3,6];case 6:if("webRTC"===r)return[2,e(A)];p.label=7;case 7:if(1===t){for(s="",c=[],g=0,u=a=["VP8","H264"];g<u.length;g++)l=u[g],h=new An,c.push(h.checkSupportByType(l));return Promise.all(c).then((function(t){t.forEach((function(e,t){"boolean"==typeof e?A[a[t]]=!0:(A[a[t]]=!1,s=e)})),s?e(A,s):e(A)})),[2]}try{d=new RTCPeerConnection,i&&"function"==typeof d.addTransceiver&&(d.addTransceiver("video",{direction:"sendonly"}),d.addTransceiver("audio",{direction:"sendonly"})),d.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(t){if(A.webRTC=!0,t&&t.sdp){var i=t.sdp.split("\r\n");if(A.H264=i.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("H264/")>-1})),"H264"===r)return e(A);if(A.VP8=i.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("VP8/")>-1})),"VP8"===r)return e(A);A.VP9=i.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("VP9/")>-1})),A.H265=i.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("H265/")>-1})),e&&e(A)}}))}catch(t){e&&e(A,t)}return[2]}}))}))}((function(e,r){i||(n.videoCodec.H264=e.H264,n.videoCodec.H265=e.H265,n.videoCodec.VP8=e.VP8,n.videoCodec.VP9=e.VP9,n.webRTC=e.webRTC),r&&("string"==typeof r?n.errInfo.extendedDate=r:n.errInfo.webRTC={name:r.name,message:r.message},console.error("videoCodec detect error: "+r)),t&&t(i?{result:e[i],errInfo:n.errInfo}:n)}),r,i,A),[2])}}))}))}var an={supportDetection:sn};function cn(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(t),i=new Uint8Array(r.length),A=0;A<r.length;++A)i[A]=r.charCodeAt(A);return i}function gn(e){return Uint8Array.from(Array.from(window.unescape(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))}function un(e){for(var t in e)"object"==typeof e[t]?un(e[t]):e.hasOwnProperty(t)||("number"==typeof e[t]&&(e[t]=0),"string"==typeof e[t]&&(e[t]=""))}var ln="zc.0",hn="zc.1",dn="zc.cs",pn="zc.ds",Cn="zc.sps.0",In="zc.sps.1",fn="zc.sps.0.0",En="zc.sps.1.0",Qn="zc.smsi.0",Bn="zc.scsu",mn="zc.rdh.a",yn="zc.rdh.hfwur",vn="zc.psh.0",_n="zc.psh.1",Sn="zc.tsh.rngn.0",wn="zc.tsh.rngn.1",Dn="zc.tsh.dgnb",bn="zc.s.bwh",kn="zc.s.ut",Rn="zc.s.smwc",Nn="zc.s.cs.0",Tn="zc.s.sct",Ln="zc.s.cs.1",Mn="zc.s.sm",On="zc.s.hrd",Pn="zc.s.hpd",Fn="zc.s.hprsd",Gn="zc.s.smda",Un="zc.s.cmt",xn="zc.s.sh",Hn="zc.s.sss",qn="zc.s.apas",Jn="zc.s.snp",Yn="zc.s.dgn",Kn="zc.wcs.csws.1",zn="zc.wcs.smd",jn="zsc.ssgn",Vn="zsc.ccns",Wn="zsc.ucgl",Zn="zc.p.0.sp.0",Xn="zc.p.ps",$n="zc.p.0.ocpss",eo="zc.p.0.ocos",to="zc.p.0.oslds",ro="zc.p.0.ogrd",io="zc.p.0.ormd",Ao="zc.p.0.orci.0",no="zc.p.0.orci.1",oo="zc.p.0.oic",so="zc.p.0.ocsc",ao="zc.p.0.oicsc",co="zc.p.0.spqt",go="zc.p.0.cpqut.1",uo="zc.p.0.upq",lo="zc.p.0.orrs",ho="zc.p.0.orcs",po="zc.p.0.sci",Co="zc.p.0.psr",Io="zc.p.0.od",fo="zc.p.0.ssl.0",Eo="zc.p.0.orumd",Qo="zc.p.0.ss",Bo="zc.p.1.sp.0",mo="zc.p.ocpss.1",yo="zc.p.hcsws.1",vo="zc.p.ocos.1",_o="zc.p.oslds.1",So="zc.p.ormd.1",wo="zc.p.orci.1",Do="zc.p.orpe.1",bo="zc.p.oic.1",ko="zc.p.oicsc.1",Ro="zc.p.spqt.1",No="zc.p.orrs.1",To="zc.p.orcs.1",Lo="zc.p.orss.1",Mo="zc.p.ogrs.1",Oo="zc.p.sci.1",Po="zc.p.psr.1",Fo="zc.p.ssl.1",Go="zc.p.1.nqi",Uo="zc.uslq",xo="zc.p.scv",Ho="zc.sh.msbss",qo="zc.sh.ms",Jo="zc.sh.psl",Yo="zc.sh.sbr",Ko="zc.sh.sbr3",zo="zc.as.smss",jo="zc.as.sass",Vo="zc.as.s.0",Wo="zc.srs",Zo="zc.irs",Xo="zc.ssh",$o="zc.wmh.db",es="zc.ups.0",ts=function(){function e(e,t){this.logger=e,this.dataReport=t,this.debug=!1,this.testEnvironment=!1,this.pullLimited=!0,this.useNetAgent=!0,this.configOK=!1,this.relateService=[],this.role=2,this.maxMemberCount=0,this.roomCreateFlag=1,this.callbackList={},this.publishStreamList={},this.waitPublishStreamList={},this.streamUrlMap={},this.cmdCallback={},this.customUrl=[],this.customPlayUrl=[],this.turnToTcp=!1,this.turnOverTcpOnly=void 0,this.audioEffectBuffer={},this.audioBitRate=48e3,this.cdnSeq=0,this.engineDestroy=!1,this.listenerList={roomStreamUpdate:[],streamExtraInfoUpdate:[],playerStateUpdate:[],publisherStateUpdate:[],screenSharingEnded:[],publishQualityUpdate:[],playQualityUpdate:[],remoteCameraStatusUpdate:[],remoteMicStatusUpdate:[],soundLevelUpdate:[],capturedSoundLevelUpdate:[],videoDeviceStateChanged:[],audioDeviceStateChanged:[],deviceError:[],_deviceError:[],_remoteCameraStatusUpdate:[],_remoteMicStatusUpdate:[],_streamUpdated:[],receiveRealTimeSequentialData:[],beautyEffectOverload:[],playerRecvSEI:[],beautyEffectError:[],_engineConfigUpdate:[],backgroundEffectError:[],exceptionUpdate:[],networkQuality:[],mixerSoundLevelUpdate:[],autoMixerSoundLevelUpdate:[],_engineDestroy:[]},this.reportList={},this.reportSeqList={startPublish:{},rePublish:{},startPlay:{},rePlay:{},stopPublish:{},stopPlay:{}},this.streamTrigger={},this.audioStreamList={},this.deviceInfos=null,this.deviceChangeTimer=null,this.deviceStateOut=!1,this.customUa=!1,this.testNetPackageSize=!1,this.testSignalConnectCount=0,this.streamRetryTime=300,this.checkList=[],this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""},this.streamConnectTime=0,this.defaultConnTime=5,this.clientIP="",this.accessClientIp="",this.isMultiOuter=!1,this.type="PUBLIC",this.roomList=[],this.tempRoomList=[],this.isMultiRoom=!1,this.browser="",this.unregisterSeiFilter="",this.isTestMode=!1,this.debugLog=!1,this.netAppConfigDelay=0,this.seiConfig={emulationPreventionByte:!1},this.playAccelerate=!0,this.connectChanged=!1,this.autoSwitchDeviceSetting={camera:!1,microphone:!1},this.unSendMessageList=[],this.scenario=Ce.Default,this.testStreamRetryMode=0,this.testStreamRetryCount=10,this.supportDispatchByPass=!1,this.testStreamStatusSeq=0,this.engineConfig={keepAudioTrack:!0,playClearLastFrame:!0,previewClearLastFrame:!0,mixingAudioDelay:0,baseMixingAudioDelay:0,adaptCustomUA:!1,allowReplaceEmptyTrack:!1,publishQualityInterval:0,playQualityInterval:0},this._isMiniSdp=!0,this._forceMiniSdp=!1,this.player265Validated=!1,this.player265ReceiverList=[],this.logReportCallback=yA,this.unregisterCallback=_A,this.checkIllegalCharacters=EA,this.decodeServerError=SA,this.getLiveRoomError=wA,this.getServerError=vA,this.mergeStreamList=DA,this.checkInteger=bA,this.isUrl=QA,this.actionSuccessCallback=mA,this.checkValidNumber=kA,this.getDevices=RA,this.uint8arrayToBase64=JA,this.getSeq=r.getSeq,this.getReportSeq=r.getReportSeq}return Object.defineProperty(e.prototype,"networkState",{get:function(){var e;return null===(e=this.rtm)||void 0===e?void 0:e.stateCenter.networkState},set:function(e){var t;(null===(t=this.rtm)||void 0===t?void 0:t.stateCenter)&&void 0!==e&&(this.rtm.stateCenter.networkState=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMiniSdp",{get:function(){if(!this._isMiniSdp&&!this._forceMiniSdp)return!1;if(!window.WebAssembly||!window.Worker)return!1;var e=this.settingConfig.getSetting("open_mini_sdp");return"boolean"==typeof e&&(this.logger.info("zc.c.ims setting: "+e),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"streamCenter",{get:function(){return this._streamCenter},set:function(e){this._streamCenter=e},enumerable:!1,configurable:!0}),e.prototype.getRequestId=function(){return this.idName+"-"+(0,r.getSeq)()},e.prototype.getSignalCmdContent=function(e,t,r,i){var A={request_id:t,room_id:e,from_userid:this.idName,from_username:this.nickName,to_userid:r};return null!=i&&(A.result=i),JSON.stringify(A)},e.prototype.actionListener=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!["playQualityUpdate","publishQualityUpdate","soundLevelUpdate","capturedSoundLevelUpdate","playerRecvSEI","remoteCameraStatusUpdate","_remoteCameraStatusUpdate","remoteMicStatusUpdate","_remoteMicStatusUpdate","_streamUpdated","_deviceError","networkQuality","mixerSoundLevelUpdate","autoMixerSoundLevelUpdate"].includes(e)&&this.listenerList[e]){var A=this.reporter.createSpan(Ie.H,{key:Et},{key:""},Gr);A.setAttributes({listener:e,listener_params:JSON.stringify(r)}),["deviceError","streamExtraInfoUpdate","publisherStateUpdate","playerStateUpdate","roomStreamUpdate"].includes(e)&&this.logger.info("zc.al ".concat(e," ").concat(JSON.stringify(r))),A.end()}this.listenerList[e]&&this.listenerList[e].forEach((function(i){try{setTimeout((function(){i.apply(void 0,r)}),0)}catch(r){t.logger.error("zc.sc.al "+e+" "+r)}}))},e.prototype.getRoomByRoomID=function(e){return this.roomList.find((function(t){return t.roomID==e}))},e.prototype.getPlayRoom=function(e){return this.roomList.find((function(t){return!!t.streamList.find((function(t){return t.stream_id==e}))}))},e.prototype.destroy=function(){this._streamCenter=null},e}(),rs=function(){return rs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},rs.apply(this,arguments)},is=Tr,As=function(){function e(e,t,r,i,A){this.logger=e,this.stateCenter=t,this.rtm=r,this.streamCenter=i,this.roomID=A,this.minStreamSeq=0,this.streamSeq=0,this.maxFullStreamSeq=0,this.streamQuerying=!1,this.streamSeqMergeMap=null,this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3}return e.prototype.setCDNInfo=function(e,t){e.urlFlv=t.urls_flv instanceof Array?t.urls_flv[0]||"":"string"==typeof t.urls_flv?t.urls_flv:"",e.urlHls=t.urls_m3u8 instanceof Array?t.urls_m3u8[0]||"":"string"==typeof t.urls_m3u8?t.urls_m3u8:"",e.urlFlvPlus=t.urls_flv_plus instanceof Array?t.urls_flv_plus[0]||"":"string"==typeof t.urls_flv_plus?t.urls_flv_plus:"",e.urlHlsPlus=t.urls_m3u8_plus instanceof Array?t.urls_m3u8_plus[0]||"":"string"==typeof t.urls_m3u8_plus?t.urls_m3u8_plus:"",e.urlHttpsFlv=t.urls_https_flv instanceof Array?t.urls_https_flv[0]||"":"string"==typeof t.urls_https_flv?t.urls_https_flv:"",e.urlHttpsHls=t.urls_https_m3u8 instanceof Array?t.urls_https_m3u8[0]||"":"string"==typeof t.urls_https_m3u8?t.urls_https_m3u8:"",e.urlRtmp=t.urls_rtmp instanceof Array?t.urls_rtmp[0]||"":"string"==typeof t.urls_rtmp?t.urls_rtmp:""},e.prototype.onStreamUpdated=function(e,t,r){},e.prototype.onStreamExtraInfoUpdated=function(e,t){},e.prototype.handleStreamStart=function(e,t){this.logger.info("zb.sh.hss call stream update"),this.room=t,e.body?(this.streamListHBMergeInterval=e.body.stream_list_hb_wait_merge_time||2e3,this.streamListMergeInterval=e.body.stream_list_push_merge_timeout||5e3,this.streamQuerying=!1,this.handleFullUpdateStream(e.body.stream_seq,e.body.stream_info||[]),this.handleReconnectStream(e.body.stream_info),this.logger.info("zb.sh.hss call end")):this.logger.error("zb.sh.hss server response wrong")},e.prototype.onPublishStateUpdate=function(e,t,r){},e.prototype._updateStreamInfo=function(e,t,r,i,A){var n,o,s=this;void 0===r&&(r=""),this.logger.info("zb.sh.usi call");var a=r,c=null===(n=this.room)||void 0===n?void 0:n.streamList.find((function(t){return t.stream_id===e}));c||this.logger.info("zb.sh.usi stream not in room cmd "+t);var g={stream_id:e,extra_info:a};2002!==t&&2003!==t||(g.stream_sid=(null==c?void 0:c.stream_sid)||"");var u=JSON.stringify(g),l={sub_cmd:t,stream_msg:u,third_token:null===(o=this.room)||void 0===o?void 0:o.token},h=this.room,d=function(r,A){i&&i(r,A),s.handleStreamUpdateRsp(r,e,t)},p=function(n,o){var a=s.room,c=s.rtm.stateCenter.roomModulesList.find((function(e){return e.roomID===(null==a?void 0:a.roomID)})),g=function(){return(null==c?void 0:c.isTryLogin())||"CONNECTING"===(null==c?void 0:c.roomState)},u=function(){s.logger.warn("zb.sh.usi resend stream update "+t),s._updateStreamInfo(e,t,r,i,A)};if(a&&((null==c?void 0:c.isLogin())||g())&&n.code&&n.code==Oe.code&&a.streamInfoList[e].seq==o){setTimeout((function(){if(2001==t&&s.stateCenter.publishStreamList[e]&&s.stateCenter.publishStreamList[e].state==H.update_info||2002==t)if(g()){var r=function(e,t){var i=function(){s.rtm.stateCenter.offListener("_roomStateUpdate",r)};e===(null==a?void 0:a.roomID)&&"CONNECTED"===t?(u(),i()):e===(null==a?void 0:a.roomID)&&"DISCONNECTED"===t&&i()};s.rtm.stateCenter.onListener("_roomStateUpdate",r)}else u();else A&&A(Oe)}),0)}else if(n.body&&n.body.err_code){var l=s.stateCenter.getServerError(n.body.err_code,s.stateCenter.useNetAgent,n.body.err_message);[1011,1000002002].includes(l.code)&&(l=qe),A&&A(l,o),t===q&&s.onPublishStateUpdate(_e,e,l)}};if(this.stateCenter.useNetAgent){var C=this.rtm.liveRoomHandler.sendStreamUpdate(l,d,p,{sessionID:null==h?void 0:h.sessionID,roomID:null==h?void 0:h.roomID,roomSessionID:null==h?void 0:h.roomSessionID});[2001,2002].includes(t)&&(this.room.streamInfoList[e]={seq:C})}else{C=this.rtm.service.sendMessage("stream",l,d,p,void 0,{sessionID:null==h?void 0:h.sessionID,roomID:null==h?void 0:h.roomID,roomSessionID:null==h?void 0:h.roomSessionID});this.room.streamInfoList[e]={seq:C},0===C&&2002===t&&"wxMini"===this.stateCenter.clientType&&(this.stateCenter.unSendMessageList.push({roomID:(null==h?void 0:h.roomID)||"",streamid:e,cmd:t,stream_extra_info:r}),this.logger.info("zb.sh.usi call unsendmsg "+JSON.stringify(this.stateCenter.unSendMessageList)))}this.logger.info("zb.sh.usi call success cmd "+t+", roomid: ".concat(null==h?void 0:h.roomID,", stream: ").concat(e))},e.prototype.updateStreamInfo=function(e,t,r,i,A){var n=this;if(void 0===r&&(r=""),this.room){var o;if(2001===t||2002===t)(o=this.stateCenter.reporter.createSpan(Ie.H,{key:ft,par:this.roomID},{key:""},br)).setAttributes({stream_update_type:kr(2001===t?"stream added":2002===t?"stream deleted":""),stream_extra_info:Rr(r),stream_id:Nr(e)});this._updateStreamInfo(e,t,r,(function(e,r){[2001,2002].includes(t)&&(o.setAttributes({send_seq:r}),o&&o.end()),i&&i(e,r)}),(function(e,r){[2001,2002].includes(t)&&(o.setAttributes({send_seq:r}),n.stateCenter.reporter.setError(o,e)),A&&A(e,r)}))}else this.logger.warn("zb.sh.usi room not exist")},e.prototype.handleStreamUpdateRsp=function(e,t,r){var i,A,n,o;if(this.rtm.isDisConnect())this.logger.warn("zb.sh.hsur not login");else if(0==e.body.err_code){this.logger.info("zb.sh.hsur stream seq "+this.streamSeq+" server seq "+e.body.stream_seq);var s=this.room;if(s){if(null===(i=null==e?void 0:e.body)||void 0===i?void 0:i.token_remain_time)this.stateCenter.getRoomByRoomID(null===(A=null==e?void 0:e.header)||void 0===A?void 0:A.room_id)?this.rtm.resetRoomTokenTimer(e.header.room_id,e.body.token_remain_time):this.logger.error("zb.sh.hsur room no found ignore "+JSON.stringify(null===(n=e.header)||void 0===n?void 0:n.room_id));if(this.stateCenter.useNetAgent){this.handleStreamSync(e,t,r);var a=s.streamInfoList[t],c=null===(o=e.header)||void 0===o?void 0:o.seq;a&&a.seq===c?delete s.streamInfoList[t]:this.logger.info("zb.sh.hsur ".concat(JSON.stringify(t)," udp stream info; rsp seq: ").concat(c,", cur seq: ").concat(null==a?void 0:a.seq," "))}else{e.body.stream_seq>this.streamSeq+1?(this.logger.info("zb.sh.hsur seq diff, server: "+e.body.stream_seq+" client: "+this.streamSeq),this.fetchStreamList()):this.streamSeq=e.body.stream_seq;for(var g=0;g<e.body.stream_info.length;g++){var u=e.body.stream_info[g].stream_id;this.handleStreamRsp(s,u,rs({id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName},e.body.stream_info[g]),r),delete s.streamInfoList[u]}}}else this.logger.info("hsur.0 room no found")}else this.logger.error("zb.sh.hsur stream update error "+e.body.err_code)},e.prototype.handleStreamSync=function(e,t,r){if(this.handleStreamRsp(this.room,t,{stream_id:t,stream_sid:e.body.stream_sid,stream_ver:e.body.stream_ver,stream_nid:e.body.stream_nid,id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName},r),e.body.stream_seq>this.streamSeq+1)return this.logger.info("zb.sh.hss.1 seq diff server: "+e.body.stream_seq+" client "+this.streamSeq),void this.fetchStreamList();this.streamSeq=e.body.stream_seq;var i=this.room.streamList.find((function(e){return e.stream_id==t}));i&&e.body.stream_ver>i.stream_ver&&this.fetchStreamList(t)},e.prototype.handleStreamRsp=function(e,t,r,i){var A=this.stateCenter.publishStreamList[t],n=e.streamList.find((function(e){return e.stream_id==t}));if(this.logger.info("hsur.0 cmd "+i+" "+!!n),n&&2002===i){var o=e.streamList.findIndex((function(e){return e.stream_id==t}));this.logger.info("hsur.0 stream index "+o),o>-1&&e.streamList.splice(o,1)}A?(A.state==H.update_info&&(A.state=H.publishing,2001!==i||n||e.streamList.push(r),this.onPublishStateUpdate(ve,t,{code:0,message:""})),n&&n.stream_sid!==r.stream_sid&&(this.logger.info("hsur.0 update sid. "+t+" origin:"+n.stream_sid+", new:"+r.stream_sid),n.stream_sid=r.stream_sid)):this.logger.info("hsur.0 stream is not exist")},e.prototype.handleFetchStreamListRsp=function(e,t){var r,i,A,n,o,s;if(this.logger.info("zb.sh.hfslr call "+t),this.streamQuerying=!1,this.stateCenter.reporter.spanEnd({key:is.event,par:this.roomID},{stream_seq:is.stream_seq(null===(r=e.body)||void 0===r?void 0:r.stream_seq),stream_size:is.stream_size(null===(A=null===(i=e.body)||void 0===i?void 0:i.stream_info)||void 0===A?void 0:A.length),stream_list:is.stream_list(null===(n=e.body)||void 0===n?void 0:n.stream_info),error:(null===(o=null==e?void 0:e.body)||void 0===o?void 0:o.err_code)||(null==e?void 0:e.code),message:(null===(s=null==e?void 0:e.body)||void 0===s?void 0:s.err_message)||(null==e?void 0:e.msg)}),0===e.body.err_code)if(this.streamSeq!==e.body.stream_seq){if(this.streamSeq>e.body.stream_seq)return this.logger.error("zb.sh.hfslr less seq"),void this.fetchStreamList(t);if(this.maxFullStreamSeq>e.body.stream_seq)this.logger.info("zb.sh.hfslr less than max fetch stream seq ");else{var a=e.body.stream_info;this.stateCenter.useNetAgent&&t&&(a=e.body.stream_info.filter((function(e){return e.stream_id===t}))),this.handleFullUpdateStream(e.body.stream_seq,a),this.logger.info("zb.sh.hfslr call success")}}else this.logger.info("zb.sh.hfslr same seq");else this.logger.info("zb.sh.hfslr server error=",e.body.err_code)},e.prototype.syncPublishStreamList=function(){this.logger.info("zb.sh.spsl call");var e=function(e){var r=t.stateCenter.publishStreamList[e];if(r.state===H.publishing){var i=t.room.streamList.findIndex((function(t){return t.stream_id===e}));if(r.roomID===t.room.roomID&&-1===i)r.state=H.update_info,t.updateStreamInfo(e,q,r.extra_info,(function(e){}))}},t=this;for(var r in this.stateCenter.publishStreamList)e(r);this.logger.info("zb.sh.spsl call success")},e.prototype.handleFullUpdateStream=function(e,t){var r=this;this.logger.info("zb.sh.hfus call"),this.streamSeq=e,this.maxFullStreamSeq<e&&(this.maxFullStreamSeq=e),this.logger.debug("zb.sh.hfus server seq "+this.streamSeq),t=t.filter((function(e){return 1!==e.stream_type})),this.stateCenter.mergeStreamList(this.stateCenter.idName,this.room.streamList,t,(function(e,t,i){0!==e.length&&(r.logger.debug("zb.sh.hfus callback addstream"),r.onStreamUpdated(r.roomID,K,r.makeCallbackStreamList(e))),0!==t.length&&(r.logger.debug("zb.sh.hfus callback delstream"),r.onStreamUpdated(r.roomID,z,r.makeCallbackStreamList(t))),0!==i.length&&(r.logger.debug("zb.sh.hfus callback updatestream"),r.onStreamExtraInfoUpdated(r.roomID,r.makeCallbackStreamList(i)))})),this.syncPublishStreamList(),this.logger.info("zb.sh.hfus call success")},e.prototype.handlePushStreamUpdateMsg=function(e){this.logger.info("zb.sh.hpsum call "+JSON.stringify(e));var t=e.body.stream_info;if(t&&0!==t.length){if(t=t.filter((function(e){return 1!==e.stream_type})),this.streamSeq+1!==e.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream 1"),void this.fetchStreamList();if(e.body.stream_seq<this.maxFullStreamSeq)return this.logger.info("zb.sh.hpsum call updatestream 2"),void this.fetchStreamList();switch(this.streamSeq=e.body.stream_seq,e.body.stream_cmd){case Z:this.handleAddedStreamList(t);break;case X:this.handleDeletedStreamList(t);break;case $:this.handleUpdatedStreamList(t)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},e.prototype.handlePriPushStreamUpdateMsg=function(e){if(this.logger.info("zb.sh.hpsum call"),e.body.streams_info&&0!==e.body.streams_info.length){if(e.body.streams_info.length+this.streamSeq!==e.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream"),void this.mergeStreamByStreamSeq(e.body.stream_cmd,e.body.stream_seq,e.body.streams_info);switch(this.streamSeq=e.body.stream_seq,e.body.stream_cmd){case ee:this.handleAddedStreamList(e.body.streams_info);break;case re:this.handleDeletedStreamList(e.body.streams_info);break;case te:this.handleUpdatedStreamList(e.body.streams_info)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},e.prototype.handleAddedStreamList=function(e){this.logger.debug("zb.sh.hasl call");for(var t,r=[],i=0;i<e.length;i++)if(e[i].anchor_id_name!=this.stateCenter.idName&&e[i].id_name!=this.stateCenter.idName&&e[i].user_id!==this.stateCenter.idName){t=!1;for(var A=0;A<this.room.streamList.length;A++)if(e[i].stream_id===this.room.streamList[A].stream_id){t=!0;break}t||r.push(e[i])}else this.logger.debug("hdsl.0 have self stream added");if(0!==r.length){this.logger.debug("zb.sh.hasl callback addstream");for(var n=0;n<r.length;n++){this.room.streamList.push(r[n]);var o=this.streamCenter.playerList[r[n].stream_id];null==o||o.player.setStreamAdd()}this.onStreamUpdated(this.roomID,K,this.makeCallbackStreamList(r))}this.logger.info("zb.sh.hasl call success")},e.prototype.handleDeletedStreamList=function(e){this.logger.debug("zb.sh.hdsl call");for(var t=[],r=0;r<e.length;r++)if(e[r].anchor_id_name!=this.stateCenter.idName&&e[r].id_name!=this.stateCenter.idName&&e[r].user_id!==this.stateCenter.idName){for(var i=this.room.streamList.length-1;i>=0;i--)if(e[r].stream_id===this.room.streamList[i].stream_id){!this.stateCenter.connectChanged&&this.room.streamList.splice(i--,1),t.push(e[r]);break}}else this.logger.debug("zb.sh.hdsl have self stream deleted");0!==t.length&&(this.logger.debug("zb.sh.hdsl callback delstream"),this.onStreamUpdated(this.roomID,z,this.makeCallbackStreamList(t))),this.logger.info("zb.sh.hdsl call")},e.prototype.handleUpdatedStreamList=function(e){this.logger.debug("zb.sh.husl call");for(var t=[],r=0;r<e.length;r++)if(e[r].anchor_id_name!=this.stateCenter.idName&&e[r].id_name!=this.stateCenter.idName&&e[r].user_id!==this.stateCenter.idName){for(var i=0;i<this.room.streamList.length;i++)if(e[r].stream_id===this.room.streamList[i].stream_id){e[r].extra_info!==this.room.streamList[i].extra_info&&(this.room.streamList[i]=e[r],t.push(e[r]));break}}else this.logger.debug("hsul.0 have self stream updated");0!==t.length&&(this.logger.debug("zb.sh.husl callback updatestream"),this.onStreamExtraInfoUpdated(this.roomID,this.makeCallbackStreamList(t))),this.logger.info("zb.sh.husl call success")},e.prototype.fetchStreamList=function(e){var t,r,i,A=this;this.logger.info("zb.sh.fsl call");var n=this.stateCenter.reporter.createSpan(Ie.H,{key:ft,par:this.roomID},{key:is.event,par:this.roomID},is.event,!0);if(this.rtm.isDisConnect())return this.logger.info("zb.sh.fsl state error"),void this.stateCenter.reporter.setError(n,is.error.NOT_LOGIN);if(this.streamQuerying)return this.logger.info("zb.sh.fsl already doing"),void this.stateCenter.reporter.setError(n,is.error.kParamError," already doing");if(this.streamQuerying=!0,this.logger.info("zb.sh.fsl send fetch request"),this.stateCenter.useNetAgent)this.rtm.liveRoomHandler.getStreamList({},(function(t){A.handleFetchStreamListRsp(t,e)}),(function(e){}),{roomID:null===(t=this.room)||void 0===t?void 0:t.roomID,sessionID:null===(r=this.room)||void 0===r?void 0:r.sessionID,roomSessionID:null===(i=this.room)||void 0===i?void 0:i.roomSessionID});else{var o=this.room;this.rtm.service.sendMessage("stream_info",{reserve:0},(function(e){A.handleFetchStreamListRsp(e)}),(function(e,t){}),void 0,{roomID:null==o?void 0:o.roomID,sessionID:null==o?void 0:o.sessionID,roomSessionID:null==o?void 0:o.roomSessionID})}this.logger.info("zb.sh.fsl call success")},e.prototype.handleReconnectStream=function(e){var t,r,i,A,n,o,s;this.logger.info("zb.sh.hrs call");var a=this.streamCenter.publisherList,c=this.streamCenter.playerList;this.logger.info("zb.sh.hrs publish "+Object.keys(this.streamCenter.publisherList));var g=function(c){if((null===(r=null===(t=a[c])||void 0===t?void 0:t.room)||void 0===r?void 0:r.roomID)!==u.roomID)return"continue";var g=e.find((function(e){return e.stream_id==c})),l=g&&!(g.anchor_id_name===u.stateCenter.idName||g.id_name===u.stateCenter.idName||g.user_id===u.stateCenter.idName);if(u.logger.info("zb.sh.hrs stream ".concat(c," ").concat(!!g," ").concat(l," ").concat(null===(i=a[c].publisher)||void 0===i?void 0:i.state)),(null===(A=a[c].publisher)||void 0===A?void 0:A.state)!=m&&a[c].state!==N||g&&!l){if(((null===(n=a[c].publisher)||void 0===n?void 0:n.state)==y||a[c].state===T)&&!(null===(s=null===(o=a[c])||void 0===o?void 0:o.retryStreamHandler)||void 0===s?void 0:s.maxTimer)&&e.find((function(e){return e.stream_id==c}))){u.updateStreamInfo(c,J);for(var h=0;h<u.room.streamList.length;h++)if(u.room.streamList[h].stream_id==c){u.room.streamList.splice(h--,1);break}}}else u.updateStreamInfo(c,q,u.stateCenter.publishStreamList[c].extra_info)},u=this;for(var l in a)g(l);for(var l in a){if(a[l].room.roomID===this.roomID)if(a[l].isReDispatch)this.logger.info("zb.sh.hrs "+l+"retry dispatch"),(h=a[l].retryDispatchHandler).stopMaxTime(),h.invalid(),h.initStream(l,a[l].publishOption,!0),h.active(0),a[l].isReDispatch=!1}for(var l in c){var h;if(c[l].room.roomID===this.roomID)if(c[l].isReDispatch)this.logger.info("zb.sh.hrs "+l+"retry dispatch"),(h=c[l].retryDispatchHandler).stopMaxTime(),h.invalid(),h.initStream(l,c[l].playOption,!1),h.active(0),c[l].isReDispatch=!1}var d=this.streamCenter.stopedPlayerList,p=function(e){if(d[e].roomID!==C.roomID)return"continue";var t=C.streamCenter,r=d[e],i=r.playOption,A=r.playStream;t.setPlayStateStart(e,i,r.isDataChannel);var n=t.playerList[e].retryDispatchHandler;t.playSuccessCallBackList[e]=d[e].sucCallBack?d[e].sucCallBack:function(e){for(var t=document.querySelectorAll("video, audio"),r=0;r<t.length;r++){A&&t[r].srcObject===A&&(A.getTracks().forEach((function(e){return A.removeTrack(e)})),e.clone().getTracks().forEach((function(e){return A.addTrack(e)})))}},d[e].errCallBack&&(t.playErrorCallBackList[e]=d[e].errCallBack),t.onPlayStateUpdate(be,e,{code:0,message:""}),n.stopMaxTime(),n.invalid(),n.initStream(e,i,!1),n.startMaxTime(),n.active(0),delete d[e]},C=this;for(var l in d)p(l);this.logger.info("zb.sh.hrs end")},e.prototype.makeCallbackStreamList=function(e){var t,r=[];this.stateCenter.useNetAgent&&this.stateCenter.appConfig&&(t=this.stateCenter.appConfig.media_config.play_config.resource_info.filter((function(e){return[a.CDN,a.DG].includes(e.resource_type)})));if(e&&e.length>0)for(var i=0;i<e.length;i++){var A=e[i].stream_id;if(t&&t.length)for(var n=0;n<t.length;n++){for(var o=t[n].resource_type==a.DG?"_plus":"",s=[],g=[],u=[],l=0;l<t[n].service_info.length;l++){var h=t[n].service_info[l],d=h.protocol,p=h.url_template.replace("{STREAM_NAME}",A);switch(d){case c.FLV:s.push(p);break;case c.HLS:g.push(p);break;case c.RTMP:u.push(p)}}e[i]["urls_flv"+o]=s,e[i]["urls_m3u8"+o]=g,e[i]["urls_rtmp"+o]=u}var C={user:{userID:e[i].anchor_id_name||e[i].id_name,userName:e[i].anchor_nick_name||e[i].nick_name},extraInfo:e[i].extra_info,streamID:e[i].stream_id,roomID:"",urlFlv:"",urlFlvPlus:"",urlRtmp:"",urlHls:"",urlHlsPlus:"",urlHttpsFlv:"",urlHttpsHls:"",streamGID:e[i].stream_gid,closeType:e[i].close_type};this.setCDNInfo(C,e[i]),r.push(C)}return r},e.prototype.sendBizChannelRequest=function(e,t,r,i){var A=this;void 0===i&&(i=!1),e=Object.assign(e,{is_retry_req:i?1:0});var n=this.room;this.rtm.service.sendMessage("biz_channel",e,(function(e,r){t(e.header.seq,e.body.cmd,e.body.rsp_body)}),(function(i,n){var o=i.body.err_code;"number"!=typeof o||2002!==o?r(o,n,i.body.rsp_body):A.sendBizChannelRequest(e,t,r,!0)}),void 0,{roomID:null==n?void 0:n.roomID,sessionID:null==n?void 0:n.sessionID,roomSessionID:null==n?void 0:n.roomSessionID})},e.prototype.sendBizChannelRequestV3=function(e,t,r,i){var A=this,n=e.server,o=e.location,s=this.rtm.netAgent,a=this.room,c=void 0;t&&(c=JSON.stringify(t)),this.logger.info(Ko+" "+JSON.stringify(c)+" request "+JSON.stringify(e)),s.startHttpRequest({service:n,headers:[{"Token-Appid":this.stateCenter.appid+""},{"Token-Check":"true"},{"Token-Str":null==a?void 0:a.token},{"Token-Userid":this.stateCenter.idName},{"Token-Biztype":0}],body:t,idName:this.stateCenter.idName,method_no:2,ack:!1,location:o},(function(e){A.logger.info(Ko+" rsp "+JSON.stringify(e.body));var n=e.status_code,o=e.body;if(200===n){var s=o;if("string"==typeof o)try{s=JSON.parse(o)}catch(e){throw i(n),e}var a=s.code,c=s.data,g=void 0;try{g=JSON.parse(c)}catch(e){g=c}if(0!==a)return"number"==typeof a&&2002===a?void A.sendBizChannelRequest(t,r,i,!0):void i(n,a,g);r(g)}else i(n)}),(function(e){i(-1,null==e?void 0:e.code,void 0,e)}))},e.prototype.sendHttpPBRequest=function(e,t,r,i,A){var n,o,s=this;void 0===A&&(A=2);var a=function(n,o){var a=n.status_code,c=n.body;if(200!==a)return A--,void(502===a&&A>0?s.sendHttpPBRequest(e,t,r,i,A):i&&i(a,c));r&&r(c,o)};null===(n=this.rtm.netAgent)||void 0===n||n.startHttpRequest2({interfaceID:e.interfaceID,resID:e.resID||"",body:t,ack:!1,idName:this.stateCenter.idName,method:2,token:null===(o=this.room)||void 0===o?void 0:o.token,mode:this.stateCenter.testEnvironment?2:1,reduceRspHeaders:!0},(function(e,t){a(e,t)}),(function(e){a(e)}),null,{timeout:4e3,extras:{protoCmd:e.protoCmd}})},e.prototype.sendBizChannelRequestV2=function(e,t,r,i){var A=this,n=e.server,o=e.location,s=e.cmd,a=e.channel,c=this.rtm.netAgent,g=this.room,u=void 0,l=t.timestamp;t&&(u=JSON.stringify(t));var h={cmd:s,req_body:u,appid:this.stateCenter.appid,timestamp:l||Math.ceil((new Date).getTime()/1e3),token:null==g?void 0:g.token,user_id:this.stateCenter.idName,channel:a||"media"};this.logger.info(Yo+" "+JSON.stringify(h)+" request "+JSON.stringify(e)),c.startHttpRequest({service:n,headers:[],body:h,idName:this.stateCenter.idName,method_no:2,ack:!1,location:o},(function(e){A.logger.info(Yo+" rsp "+JSON.stringify(e.body));var n=e.status_code,o=e.body;if(200===n){var s=o;if("string"==typeof o)try{s=JSON.parse(o)}catch(e){throw i(n),e}var a=s.err_code,c=s.rsp_body,g=void 0;try{g=JSON.parse(c)}catch(e){g=c}if(0!==a)return"number"==typeof a&&2002===a?void A.sendBizChannelRequest(t,r,i,!0):void i(n,a,g);r(g)}else i(n)}),(function(e){i(-1,null==e?void 0:e.code,void 0,e)}))},e.prototype._sendCDNPublishByAccessSvr=function(e,t,r,i){var A=this,n=Math.ceil((new Date).getTime()/1e3),o={appid:this.stateCenter.appid,biz_type:0,timestamp:n,seq:this.stateCenter.cdnSeq++,version:NaN,stream_id:e,pushurl:t.pushUrl},s={channel:"media",cmd:t.type,req_body:JSON.stringify(o)};this.sendBizChannelRequest(s,(function(e,n,o){if(A.logger.info("zb.sh.pt receive message"),0!=o.length){var s=JSON.parse(o),a=s.code,c=s.message;a&&0!=a?(A.logger.error("zb.sh.pt "+t.type+" error code: "+a+" "+c),i(Fe," cmd: ".concat(t.type," ").concat(a," ").concat(c))):(A.logger.info("zb.sh.pt "+t.type+" success"),r&&r({errorCode:0,extendedData:""}))}else i(uA.kNoResponseError)}),(function(e,r,n){A.logger.info("zb.sh.pt error: "+e);var o=uA.kUnknownServerError;2001==e?o=uA.kInvalidChannelError:2002==e&&(o=uA.kBizChannelError),A.logger.error("zb.sh.pt "),i(o," cmd: ".concat(t.type," ").concat(e," ").concat("","  "))}))},e.prototype._publishTarget=function(e,t,r){this.logger.info("zb.sh.ptcall");var i=e.streamID;this.stateCenter.testEnvironment&&(i="zegotest-"+this.stateCenter.appid+"-"+e.streamID),this._sendCDNPublishByAccessSvr(i,e,t,r)},e.prototype.updateStreamExtraInfo=function(e,t,r,i){this.logger.info("zb.sh.usei call");var A=Y;this.stateCenter.publishStreamList[e]&&this.stateCenter.publishStreamList[e].state>=H.update_info?(this.stateCenter.publishStreamList[e].extra_info=t,this.updateStreamInfo(e,A,t,r,i)):this.stateCenter.publishStreamList[e]&&this.stateCenter.publishStreamList[e].state===H.tryPublish?(this.stateCenter.publishStreamList[e].extra_info=t,r({errorCode:0})):i(pA.error.kUpdateStreamInfoFailError)},e.prototype.setStreamExtraInfo=function(e,t,r,i){this.updateStreamExtraInfo(e,t,r,i)},e.prototype._publishTargetWeb=function(e,t,r){},e.prototype.patchStreamList=function(e){var t=this;if("number"==typeof e.body.stream_refresh&&0!==e.body.stream_refresh)return this.logger.info(Jo+" stream refresh "),void this.fetchStreamList();this.logger.info(Jo+" stream seq "+this.streamSeq+" "+JSON.stringify(this.streamSeqMergeMap)),e.body.stream_seq>this.streamSeq&&!this.streamSeqMergeMap&&(this.streamSeqMergeMap={},this.logger.info(Jo+" call update stream "+this.streamSeq+" server "+e.body.stream_seq),this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout((function(){t.handleMergeTimeout()}),this.streamListHBMergeInterval)),this.minStreamSeq=e.body.stream_seq},e.prototype.getStreamSeq=function(){return this.streamSeq},e.prototype.mergeStreamByStreamSeq=function(e,t,r){var i=this;this.streamSeqMergeMap||(this.logger.warn(Ho+" new merge stream list "+this.streamSeq+" server "+t),this.streamSeqMergeMap={},this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout((function(){i.handleMergeTimeout()}),this.streamListMergeInterval)),this.logger.info(Ho+" ".concat(this.streamSeqMergeMap," ").concat(e," ").concat(t," ").concat(r)),this.streamSeqMergeMap[t]={cmd:e,streamList:r}},e.prototype.handleMergeTimeout=function(){if(this.streamSeqMergeMap){var e=Object.keys(this.streamSeqMergeMap).map((function(e){return+e})).sort((function(e,t){return e-t}));e[e.length-1]-e[0]+1===e.length||e[e.length-1]>=this.minStreamSeq?this.mergeStream(e):(this.streamSeqMergeMap=null,this.fetchStreamList())}},e.prototype.mergeStream=function(e){var t=this;this.logger.info(qo+" merge streamList "+this.streamSeq+" streamSeqList "+e.join(","));var r=e[e.length-1],i=[];e.forEach((function(e){if(t.streamSeqMergeMap&&t.streamSeqMergeMap[e])switch(t.streamSeqMergeMap[e].cmd){case Z:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=i.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&i.splice(t),i.push(e)}));break;case X:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=i.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&i.splice(t)}));break;case $:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=i.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&i.splice(t),i.push(e)}))}})),this.streamSeqMergeMap=null,this.logger.info(qo+" "+i),this.handleFullUpdateStream(r,i)},e.prototype.reset=function(){this.minStreamSeq=0,this.streamSeqMergeMap=null,this.streamSeqMergeTimer&&(clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=void 0),this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3},e}(),ns=function(){function e(){this.handlerListMap={}}return e.prototype.addEventHandler=function(e,t){if(this.handlerListMap[e]||(this.handlerListMap[e]=[]),"function"!=typeof t)throw new Error("Params callBack is not a Function");return-1==this.handlerListMap[e].indexOf(t)&&this.handlerListMap[e].push(t),!0},e.prototype.removeEventHandler=function(e,t){return!!this.handlerListMap[e]&&(this.handlerListMap[e]=t?this.handlerListMap[e].filter((function(e){return e!==t})):[],!0)},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.handlerListMap[e]&&this.handlerListMap[e].forEach((function(r){try{setTimeout((function(){r.apply(void 0,t)}),0)}catch(t){console.error('Fail to execute callback of event "'.concat(e,'" : ').concat(t))}}))},e}(),os=ns,ss="zg_autoplay_wrapper";function as(){return navigator.language.includes("zh")}var cs=function(){function e(){this.content='Media play failed. Click the "Resume"to resume.',this.dialogNode=null,this.bodyPosition="static";var e=document.createElement("style");e.innerHTML=".zg_autoplay_mask{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);z-index:1500;}.zg_autoplay_mask div:not(.zg_autoplay_action_wrapper){display:block !important;}.".concat(ss,"{padding:14px;background:#fff;border-radius:3px;box-shadow:1px 1px 10px #988e8d;border:1px solid #d1cfcf;max-width:500px;}.").concat(ss," a{color:#2473E8;}.zg_autoplay_header{overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:600;}.zg_autoplay_content{margin:8px 0;}.zg_autoplay_action_wrapper{width:100%;display:flex !important;align-items:center;justify-content:right;float:right;}.zg_autoplay_collapse{margin-right:auto;cursor:pointer}.zg_autoplay_question{height:100%;line-height:16px;cursor:pointer;}.zg_autoplay_action_confirm{margin-left:8px;color:#fff;background:#0072ff;padding:4px 12px;outline:none;border:1px solid;border-radius:3px;font-weight:bold;}.zg_autoplay_action_confirm:hover{opacity:0.9;}.zg_autoplay_collapse,.zg_autoplay_action_confirm,.zg_autoplay_content,.zg_autoplay_question{font-size:14px;}@media screen and (max-width:750px){.").concat(ss,"{width:80vw;}}"),document.head.appendChild(e),as()&&(this.content=""),this.eManager=new os}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.createDialog=function(){var e=document.createElement("template");e.innerHTML="<div class='zg_autoplay_mask'><div class='".concat(ss,"'><div class='zg_autoplay_header'>").concat(location.host,"</div><div class='zg_autoplay_content'>").concat(this.content,"</div><div class='zg_autoplay_action_wrapper'></div></div></div>").trim();var t=document.createElement("button");t.className="zg_autoplay_action_confirm",t.innerText=as()?"":"Resume",t.onclick=this.onConfirm.bind(this);var r=e.content.firstChild,i=r.querySelector(".zg_autoplay_action_wrapper");return i&&i.appendChild(t),r},e.prototype.onConfirm=function(e){e&&e.stopPropagation(),this.eManager.emit("allowPlay"),this.deleteDiaLog()},e.prototype.deleteDiaLog=function(){this.dialogNode&&(document.body.removeChild(this.dialogNode),this.dialogNode=null)},e.prototype.addDiaLog=function(){this.dialogNode=this.dialogNode||this.createDialog(),document.body.appendChild(this.dialogNode),this.dialogNode.onclick=this.onConfirm.bind(this)},e.prototype.on=function(e,t){return this.eManager.addEventHandler(e,t)},e.prototype.off=function(e,t){return this.eManager.removeEventHandler(e,t)},e.instance=null,e}(),gs=function(){return gs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},gs.apply(this,arguments)},us=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},ls=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},hs=navigator.userAgent,ds=/^(?=.*MicroMessenger)(?=.*HONOR).*$/.test(hs||""),ps=cs.getInstance();var Cs,Is=function(){function e(e,t,r){var i,A,n,o=this;this.previewer=t,this.video=null,this.audio=null,this.inited=!1,this.container=null,this.srcNode=null,this.options={enableVideoAutoplayDialog:!0,enableAudioAutoplayDialog:!0,clearLastFrame:!0,useAudioElement:!0},this.emitPlayFailed=(i=function(e,t,r){o.eventManager.emit("autoplayFailed",t,r),(e?o.options.enableVideoAutoplayDialog:o.options.enableAudioAutoplayDialog)&&ps.addDiaLog(),o.logger.warn("zc.zsv autoplay failed")},void 0===(A=600)&&(A=100),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this;clearTimeout(n),n=window.setTimeout((function(){i.apply(r,e)}),A)}),this.videoMuted=!1,this.audioMuted=!1,this.eventHandler={visibilitychange:function(){var e;document.hidden||o.audioMuted||(o.logger.info("zc.zsv page show, recover audio"),o.options.useAudioElement&&o.audio?o.audio.srcObject=o.audio.srcObject:(o.logger.info("zc.ac.rs page show"),o.ac.resume()),o.mountPlayer(o.audio,!0)),document.hidden||o.videoMuted||(null===(e=o.video)||void 0===e?void 0:e.paused)&&(o.logger.info("zc.zsv page show, recover video"),o.mountPlayer(o.video,!0))},canPlayAudio:function(e){o.eventManager.emit("canPlayAudio",e)},canPlayVideo:function(e){o.eventManager.emit("canPlayVideo",e)}},this.inited=!0,this.options=gs(gs({},this.options),r);var s=this.id="".concat(e.id),a=document.createElement("div");a.id="zg-rtc-player_".concat(s),a.setAttribute("style","width:100%;height:100%;position:relative;background-color:black;overflow:hidden;");var c=e.getVideoTracks()[0],g=e.getAudioTracks()[0],u=VA();u.id="zg-rtc-video_".concat(s),u.setAttribute("style","width:100%;height:100%;object-fit:contain;"),u.setAttribute("autoplay",""),u.srcObject=new MediaStream,u.addEventListener("canplay",this.eventHandler.canPlayVideo),c&&u.srcObject.addTrack(c);var l=document.createElement("audio");l.id="zg-rtc-audio_".concat(s),l.setAttribute("autoplay",""),l.setAttribute("playsinline",""),l.setAttribute("muted",""),l.muted=!0,l.srcObject=this.audioStream=new MediaStream,l.addEventListener("canplay",this.eventHandler.canPlayAudio),g&&l.srcObject.addTrack(g),"object"==typeof WeixinJSBridge&&"function"==typeof WeixinJSBridge.invoke&&WeixinJSBridge.invoke("getNetworkType",{},(function(){o.logger.info("zc.zsv weixin load media"),l.load(),u.load()})),this.wrapper=a,this.video=u,this.audio=l,this.eventManager=new os,this.allowPlayListener=function(){o.resume()},ps.on("allowPlay",this.allowPlayListener),document.addEventListener("visibilitychange",this.eventHandler.visibilitychange)}return Object.defineProperty(e.prototype,"ac",{get:function(){return this.previewer.ac},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"browser",{get:function(){return this.previewer.stateCenter.browser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this.previewer.logger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocal",{get:function(){return this.previewer instanceof ga},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMounted",{get:function(){return!!this.wrapper.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAudio",{get:function(){var e,t;return"live"===(null===(t=null===(e=this.audioStream)||void 0===e?void 0:e.getTracks()[0])||void 0===t?void 0:t.readyState)&&!this.audioMuted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasVideo",{get:function(){var e,t,r;return!!(null===(e=this.video)||void 0===e?void 0:e.parentNode)&&"live"===(null===(r=null===(t=this.video.srcObject)||void 0===t?void 0:t.getTracks()[0])||void 0===r?void 0:r.readyState)},enumerable:!1,configurable:!0}),e.prototype.resume=function(e,t){return void 0===t&&(t=["audio","video"]),us(this,void 0,void 0,(function(){var r=this;return ls(this,(function(i){return this.logger.info("zc.zsv resume call: ".concat(e,", kindList: ").concat(t)),t.forEach((function(t){return us(r,void 0,void 0,(function(){var r,i,A=this;return ls(this,(function(n){switch(n.label){case 0:return i="audio"===t?this.audio:this.video,((r="audio"===t)?this.hasAudio:this.hasVideo)?!r||this.options.useAudioElement?[3,1]:(this.logger.info("zc.zsv resume ac: "+this.ac.state),this.ac.resume(),[3,5]):[3,5];case 1:return e&&i?(i.srcObject=i.srcObject,[4,new Promise((function(e){var t=function(){i.removeEventListener("canplay",t),e(0)};i.addEventListener("canplay",t)}))]):[3,3];case 2:n.sent(),n.label=3;case 3:return[4,null==i?void 0:i.play().catch((function(e){A.logger.info("zc.zsv resume failed. err:"+e.message)}))];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))})),[2]}))}))},e.prototype.checkIfClearLastFrame=function(){return us(this,void 0,void 0,(function(){return ls(this,(function(e){switch(e.label){case 0:return this.options.clearLastFrame?[4,this.resume(!0,["video"])]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.play=function(e,t){void 0===t&&(t={}),this.logger.info("zc.zsv play: ".concat(typeof e,", ").concat(JSON.stringify(t)));var r=t.enableAutoplayDialog;"boolean"==typeof r&&(t.enableVideoAutoplayDialog=r,t.enableAudioAutoplayDialog=r,delete t.enableAutoplayDialog),this.playVideo(e,t),this.playAudio(t,!this.isLocal)},e.prototype.playVideo=function(e,t){void 0===t&&(t={}),this.logger.info("zc.zsv.pv play: ".concat(typeof e,", ").concat(JSON.stringify(t)));var r=null;if("string"==typeof e?r=document.getElementById(e):e instanceof HTMLElement&&(r=e),!r)throw"Execute `play` failed, container not exist";t&&"enableAutoplayDialog"in t&&(t.enableVideoAutoplayDialog=t.enableAutoplayDialog,delete t.enableAutoplayDialog),this.options=gs(gs({},this.options),t);var i=this.options,A=i.objectFit,n=i.mirror;this.video&&(void 0!==A&&(this.video.style.objectFit=A),"boolean"==typeof n&&(this.video.style.transform=n?"rotateY(180deg)":"")),!r.contains(this.wrapper)&&r.appendChild(this.wrapper),this.container=r,this.videoMuted=!1,this.mountPlayer(this.video,!0)},e.prototype.playAudio=function(e,t){void 0===t&&(t=!0),this.logger.info("zc.zsv.pa play: ".concat(JSON.stringify(e))),e&&"enableAutoplayDialog"in e&&(e.enableAudioAutoplayDialog=e.enableAutoplayDialog,delete e.enableAutoplayDialog),this.options=gs(gs({},this.options),e);var r=!0;if("safari"===this.browser){var i=navigator.userAgent.match(/Version\/([\d\.]+)/);if(i)"13.1.2"!==i[1]||this.options.useAudioElement||(r=!1)}r||(this.logger.warn("zc.zsv.pa safari 13.1.2 cannot use audio ctx render."),this.options.useAudioElement=!0);var A=t,n=this.options.muted;this.audio&&"boolean"==typeof n&&(A=!n),this.audioMuted=!A,this.mountPlayer(this.audio,A)},e.prototype.stop=function(){this.logger.info("zc.zsv stop "),this.stopAudio(),this.stopVideo()},e.prototype.stopAudio=function(){this.logger.info("zc.zsv.sa stop "),this.audioMuted=!0,this.mountPlayer(this.audio,!1)},e.prototype.stopVideo=function(){var e;this.logger.info("zc.zsv.sv stop "),this.mountPlayer(this.video,!1);var t=null===(e=this.wrapper)||void 0===e?void 0:e.parentNode;t&&t.removeChild(this.wrapper)},e.prototype.setVideo=function(e,t){return void 0===t&&(t=!1),us(this,void 0,void 0,(function(){return ls(this,(function(r){switch(r.label){case 0:return[4,this.setTrack(!0,e,t)];case 1:return r.sent(),[2]}}))}))},e.prototype.setAudio=function(e,t){return void 0===t&&(t=!1),us(this,void 0,void 0,(function(){return ls(this,(function(r){switch(r.label){case 0:return[4,this.setTrack(!1,e,t)];case 1:return r.sent(),[2]}}))}))},e.prototype.setTrack=function(e,t,r){return void 0===r&&(r=!1),us(this,void 0,void 0,(function(){var i,A,n;return ls(this,(function(o){switch(o.label){case 0:return this.logger.info("zc.zsv set track: ".concat(e,", ").concat(typeof t,", ").concat(r,", ").concat(null==t?void 0:t.readyState)),(i=e?this.video:this.audio)?(A=i.srcObject)?t?[3,1]:((n=A.getTracks()).forEach((function(e){null==A||A.removeTrack(e),i.srcObject=i.srcObject})),this.eventManager.emit("_trackChange",e?"video":"audio"),[3,5]):[2]:[2];case 1:if(!(t instanceof MediaStreamTrack))return[3,5];if((n=A.getTracks()).includes(t))return[3,5];if(n.forEach((function(e){null==A||A.removeTrack(e)})),A.addTrack(t),this.options.useAudioElement||this.initAC(!0),this.eventManager.emit("_trackChange",t.kind,t),this.mountPlayer(i,!(e?this.videoMuted:this.audioMuted)),!r)return[3,5];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.resume(!0,[e?"video":"audio"])];case 3:return o.sent(),[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}}))}))},e.prototype.setMirror=function(e){var t=this.options.mirror=!!e;this.video&&(this.video.style.transform=t?"rotateY(180deg)":"")},e.prototype.setVideoMuted=function(e){return this.logger.info("zc.zsv mute video: ".concat(e)),this.videoMuted=e,this.mountPlayer(this.video,!e)},e.prototype.setAudioMuted=function(e){return this.logger.info("zc.zsv mute audio: ".concat(e)),this.audioMuted=e,this.mountPlayer(this.audio,!e)},e.prototype.setVolume=function(e){if(this.logger.info("zc.zsv volume: ".concat(e)),this.audio){var t=e>100?1:e/100;return this.audio.volume=t,this.gainNode&&(this.gainNode.gain.value=t),this.audio.volume==t}return!1},e.prototype.takeStreamSnapshot=function(e){var t=this.video;if(!t)return"";if(!t.srcObject)return"";var r=WA(this.video.videoWidth,this.video.videoHeight),i=r.getContext("2d");i&&i.drawImage(this.video,0,0,r.width,r.height);var A=r.toDataURL("image/"+(null==e?void 0:e.imageType)||0,null==e?void 0:e.quality),n="png";return(null==e?void 0:e.imageType)&&(n=["png","jpeg"].includes(null==e?void 0:e.imageType)?null==e?void 0:e.imageType:"png"),(null==e?void 0:e.save)&&r.toBlob((function(t){var r=window.URL.createObjectURL(t),i=document.createElement("a");i.style.display="none",i.href=r;var A=(null==e?void 0:e.fileName)||"snapshot"+Date.now();i.download=A+"."+n,document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)}),100)})),A},e.prototype.initAC=function(e){if(void 0===e&&(e=!1),this.srcNode?e&&(this.srcNode.disconnect(),this.srcNode=this.ac.createMediaStreamSource(this.audioStream)):this.srcNode=this.ac.createMediaStreamSource(this.audioStream),!this.gainNode){var t=this.gainNode=this.ac.createGain();this.audio&&(t.gain.value=this.audio.volume)}return this.srcNode.connect(this.gainNode),{gainNode:this.gainNode,srcNode:this.srcNode}},e.prototype.mountPlayer=function(e,t){var r,i,A=this;if(!e||!this.wrapper)return!1;var n=!this.options.useAudioElement,o="VIDEO"===e.tagName;if(t){if(!o&&n){e.muted=!0,e.pause(),e.remove(),this.initAC().gainNode.connect(this.ac.destination);var s="running";this.logger.info("zc.zsv render use audio context: "+this.ac.state),this.ac.state!==s&&this.ac.resume().then((function(){A.ac.state!==s&&A.emitPlayFailed(o,e)}))}else if("live"===(null===(i=null===(r=null==e?void 0:e.srcObject)||void 0===r?void 0:r.getTracks()[0])||void 0===i?void 0:i.readyState)){var a=null,c=function(){e.oncanplay=null,a&&(clearTimeout(a),a=null),e.play().then((function(){ds&&!o&&(A.logger.info("zc.ac.rs honor suspend ac"),A.ac.resume()),A.logger.info("zc.zsv render  ".concat(e.tagName," use element success"))})).catch((function(t){A.logger.warn("zc.zsv ".concat(e.tagName," play() error: ").concat(t.message));var r=A.isMounted,i=A.hasVideo,n=A.hasAudio,s=(t.message||"").includes("interrupted");r&&!s&&(o&&i||!o&&n)&&A.emitPlayFailed(o,e,t)}))};e.muted=!0,o||(this.gainNode&&this.gainNode.disconnect(),e.muted=!1,e.srcObject=e.srcObject),ds&&!o&&(this.logger.info("zc.ac.rs honor resume ac"),this.ac.suspend()),e.play().catch((function(){})),a=window.setTimeout((function(){c()}),1e3),e.oncanplay=function(){c()},!e.parentNode&&o&&this.wrapper.appendChild(e)}}else if(e.muted=!0,e.remove(),e.pause(),!o){n&&this.gainNode&&this.gainNode.disconnect();var g=5*Math.random()+4;setTimeout((function(){!o&&!e.parentNode&&e.readyState>3&&e.load()}),1e3*g)}return!0},e.prototype.on=function(e,t){return!!t&&this.eventManager.addEventHandler(e,t)},e.prototype.off=function(e,t){return this.eventManager.removeEventHandler(e,t)},e.prototype.useAudioOut=function(e){var t;return us(this,void 0,void 0,(function(){var r;return ls(this,(function(i){switch(i.label){case 0:return r=null===(t=this.audio)||void 0===t?void 0:t.setSinkId,r?[4,r.call(this.audio,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.destroy=function(){this.stop(),this.video&&(this.video.removeEventListener("canplay",this.eventHandler.canPlayVideo),this.video=null),this.audio&&(this.audio.removeEventListener("canplay",this.eventHandler.canPlayAudio),this.audio=null),document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange),ps.off("allowPlay",this.allowPlayListener),this.inited=!1,this.allowPlayListener=null},e.prototype.getAudioNodeAndStopRender=function(){var e=this.audio,t=this.options;e&&(e.muted=!0,e.remove(),e.pause());var r=this.initAC(!0).gainNode;return t.useAudioContext&&r.disconnect(),r},e}(),fs=function(){function e(e,t){this.source=e,this.destination=t,this.audioNodeList=[],this.source.disconnect(),this.source.connect(this.destination)}return Object.defineProperty(e.prototype,"destinationNode",{get:function(){return this.destination},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this.isEmpty()?null:this.audioNodeList[this.audioNodeList.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secondToLastNode",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[this.audioNodeList.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this.isEmpty()?null:this.audioNodeList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secondNode",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[1]},enumerable:!1,configurable:!0}),e.prototype.pushBack=function(e){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(e),e.connect(this.destination)):(this.source.disconnect(),this.source.connect(e),e.connect(this.destination)),this.audioNodeList.push(e)},e.prototype.popBack=function(){this.lastNode&&(this.lastNode.disconnect(),this.secondToLastNode?(this.secondToLastNode.disconnect(),this.secondToLastNode.connect(this.destination)):(this.source.disconnect(),this.source.connect(this.destination))),this.audioNodeList.pop()},e.prototype.pushFront=function(e){this.source.disconnect(),this.source.connect(e),e.connect(this.firstNode?this.firstNode:this.destination),this.audioNodeList.unshift(e)},e.prototype.popFront=function(){this.source.disconnect(),this.firstNode&&(this.firstNode.disconnect(),this.source.connect(this.secondNode?this.secondNode:this.destination)),this.audioNodeList.shift()},e.prototype.remove=function(e){var t=this.audioNodeList.indexOf(e);if(-1!==t){if(e.disconnect(),t-1>=0){var r=this.audioNodeList[t-1];r.disconnect(),r.connect(this.lastNode!=e?this.audioNodeList[t+1]:this.destination)}else this.source.disconnect(),this.source.connect(this.lastNode!=e?this.audioNodeList[t+1]:this.destination);this.audioNodeList.splice(t,1)}},e.prototype.isConnected=function(e){return-1!==this.audioNodeList.indexOf(e)},e.prototype.isEmpty=function(){return 0===this.audioNodeList.length},e.prototype.replaceSource=function(e){this.source.disconnect(),e.connect(this.firstNode?this.firstNode:this.destination),this.source=e},e.prototype.replaceDestination=function(e){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(e)):(this.source.disconnect(),this.source.connect(e)),this.destination=e},e}(),Es=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Qs=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Bs=function(){function e(){}return e.prototype.connect=function(e){return Es(this,void 0,void 0,(function(){return Qs(this,(function(t){switch(t.label){case 0:return this.next=e,this.output?[4,e.setInput(this.output)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,e]}}))}))},e.prototype.disconnect=function(){return Es(this,void 0,void 0,(function(){return Qs(this,(function(e){switch(e.label){case 0:return this.next?[4,this.next.setInput(null)]:[3,2];case 1:e.sent(),this.next=void 0,e.label=2;case 2:return[2]}}))}))},e}(),ms=function(){function e(){}return e.createError=function(e,t){return{code:e.code,message:e.message+(t?" "+t:"")}},e}(),ys=(Cs=function(e,t){return Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Cs(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Cs(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),vs=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},_s=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ss=ms.createError,ws=function(e){function t(t){var r=e.call(this)||this;return r.track=t,r}return ys(t,e),Object.defineProperty(t.prototype,"output",{get:function(){return this.track},enumerable:!1,configurable:!0}),t.prototype.setInput=function(e){return vs(this,void 0,void 0,(function(){return _s(this,(function(e){throw Ss({code:-1,message:"Can not set track input to VideoSourceNode"})}))}))},t.prototype.process=function(){},t.prototype.destory=function(){this.track&&(this.track.stop(),this.track=null),this.next=null},t}(Bs),Ds=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},bs=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},ks=function(){function e(e,t){this.source=e,this.destination=t,this.videoNodeList=[],this.source.connect(this.destination)}return Object.defineProperty(e.prototype,"lastNode",{get:function(){return this.isEmpty()?null:this.videoNodeList[this.videoNodeList.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secondToLastNode",{get:function(){return this.videoNodeList.length<2?null:this.videoNodeList[this.videoNodeList.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this.isEmpty()?null:this.videoNodeList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secondNode",{get:function(){return this.videoNodeList.length<2?null:this.videoNodeList[1]},enumerable:!1,configurable:!0}),e.prototype.pushBack=function(e){return Ds(this,void 0,void 0,(function(){return bs(this,(function(t){switch(t.label){case 0:return this.lastNode?[4,this.lastNode.connect(e)]:[3,3];case 1:return t.sent(),[4,e.connect(this.destination)];case 2:return t.sent(),[3,6];case 3:return[4,this.source.connect(e)];case 4:return t.sent(),[4,e.connect(this.destination)];case 5:t.sent(),t.label=6;case 6:return this.videoNodeList.push(e),[2]}}))}))},e.prototype.popBack=function(){return Ds(this,void 0,void 0,(function(){return bs(this,(function(e){switch(e.label){case 0:return this.lastNode?[4,this.lastNode.disconnect()]:[3,7];case 1:return e.sent(),this.secondToLastNode?[4,this.secondToLastNode.disconnect()]:[3,4];case 2:return e.sent(),[4,this.secondToLastNode.connect(this.destination)];case 3:return e.sent(),[3,7];case 4:return[4,this.source.disconnect()];case 5:return e.sent(),[4,this.source.connect(this.destination)];case 6:e.sent(),e.label=7;case 7:return this.videoNodeList.pop(),[2]}}))}))},e.prototype.pushFront=function(e){return Ds(this,void 0,void 0,(function(){return bs(this,(function(t){switch(t.label){case 0:return[4,this.source.disconnect()];case 1:return t.sent(),[4,this.source.connect(e)];case 2:return t.sent(),this.firstNode?[4,e.connect(this.firstNode)]:[3,4];case 3:return t.sent(),[3,6];case 4:return[4,e.connect(this.destination)];case 5:t.sent(),t.label=6;case 6:return this.videoNodeList.unshift(e),[2]}}))}))},e.prototype.popFront=function(){return Ds(this,void 0,void 0,(function(){return bs(this,(function(e){switch(e.label){case 0:return[4,this.source.disconnect()];case 1:return e.sent(),this.firstNode?[4,this.firstNode.disconnect()]:[3,6];case 2:return e.sent(),this.secondNode?[4,this.source.connect(this.secondNode)]:[3,4];case 3:return e.sent(),[3,6];case 4:return[4,this.source.connect(this.destination)];case 5:e.sent(),e.label=6;case 6:return this.videoNodeList.shift(),[2]}}))}))},e.prototype.remove=function(e){return Ds(this,void 0,void 0,(function(){var t,r;return bs(this,(function(i){switch(i.label){case 0:return-1===(t=this.videoNodeList.indexOf(e))?[3,13]:[4,e.disconnect()];case 1:return i.sent(),t-1>=0?[4,(r=this.videoNodeList[t-1]).disconnect()]:[3,7];case 2:return i.sent(),this.lastNode==e?[3,4]:[4,r.connect(this.videoNodeList[t+1])];case 3:return i.sent(),[3,6];case 4:return[4,r.connect(this.destination)];case 5:i.sent(),i.label=6;case 6:return[3,12];case 7:return[4,this.source.disconnect()];case 8:return i.sent(),this.lastNode==e?[3,10]:[4,this.source.connect(this.videoNodeList[t+1])];case 9:return i.sent(),[3,12];case 10:return[4,this.source.connect(this.destination)];case 11:i.sent(),i.label=12;case 12:this.videoNodeList.splice(t,1),i.label=13;case 13:return[2]}}))}))},e.prototype.isConnected=function(e){return-1!==this.videoNodeList.indexOf(e)},e.prototype.isEmpty=function(){return 0===this.videoNodeList.length},e.prototype.getSourceTrack=function(){return this.source.output},e.prototype.getDestinationTrack=function(){return this.destination.output},e.prototype.replaceNewSourceByTrack=function(e,t){return void 0===t&&(t=!0),Ds(this,void 0,void 0,(function(){return bs(this,(function(r){switch(r.label){case 0:return[4,this.replaceSource(new ws(e),t)];case 1:return r.sent(),[2]}}))}))},e.prototype.replaceSource=function(e,t){return void 0===t&&(t=!0),Ds(this,void 0,void 0,(function(){return bs(this,(function(r){switch(r.label){case 0:return this.destination.setReplaceRemote(t),[4,this.source.disconnect()];case 1:return r.sent(),this.firstNode?[4,e.connect(this.firstNode)]:[3,3];case 2:return r.sent(),[3,5];case 3:return[4,e.connect(this.destination)];case 4:r.sent(),r.label=5;case 5:return this.source=e,this.destination.setReplaceRemote(),[2]}}))}))},e.prototype.replaceDestination=function(e){return Ds(this,void 0,void 0,(function(){return bs(this,(function(t){switch(t.label){case 0:return this.lastNode?[4,this.lastNode.disconnect()]:[3,3];case 1:return t.sent(),[4,this.lastNode.connect(e)];case 2:return t.sent(),[3,6];case 3:return[4,this.source.disconnect()];case 4:return t.sent(),[4,this.source.connect(e)];case 5:t.sent(),t.label=6;case 6:return this.destination=e,[2]}}))}))},e.prototype.destroy=function(){for(var e=0;e<this.videoNodeList.length;e++){this.videoNodeList[e].disconnect()}this.videoNodeList=[],this.destination.destroy(),this.source.destory()},e}(),Rs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ns=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Ts=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ls=ms.createError,Ms=function(e){function t(t){var r=e.call(this)||this;return r.preview=t,r.track=null,r.replaceRemote=!0,r}return Rs(t,e),t.prototype.setReplaceRemote=function(e){void 0===e&&(e=!0),this.replaceRemote=e},t.prototype.setInput=function(e){return Ns(this,void 0,void 0,(function(){var t,r,i;return Ts(this,(function(A){if(null==e)return[2];if(!this.preview.localStream)throw Ls({code:-1,message:"preview haven't been inited."});return this.track=e,this.preview.localStream.getVideoTracks()[0]!==e&&(t=this.preview.localStream,(null==(r=this.preview.zegoCaptureStream)?void 0:r.stream)&&(t=r.stream),i=this.preview.streamCenter.getPublishList(t),this.replaceRemote&&0!==i.length?i.map((function(e){return e.publisher})).forEach((function(t){t&&t.previewer&&t.replacePublishedTrack(e,!0)})):this.preview.replacePreviewTrack(e,!0)),[2]}))}))},Object.defineProperty(t.prototype,"output",{get:function(){return this.track},enumerable:!1,configurable:!0}),t.prototype.connect=function(e){return Ns(this,void 0,void 0,(function(){return Ts(this,(function(e){throw Ls({code:-1,message:"video destination node cann't connect any video node."})}))}))},t.prototype.disconnect=function(){return Ns(this,void 0,void 0,(function(){return Ts(this,(function(e){throw Ls({code:-1,message:"video destination node cann't disconnect any video node."})}))}))},t.prototype.destroy=function(){this.track=null},t}(Bs);function Os(e,t,r,i,A){void 0===r&&(r=1e3),void 0===i&&(i=200);var n=e.createAnalyser();n.fftSize=2048,t.connect(n);var o=null,s=0,a=n.fftSize,c=null,g=null,u=0;function l(){var e=0;if(n.getFloatTimeDomainData){g||(g=new Float32Array(a)),n.getFloatTimeDomainData(g);for(var t=0;t<g.length;t++)e=Math.max(e,Math.abs(g[t]))}else{c||(c=new Uint8Array(a)),n.getByteTimeDomainData(c);for(t=0;t<c.length;t++)e=Math.max(e,Math.abs(c[t]-128));e/=128}var h=.005;i<=100?h=.5:i<=200?h=.3:i<=300?h=.15:i<=500?h=.07:i<=1e3&&(h=.05),e>(s*=h)&&(s=e),s>1&&(s=1);var d=Date.now();return 0==u&&(u=d),(d-u>=r||i>=r)&&(u=d,A&&A(s)),i&&(o=window.setTimeout((function(){o&&clearTimeout(o),l()}),i))}return r<100&&(r=100),i<100&&(i=100),r<i&&(i=r),i&&(o=window.setTimeout((function(){l()}),i)),"running"!==e.state&&e.resume(),{analyzer:n,destroy:function(){n.disconnect(),null!==o&&(clearInterval(o),i=0,o=null),s=0,c=null,g=null},setInterval:function(e){e>30&&(r=e)}}}var Ps,Fs,Gs,Us,xs,Hs,qs,Js,Ys,Ks,zs,js,Vs,Ws,Zs,Xs,$s,ea,ta=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},ra=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},ia="zc.smw",Aa=new Blob(['\nclass VolumeMeter extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.volume = 0;\n    this.intervalTime = 1000;\n    this.tick = this.intervalTime;\n    this.isStop = false;\n    this.port.onmessage = event => {\n      const { data } = event;\n      switch (data.name) {\n        case "setIntervalTime":\n          this.intervalTime = data.intervalTime;\n          break;\n        case "stop":\n          this.isStop = true;\n          break;\n      }\n    };\n  }\n  process(inputs) {\n    const input = inputs[0];\n    if (this.isStop) {\n      return false;\n    }\n    if (input.length > 0) {\n      const buffer = input[0];\n      let maxVal = this.volume;\n      for (let i = 0; i < buffer.length; i++) {\n        if (maxVal < buffer[i]) {\n          maxVal = buffer[i];\n        }\n      }\n      this.volume = maxVal;\n      this.tick -= buffer.length;\n      if (this.tick < 0) {\n        this.tick += (this.intervalTime / 1000) * sampleRate;\n        this.port.postMessage({ volume: this.volume });\n        this.volume = 0;\n      }\n    }\n    return true;\n  }\n}\ntry {\n  registerProcessor("meter", VolumeMeter);\n} catch (error) {\n  \n}  \n'],{type:"application/javascript"}),na=function(){function e(){}return e.addModuleToContext=function(e,t){return ta(this,void 0,void 0,(function(){var r;return ra(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t.info(ia+" worklet addModule call"),[4,e.audioWorklet.addModule(URL.createObjectURL(Aa))];case 1:return i.sent(),t.info(ia+" worklet addModule success"),this.isSuccess=!0,[2];case 2:return r=i.sent(),t.warn(ia+" worklet addModule catch error. ".concat(null==r?void 0:r.message)),[3,3];case 3:return[2]}}))}))},e.isSuccess=!1,e}(),oa=function(){function e(e,t,r,i){void 0===r&&(r=1e3),void 0===i&&(i=200),this.logger=e,this.stateCenter=t,this.updateInterval=r,this.sampleInterval=i,this.worklet=null,this.processor=null,this.analyzer=null,this.volume=0,this.onSoundLevelUpdate=function(e){}}return e.prototype.preload=function(e){return ta(this,void 0,void 0,(function(){return ra(this,(function(t){switch(t.label){case 0:return!na.isSuccess?[4,na.addModuleToContext(e,this.logger)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.initAudioWorklet=function(e,t){return ta(this,void 0,void 0,(function(){var r,i,A=this;return ra(this,(function(n){switch(n.label){case 0:if(this.worklet)return[3,5];n.label=1;case 1:if(n.trys.push([1,3,,4]),function(e){return"function"==typeof e.createAnalyser}(e)&&this.stateCenter.settingConfig.getSetting("sound_level_api_type")!==Qe.useWorklet)throw"use analyzer";return this.logger.info(ia+" use AudioWorklet. "),[4,this.preload(e)];case 2:return n.sent(),(r=this.worklet=new AudioWorkletNode(e,"meter")).port.onmessage=function(e){A.onSoundLevelUpdate&&A.onSoundLevelUpdate(e.data.volume||0)},t.connect(r).connect(e.destination),this.setInterval(this.updateInterval),[3,4];case 3:return i=n.sent(),this.logger.info(ia+" not use AudioWorklet. "+i),this.analyzer=Os(e,t,this.updateInterval,this.sampleInterval,(function(e){A.onSoundLevelUpdate&&A.onSoundLevelUpdate(e||0)})),[3,4];case 4:return[3,6];case 5:t.connect(this.worklet).connect(e.destination),n.label=6;case 6:return[2]}}))}))},e.prototype.getSrcSource=function(t,r){var i=r.getAudioTracks()[0],A=r.id,n=e.sourceList[A]||{},o=n.source,s=n._ac,a=n.trackid;return o&&s===t&&a===(null==i?void 0:i.id)||(o&&o.disconnect(),o=t.createMediaStreamSource(r),e.sourceList[A]={source:o,_ac:s=t,trackid:a=i.id}),o},e.prototype.replaceSrcSource=function(t,r){var i;e.sourceDisConnect(r);var A=this.getSrcSource(t,r);return(null===(i=this.analyzer)||void 0===i?void 0:i.analyzer)&&A.connect(this.analyzer.analyzer),A},e.sourceDisConnect=function(t){var r=t.id,i=(e.sourceList[r]||{}).source;i&&(i.disconnect(),delete e.sourceList[r])},e.prototype.setInterval=function(e){var t=this.worklet;this.updateInterval=e,t&&t.port.postMessage({name:"setIntervalTime",intervalTime:e}),this.analyzer&&this.analyzer.setInterval(e)},e.prototype.destroy=function(){this.processor&&(this.processor.onaudioprocess=null,this.processor.disconnect()),this.analyzer&&(this.analyzer.destroy(),this.analyzer=null),this.worklet&&(this.worklet.port.postMessage({name:"stop"}),this.worklet.port.onmessage=null,this.worklet.port.close(),this.worklet.disconnect(),this.logger.info(ia+" close worklet")),this.worklet=null,this.processor=null},e.sourceList={},e}(),sa=function(){return sa=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},sa.apply(this,arguments)},aa=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},ca=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},ga=function(){function e(e,t,r,i){var A=this;this.logger=e,this.stateCenter=t,this.streamCenter=r,this.previewType=i,this.localStream=null,this.videoInfo={},this.rtcViewer=null,this.streamFromCanvas=!1,this.streamFromCanvasTrack=null,this.previewSuc=!1,this.soundLevel=0,this.hasEmptyAudioTrack=!1,this._emptyAudioTrack=null,this.syncAudioState=!0,this.constraintsVideoKeys=["videoInput","videoQuality","facingMode","width","height","bitrate","frameRate","startBitrate","videoOptimizationMode","minBitrate","keyFrameInterval"],this.constraintsAudioKeys=["audioInput","audioBitrate","channelCount","ANS","AGC","AEC"],this.script=null,this.mic=null,this._audioTrack=null,this._videoTrack=null,this.cloneVideoTrack=null,this.originVideoTrack=null,this.originAudioTrack=null,this.activateSEIConfig=null,this.isAudioEnabled=!0,this.isVideoEnabled=!0,this.gainNode=null,this.cameraMaxResolution={},this.enableDualStream=!1,this.lowStreamConfig={width:160,height:120,frameRate:15,bitRate:50},this.muteImage=null,this.hasMicTrack=!0,this.enableMicrophoneOnly=function(e,t){if(!A.localStream)return A.logger.error("zp.em.2 no localStream"),!1;var r=t.getPublishList(A.localStream).map((function(e){return e.publisher}));return r.length&&r.forEach((function(t){t.sendStreamStatus(t.camera_status,A.isAudioEnabled&&e?0:2)})),A.micTrack?(A.micTrack.enabled=A.isAudioEnabled&&e,A.logger.debug("zp.emo.2 call success"),!0):(A.logger.info("zp.emo.2 no micTrack"),!0)},this.soundMeterWorklet=null,this.audioMixManager=null,this.volume=100,this.volumeFactor=1,i&&(this.videoPreviewType=i,this.audioPreviewType=i)}return e.prototype.getEmptyAudioTrack=function(){if(!this._emptyAudioTrack){var e=this.streamCenter.ac.createMediaStreamDestination(),t=e?e.stream:null,r=this._emptyAudioTrack=t?t.getAudioTracks()[0]:null;this.logger.info("zp.geat "+"empty audio id: ".concat(null==r?void 0:r.id))}return this._emptyAudioTrack},Object.defineProperty(e.prototype,"audioTrack",{get:function(){var e;return this._audioTrack||(null===(e=this.localStream)||void 0===e?void 0:e.getAudioTracks()[0])||null},set:function(e){this._audioTrack=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoTrack",{get:function(){var e;return this._videoTrack||(null===(e=this.localStream)||void 0===e?void 0:e.getVideoTracks()[0])||null},set:function(e){this._videoTrack=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoNodeQueue",{get:function(){if(!this._videoNodeQueue){if(!this._videoTrack)throw new Error("cannot use video node queue, because videoTrack of previewer haven't been inited.");var e=new ws(this._videoTrack),t=new Ms(this);this._videoNodeQueue=new ks(e,t)}return this._videoNodeQueue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVideoNodeQueueEnabled",{get:function(){return!!this._videoNodeQueue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ac",{get:function(){return this.streamCenter.ac},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"acMgr",{get:function(){return this.streamCenter.acMgr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containBackgroundProcess",{get:function(){var e=this;if("compositing"===this.previewType){var t=this.inputStreamOptions.some((function(t){if(t.stream){var r=e.streamCenter.checkPreview(t.stream);return null==r?void 0:r.isBackgroundBlur}}));return t}return!!this.isBackgroundBlur},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"micTrack",{get:function(){return this.hasMicTrack&&"camera"===this.audioPreviewType&&this.audioTrack||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVideoEffectStarting",{get:function(){return!!this.videoEffect&&this.videoEffect.isStarting},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVideoEffectEnabled",{get:function(){return!!this.videoEffect&&this.videoEffect.enabled},enumerable:!1,configurable:!0}),e.prototype.getMediaStreamConstraints=function(e,t){var r={audio:null,video:null};if(r.audio=!0,r.video={width:this.stateCenter.settingConfig.getSetting("camera_width")||640,height:this.stateCenter.settingConfig.getSetting("camera_height")||480,frameRate:this.stateCenter.settingConfig.getSetting("camera_framerate")||15,bitRate:this.stateCenter.settingConfig.getSetting("camera_video_bitrate")},e.audio?void 0===e.audioInput&&void 0===e.ANS&&void 0===e.AGC&&void 0===e.AEC&&void 0===e.channelCount?(r.audio={},r.audio.noiseSuppression=this.stateCenter.settingConfig.getSetting("ANS"),r.audio.autoGainControl=this.stateCenter.settingConfig.getSetting("AGC"),r.audio.echoCancellation=this.stateCenter.settingConfig.getSetting("AEC"),r.audio.channelCount=1):(r.audio={},e.audioInput&&"undefined"!==e.audioInput&&(r.audio.deviceId={exact:e.audioInput}),void 0!==e.ANS&&(r.audio.noiseSuppression=e.ANS),void 0!==e.AGC&&(r.audio.autoGainControl=e.AGC),void 0!==e.AEC&&(r.audio.echoCancellation=e.AEC),void 0!==e.channelCount&&(r.audio.channelCount=e.channelCount)):!1===e.audio&&(r.audio=!1),e.video){var i=640,A=480,n=15,o=this.stateCenter.settingConfig.getSetting("camera_video_bitrate");if(1===e.videoQuality?(i=g.width,A=g.height,n=g.frameRate,o=g.bitRate):2===e.videoQuality?(i=u.width,A=u.height,n=u.frameRate,o=u.bitRate):3===e.videoQuality?(i=l.width,A=l.height,n=l.frameRate,o=l.bitRate):4===e.videoQuality?(i=e.width||640,A=e.height||480,n=e.frameRate||15,o=e.bitRate||this.stateCenter.settingConfig.getSetting("camera_video_bitrate")):this.logger.info("zp.gmsc.2 use default"),t&&!e.videoQuality&&(e.width&&(i=e.width),e.height&&(A=e.height),e.frameRate&&(n=e.frameRate),e.bitRate&&(o=e.bitRate)),!1===e.horizontal){var s=A;A=i,i=s}if(!0===e.isSwitch){s=A;A=i,i=s}r.video={width:i,height:A,frameRate:n,bitRate:o},null!=e.facingMode?r.video.facingMode=e.facingMode:e.videoInput&&"undefined"!=e.videoInput&&(r.video.deviceId={exact:e.videoInput}),this.logger.info("zp.gmsc.2 width: "+i+" height: "+A+" rate: "+n)}else!1===e.video&&(e.audioBitrate&&(r.video={}),r.video=!1);return r},e.prototype.addTrackListener=function(e){var t=this;e.addEventListener("ended",(function(){YA(e,t.logger,"zc.tk.end")})),e.addEventListener("mute",(function(){YA(e,t.logger,"zc.tk.mute")})),e.addEventListener("unmute",(function(){YA(e,t.logger,"zc.tk.unmt")}))},e.prototype.startPreview=function(e,t,r,i){var A,n;return aa(this,void 0,void 0,(function(){var o,s,a,c,g,u,l,h,d,p,C,I,f,E,Q,B,m=this;return ca(this,(function(y){return this.logger.info("zp.sv.2 called "+JSON.stringify(e)),this.mediaStreamConfig=e,!1===e.video&&this.deleteConstraints(this.mediaStreamConfig,this.constraintsVideoKeys),!1===e.audio&&this.deleteConstraints(this.mediaStreamConfig,this.constraintsAudioKeys),this.logger.info("zp.sv.2 store "+JSON.stringify(this.mediaStreamConfig)),void 0===navigator.mediaDevices||null==navigator.mediaDevices.getUserMedia?(r&&r(_t.error.kBrowserNotSupportError),[2]):(o=function(e){t(e)},e.source instanceof MediaStream?(s=e.source.getVideoTracks(),a=s.length>0?s[0].getSettings():{width:0,height:0,frameRate:0},this.logger.debug("zp.sv.2 use external media stream"),this.previewSuc=!0,this.localStream=e.source,this.initMediaTrack(e.source),this.videoInfo={width:a.width,height:a.height,frameRate:a.frameRate,bitRate:e.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),startBitrate:e.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:e.minBitrate,keyFrameInterval:e.keyFrameInterval,channelCount:e.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*e.audioBitrate||48e3},o&&o(this.localStream),[2]):e.source instanceof HTMLMediaElement?((c=this.captureStream(e.source,e))?(this.videoInfo.bitRate=e.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),this.previewSuc=!0,this.initMediaTrack(c),o&&o(c)):r&&r(_t.error.kBrowserNotSupportError),[2]):((g=this.getMediaStreamConstraints(e)).audio&&(u=this.stateCenter.settingConfig.getSetting("AEC",!0),l=this.stateCenter.settingConfig.getSetting("AGC",!0),h=this.stateCenter.settingConfig.getSetting("ANS",!0),"boolean"==typeof u&&(this.logger.info("zp.sv.2 setting AEC "+u),g.audio.echoCancellation=u),"boolean"==typeof l&&(this.logger.info("zp.sv.2 setting AGC "+l),g.audio.autoGainControl=l),"boolean"==typeof h&&(this.logger.info("zp.sv.2 setting ANS "+h),g.audio.noiseSuppression=h)),this.videoInfo=sa(sa({},g.video),{keyFrameInterval:e.keyFrameInterval}),this.videoInfo?(this.videoInfo.audioBitrate=1e3*e.audioBitrate||48e3,this.videoInfo.startBitrate=e.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),this.videoInfo.minBitrate=e.minBitrate,this.videoInfo.keyFrameInterval=e.keyFrameInterval):e.audioBitrate&&(this.videoInfo={audioBitrate:1e3*e.audioBitrate||48e3}),(d=this.stateCenter.settingConfig.getSetting("camera_audio_bitrate",!0))&&(this.videoInfo.audioBitrate=1e3*d),g.video instanceof Object&&(g.video.width=this.stateCenter.settingConfig.getSetting("camera_width",!0)||g.video.width,g.video.height=this.stateCenter.settingConfig.getSetting("camera_height",!0)||g.video.height,g.video.frameRate=this.stateCenter.settingConfig.getSetting("camera_framerate",!0)||g.video.frameRate),this.mediaStreamConfig.video=!!g.video,this.mediaStreamConfig.audio=!!g.audio,this.logger.info("zp.sv.2 ",JSON.stringify(g)),i.setAttribute("preview_conf",_t.preview_conf(g)),e.unlimitedCaptureResolution&&g.video.width&&(g.video.width={ideal:4096},g.video.height={ideal:2160},this.logger.info("zp.sv.2 ","capture max resolution of camera")),p=function(t){m.localStream=t,m.previewSuc=!0,m.initMediaTrack(t),m.videoInfo&&(m.videoInfo.channelCount=e.channelCount||(m.audioTrack&&m.audioTrack.getSettings?m.audioTrack.getSettings().channelCount:1)),o&&o(t)},C=function(e){if(r){var t=_t.error.kGetUserMediaError;t.message=t.message+" "+e.name+" "+e.message,"NotAllowedError"===e.name||"SecurityError"===e.name?(t=sa({},_t.error.kDeviceNoAllowedError)).message=e.name+": "+t.message:"NotReadableError"===e.name?(t=sa({},_t.error.kDeviceNoReadableError)).message=e.name+": "+t.message:"OverconstrainedError"===e.name&&((t=sa({},_t.error.kDeviceOverConstrainedError)).message=e.name+": "+t.message+(e.constraint?". such as "+e.constraint:"")),r(t)}},E=!1,Q=!1,(I=!1===g.audio)&&(E=void 0===(null===(A=g.video)||void 0===A?void 0:A.videoInput)),(f=!1===g.video)&&(Q=void 0===(null===(n=g.audio)||void 0===n?void 0:n.audioInput)),B=function(e,t,r){m.logger.info("zp.sv.2 recapture call"),RA((function(i){var A=i.cameras,n=i.microphones;if(m.logger.info("zp.sv.2 recapture devices "+A.length+" "+n.length),"video"===r){if(!(A.length>0))return void C(t);var o=A[0].deviceID;m.logger.info("zp.sv.2 recapture video "+o),e.video.deviceId={exact:o}}else if("audio"===r){if(!(n.length>0))return void C(t);var s=n[0].deviceID;m.logger.info("zp.sv.2 recapture audio "+s),e.audio.deviceId={exact:s}}navigator.mediaDevices.getUserMedia(e).then((function(e){m.logger.info("zp.sv.2 recapture success"),p(e)})).catch((function(e){C(t)}))}),(function(e){m.logger.warn("zp.sv.2 recapture getDevices err:",e.message),C(t)}))},navigator.mediaDevices.getUserMedia(g).then((function(e){e.getTracks().forEach((function(e){YA(e,m.logger,"zp.sv.2"),m.addTrackListener(e)})),m.logger.info("zp.sv.2 success"),p(e)}),(function(e){if(m.logger.info("zp.sv.2 failed ",e.name," ",e.message),"NotFoundError"===e.name){var t=I&&E||f&&Q,r=I?"video":"audio";m.logger.info("zp.sv.2 failed "+t+" "+r),t?B(g,e,r):C(e)}else C(e)})),[2]))}))}))},e.prototype.captureStream=function(e,t){if(!e)return this.logger.info("zp.cs.2 no local video"),null;var r;if(e.captureStream)r=e.captureStream(),this.logger.debug("zp.cs.2 captureStream");else{if(!e.mozCaptureStream)return this.logger.info("zp.cs.2 don't support"),null;r=e.mozCaptureStream(),this.logger.debug("zp.cs.2 mozCaptureStream")}return 0==r.getTracks().length?(this.logger.error("zp.cs.2 external capture tracks no found"),null):(this.localStream=r,this.videoInfo={width:e.videoWidth,height:e.videoHeight,frameRate:0,bitRate:t.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),channelCount:t.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*t.audioBitrate||48e3,startBitrate:t.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:t.minBitrate,keyFrameInterval:t.keyFrameInterval},this.logger.debug("zp.cs.2 called success"),this.localStream)},e.prototype.stopPreview=function(){var e,t,r,i,A,n,o,s;if(this.logger.info("zp.sv.2.1 called"),this.localStream){var a=this.rtcViewer;a&&a.destroy(),this.videoEffect&&(this.videoEffect.setBeautyEffectOptions(!1),this.videoEffect.destroy()),null===(e=this.stateCenter.backgroundBlurManager)||void 0===e||e.releaseMap(this.localStream),this.backgroundProcessor&&(this.backgroundProcessor.release(),this.backgroundProcessor=null),this.streamCompositor&&(this.streamCompositor=null),this._videoNodeQueue&&this.videoNodeQueue.destroy(),null===(t=this.cloneVideoTrack)||void 0===t||t.stop(),this.cloneVideoTrack=null,this.muteImageAnID&&cancelAnimationFrame(this.muteImageAnID),this.stopSoundLevel(),null===(r=this.originVideoTrack)||void 0===r||r.stop(),this.originVideoTrack=null,null===(i=this.originAudioTrack)||void 0===i||i.stop(),this.originAudioTrack=null,null===(A=this.videoTrack)||void 0===A||A.stop(),this.videoTrack=null,null===(n=this.audioTrack)||void 0===n||n.stop(),this.audioTrack=null,oa.sourceDisConnect(this.localStream),null===(o=this.audioMixManager)||void 0===o||o.stopAudioManager(),!this.zegoCaptureStream&&this.localStream.getTracks().forEach((function(e){e.stop()})),this.localStream=null,!this.zegoCaptureStream&&(null===(s=this.lowStream)||void 0===s||s.getTracks().forEach((function(e){return e.stop()}))),this.lowStream=void 0,this.videoInfo={}}},e.prototype.enableMicrophone=function(e,t){return!1},e.prototype.enableCamera=function(e,t,r){return!1},e.prototype.enableCameraCapturing=function(e){return aa(this,void 0,void 0,(function(){return ca(this,(function(e){return[2,!1]}))}))},e.prototype.startSoundLevel=function(){var e;if(this.localStream&&0!=this.localStream.getAudioTracks().length){null===(e=this.soundMeterWorklet)||void 0===e||e.destroy();var t=this.streamCenter.getCloudSoundInterval();try{var r=this,i=this.streamCenter.createSoundLevel(this.ac,this.localStream,this.streamCenter.soundLevelInterval,t,(function(e){r.soundLevel=100*e})),A=i.mic;this.soundMeterWorklet=i.soundMeter,this.mic=A}catch(e){this.logger.error(fo+" get sound level failed "+e)}}},e.prototype.stopSoundLevel=function(){var e;this.soundLevel=0,null===(e=this.soundMeterWorklet)||void 0===e||e.destroy(),this.soundMeterWorklet=null,this.mic=null},e.prototype.restartSoundLevel=function(){this.streamCenter.soundLevelDelegate?(this.stopSoundLevel(),this.startSoundLevel()):this.stopSoundLevel()},e.prototype.setBeautyEffect=function(e,t){return aa(this,void 0,void 0,(function(){return ca(this,(function(e){return[2]}))}))},e.prototype.replacePreviewTrack=function(e,t,r){void 0===t&&(t=!1)},e.prototype.updateZegoStreamCaptureTrack=function(e){var t=this.zegoCaptureStream;if(t){var r="video"==e.kind?t.originVideoStream:t.originAudioStream;if(r){var i=this.streamCenter.checkPreview(r);this.logger.info("zsc.uzsct replace zego preivew"),null==i||i.replacePreviewTrack(e)}}},e.prototype.createLowStream=function(){var e,t,r,i,A,n=null===(e=this.localStream)||void 0===e?void 0:e.getVideoTracks()[0];if(n){var o=n.getSettings().height,s=n.getSettings().width,a=navigator.userAgent,c="micromessenger"==a.toLowerCase().match(/MicroMessenger/i),g=a.indexOf("Android")>-1||a.indexOf("Adr")>-1;this.logger.info("zp.cls w: "+s+" h: "+o+" "+g+" "+c);var u="number"==typeof(null===(t=this.videoInfo)||void 0===t?void 0:t.width)&&"number"==typeof(null===(r=this.videoInfo)||void 0===r?void 0:r.height)&&o==this.videoInfo.width&&s==this.videoInfo.height;if(c&&g&&u){var l=o;o=s,s=l}var h=o&&s?o/s:1;try{var d,p=this.lowStreamConfig,C=p.width,I=p.frameRate;if(d=Math.round(h*this.lowStreamConfig.width),this.logger.info("zp.cls lw: "+C+" lh: "+d),"firefox"===this.stateCenter.browser)this.lowStream=this.getStreamThroughCanvas(this.localStream,{w:C,h:d,fps:I});else{this.lowStream=null===(i=this.localStream)||void 0===i?void 0:i.clone();var f=null===(A=this.lowStream)||void 0===A?void 0:A.getVideoTracks()[0];null==f||f.applyConstraints({width:C,height:d,frameRate:I})}}catch(e){this.logger.error("zp.cls "+e)}}},e.prototype.initAudioNodeQueue=function(e){if(!this.audioTrack||!this.localStream)return!1;var t=this.createSrcNode(this.audioTrack),r=this.createDestNode(this.localStream);return this.audioNodeQueue=new fs(t,r),!0},e.prototype.createSrcNode=function(e,t,r){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);var A=e||this.audioTrack;if(A===(null===(i=this.destNode)||void 0===i?void 0:i.stream.getAudioTracks()[0])&&(this.logger.info("zp.pv.csn use empty track"),A=this.getEmptyAudioTrack()),this.srcNode&&!r){if(!t)return this.srcNode;this.srcNode.disconnect(),this.logger.info("zp.pv.csn recreate src")}var n=new MediaStream;A&&n.addTrack(A);var o=this.ac.createMediaStreamSource(n);return r||(this.srcNode=o),this.logger.info("zp.pv.csn "+"create src audio id: ".concat(null==A?void 0:A.id,", ").concat(null==A?void 0:A.label,",i")),o},e.prototype.isOriginEmptyTrack=function(){return!this.audioTrack||this._emptyAudioTrack===this.audioTrack},e.prototype.createDestNode=function(e){var t;if(this.destNode)return this.destNode;var r=this.destNode=this.destNode||this.ac.createMediaStreamDestination(),i=r.stream.getAudioTracks()[0];this.logger.info("zp.pv.cdn "+"create dest audio id: ".concat(null==i?void 0:i.id,", ").concat(null==i?void 0:i.label,",i"));var A=this.rtcViewer;for(var n in this.streamCenter.publisherList){var o=this.streamCenter.publisherList[n];if(o.localStream==e){var s=null===(t=o.publisher.peerConnection)||void 0===t?void 0:t.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));s&&(s.replaceTrack(i),this.logger.info("zc.pv.cdn change sender audio track"));break}}var a=e.getAudioTracks()[0];return a&&e.removeTrack(a),!this.isOriginEmptyTrack()&&(i.enabled=a.enabled),e.addTrack(i),A&&A.setAudio(i),r},e.prototype.initMediaTrack=function(e){e.getVideoTracks().length>0&&(this.videoTrack=e.getVideoTracks()[0],this.originVideoTrack=this.videoTrack),e.getAudioTracks().length>0&&(this.audioTrack=e.getAudioTracks()[0],this.originAudioTrack=this.audioTrack)},e.prototype.onAudioTrackChange=function(e){},e.prototype.getViewer=function(){return!this.localStream||this.rtcViewer&&this.rtcViewer.inited||(this.rtcViewer=new Is(this.localStream,this,{clearLastFrame:this.stateCenter.engineConfig.previewClearLastFrame})),this.rtcViewer},e.prototype.getStreamThroughCanvas=function(e,t){var r,i=this;if(0==e.getVideoTracks().length)return e;var A=null===(r=e.getVideoTracks()[0])||void 0===r?void 0:r.getSettings(),n=A.width,o=A.height,s=A.frameRate;if(!n||!o||!s)return e;var a=VA(),c=document.createElement("canvas"),g=c.getContext("2d");a.setAttribute("style","display:none"),c.setAttribute("style","display:none"),c.width=(null==t?void 0:t.w)||n,c.height=(null==t?void 0:t.h)||o,new Promise((function(e,t){var r=null,i=function(){r&&clearTimeout(r),a&&a.removeEventListener("playing",i),e(void 0)};a&&a.addEventListener("playing",i),r=window.setTimeout((function(){t()}),1e3)})).then((function(){var r=(null==t?void 0:t.fps)||s||15;i.drawCanvasTimer&&(clearInterval(i.drawCanvasTimer),i.drawCanvasTimer=null),i.drawCanvasTimer=setInterval((function(){var r,i=null===(r=e.getVideoTracks()[0])||void 0===r?void 0:r.getSettings();c.width=(null==t?void 0:t.w)||i.width||a.videoWidth,c.height=(null==t?void 0:t.h)||i.height||a.videoHeight,null==g||g.drawImage(a,0,0,c.width,c.height)}),1e3/r)})),a.srcObject=e,a.play();var u=c.captureStream((null==t?void 0:t.fps)||15);if(u.getVideoTracks()[0].stop=function(){i.drawCanvasTimer&&(clearInterval(i.drawCanvasTimer),i.drawCanvasTimer=null),a.pause(),a.remove(),c.remove()},e instanceof MediaStream&&e.getAudioTracks().length){var l=e.getAudioTracks()[0];u.addTrack(l)}return u},e.prototype.stopCanvasStreamTrack=function(){var e;this.streamFromCanvas&&this.streamFromCanvasTrack&&(null===(e=this.streamFromCanvasTrack)||void 0===e||e.stop(),this.streamFromCanvasTrack=null),this.drawCanvasTimer&&(clearInterval(this.drawCanvasTimer),this.drawCanvasTimer=null)},e.prototype.updateVideoInfo=function(e){var t={width:e.width,height:e.height,frameRate:e.frameRate,bitRate:e.bitRate,minBitrate:e.minBitrate,keyFrameInterval:e.keyFrameInterval};return this.logger.info("zc.pv.uvi input video info: ".concat(JSON.stringify(t))),this.videoInfo=sa(sa({},this.videoInfo),t),sa({},this.videoInfo)},e.prototype.updateAudioInfo=function(e){var t={};return this.logger.info("zc.pv.uai input audio info: ".concat(JSON.stringify(t))),this.videoInfo=sa(sa({},this.videoInfo),t),sa({},this.videoInfo)},e.prototype.updateMediaStreamConstraints=function(e,t){var r=this;this.logger.info("zc.pv.umsc ".concat(JSON.stringify(e))),"video"===t?this.constraintsVideoKeys.forEach((function(t){return r.mediaStreamConfig[t]=e[t]})):this.constraintsAudioKeys.forEach((function(t){return r.mediaStreamConfig[t]=e[t]}))},e.prototype.deleteConstraints=function(e,t){t.forEach((function(t){return delete e[t]}))},e.prototype.setVolumeFactorByUserCount=function(e){var t,r=this.stateCenter.engineConfig.choirRole;if(this.localStream){this.logger.info("zc.pv.svf ".concat(null===(t=this.localStream)||void 0===t?void 0:t.id," count: ").concat(e,", mic: ").concat(!!this.micTrack,", choir role: ").concat(r));var i=this.volumeFactor,A=[1,2].includes(r);if(this.micTrack&&A)for(var n=[[0,1],[3,1],[4,.9],[8,.7],[12,.5],[16,.45],[20,.4],[24,.35],[1/0,.3]],o=0;o<n.length;o++){var s=n[o][0],a=n[o+1];if(!a){this.logger.error("zc.pv.svf error: no map factor");break}if(e>=s&&e<a[0]){i=a[1];break}}else i=1===r?.6:1;this.audioMixManager&&this.audioMixManager.setVolumeFactor(1===r?.6:1),this.logger.info("zc.pv.svf factor: ".concat(i)),this.setVolume(void 0,i)}},e.prototype.setVolume=function(e,t){var r,i;this.logger.info("zc.pv.scv volume: ".concat(e,", factor: ").concat(t,"; origin: ").concat(this.volume,", ").concat(this.volumeFactor)),void 0===e?e=this.volume:this.volume=e,void 0===t?t=this.volumeFactor:this.volumeFactor=t;var A=this.gainNode;A||(this.audioNodeQueue||this.initAudioNodeQueue(),A=this.ac.createGain(),null===(r=this.audioNodeQueue)||void 0===r||r.pushFront(A),this.gainNode=A);var n=e/100*this.volumeFactor;A.gain.value=n,this.logger.info("zc.pv.scv ".concat(this.audioPreviewType," ").concat(null===(i=this.localStream)||void 0===i?void 0:i.id,"  volume: ").concat(n))},e}();!function(e){e[e.Off=0]="Off",e[e.TurningOn=1]="TurningOn",e[e.On=2]="On"}(Ps||(Ps={})),function(e){e[e.World=0]="World",e[e.Team=1]="Team",e[e.SecretTeam=2]="SecretTeam"}(Fs||(Fs={})),function(e){e[e.All=0]="All",e[e.World=1]="World",e[e.Team=2]="Team"}(Gs||(Gs={})),function(e){e[e.All=0]="All",e[e.World=1]="World",e[e.Team=2]="Team"}(Us||(Us={})),function(e){e[e.Song=0]="Song",e[e.Accompaniment=1]="Accompaniment",e[e.AccompanimentClip=2]="AccompanimentClip",e[e.AccompanimentSegment=3]="AccompanimentSegment"}(xs||(xs={})),function(e){e[e.Count=0]="Count",e[e.User=1]="User",e[e.Room=2]="Room",e[e.Master=3]="Master"}(Hs||(Hs={})),function(e){e[e.VendorDefault=0]="VendorDefault",e[e.Vendor1=1]="Vendor1",e[e.Vendor2=2]="Vendor2",e[e.Vendor3=4]="Vendor3"}(qs||(qs={})),function(e){e[e.PortraitSegmentation=0]="PortraitSegmentation"}(Js||(Js={})),function(e){e[e.NONE=0]="NONE",e[e.MEN_TO_CHILD=1]="MEN_TO_CHILD",e[e.MEN_TO_WOMEN=2]="MEN_TO_WOMEN",e[e.WOMEN_TO_CHILD=3]="WOMEN_TO_CHILD",e[e.WOMEN_TO_MEN=4]="WOMEN_TO_MEN",e[e.FOREIGNER=5]="FOREIGNER",e[e.OPTIMUS_PRIME=6]="OPTIMUS_PRIME",e[e.ANDROID=7]="ANDROID",e[e.ETHEREAL=8]="ETHEREAL",e[e.MALE_MAGNETIC=9]="MALE_MAGNETIC",e[e.FEMALE_FRESH=10]="FEMALE_FRESH",e[e.MAJOR_C=11]="MAJOR_C",e[e.MINOR_A=12]="MINOR_A",e[e.HARMONIC_MINOR=13]="HARMONIC_MINOR",e[e.FEMALE_ENERGETIC=14]="FEMALE_ENERGETIC",e[e.RICHNESS=15]="RICHNESS",e[e.MUFFLED=16]="MUFFLED",e[e.ROUNDNESS=17]="ROUNDNESS",e[e.FALSETTO=18]="FALSETTO",e[e.FULLNESS=19]="FULLNESS",e[e.CLEAR=20]="CLEAR",e[e.HIGHLY_RESONANT=21]="HIGHLY_RESONANT",e[e.LOUD_CLEAR=22]="LOUD_CLEAR"}(Ys||(Ys={})),function(e){e[e.None=0]="None",e[e.SoftRoom=1]="SoftRoom",e[e.LargeRoom=2]="LargeRoom",e[e.ConcertHall=3]="ConcertHall",e[e.Valley=4]="Valley",e[e.RecordingStudio=5]="RecordingStudio",e[e.Basement=6]="Basement",e[e.KTV=7]="KTV",e[e.Popular=8]="Popular",e[e.Rock=9]="Rock",e[e.VocalConcert=10]="VocalConcert",e[e.GramoPhone=11]="GramoPhone",e[e.EnhancedKTV=12]="EnhancedKTV"}(Ks||(Ks={})),function(e){e[e.None=0]="None",e[e.Local=1]="Local",e[e.Publish=2]="Publish",e[e.All=3]="All"}(zs||(zs={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On"}(js||(js={})),function(e){e[e.PortraitSegmentation=0]="PortraitSegmentation"}(Vs||(Vs={})),function(e){e[e.ZegoGeoFenceTypeNone=0]="ZegoGeoFenceTypeNone",e[e.ZegoGeoFenceTypeInclude=1]="ZegoGeoFenceTypeInclude",e[e.ZegoGeoFenceTypeExclude=2]="ZegoGeoFenceTypeExclude"}(Ws||(Ws={})),function(e){e[e.AspectFill=0]="AspectFill",e[e.AspectFit=1]="AspectFit"}(Zs||(Zs={})),function(e){e[e.ZegoFontTypeSourceHanSans=0]="ZegoFontTypeSourceHanSans",e[e.ZegoFontTypeAlibabaSans=1]="ZegoFontTypeAlibabaSans",e[e.ZegoFontTypePangMenZhengDaoTitle=2]="ZegoFontTypePangMenZhengDaoTitle",e[e.ZegoFontTypeHappyZcool=3]="ZegoFontTypeHappyZcool"}(Xs||(Xs={})),function(e){e[e.ZegoDefined=0]="ZegoDefined",e[e.UserUnregister=1]="UserUnregister"}($s||($s={})),function(e){e[e.video=0]="video",e[e.audio=1]="audio",e[e.videoAndAudio=2]="videoAndAudio"}(ea||(ea={}));var ua=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},la=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},ha=function(){function e(e){this.zegoStream=e}return Object.defineProperty(e.prototype,"active",{get:function(){return this.zegoStream.active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.zegoStream.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoCaptureStream",{get:function(){return this.zegoStream.originVideoStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioCaptureStream",{get:function(){return this.zegoStream.originAudioStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stream",{get:function(){return this.zegoStream.stream},enumerable:!1,configurable:!0}),e.prototype.getAudioTracks=function(){return this.zegoStream.getAudioTracks()},e.prototype.getVideoTracks=function(){return this.zegoStream.getVideoTracks()},e.prototype.getTracks=function(){return this.zegoStream.getTracks()},Object.defineProperty(e.prototype,"videoDeviceId",{get:function(){return this.zegoStream.videoDeviceId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioDeviceId",{get:function(){return this.zegoStream.audioDeviceId},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t){return this.zegoStream.on(e,t)},e.prototype.off=function(e,t){return this.zegoStream.off(e,t)},e.prototype.startCaptureMicrophone=function(e){return this.zegoStream.startCaptureMicrophone(e)},e.prototype.startCaptureCamera=function(e){return this.zegoStream.startCaptureCamera(e)},e.prototype.startCaptureCameraAndMicrophone=function(e,t){return this.zegoStream.startCaptureCameraAndMicrophone(e,t)},e.prototype.startCaptureCustomAudio=function(e){return this.zegoStream.startCaptureCustomAudio(e)},e.prototype.startCaptureCustomVideo=function(e){return this.zegoStream.startCaptureCustomVideo(e)},e.prototype.startCaptureCustomVideoAndAudio=function(e,t){return this.zegoStream.startCaptureCustomVideoAndAudio(e,t)},e.prototype.startCaptureScreen=function(e){return this.zegoStream.startCaptureScreen(e)},e.prototype.startCaptureScreenWithAudio=function(e,t){return this.zegoStream.startCaptureScreenWithAudio(e,t)},e.prototype.stopCaptureAudio=function(){return ua(this,void 0,void 0,(function(){return la(this,(function(e){return[2,this.zegoStream.stopCaptureAudio()]}))}))},e.prototype.stopCaptureVideo=function(){return ua(this,void 0,void 0,(function(){return la(this,(function(e){return[2,this.zegoStream.stopCaptureVideo()]}))}))},e.prototype.playAudio=function(e){this.zegoStream.playAudio(e)},e.prototype.playCaptureAudio=function(e){this.zegoStream.playCaptureAudio(e)},e.prototype.playVideo=function(e,t){this.zegoStream.playVideo(e,t)},e.prototype.playCaptureVideo=function(e,t){this.zegoStream.playCaptureVideo(e,t)},e.prototype.takeStreamSnapshot=function(e){return this.zegoStream.takeStreamSnapshot(e)},e.prototype.resumeVideo=function(){return this.zegoStream.resumeVideo()},e.prototype.resumeAudio=function(){return this.zegoStream.resumeAudio()},e.prototype.stopVideo=function(){this.zegoStream.stopVideo()},e.prototype.stopAudio=function(){this.zegoStream.stopAudio()},e.prototype.stopPlayCaptureVideo=function(){this.zegoStream.stopPlayCaptureVideo()},e.prototype.stopPlayCaptureAudio=function(){this.zegoStream.stopPlayCaptureAudio()},e.prototype.setVolume=function(e){return this.zegoStream.setVolume(e)},e}(),da=function(){return da=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},da.apply(this,arguments)},pa=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Ca=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ia=function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||(i||(i=Array.prototype.slice.call(t,0,A)),i[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))},fa=function(){function e(e,t,r,i,A,n){var o=this;this.options=e,this.logger=t,this.streamCenter=r,this.stateCenter=i,this.publishModule=A,this.advancedModule=n,this.id="zego-stream-"+Math.floor(100*Math.random()).toString(16),this.originVideoStream=null,this.originAudioStream=null,this.audioMuted=!0,this.audioCaptureMuted=!0,this.stream=null,this.publishAuido=null,this.publishVideo=null,this._ACacheStreams=[],this._VCacheStreams=[],this.eventHandler={autoplayFailed:function(e,t){o.eventManager.emit("autoplayFailed",e,t)},autoplayCaptureFailed:function(e,t){o.eventManager.emit("autoplayCaptureFailed",e,t)},canPlayAudio:function(e){o.eventManager.emit("canPlayAudio",e)},canPlayVideo:function(e){o.eventManager.emit("canPlayVideo",e)},canPlayCaptureVideo:function(e){o.eventManager.emit("canPlayCaptureVideo",e)},canPlayCaptureAudio:function(e){o.eventManager.emit("canPlayCaptureAudio",e)}},this.isPlayingVideo=!1,this.isPlayingCaptureVideo=!1,this.aCaptureViewer=null,this.vCaptureViewers=[],this.videoWrappers=[],this.viewer=null,this.previewer=null,this.originVideoTrack=null,this.originAudioTrack=null,this.eventManager=new os,this.autoPlay&&!e.view&&this.logger.error("zcs.c if you want to play the stream automatically, the view parameter is required.")}return Object.defineProperty(e.prototype,"active",{get:function(){var e,t;return(null===(e=this.originAudioStream)||void 0===e?void 0:e.active)||(null===(t=this.originVideoStream)||void 0===t?void 0:t.active)||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.options.view||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoPlay",{get:function(){return"boolean"==typeof this.options.autoPlay&&this.options.autoPlay},enumerable:!1,configurable:!0}),e.prototype.getAudioTracks=function(){var e;return this.logger.info("zcs.gats call"),(null===(e=this.originAudioStream)||void 0===e?void 0:e.getAudioTracks())||[]},e.prototype.getVideoTracks=function(){var e;return this.logger.info("zcs.gvts call"),(null===(e=this.originVideoStream)||void 0===e?void 0:e.getVideoTracks())||[]},e.prototype.getTracks=function(){return Ia(Ia([],this.getAudioTracks(),!0),this.getVideoTracks(),!0)},Object.defineProperty(e.prototype,"videoDeviceId",{get:function(){var e=this.originVideoStream&&this.originVideoStream.getVideoTracks()[0];return e&&this._getDeviceIdByTrack(e)||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioDeviceId",{get:function(){var e=this.originAudioStream&&this.originAudioStream.getAudioTracks()[0];return e&&this._getDeviceIdByTrack(e)||""},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t){return!!t&&this.eventManager.addEventHandler(e,t)},e.prototype.off=function(e,t){return this.eventManager.removeEventHandler(e,t)},e.prototype.startPublish=function(){this.publishAuido=this.originAudioStream,this.publishVideo=this.originVideoStream},e.prototype.replacePublish=function(e,t){void 0===e&&(e=ea.videoAndAudio),(e==ea.videoAndAudio||e==ea.audio)&&this.isPublish&&this.originAudioStream&&(this.publishAuido=t||this.originAudioStream),(e==ea.videoAndAudio||e==ea.video)&&this.isPublish&&this.originVideoStream&&(this.publishVideo=t||this.originVideoStream)},e.prototype.resetPublish=function(){this.publishAuido=null,this.publishVideo=null,this._checkAndRecycleStream()},e.prototype._getDeviceIdByTrack=function(e){return e&&e.getSettings().deviceId||""},e.prototype._handleCapture=function(e,t){return t.call(this,e instanceof Object?e:{})},e.prototype._updateOriginStream=function(e,t){var r=this;if(this.logger.info("zcs.uos call type:"+t),0==t){if(this.originVideoStream=e,this.autoPlay||this.isPlayingCaptureVideo){var i=this.vCaptureViewers.map((function(e){return{container:e.container,option:e.options}}));this.stopPlayCaptureVideo(),(null==i?void 0:i.length)||(i=[{container:this.options.captureView||null,option:{}}]),i.forEach((function(e){return e.container&&r.playCaptureVideo(e.container,e.option)}))}}else this.originAudioStream=e,this.audioCaptureMuted||(this.stopPlayCaptureAudio(),this.playCaptureAudio())},Object.defineProperty(e.prototype,"isPublish",{get:function(){for(var e in this.streamCenter.publisherList){if(this.streamCenter.publisherList[e].localStream==this.stream)return!0}return!1},enumerable:!1,configurable:!0}),e.prototype.updateStreamAudioTrack=function(e,t,r){return void 0===e&&(e=function(){}),void 0===t&&(t=function(){}),void 0===r&&(r=0),pa(this,void 0,void 0,(function(){var i,A,n,o,s,a=this;return Ca(this,(function(c){switch(c.label){case 0:if(this.logger.info("zcs.uat call"),!this.originAudioStream||this.isPublish&&0==r||!this.stream)return[2];i=this.stream.getAudioTracks()[0],A=this.originAudioStream.getAudioTracks()[0],n=function(t){a.replacePublish(1),a.originAudioTrack=A,e(t)},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.updateStreamTrack(i,A,n,t)];case 2:return o=c.sent(),this.logger.info("zcs.uat success"),[2,o];case 3:return s=c.sent(),this.logger.info("zcs.uat fail"),[2,s];case 4:return[2]}}))}))},e.prototype.updateStreamVideoTrack=function(e,t,r){return void 0===e&&(e=function(){}),void 0===t&&(t=function(){}),void 0===r&&(r=0),pa(this,void 0,void 0,(function(){var i,A,n,o,s=this;return Ca(this,(function(a){if(this.logger.info("zcs.uvt call"),i=this.stream&&this.streamCenter.checkPreview(this.stream),!this.originVideoStream||this.isPublish&&0==r||!this.stream||!i)return[2];A=i.videoTrack,n=this.originVideoStream.getVideoTracks()[0],o=function(t){s.replacePublish(0),s.originVideoTrack=n,e(t)};try{this.updateStreamTrack(A,n,o,t),this.logger.info("zcs.uvt success")}catch(e){return this.logger.info("zcs.uvt fail"),[2,e]}return[2]}))}))},e.prototype.updateStreamVideoAndAudio=function(e,t,r){return void 0===e&&(e=function(){}),void 0===t&&(t=function(){}),void 0===r&&(r=0),pa(this,void 0,void 0,(function(){var i,A,n,o,s;return Ca(this,(function(a){switch(a.label){case 0:this.logger.info("zcs.uva call"),i=!this.originVideoStream,A=!this.originAudioStream,n=function(t){i=!0,A&&e(t)},o=function(t){A=!0,i&&e(t)},a.label=1;case 1:return a.trys.push([1,4,,5]),[4,this.updateStreamVideoTrack(n,t,r)];case 2:return a.sent(),[4,this.updateStreamAudioTrack(o,t,r)];case 3:return a.sent(),[3,5];case 4:return s=a.sent(),t(s),this.logger.info("zcs.uva error:".concat(JSON.stringify(s))),[3,5];case 5:return[2]}}))}))},e.prototype.updateStreamTrack=function(e,t,r,i){return pa(this,void 0,void 0,(function(){var A,n,o;return Ca(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.logger.info("zcs.ut call"),A=this.stream&&this.streamCenter.checkPreview(this.stream),this.stream&&A?(n={errorCode:0,extendedData:""},!e||A.hasEmptyAudioTrack&&"audio"==t.kind?(this.logger.info("zcs.ut add"),[4,this.advancedModule.handleTrack("ADD",this.stream,t,r,i)]):[3,2]):(this.logger.info("zcs.ut stream:".concat(!this.stream,", previewer:").concat(!A)),[2]);case 1:return n=s.sent(),[3,4];case 2:return e.id==t.id?[3,4]:(this.logger.info("zcs.ut replace"),[4,this.advancedModule.replaceTrack(this.stream,t)]);case 3:n=s.sent(),"video"==e.kind&&e.stop(),s.label=4;case 4:return"audio"==t.kind&&(A.syncAudioState=!0),this._updatePreviewer(this.stream,this.originVideoStream,this.originAudioStream),r(n),[3,6];case 5:return o=s.sent(),i(o),[3,6];case 6:return[2]}}))}))},e.prototype._initPreviewer=function(){var e;this.stream||(this.stream=new MediaStream(this.getTracks()),this.originAudioTrack=this.getAudioTracks()[0],this.originVideoTrack=this.getVideoTracks()[0]);var t=this.streamCenter.checkPreview(this.stream);if(t||(t=this.createZegoStreamPreview(this.stream)),this.stream&&this._updatePreviewer(this.stream,this.originVideoStream,this.originAudioStream),t&&0===(null===(e=this.stream)||void 0===e?void 0:e.getAudioTracks().length)){var r=t.getEmptyAudioTrack();r&&this.stream.addTrack(r)}this.publishModule.initCopyMusic(this.stream),t.zegoCaptureStream=this,this.previewer=t},e.prototype.createZegoStreamPreview=function(e,t){var r=new ga(this.logger,this.stateCenter,this.streamCenter,t);return this.streamCenter.previewStreamList.push(r),r.localStream=e,r.mediaStreamConfig={},r.initMediaTrack(e),e.getTracks().forEach((function(e){return r.addTrackListener(e)})),"screen"==t&&this.publishModule.addShareScreenEnd(e),r},e.prototype._updatePreviewer=function(e,t,r){if(e){var i=this.streamCenter.checkPreview(e);if(i){var A=t&&this.streamCenter.checkPreview(t),n=r&&this.streamCenter.checkPreview(r);i.videoInfo={},i.mediaStreamConfig={},A&&(i.previewType=A.previewType,i.videoPreviewType=A.videoPreviewType,i.previewSuc=!0,i.mediaStreamConfig=da({},A.mediaStreamConfig),i.videoInfo=da({},A.videoInfo)),n&&(i.audioPreviewType=n.audioPreviewType,i.previewSuc=!0,i.videoInfo.channelCount=n.videoInfo.channelCount,i.videoInfo.audioBitrate=n.videoInfo.audioBitrate,i.mediaStreamConfig=da({},n.mediaStreamConfig))}}},e.prototype._getVideoBitrate=function(e){return da(da({},e),"number"==typeof this.options.videoBitrate?{videoBitrate:this.options.videoBitrate}:this.options.videoBitrate)},e.prototype._getAudioBitrate=function(e){return e.audioBitrate=this.options.audioBitrate,e},e.prototype._createStream=function(e,t,r,i,A){return pa(this,void 0,void 0,(function(){var n,o,s,a,c,g,u,l,h,d,p;return Ca(this,(function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),o=r==ea.audio||r==ea.videoAndAudio,(n=r==ea.video||r==ea.videoAndAudio)&&(e=this._getVideoBitrate(e)),o&&(e=this._getAudioBitrate(e)),this.logger.warn("zcs.cs config:",JSON.stringify(((d={})[t]=e,d))),[4,this.publishModule.createStream((p={},p[t]=e,p))];case 1:return s=C.sent(),a=this.streamCenter.checkPreview(s),c=(null==a?void 0:a.originVideoTrack)||s.getVideoTracks()[0],g=(null==a?void 0:a.originAudioTrack)||s.getAudioTracks()[0],o&&n?(u=new MediaStream([c.clone()]),l=new MediaStream([g.clone()]),this.createZegoStreamPreview(u,t),this.createZegoStreamPreview(l,t),this._updatePreviewer(u,s,null),this._updatePreviewer(l,null,s),this._VCacheStreams.push(u),this._ACacheStreams.push(l),this.publishModule.destroyStream(s),this._updateOriginStream(u,0),this._updateOriginStream(l,1),this.stream?this.updateStreamVideoAndAudio(i,A,0):this._initPreviewer()):n?(this._updateOriginStream(s,0),this._VCacheStreams.push(s),this.stream?this.updateStreamVideoTrack(i,A,0):this._initPreviewer()):o&&(l=new MediaStream([g.clone()]),this.createZegoStreamPreview(l,t),this._updateOriginStream(l,1),this._ACacheStreams.push(l),this.publishModule.destroyStream(s),this.stream?this.updateStreamAudioTrack(i,A,0):this._initPreviewer()),this.isPublish||(this.autoPlay||this.isPlayingVideo)&&this.autoPlay&&this.playVideo(),this._checkAndRecycleStream(),i({errorCode:0,extendedData:""}),[3,3];case 2:return h=C.sent(),A(h),[3,3];case 3:return[2]}}))}))},e.prototype.startCaptureMicrophone=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(r){return pa(t,void 0,void 0,(function(){var t;return Ca(this,(function(i){switch(i.label){case 0:this.logger.info("zcs.scm call ".concat(JSON.stringify(e))),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._createStream(da({audio:!0,video:!1,audioInput:e.input},e),"camera",1,r,r)];case 2:return i.sent(),this.logger.info("zcs.scm success"),[3,4];case 3:return t=i.sent(),r(t),this.logger.info("zcs.scm fail"),[3,4];case 4:return[2]}}))}))}))},e.prototype.startCaptureCamera=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(r){return pa(t,void 0,void 0,(function(){var t;return Ca(this,(function(i){switch(i.label){case 0:this.logger.info("zcs.scc call ".concat(JSON.stringify(e))),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._createStream(da({audio:!1,video:!0,videoInput:e.input,videoQuality:e.quality,videoOptimizationMode:e.optimizationMode},e),"camera",0,r,r)];case 2:return i.sent(),this.logger.info("zcs.scc success"),[3,4];case 3:return t=i.sent(),r(t),this.logger.info("zcs.scc fail"),[3,4];case 4:return[2]}}))}))}))},e.prototype.startCaptureCameraAndMicrophone=function(e,t){var r=this;return void 0===e&&(e={}),void 0===t&&(t={}),new Promise((function(i){return pa(r,void 0,void 0,(function(){var r;return Ca(this,(function(A){switch(A.label){case 0:this.logger.info("zcs.sccm call c:".concat(JSON.stringify(e),", m:").concat(JSON.stringify(t))),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this._createStream(da(da(da({audio:!0,video:!0,videoInput:null==e?void 0:e.input,videoQuality:e.quality,videoOptimizationMode:null==e?void 0:e.optimizationMode},e),{audioInput:null==t?void 0:t.input}),t),"camera",2,i,i)];case 2:return A.sent(),this.logger.info("zcs.sccm success"),[3,4];case 3:return r=A.sent(),i(r),this.logger.info("zcs.sccm fail"),[3,4];case 4:return[2]}}))}))}))},e.prototype.autoCapture=function(){var e=this;return new Promise((function(t,r){return pa(e,void 0,void 0,(function(){var e,i,A,n,o,s,a;return Ca(this,(function(c){switch(c.label){case 0:this.logger.info("zcs.ac call"),c.label=1;case 1:return c.trys.push([1,23,,24]),A=(e=this.options).custom,n=e.screen,(i=e.camera)?(this.logger.info("zcs.ac camera:".concat(JSON.stringify(i))),s=i.video,(o=i.audio)&&s?[4,this.startCaptureCameraAndMicrophone(s instanceof Object?s:void 0,o instanceof Object?o:void 0)]:[3,3]):[3,8];case 2:return c.sent(),[3,7];case 3:return o?[4,this._handleCapture(o,this.startCaptureMicrophone)]:[3,5];case 4:return c.sent(),[3,7];case 5:return s?[4,this._handleCapture(s,this.startCaptureCamera)]:[3,7];case 6:c.sent(),c.label=7;case 7:return[3,22];case 8:return n?(this.logger.info("zcs.ac screen:".concat(JSON.stringify(n))),s=n.video,(o=n.audio)?[4,this._handleCapture(o,this.startCaptureScreenWithAudio)]:[3,10]):[3,13];case 9:return c.sent(),[3,12];case 10:return[4,this._handleCapture(s,this.startCaptureScreen)];case 11:c.sent(),c.label=12;case 12:return[3,22];case 13:return A?(this.logger.info("zcs.ac custom:".concat(JSON.stringify(A))),s=A.video,(o=A.audio)&&s&&o.source===s.source?[4,this.startCaptureCustomVideoAndAudio(s,o)]:[3,15]):[3,20];case 14:return c.sent(),[3,19];case 15:return o?[4,this._handleCapture(o,this.startCaptureCustomAudio)]:[3,17];case 16:c.sent(),c.label=17;case 17:return s?[4,this._handleCapture(s,this.startCaptureCustomVideo)]:[3,19];case 18:c.sent(),c.label=19;case 19:return[3,22];case 20:return[4,this.startCaptureCameraAndMicrophone({},{})];case 21:c.sent(),c.label=22;case 22:return t({errorCode:0,extendedData:""}),[3,24];case 23:return a=c.sent(),r(a),[3,24];case 24:return[2]}}))}))}))},e.prototype.startCaptureCustomAudio=function(e){var t=this;return new Promise((function(r){return pa(t,void 0,void 0,(function(){var t;return Ca(this,(function(i){switch(i.label){case 0:this.logger.info("zcs.scca call ".concat(JSON.stringify(e))),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._createStream(e,"custom",1,r,r)];case 2:return i.sent(),this.logger.info("zcs.scca success"),[3,4];case 3:return t=i.sent(),r(t),this.logger.info("zcs.scca fail"),[3,4];case 4:return[2]}}))}))}))},e.prototype.startCaptureCustomVideo=function(e){var t=this;return new Promise((function(r){return pa(t,void 0,void 0,(function(){var t;return Ca(this,(function(i){switch(i.label){case 0:this.logger.info("zcs.sccv call ".concat(JSON.stringify(e))),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._createStream(da({videoOptimizationMode:e.optimizationMode},e),"custom",0,r,r)];case 2:return i.sent(),this.logger.info("zcs.sccv success"),[3,4];case 3:return t=i.sent(),r(t),this.logger.info("zcs.sccv fail"),[3,4];case 4:return[2]}}))}))}))},e.prototype.startCaptureCustomVideoAndAudio=function(e,t){var r=this;return new Promise((function(i){return pa(r,void 0,void 0,(function(){var r,A;return Ca(this,(function(n){switch(n.label){case 0:this.logger.info("zcs.sccva call v:".concat(JSON.stringify(e)," a:").concat(JSON.stringify(t))),n.label=1;case 1:return n.trys.push([1,7,,8]),e.source!=t.source?[3,3]:[4,this._createStream(da(da({videoOptimizationMode:e.optimizationMode},e),t),"custom",2,i,i)];case 2:return n.sent(),[3,6];case 3:return r={video:!1,audio:!1},[4,this._createStream(da({videoOptimizationMode:e.optimizationMode},e),"custom",0,(function(e){r.video=!0,r.audio&&i(e)}),i)];case 4:return n.sent(),[4,this._createStream(da({},t),"custom",1,(function(e){r.audio=!0,r.video&&i(e)}),i)];case 5:n.sent(),n.label=6;case 6:return this.logger.info("zcs.sccva success"),[3,8];case 7:return A=n.sent(),i(A),this.logger.info("zcs.sccva fail"),[3,8];case 8:return[2]}}))}))}))},e.prototype.startCaptureScreen=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(r,i){return pa(t,void 0,void 0,(function(){var t;return Ca(this,(function(i){switch(i.label){case 0:this.logger.info("zcs.scs call ".concat(JSON.stringify(e))),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._createStream(da(da({videoOptimizationMode:e.optimizationMode,videoQuality:e.quality},e),{audio:!1}),"screen",0,r,r)];case 2:return i.sent(),this.logger.info("zcs.scs success"),[3,4];case 3:return t=i.sent(),r(t),this.logger.info("zcs.scs fail"),[3,4];case 4:return[2]}}))}))}))},e.prototype.startCaptureScreenWithAudio=function(e,t){var r=this;return void 0===e&&(e={}),void 0===t&&(t={}),new Promise((function(i,A){return pa(r,void 0,void 0,(function(){var r;return Ca(this,(function(A){switch(A.label){case 0:this.logger.info("zcs.scs call v:".concat(JSON.stringify(e)," a:").concat(JSON.stringify(t))),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this._createStream(da(da(da({videoOptimizationMode:e.optimizationMode,videoQuality:e.quality},e),t),{audio:!0}),"screen",2,i,i)];case 2:return A.sent(),this.logger.info("zcs.scs success"),[3,4];case 3:return r=A.sent(),i(r),this.logger.info("zcs.scs fail"),[3,4];case 4:return[2]}}))}))}))},e.prototype.stopCaptureAudio=function(){var e=this;return new Promise((function(t){var r,i,A=!0;if(e.originAudioStream){e.logger.info("zcs.sca call stop capture");var n=e.originAudioStream.getAudioTracks()[0];(null===(r=e.stream)||void 0===r?void 0:r.getAudioTracks()[0])&&e.isPublish&&e.stream&&(e.logger.info("zcs.sca stop audio"),A="camera"===(null===(i=e.previewer)||void 0===i?void 0:i.audioPreviewType)?e.previewer.enableMicrophoneOnly(!1,e.streamCenter):e.advancedModule.enableStream(e.stream,{audio:!0}),e.previewer&&(e.previewer.syncAudioState=!1)),e.logger.info("zcs.sca stop result:"+A),A&&(n.stop(),e.originAudioStream=null,e.stopPlayCaptureAudio(),e._ACacheStreams.forEach((function(t){return e.publishModule.destroyStream(t)})),e._ACacheStreams=[],e._checkAndRecycleStream())}t(A)}))},e.prototype.stopCaptureVideo=function(){var e;return pa(this,void 0,void 0,(function(){var t,r,i,A,n=this;return Ca(this,(function(o){switch(o.label){case 0:if(t=!0,this.logger.info("zcs.scv call stop capture"),!this.originVideoStream)return[3,5];r=this.originVideoStream.getVideoTracks()[0],i=null===(e=this.stream)||void 0===e?void 0:e.getVideoTracks()[0],o.label=1;case 1:return o.trys.push([1,4,,5]),i?this.isPublish&&this.previewer?(this.logger.info("zcs.scv stop stream video"),[4,this.previewer.enableCameraCapturing(!1)]):[3,3]:[3,3];case 2:t=o.sent(),o.label=3;case 3:return this.logger.info("zcs.scv stop result:"+t),t&&(r.stop(),this.originVideoStream=null,this.stopPlayCaptureVideo(),this._VCacheStreams.forEach((function(e){return n.publishModule.destroyStream(e)})),this._VCacheStreams=[],this._checkAndRecycleStream()),[3,5];case 4:return A=o.sent(),this.logger.error("zcs.scv "+JSON.stringify(A)),t=!1,[3,5];case 5:return[2,t]}}))}))},e.prototype._checkStream=function(e){return!!(e&&this.streamCenter.checkPreview(e))},e.prototype.createStreamView=function(e,t){if(void 0===t&&(t=!1),!e||!this._checkStream(e))throw new Error("The stream does not exist, you must first capture the stream");var r=this.streamCenter.checkPreview(e);return t&&r?new Is(e,r,{clearLastFrame:this.stateCenter.engineConfig.previewClearLastFrame}):(null==r?void 0:r.getViewer())||null},e.prototype.initStreamView=function(){var e,t,r;this.viewer=this.createStreamView(this.stream),null===(e=this.viewer)||void 0===e||e.on("canPlayAudio",this.eventHandler.canPlayAudio),null===(t=this.viewer)||void 0===t||t.on("canPlayVideo",this.eventHandler.canPlayVideo),null===(r=this.viewer)||void 0===r||r.on("autoplayFailed",this.eventHandler.autoplayFailed)},e.prototype.playAudio=function(e){var t;if(this.logger.info("zcs.pa call"),!this.stream)return this.logger.warn("zcs.pa You need to capture the audio stream first");this.viewer||this.initStreamView(),null===(t=this.viewer)||void 0===t||t.playAudio(e,!0),this.audioMuted=!1},e.prototype.playCaptureAudio=function(e){var t,r,i;if(this.logger.info("zcs.pca call"),!this.originAudioStream)return this.logger.warn("zcs.pca You need to capture the audio stream first");this.aCaptureViewer||(this.aCaptureViewer=this.createStreamView(this.originAudioStream),null===(t=this.aCaptureViewer)||void 0===t||t.on("canPlayAudio",this.eventHandler.canPlayCaptureAudio),null===(r=this.aCaptureViewer)||void 0===r||r.on("autoplayFailed",this.eventHandler.autoplayCaptureFailed)),this.audioCaptureMuted=!1,null===(i=this.aCaptureViewer)||void 0===i||i.playAudio(e,!0)},e.prototype.playVideo=function(e,t){var r;if(this.logger.info("zcs.pv call"),this.stream){if(this.viewer&&this.viewer.inited||(this.initStreamView(),null===(r=this.viewer)||void 0===r||r.setAudioMuted(this.audioMuted)),this.viewer){var i=e||this.view;i&&i instanceof HTMLElement?(this.viewer.playVideo(i,t),this.isPlayingVideo=!0):this.logger.error("zcs.pv Execute `playVideo` failed, container not exist")}}else this.logger.warn("zcs.pv You need to capture the video stream first")},e.prototype.playCaptureVideo=function(e,t){this.logger.info("zcs.pcv call");var r=this.vCaptureViewers[0]||null;if(this.originVideoStream){if(!r||this.options.multiplacePreview){if(!(r=this.createStreamView(this.originVideoStream,r&&this.options.multiplacePreview)))return;r.on("canPlayVideo",this.eventHandler.canPlayCaptureVideo),r.on("autoplayFailed",this.eventHandler.autoplayCaptureFailed),this.vCaptureViewers.push(r)}var i=e||this.options.captureView;i&&i instanceof HTMLElement?(r.playVideo(i,t),this.isPlayingCaptureVideo=!0):this.logger.error("zcs.pcv Execute `playVideo` failed, container not exist")}else this.logger.warn("zcs.pv You need to capture the video stream first")},e.prototype.updatePlayVideo=function(){this.viewer&&this.stream?this.viewer.setVideo(this.stream.getVideoTracks()[0]):this.autoPlay&&this.playVideo()},e.prototype.updatePlayAudio=function(){this.viewer&&this.stream&&this.viewer.setAudio(this.stream.getAudioTracks()[0])},e.prototype.takeStreamSnapshot=function(e){var t;return(null===(t=this.viewer)||void 0===t?void 0:t.takeStreamSnapshot(e))||""},e.prototype.resumeVideo=function(){var e;return null===(e=this.viewer)||void 0===e?void 0:e.resume(!0,["video"])},e.prototype.resumeAudio=function(){var e;return null===(e=this.viewer)||void 0===e?void 0:e.resume(!0,["audio"])},e.prototype.stopVideo=function(){var e;null===(e=this.viewer)||void 0===e||e.stopVideo(),this.isPlayingVideo=!1},e.prototype.stopAudio=function(){this.viewer&&(this.viewer.stopAudio(),this.audioMuted=!0)},e.prototype.stopPlayCaptureVideo=function(){this.vCaptureViewers.forEach((function(e){e.stopVideo(),e.destroy()})),this.vCaptureViewers=[],this.isPlayingCaptureVideo=!1},e.prototype.stopPlayCaptureAudio=function(){this.aCaptureViewer&&(this.aCaptureViewer.destroy(),this.aCaptureViewer=null,this.audioCaptureMuted=!0)},e.prototype.setVolume=function(e){return!!this.viewer&&this.viewer.setVolume(e)},e.prototype._destroyCacheStream=function(e){var t=this;return e.filter((function(e){return!(!e.active||![t.originAudioStream,t.originVideoStream,t.publishAuido,t.publishVideo].includes(e))||(t.publishModule.destroyStream(e),!1)}))},e.prototype._checkAndRecycleStream=function(){this._ACacheStreams=this._destroyCacheStream(this._ACacheStreams),this._VCacheStreams=this._destroyCacheStream(this._VCacheStreams)},e.prototype.destroy=function(){var e,t=this;this.originAudioStream&&(this.originAudioStream=null),this.originVideoStream&&(this.originVideoStream=null),this.stream&&(this.publishModule.destroyStream(this.stream),this.stream=null),this._ACacheStreams.forEach((function(e){return t.publishModule.destroyStream(e)})),this._VCacheStreams.forEach((function(e){return t.publishModule.destroyStream(e)})),this._ACacheStreams=[],this._VCacheStreams=[],this.stopPlayCaptureVideo(),this.stopPlayCaptureAudio(),this.stopVideo(),this.stopAudio(),null===(e=this.viewer)||void 0===e||e.destroy(),this.viewer=null},e}(),Ea=function(){return Ea=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Ea.apply(this,arguments)},Qa=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Ba=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},ma=St,ya=wt,va=function(){function e(e,t,r,i,A,n){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.rtm=A,this.zegoWebRtc=n,this.recordDevices()}return e.prototype.createStream=function(e){var t,r,i=this;this.logger.info(dn+" call"),e&&e.camera&&e.camera.audioBitRate&&(e.camera.audioBitrate=e.camera.audioBitRate),e&&e.camera&&e.camera.bitrate&&(e.camera.bitRate=e.camera.bitrate),e&&e.screen&&"object"==typeof e.screen&&e.screen.bitrate&&(e.screen.bitRate=e.screen.bitrate),e&&e.custom&&e.custom.bitrate&&(e.custom.bitRate=e.custom.bitrate);var A={width:640,height:360},n={width:720,height:480},o={width:960,height:540};if(!(null==e?void 0:e.custom)&&!(null==e?void 0:e.screen)||e.camera||!e){var s=null===(r=null===(t=navigator.userAgent)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.match(/cpu iphone os (.*?) like mac os/);if(!s||!s[1]||!s[1].includes("11_4")){var a=Ea({video:!0,videoQuality:4,frameRate:15,bitRate:500},A);switch(this.stateCenter.scenario){case Ce.StandardVideoCall:break;case Ce.HighVideoCall:a.frameRate=25,a.bitRate=1500,a=Ea(Ea({},a),o);break;case Ce.StandardChatroom:a.video=!1,a.audioBitrate=24;break;case Ce.HighQualityChatroom:a.video=!1;break;case Ce.Broadcast:a.frameRate=20,a.bitRate=1200,(a=Ea(Ea({},a),o)).audioBitrate=64,a.channelCount=2;break;default:a.bitRate=800,a=Ea(Ea({},a),n)}(e=e||{}).camera=Object.assign(a,e.camera||{})}}return new Promise((function(t,r){var A,n,o="camera",s=i.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},_t.event),a=function(e){var r=i.streamCenter.checkPreview(e),A=e;if(r&&navigator.userAgent){var n=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);n&&n[1]&&n[1].includes("15_1")&&(A=r.getStreamThroughCanvas(e),r.localStream=A,r.streamFromCanvas=!0,r.streamFromCanvasTrack=A.getVideoTracks()[0])}if(i.stateCenter.engineConfig.keepAudioTrack&&0==A.getAudioTracks().length){var o=null==r?void 0:r.getEmptyAudioTrack();o&&(o.enabled=!1,A.addTrack(o),r&&(r.hasEmptyAudioTrack=!0))}i.initCopyMusic(e),s.setAttributes({media_stream_id:_t.media_stream_id(null==e?void 0:e.id)}),s.end(),!i.stateCenter.deviceInfos&&i.recordDevices(),t(A),i.streamCenter.activeSoundLevel()},c=function(e,t){void 0===t&&(t=""),i.stateCenter.reporter.setError(s,e,t),r({code:e.code,msg:e.message+t})};if("https:"!==window.location.protocol&&"file:"!==window.location.protocol&&-1==window.location.hostname.indexOf("127.0.0.1")&&-1==window.location.hostname.indexOf("localhost"))return i.logger.error(dn+" https or localhost required "),void c({code:_t.error.kBrowserNotSupportError.code,message:_t.error.kBrowserNotSupportError.message+" https or localhost required"});if(e&&e.screen){if(o="screen",!function(e,t){if("object"==typeof e&&void 0!==e.videoQuality&&!bA(e.videoQuality))return t(_t.error.kParamError," videoQuality must be integer number"),!1;if("object"==typeof e&&void 0!==e.sourceID&&"string"!=typeof e.sourceID)return t(_t.error.kParamError," sourceID must be string"),!1;if("object"==typeof e&&4===e.videoQuality){if(!OA(e.bitRate,t))return!1;if(!MA(e,t))return!1}return!0}(e.screen,c))return;var g=i.stateCenter.browser,u=i.streamCenter.getScreenConstrains(e.screen);s.setAttributes({stream_type:_t.stream_type("screen"),screen:_t.screen(u)});var l=function(e){i.streamCenter.createScreenPreviewer(e,u)&&a(e),i.addShareScreenEnd(e)};"firefox"==g||"object"==typeof e.screen&&"firefox"==e.screen.type?i.startScreenShotFirFox("screen",u,(function(e,t,r){e?t&&l(t):r&&c(r)})):"chrome"==g&&Ng.screenShotReady||"object"==typeof e.screen&&"shot"==e.screen.type?i.startScreenShotChrome((function(t,r,A){t?(i.logger.info(dn+" using extension"),r&&l(r)):(A&&i.logger.error(dn+" extension "+A),"SS_DIALOG_CANCEL"===A||"object"==typeof(null==e?void 0:e.screen)&&"shot"==e.screen.type?A&&c(_t.error.kScreenCancelError):i.startScreenSharing(u,(function(e,t,r){e?t&&l(t):(i.logger.error(dn+" "+r),r&&c(r))})))})):"Electron"==g||"object"==typeof e.screen&&"Electron"==e.screen.type?i.startScreenShotElectron(u,(function(e,t,r){e?t&&l(t):r&&c(r)})):i.startScreenSharing(u,(function(e,t,r){e?t&&l(t):r&&c(r)}))}else{if(e&&"object"==typeof e.camera&&void 0!==e.camera.videoQuality&&!bA(e.camera.videoQuality))return i.logger.error(dn+" videoQuality must be integer number"),void c(_t.error.kParamError," videoQuality must be integer number");if(e&&e.camera&&e.camera.audioBitrate){if(!bA(e.camera.audioBitrate))return i.logger.error(dn+" audioBitrate must be integer number"),void c(_t.error.kParamError," audioBitrate must be integer number");if(e.camera.audioBitrate<6)return i.logger.error(dn+" audioBitrate cannot less 6 kbps"),void c(_t.error.kParamError," audioBitrate cannot less 6 kbps");if(e.camera.audioBitrate>510)return i.logger.error(dn+" audioBitrate cannot greater than 510 kbps"),void c(_t.error.kParamError," audioBitrate cannot greater than 510 kbps");i.stateCenter.audioBitRate=1e3*e.camera.audioBitrate}if(e&&e.camera&&e.camera.bitRate){if("number"!=typeof e.camera.bitRate)return i.logger.error(dn+" bitrate must be integer number"),void c(_t.error.kParamError," bitrate must be integer number");if(e.camera.bitRate>10240)return i.logger.error(dn+" bitrate cannot greater than 10 Mbps"),void c(_t.error.kParamError," bitrate cannot greater than 10 Mbps")}if(e&&e.camera&&void 0!==e.camera.channelCount&&!bA(e.camera.channelCount))return i.logger.error(dn+" channelCount must be integer number"),void c(_t.error.kParamError," channelCount must be integer number");if(e&&e.camera&&4===e.camera.videoQuality&&(!MA(A=e.camera,n=c)||!OA(A.bitRate,n)))return;if(e&&e.custom&&e.custom.bitRate){if(!bA(e.custom.bitRate))return i.logger.error(dn+" bitrate must be integer number"),void c(_t.error.kParamError," bitrate must be integer number");if(e.custom.bitRate>10240)return i.logger.error(dn+" bitrate cannot greater than 10 Mbps"),void c(_t.error.kParamError," bitrate cannot greater than 10 Mbps")}if(e&&e.custom&&e.custom.audioBitrate){if(!bA(e.custom.audioBitrate))return i.logger.error("ze.cs.0 audioBitrate must be integer number"),void c(_t.error.kParamError," audioBitrate must be integer number");if(e.custom.audioBitrate<6)return i.logger.error("ze.cs.0 audioBitrate cannot less 6 kbps"),void c(_t.error.kParamError," audioBitrate cannot less 6 kbps");if(e.custom.audioBitrate>510)return i.logger.error("ze.cs.0 audioBitrate cannot greater than 510 kbps"),void c(_t.error.kParamError," audioBitrate cannot greater than 510 kbps")}if(e&&e.custom&&void 0!==e.custom.channelCount&&1!==e.custom.channelCount&&2!==e.custom.channelCount)return i.logger.error("ze.cs.0 channelCount must number 1 or 2"),void c(_t.error.kParamError," channelCount must number 1 or 2");var h={};if(e&&e.camera)o="camera",i.logger.info(dn+" camera "+JSON.stringify(e.camera)),h=e.camera,s.setAttributes({stream_type:_t.stream_type("camera"),camera:_t.camera(e.camera)}),"boolean"!=typeof h.video&&(h.video=!0),"boolean"!=typeof h.audio&&(h.audio=!0);else if(e&&e.custom){o="custom",h=e.custom;var d=e.custom.source instanceof MediaStream?"MediaStream":"HTMLElement";s.setAttributes({stream_type:_t.stream_type("custom"),custom:_t.custom(Ea(Ea({},e.custom),{source_type:d}))})}i.startPreview(h,o,a,c,s)}}))},e.prototype.createZegoStream=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(r,i){return Qa(t,void 0,void 0,(function(){var t,A,n;return Ba(this,(function(o){switch(o.label){case 0:if(!this.zegoWebRtc.rtcModules.advancedModule)return[3,5];if(e&&!(e instanceof Object))return[2,i(Me)];if(t=new fa(e,this.logger,this.streamCenter,this.stateCenter,this,this.zegoWebRtc.rtcModules.advancedModule),A=new ha(t),!e.autoCapture&&null!=e.autoCapture)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,A.zegoStream.autoCapture()];case 2:return o.sent(),[3,4];case 3:return n=o.sent(),[2,i(n)];case 4:return r(A),[3,6];case 5:throw new Error("should use advanced module first");case 6:return[2]}}))}))}))},e.prototype.destroyStream=function(e){this.logger.info(pn+" call");var t=this.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},Er);if(t.setAttributes({stop_reason:Br("destroyStream")}),!(e instanceof MediaStream||"object"==typeof e&&e.getTracks))return this.logger.error(pn+" localStream is not mediaStream or tracks is null"),void this.stateCenter.reporter.setError(t,Qr.kLocalStreamError);e instanceof MediaStream?(e instanceof MediaStream&&0==e.getTracks().length&&this.logger.info(pn+" tracks is null"),this.stopPreview(e)):e.zegoStream&&e.zegoStream.destroy(),t.end()},e.prototype.startPublishingStream=function(e,t,r,i){var A,n=this,o=XA(t,this.logger);this.logger.info(Cn+" call "+e+" publishOption: "+JSON.stringify(r)+" isDataChannel: "+JSON.stringify(!!i)+" ms_id: "+(null==o?void 0:o.id));var s,a=!0,c="",g=ma.error,u=g.kPublishParamError,l=this.stateCenter.reporter.createSpan(Ie.I,{key:It},{key:ma.event,par:e},ma.event,!0);a&&void 0===e&&(this.logger.error(Cn+(c="stream id required")),a=!1,s=u),!a||e&&"string"==typeof e||(this.logger.error(Cn+" "+(c="stream id type wrong")),a=!1,s=u),a&&e.length>256&&(this.logger.error(Cn+" "+(c="stream id length limit")),a=!1,s=u),a&&!EA(e)&&(this.logger.error(Cn+" "+(c="stream ID contains illegal characters")),a=!1,s=u),l.setAttributes({stream_id:ma.stream_id(e)}),a&&(!o||o instanceof MediaStream&&0==o.getTracks().length)?(this.logger.error(Cn+" "+(c="localStream wrong")),a=!1,s=u):o&&o.getTracks().forEach((function(e){YA(e,n.logger,Cn)}));var h=this.streamCenter.checkPreview(o);a&&!h&&(this.logger.error(Cn+" "+(c="stream is not from zego")),a=!1,s=g.kPublishNoPreviewError);var d=null==h?void 0:h.zegoCaptureStream;if(d&&(d.originAudioStream||d.originVideoStream||(this.logger.error(Cn+" "+(c="stream is not capturing")),a=!1,s=g.kPublishNoCaptureError)),(null==h?void 0:h.isVideoEffectStarting)&&(this.logger.error(Cn+" "+(c=(s=g.kPublishEffectIsStarting).message)),a=!1),a&&void 0!==r&&"object"!=typeof r&&(a=!1,s=u,c="publishOption must be object"),a&&void 0!==r&&void 0!==r.streamParams&&"string"!=typeof r.streamParams&&(this.logger.error(Cn+" publishOption streamParams must be string"),a=!1,s=u,c=" publishOption streamParams must be string"),a&&void 0!==r&&void 0!==r.extraInfo&&"string"!=typeof r.extraInfo&&(this.logger.error(Cn+" publishOption extraInfo must be string"),a=!1,s=u,c=" publishOption extraInfo must be string"),a&&void 0!==r&&void 0!==r.videoCodec&&"string"!=typeof r.videoCodec&&(this.logger.error(Cn+" publishOption videoCodec must be string"),a=!1,s=u,c=" publishOption videoCodec must be string"),!a||!this.stateCenter.isMultiRoom||r&&"string"==typeof r.roomID&&""!=r.roomID||(a=!1,s=u,c=" roomID is need if set multi room"),r&&r.videoCodec&&(r.videoCodec=r.videoCodec.toUpperCase()),a&&(this.stateCenter.waitPublishStreamList[e]={retryStart:!1,localStream:o,publishOption:r,isDataChannel:i}),this.stateCenter.useNetAgent&&this.stateCenter.roomList.length>0)this.logger.info(Cn+" publish quick");else if(a&&this.rtm.isDisConnect()){if(this.stateCenter.connectChanged)return this.stateCenter.waitPublishStreamList[e].retryStart=!0,this.logger.info(Cn+" connect changed"),!1;this.logger.error(Cn+" not login"),a=!1,s=g.kPublishNoLoginError}if(!a)throw this.logger.error(Cn+" "+c),this.stateCenter.reporter.setError(l,s),{errorCode:null==s?void 0:s.code,extendedData:c};r||(r={});var p=zA(this.stateCenter.appid,this.stateCenter.idName,e),C=((A={})["_publish_"+e]={stream_sid:p},A);this.stateCenter.reporter.setPublicPros(C),l.setAttributes({stream_sid:ma.stream_sid(p),publish_option:ma.publish_option(r),enable_camera:ma.enable_camera(!!(null==h?void 0:h.videoTrack)),enable_mic:ma.enable_mic(!!(null==h?void 0:h.audioTrack)),use_na:ma.use_na(this.stateCenter.useNetAgent?1:0)}),r.audioBitRate=this.stateCenter.audioBitRate;var I=r.roomID?r.roomID:this.stateCenter.roomList[0]?this.stateCenter.roomList[0].roomID:"",f=this.stateCenter.getRoomByRoomID(I);if(!f)return this.logger.error("zc.p.sps.1 room no found"),!1;l.setAttributes({room_id:ma.room_id(I)});var E=this.streamCenter.getSignalNodes();if(E)return this.stateCenter.publishStreamList[e]={state:H.tryPublish,extra_info:r.extraInfo,roomID:f.roomID},this.streamCenter.setPublishStateStart(f,e,o,r,p,i)?(f.streamHandler.onPublishStateUpdate(Se,e,{code:0,message:""}),this.streamCenter.publisherList[e].serverUrls=E,this.streamCenter.startPublishingStream(e)):(this.logger.info("zc.p.sps.1 cannot start publish"),!1);if(!this.streamCenter.setPublishStateStart(f,e,o,r,p,i))return this.logger.error("zc.p.sps.1 cannot start publish"),!1;this.stateCenter.publishStreamList[e]={state:H.tryPublish,extra_info:r.extraInfo,roomID:f.roomID},this.logger.info("zc.p.sps.1 start publish"),f.streamHandler.onPublishStateUpdate(Se,e,{code:0,message:""});var Q=this.stateCenter.useNetAgent,B=this.streamCenter.publisherList[e];if(this.stateCenter.reporter.createSpan(Ie.H,{key:St.event,par:e},{key:ya.event,par:e},ya.event,!0).setAttributes({reason:ya.reason("StartPublish")}),Q)return this.stateCenter.appConfig?(null==h?void 0:h.containBackgroundProcess)&&!1===this.stateCenter.supportBg?(this.logger.info("zc.p.sps.1 check not support background porcess"),f.streamHandler.onPublishStateUpdate(_e,e,g.kPublishNotSubscribeBackgroundProcessError),!1):(this.streamCenter.publisherList[e].serverUrls=["unified_rtc"],this.streamCenter.startPublishingStream(e,Q),!0):(this.streamCenter.waitPublishList.push(e),!0);var m=B.retryDispatchHandler;return m.stopMaxTime(),m.invalid(),m.initStream(e,r,!0),m.startMaxTime(),m.active(0)},e.prototype.updatePublishingStream=function(e,t){var r=this;return new Promise((function(i){var A=function(e,t){var A="number"==typeof e?{errorCode:e,extendedData:JSON.stringify({fail_reason:t})}:e;r.logger.error(es+" "+A.extendedData),i(A)};r.logger.info(es+" call by user");var n=r.streamCenter.checkPreview(e);if(n)if(n.zegoCaptureStream){var o=n.zegoCaptureStream;t!=ea.audio&&t!=ea.videoAndAudio||o.getAudioTracks().length?t!=ea.video&&t!=ea.videoAndAudio||o.getVideoTracks().length?t==ea.audio?o.updateStreamAudioTrack(i,A,1):t==ea.video?o.updateStreamVideoTrack(i,A,1):o.updateStreamVideoAndAudio(i,A,1):A(gt,ut):A(at,ct)}else A(Me.code,Me.message+", stream type wrong");else A(ot,st)}))},e.prototype.activateSEIInsert=function(e,t,r){return void 0===r&&(r=0),!1},e.prototype.sendSEI=function(e,t){if(!qA())return this.logger.warn(Qn+" browser not support "),!1;if(!(t instanceof Uint8Array))return this.logger.error(Qn+" inData required Uint8Array"),!1;if(t.byteLength>4096)return this.logger.error(Qn+" inData length limit"),!1;var r=this.streamCenter.publisherList[e];return r&&r.publisher?r.publisher.sendSEI(t):(this.logger.warn(Qn+" publish not exist"),!1)},e.prototype.stopPublishingStream=function(e,t,r){var i,A,n;this.logger.info(fn+" call ",e+(t?t.toString():"")+" "+r);var o=this.stateCenter.reporter.createSpan(Ie.I,{key:It},{key:""},Gt);if("string"!=typeof e||""==e)return this.logger.error(fn+" streamID must be string and not empty"),this.stateCenter.reporter.setError(o,Ut.kParamError,"stream id type error"),!1;var s=this.streamCenter.publisherList[e];o.setAttributes({stream_id:xt(e),stream_sid:Ht(null==s?void 0:s.streamSid),room_id:qt(null===(A=null===(i=this.streamCenter.publisherList[e])||void 0===i?void 0:i.room)||void 0===A?void 0:A.roomID),error:(null==t?void 0:t.code)||0,message:(null==t?void 0:t.message)||""});var a=this.streamCenter.getRoomByStreamID(e),c=s&&s.publisher&&s.publisher.state!==y||(null===(n=null==s?void 0:s.retryStreamHandler)||void 0===n?void 0:n.isRetrying());if(this.streamCenter.stopPublishingStream(e,t),r&&delete this.stateCenter.waitPublishStreamList[e],this.stateCenter.publishStreamList[e]){if(this.stateCenter.publishStreamList[e].state>=H.update_info&&a){if(!t||1102018!==t.code)a.streamHandler.updateStreamInfo(e,J);for(var g=0;g<a.streamList.length;g++)if(a.streamList[g].stream_id==e){!this.stateCenter.connectChanged&&a.streamList.splice(g--,1);break}}delete this.stateCenter.publishStreamList[e]}return o.end(),a&&c&&a.streamHandler.onPublishStateUpdate(_e,e,t||{code:0,message:""}),!0},e.prototype.setCaptureVolume=function(e,t){var r=this;return new Promise((function(i){r.logger.info(xo+" call");var A=XA(e,r.logger),n=function(e){r.logger.error(xo+" "+e),i({errorCode:Fr.kParamError.code,extendedData:JSON.stringify({fail_reason:Fr.kParamError.message+" "+e})})},o=r.streamCenter.checkPreview(A);A instanceof MediaStream&&o?0!=A.getAudioTracks().length?"number"!=typeof t||t<0||t>200?n(" volume must be number between 0 to 200"):(o.setVolume(t),i({errorCode:0,extendedData:""}),r.logger.info(xo+" call success")):n(" stream audioTrack no found"):n(" stream must be created by zego")}))},e.prototype.getElectronScreenSources=function(){var e=this;return new Promise((function(t,r){var i=window.require("electron");i||(e.logger.error("zc.gess.0 Electron is not exist"),r({message:"Electron is not exist"})),i.desktopCapturer.getSources({types:["window","screen"]}).then((function(e){var r=e.map((function(e){return{id:e.id,name:e.name,thumbnail:e.thumbnail}}));t(r)})).catch((function(t){e.logger.error("zc.gess.0 "+t),r(t)}))}))},e.prototype.startScreenShotChrome=function(e){if(Ng.screenShotReady)window.postMessage({type:"SS_UI_REQUEST",text:"start"},"*"),BA("screenShare",{success:e},this.stateCenter.callbackList);else{var t='zc.b.ss Please install the extension:1. Go to chrome://extensions  2. Check: "Enable Developer mode   3. Click: "Load the unpacked extension... 4. Choose "extension" folder from the repository 5. Reload this page';this.logger.error(t),e(!1,null,{code:_t.error.kScreenFailedError.code,message:_t.error.kScreenFailedError.message+" "+t})}},e.prototype.startScreenSharing=function(e,t){var r=this;if("getDisplayMedia"in navigator.mediaDevices){var i=navigator.mediaDevices,A=!1;if(e.audio&&(A={noiseSuppression:!1,autoGainControl:!1,echoCancellation:!0},void 0!==e.ANS&&(A.noiseSuppression=e.ANS),void 0!==e.AGC&&(A.autoGainControl=e.AGC),void 0!==e.AEC&&(A.echoCancellation=e.AEC)),"safari"===this.stateCenter.browser&&e.video instanceof Object){var n=e.video,o=n.width,s=n.height;o instanceof Object?e.video.width={max:o.max||o.ideal}:o&&(e.video.width={max:o}),s instanceof Object?e.video.height={max:s.max||s.ideal}:s&&(e.video.height={max:s})}this.logger.info("zc.b.sss video config: "+JSON.stringify(e.video)),this.logger.info("zc.b.sss audio config: "+JSON.stringify(A)),i.getDisplayMedia({audio:A,video:e.video}).then((function(e){t(!0,e)})).catch((function(e){r.logger.error("zc.b.sss "+e),e.message&&"permission denied"==e.message.toLowerCase()?t(!1,null,_t.error.kScreenCancelError):t(!1,null,{code:_t.error.kScreenFailedError.code,message:_t.error.kScreenFailedError.message+" "+e})}))}else this.logger.error("zc.b.sss brower does not support getDisplayMedia"),t(!1,null,_t.error.kBrowserNotSupportError)},e.prototype.startScreenShotFirFox=function(e,t,r){var i=this,A={video:Ea(Ea({},t.video),{mediaSource:e}),audio:t.audio};navigator.mediaDevices.getUserMedia(A).then((function(e){e.getTracks().forEach((function(e){return YA(e,i.logger,"ze.ssf.1")})),r(!0,e)})).catch((function(e){i.logger.error("ze.ssf.1 "+e),r(!1,null,{code:_t.error.kScreenFailedError.code,message:_t.error.kScreenFailedError.message+" "+e})}))},e.prototype.startScreenShotElectron=function(e,t){var r=this;if(!window.require("electron"))return this.logger.error("ze.sse.1 Electron is not exist"),void t(!1,null,{code:_t.error.kScreenFailedError.code,message:_t.error.kScreenFailedError.message+" Electron is not exist"});var i={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e.sourceID,maxWidth:window.screen.width,maxHeight:window.screen.height}},audio:!1};navigator.mediaDevices.getUserMedia(i).then((function(e){e.getTracks().forEach((function(e){return YA(e,r.logger,"ze.sse.1")})),t(!0,e)})).catch((function(e){r.logger.error("ze.sse.1 "+e),t(!1,null,{code:_t.error.kScreenFailedError.code,message:_t.error.kScreenFailedError.message+" "+e})}))},e.prototype.startPreview=function(e,t,r,i,A){var n=this,o=null;return o=new ga(this.logger,this.stateCenter,this.streamCenter,t),this.streamCenter.previewStreamList.push(o),o.startPreview(e,(function(i){n.streamCenter.soundLevelDelegate&&(null==o||o.startSoundLevel()),"camera"===t&&(!1===(null==e?void 0:e.audio)&&o&&(o.hasMicTrack=!1),(null==o?void 0:o.micTrack)&&(o.micTrack.enabled=n.streamCenter.isMicEnabled)),(null==e?void 0:e.videoOptimizationMode)&&n.streamCenter.setVideoTrackContentHint(i,null==e?void 0:e.videoOptimizationMode),n.logger.debug("zsc.sp.0 call success"),!n.stateCenter.deviceInfos&&n.recordDevices(),r&&r(i)}),(function(e){n.streamCenter.previewStreamList=n.streamCenter.previewStreamList.filter((function(e){return e!==o})),i&&i(e)}),A),!0},e.prototype.stopPreview=function(e){if(!e)return this.logger.warn("zsc.sp.0 localStream null"),!1;for(var t in this.streamCenter.publisherList)this.streamCenter.publisherList[t].localStream===e&&(this.streamCenter.publisherList[t].localStream=null);var r=this.streamCenter.checkPreview(e);return r?(r.previewSuc&&(r.stopPreview(),this.streamCenter.removePreview(r)),!0):(this.logger.warn("zsc.sp.0 no preview"),!1)},e.prototype.recordDevices=function(e,t){var r,i=this;this.logger.info("zsc.rd.0 call"),RA((function(t){i.stateCenter.deviceInfos={microphones:t.microphones,speakers:t.speakers,cameras:t.cameras},e&&e(t)}),(function(e){i.logger.warn("zsc.rd.0 getDevices err:",e),t&&t(e)})),void 0!==(null===(r=navigator.mediaDevices)||void 0===r?void 0:r.ondevicechange)&&(navigator.mediaDevices.ondevicechange=null,navigator.mediaDevices.ondevicechange=function(e){i.logger.info("zsc.rd.0 devicechange"),i.stateCenter.deviceChangeTimer&&(clearTimeout(i.stateCenter.deviceChangeTimer),i.stateCenter.deviceChangeTimer=null),i.stateCenter.deviceChangeTimer=setTimeout((function(){RA((function(e){var t,r,A,n,o,s,a=[],c=[];if("safari"==i.stateCenter.browser&&1===(null===(r=null===(t=i.stateCenter.deviceInfos)||void 0===t?void 0:t.cameras)||void 0===r?void 0:r.length)&&""===(null===(A=i.stateCenter.deviceInfos)||void 0===A?void 0:A.cameras[0].deviceID))i.logger.info("zsc.rd.0 cameras not accurate");else{for(var g=function(t){var r=i.stateCenter.deviceInfos.cameras[t];e.cameras.find((function(e){return e.deviceID===r.deviceID}))||a.push(r)},u=0;u<i.stateCenter.deviceInfos.cameras.length;u++)g(u);i.stateCenter.deviceStateOut=!1;var l=!1;a.length>0&&(l=!0),a.forEach((function(e){for(var t in i.streamCenter.publisherList){var r=i.streamCenter.publisherList[t],A=r.publisher;r.localStream&&""!==r.cameraLabel&&r.cameraLabel===e.deviceName&&(l=!1,A.sendStreamStatus(-6,A.mic_status),i.stateCenter.actionListener("_deviceError",tt,e.deviceName,"camera"),i.stateCenter.actionListener("deviceError",tt,e.deviceName)),r.localStream&&0===r.localStream.getAudioTracks().length&&(l=!1)}l&&(i.stateCenter.deviceStateOut=!0),i.deviceInterruptReport(0,e,"camera"),i.stateCenter.actionListener("videoDeviceStateChanged","DELETE",e)})),e.cameras.filter((function(e){return!i.stateCenter.deviceInfos.cameras.find((function(t){return t.deviceID===e.deviceID}))})).forEach((function(e){i.deviceInterruptReport(1,e,"camera"),i.stateCenter.actionListener("videoDeviceStateChanged","ADD",e)}))}"safari"==i.stateCenter.browser&&1===(null===(o=null===(n=i.stateCenter.deviceInfos)||void 0===n?void 0:n.microphones)||void 0===o?void 0:o.length)&&""===(null===(s=i.stateCenter.deviceInfos)||void 0===s?void 0:s.microphones[0].deviceID)?i.logger.info("zsc.rd.0 microphones not accurate"):((c=i.stateCenter.deviceInfos.microphones.filter((function(t){return!e.microphones.find((function(e){return e.deviceID===t.deviceID}))}))).forEach((function(e){for(var t in i.streamCenter.publisherList){var r=i.streamCenter.publisherList[t],A=r.publisher;r.localStream&&""!==r.microLabel&&(r.microLabel===e.deviceName||""!==r.microLabel&&r.microLabel.includes(e.deviceName))&&(A.sendStreamStatus(A.camera_status,-6),i.stateCenter.actionListener("_deviceError",tt,i.streamCenter.publisherList[t].microLabel,"micro"),i.stateCenter.actionListener("deviceError",tt,i.streamCenter.publisherList[t].microLabel))}i.deviceInterruptReport(0,e,"micro"),i.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Input",e)})),e.microphones.filter((function(e){return!i.stateCenter.deviceInfos.microphones.find((function(t){return t.deviceID===e.deviceID}))})).forEach((function(e){i.deviceInterruptReport(1,e,"micro"),i.stateCenter.actionListener("audioDeviceStateChanged","ADD","Input",e)})));var h=i.stateCenter.deviceInfos.speakers.filter((function(t){return!e.speakers.find((function(e){return e.deviceID===t.deviceID}))})),d=e.speakers.filter((function(e){return!i.stateCenter.deviceInfos.speakers.find((function(t){return t.deviceID===e.deviceID}))}));h.forEach((function(e){var t=i.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},mr);t.setAttributes({reason_type:vr("delete"),device:yr(e.deviceID),device_name:yr(e.deviceName)}),t.end(),i.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Output",e)})),d.forEach((function(e){var t=i.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},mr);t.setAttributes({reason_type:vr("add"),device:yr(e.deviceID),device_name:yr(e.deviceName)}),t.end(),i.stateCenter.actionListener("audioDeviceStateChanged","ADD","Output",e)}));var p=Ea({},i.stateCenter.deviceInfos);if(i.stateCenter.deviceInfos={microphones:e.microphones,speakers:e.speakers,cameras:e.cameras},i.stateCenter.autoSwitchDeviceSetting.microphone){var C=i.stateCenter.deviceInfos.microphones;if(c&&0!==c.length&&0!=C.length)i.streamCenter.previewStreamList.forEach((function(e){return Qa(i,void 0,void 0,(function(){var t,r,i,A,n,o,s;return Ba(this,(function(a){switch(a.label){case 0:return t=e.localStream,r=C[0].deviceID,A=null==(i=e.audioTrack)?void 0:i.getSettings().deviceId,n=!1,A&&"default"===A?(o=p.microphones.find((function(e){return"default"===e.deviceID})).deviceName,s=C.find((function(e){return"default"===e.deviceID})).deviceName,n=s!==o):""!==A&&(n=c.some((function(e){return e.deviceID===A}))),t&&n&&""!==r?(this.logger.info("zsc.rd.0 auto switch audio device. "+r),[4,this.zegoWebRtc.useAudioDevice(t,r)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))}))}if(i.stateCenter.autoSwitchDeviceSetting.camera){var I=i.stateCenter.deviceInfos.cameras;if(a&&0!==a.length&&0!=I.length)i.streamCenter.previewStreamList.forEach((function(e){return Qa(i,void 0,void 0,(function(){var t,r,i,A,n,o,s;return Ba(this,(function(c){switch(c.label){case 0:return t=e.localStream,r=I[0].deviceID,A=null==(i=e.videoTrack)?void 0:i.getSettings().deviceId,n=!1,A&&"default"===A?(o=p.cameras.find((function(e){return"default"===e.deviceID})).deviceName,s=I.find((function(e){return"default"===e.deviceID})).deviceName,n=s!==o):""!==A&&(n=a.some((function(e){return e.deviceID===A}))),t&&n&&""!==r?(this.logger.info("zsc.rd.0 auto switch video device. "+r),[4,this.zegoWebRtc.useVideoDevice(t,r)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}}))}))}))}}),(function(e){i.logger.warn("zsc.rd.0 getDevices err:",e)}))}),500)})},e.prototype.getStreamStats=function(e){var t,r,i;return this.logger.info("zc.p.0.gqs call"),e instanceof MediaStream&&e.getTracks().length>0?i=null===(t=this.streamCenter.checkPublish(e))||void 0===t?void 0:t.publisher:"string"==typeof e&&(i=null===(r=this.streamCenter.publisherList[e])||void 0===r?void 0:r.publisher),i?(null==i?void 0:i.qualityHandler.currentQuality)||null:(this.logger.error("zsc.sp.0 stream is not publishing"),null)},e.prototype.startWaitPublish=function(){var e=this;this.streamCenter.waitPublishList.forEach((function(t){e.stateCenter.useNetAgent&&(e.streamCenter.publisherList[t].serverUrls=["unified_rtc"]),e.streamCenter.startPublishingStream(t,e.stateCenter.useNetAgent)})),this.streamCenter.waitPublishList=[]},e.prototype.deviceInterruptReport=function(e,t,r){var i="camera"===r?ar:sr,A=this.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},i.event);A.setAttributes({changed_type:i.interrupt(e),device:i.device(t.deviceID),device_name:i.device_name(t.deviceName)}),A.end()},e.prototype.initCopyMusic=function(e){if(this.streamCenter.useCopyMusic){var t=this.streamCenter.checkPreview(e),r=this.stateCenter.roomList[0];if(r){var i=Array.from(new Set(r.streamList.map((function(e){return e.id_name})))),A=i.length+(i.includes(this.streamCenter.userid)?0:1);null==t||t.setVolumeFactorByUserCount(A)}}},e.prototype.addShareScreenEnd=function(e){var t=this,r=e.getVideoTracks()[0];r&&(r.onended=function(){var r=t.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},Er);r.setAttributes({stop_reason:Br("screenSharingEnded")}),e&&t.stopPreview(e),r.end(),t.stateCenter.actionListener("screenSharingEnded",e)})},e}(),_a=function(){return _a=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},_a.apply(this,arguments)},Sa=Yt,wa=function(){function e(e,t,r,i,A){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.rtm=A}return e.prototype.startPlayingStream=function(e,t,r){var i=this;return this.logger.info(In+" call ",e," playOption: ",JSON.stringify(function(e,t){var r={};if(e)for(var i=0,A=Object.keys(e);i<A.length;i++){var n=A[i];t.includes(n)||(r[n]=e[n])}return r}(t||{},["CDNVideo","CDNPlayer"]))," isDataChannel: ",JSON.stringify(!!r)),new Promise((function(A,n){return i._handlePlayStream(e,t,A,n,r)}))},e.prototype._handlePlayStream=function(e,t,r,i,A){var n,o=this,s=Sa,a=this.stateCenter.reporter.createSpan(Ie.I,{key:It},{key:Sa.event,par:e},Sa.event,!0),c=function(e,t){o.logger.error(In+" "+(t||e.message)),o.stateCenter.reporter.setError(a,e),i&&i(_a(_a({},e),{errorCode:e.code,extendedData:e.message+(t?" "+t:"")}))};if(void 0===e||"string"!=typeof e||""===e)return c(s.error.kPlayParamError,"stream id type error"),!1;if(e.length>256)return c(s.error.kPlayStreamIDToLongError,"stream id length limit 256"),!1;if(!EA(e))return c(s.error.kPlayStreamIDInvalidCharacterError),!1;if(void 0!==t&&"object"!=typeof t)return c(s.error.kPlayParamError,"playOption must be object"),!1;var g=zA(this.stateCenter.appid,this.stateCenter.idName,e),u=((n={})["_play_"+e]={stream_sid:g},n);this.stateCenter.reporter.setPublicPros(u);var l,h=_a(_a({},t),{CDNVideo:void 0,CDNPlayer:void 0});if(a.setAttributes({stream_id:Sa.stream_id(e),stream_sid:Sa.stream_sid(g),play_option:Sa.play_option(h),video_codec_id:Sa.video_codec_id(null==t?void 0:t.videoCodec),use_na:Sa.use_na(this.stateCenter.useNetAgent?1:0),biz_product:(null==t?void 0:t.resourceMode)==de.DG?1:0}),this.stateCenter.customUrl&&0!=this.stateCenter.customUrl.length)this.logger.info("zc.p.sps.1 customUrl "+JSON.stringify(this.stateCenter.customUrl)),l=this.stateCenter.customUrl;else{var d=this.stateCenter.settingConfig.getSetting("signal_nodes",!0);d&&d instanceof Array&&d.length>0&&(l=d,this.logger.info("zc.p.sps.1 setting config signal_nodes "+JSON.stringify(d)))}if(l){var p=this.streamCenter.setPlayStateStart(e,t,g,A);return!0!==p?(c(JSON.parse(JSON.stringify(p)),"cannot start play"),!1):(this.streamCenter.onPlayStateUpdate(be,e,{code:0,message:""}),this.streamCenter.playerList[e].serverUrls=l,this.streamCenter.startPlayingStream(e,!1,(function(e){r&&r(e)})))}if(this.stateCenter.useNetAgent&&this.stateCenter.playAccelerate&&this.stateCenter.roomList.length>0)this.logger.info(In+" play accelerate");else if(this.rtm.isDisConnect())return c(s.error.kPlayNoLoginError),!1;this.stateCenter.pullLimited||(e=NaN+e),t&&t.videoCodec&&(t.videoCodec=t.videoCodec.toUpperCase());var C=this.stateCenter.settingConfig.getSetting("resource_mode",!0);void 0!==C&&(this.logger.info(In," setting resource_mode "+C),!t&&(t={}),t.resourceMode=C);var I=this.streamCenter.setPlayStateStart(e,t,g,A);if(!0!==I)return c(JSON.parse(JSON.stringify(I)),"cannot start play"),!1;if(this.streamCenter.onPlayStateUpdate(be,e,{code:0,message:""}),this.streamCenter.playSuccessCallBackList[e]=function(e){r&&r(e)},i&&(this.streamCenter.playErrorCallBackList[e]=i),t&&t.resourceMode&&[1,3].includes(t.resourceMode)&&this.streamCenter.playerList[e].playMode==he.CDN)return this.streamCenter.startPlayingStream(e,this.stateCenter.useNetAgent,this.streamCenter.playSuccessCallBackList[e],!0);var f=Kt;this.stateCenter.reporter.createSpan(Ie.H,{key:Sa.event,par:e},{key:f.event,par:e},f.event,!0).setAttributes({reason:f.reason("StartPlay")});var E=this.stateCenter.useNetAgent;if(E)return this.stateCenter.appConfig?(this.streamCenter.playerList[e].serverUrls=2===(null==t?void 0:t.resourceMode)?["unified_l3"]:["unified_rtc"],this.streamCenter.startPlayingStream(e,E,this.streamCenter.playSuccessCallBackList[e]),!0):(this.streamCenter.waitPlayList.push(e),!0);var Q=this.streamCenter.playerList[e].retryDispatchHandler;return Q.stopMaxTime(),Q.invalid(),Q.initStream(e,t,!1),Q.startMaxTime(),Q.active(0)},e.prototype.stopPlayingStream=function(e,t){var r,i,A,n;this.logger.info(En+" call",e);var o=this.stateCenter.reporter.createSpan(Ie.I,{key:It},{key:""},Wt);if("string"!=typeof e||""===e)return this.logger.error(En+" streamid must be string and not empty"),this.stateCenter.reporter.setError(o,Zt.kParamError,"stream id type error"),void delete this.stateCenter.reportSeqList.stopPlay[e];var s=this.streamCenter.playerList[e];o.setAttributes({stream_id:$t(e),room_id:Xt(null===(r=this.streamCenter.playerList[e])||void 0===r?void 0:r.room.roomID),webrtc_sid:er(null===(i=null==s?void 0:s.player)||void 0===i?void 0:i.sessionId),stream_sid:tr(null==s?void 0:s.streamSid),biz_product:s&&(null===(A=s.playOption)||void 0===A?void 0:A.resourceMode)==de.DG?1:0});var a=s&&s.player&&s.player.state!==R||(null===(n=null==s?void 0:s.retryStreamHandler)||void 0===n?void 0:n.isRetrying()),c=[1,3].includes(null==s?void 0:s.player.resourceMode)&&(null==s?void 0:s.playMode)===he.CDN;for(var g in this.streamCenter.stopPlayingStream(e,t),this.stateCenter.streamUrlMap)if(this.stateCenter.streamUrlMap[g]===e){delete this.stateCenter.streamUrlMap[g];break}t?this.stateCenter.reporter.setError(o,t):o.end(),a&&this.streamCenter.onPlayStateUpdate(De,e,t||{code:0,message:""},{isCDN:c}),this.logger.debug(En+" call success")},e.prototype.mutePlayStream=function(e,t,r){return new Promise((function(e,t){e(!1)}))},e.prototype.setStreamAudioOutput=function(e,t){return!1},e.prototype.startWaitPlay=function(){var e=this;this.streamCenter.waitPlayList.forEach((function(t){var r,i=e.streamCenter.playerList[t];i.serverUrls=2===(null===(r=i.playOption)||void 0===r?void 0:r.resourceMode)?["unified_l3"]:["unified_rtc"],e.streamCenter.startPlayingStream(t,e.stateCenter.useNetAgent,e.streamCenter.playSuccessCallBackList[t])})),this.streamCenter.waitPlayList=[]},e.prototype.getStreamStats=function(e){var t,r,i;return this.logger.info("zc.p.1.gqs call"),"string"==typeof e&&(i=null===(t=this.streamCenter.playerList[e])||void 0===t?void 0:t.player),i&&(null===(r=null==i?void 0:i.qualityHandler)||void 0===r?void 0:r.currentQuality)?i.qualityHandler.currentQuality||null:(this.logger.error("zsc.sp.0 stream is not playing"),null)},e}();var Da,ba,ka,Ra=function(){function e(e,t,r,i){this.streamCenter=e,this.stateCenter=t,this.logger=r,this.rtm=i}return e.prototype.setStreamExtraInfo=function(e,t){var r=this;return new Promise((function(i,A){var n=r.streamCenter.getRoomByStreamID(e),o=pA,s=r.stateCenter.reporter.createSpan(Ie.H,n?{key:ft,par:null==n?void 0:n.roomID}:{key:vt},{key:""},o.event);s.setAttributes({stream_id:o.stream_id(e),stream_extra_info:o.stream_extra_info(t)});var a=function(e,t){void 0===t&&(t=""),r.logger.error("zb.ssei "+t),r.stateCenter.reporter.setError(s,e,t),A({errorCode:e.code,extendedData:e.message+" "+t})};"string"==typeof e&&""!=e?"string"==typeof t&&""!=t?r.rtm.isDisConnect()?a(o.error.kNoLoginError,"not login"):r.stateCenter.publishStreamList[e]?n?n.streamHandler.setStreamExtraInfo(e,t,(function(e,t){var n,a,c,g;if(0===(null===(n=null==e?void 0:e.body)||void 0===n?void 0:n.err_code)||0===(null==e?void 0:e.errorCode))s.setAttributes({send_seq:o.send_seq(t)}),s.end(),i({errorCode:0===(null===(a=null==e?void 0:e.body)||void 0===a?void 0:a.err_code)?null===(c=null==e?void 0:e.body)||void 0===c?void 0:c.err_code:null==e?void 0:e.errorCode,extendedData:""});else{var u={errorCode:(null===(g=null==e?void 0:e.body)||void 0===g?void 0:g.err_code)||(null==e?void 0:e.code)};r.stateCenter.reporter.setError(s,u),A(u)}}),a):a(o.error.kNoLoginError,"not login"):a(o.error.kPublishStreamNoFoundError):a(o.error.kParamError,"extraInfo must be string and no empty"):a(o.error.kParamError,"streamID must be string and not empty")}))},e}(),Na=function(){return Na=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Na.apply(this,arguments)},Ta=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},La=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ma=Kt,Oa=function(){function e(e,t,r,i,A,n,o){var s=this;this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.rtm=A,this.ac=n,this.zegoWebRtc=o,this.beforeunloadListener=function(){for(var e=0;e<s.streamCenter.previewStreamList.length;e++)s.streamCenter.previewStreamList[e].stopPreview();s.streamCenter.previewStreamList=[]},this.pagehideListener=function(){for(var e in window.event&&(window.event.cancelBubble=!0),s.streamCenter.publisherList)s.publishModule.stopPublishingStream(e);for(var e in s.streamCenter.playerList)s.playModule.stopPlayingStream(e)},this.messageListener=function(e){var t=e.data,r=t.type;"SS_DIALOG_SUCCESS"===r&&s.screenStreamFrom(t.streamId,t.canRequestAudioTrack,mA("screenShare",s.stateCenter.callbackList)),"SS_DIALOG_CANCEL"===r&&mA("screenShare",s.stateCenter.callbackList)(!1,null,r)},this.offlineListener=function(){if(s.logger.info("zc.off.0 network is broken"),s.stateCenter.networkState=P.offline,s.stateCenter.useNetAgent)s.logger.info("zc.off.0 use netAgent");else{for(var e in s.streamCenter.publisherList){(r=s.streamCenter.publisherList[e].retryStreamHandler).startMaxTime(),r.invalid()}for(var e in s.streamCenter.playerList){var t=s.streamCenter.playerList[e],r=t.retryStreamHandler;t.playMode==he.CDN&&t.cdnPlayer&&(t.cdnPlayer.canRetry=!1),r.startMaxTime(),r.invalid()}}},this.onlineListener=function(e){for(var t in s.logger.info("zc.on.0 network is online"),s.stateCenter.networkState=P.online,s.streamCenter.publisherList){var r=s.streamCenter.publisherList[t].publisher,i=s.streamCenter.publisherList[t].retryStreamHandler;r.state==y||r.stateNego!==ce.iceConnected?!i.isOverTime&&i.publishStateHandle(_e,t,St.error.kPublishNetworkBrokenError):r.state==m&&i.stopMaxTime()}for(var t in s.streamCenter.playerList){var A=s.streamCenter.playerList[t].player,n=s.streamCenter.playerList[t].playMode,o=(i=s.streamCenter.playerList[t].retryStreamHandler,s.streamCenter.playerList[t].cdnPlayer);n==he.CDN&&o&&(o.canRetry=!1),A.state==R||n!==he.CDN&&A.stateNego!==L.iceConnected?!i.isOverTime&&i.playStateHandle(De,t,Yt.error.kPlayNetworkBrokenError):A.state==k&&i.stopMaxTime()}},this.visibilitychangeListener=function(e){var t="";t="visible"===document.visibilityState?"foreground":"background";var r=s.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},Or);r.setAttribute("state",Pr(t)),r.end()},this.safariPagehideListener=function(e){var t=s.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},Or);t.setAttribute("state",Pr("background")),t.end()},this.safariPageshowListener=function(e){var t=s.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},Or);t.setAttribute("state",Pr("foreground")),t.end()},this.publishModule=new va(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm,this.zegoWebRtc),this.playModule=new wa(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm),this.streamCenter.playModule=this.playModule,this.initAdvance(),this.streamCommon=new Ra(i,r,e,A),this.initStreamCDN(),this.initAudioMix(),this.init()}return e.prototype.init=function(){var e=this;this.bindWindowListener(),this.bindRTMListener(),this.bindStreamCenterHandler(),this.bindEngineDestroyListener(),this.bindListener("_engineConfigUpdate",(function(t){isNaN(t.choirRole)||e.updatePreviewerVolumeFactor()}))},e.prototype.initAudioMix=function(){},e.prototype.initAdvance=function(){},e.prototype.initStreamCDN=function(){},e.prototype.bindWindowListener=function(){var e=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":"firefox"===this.stateCenter.browser?"beforeunload":"unload";window.addEventListener("beforeunload",this.beforeunloadListener),window.addEventListener(e,this.pagehideListener),window.addEventListener("message",this.messageListener),window.addEventListener("offline",this.offlineListener),window.addEventListener("online",this.onlineListener),document.addEventListener("visibilitychange",this.visibilitychangeListener),"safari"==this.stateCenter.browser&&(window.addEventListener("pagehide",this.safariPagehideListener),window.addEventListener("pageshow",this.safariPageshowListener))},e.prototype.offWindowListner=function(){var e=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":"firefox"===this.stateCenter.browser?"beforeunload":"unload";window.removeEventListener("beforeunload",this.beforeunloadListener),window.removeEventListener(e,this.pagehideListener),window.removeEventListener("message",this.messageListener),window.removeEventListener("offline",this.offlineListener),window.removeEventListener("online",this.onlineListener),document.removeEventListener("visibilitychange",this.visibilitychangeListener),"safari"==this.stateCenter.browser&&(window.removeEventListener("pagehide",this.safariPagehideListener),window.removeEventListener("pageshow",this.safariPageshowListener))},e.prototype.bindEngineDestroyListener=function(){var e=this;this.stateCenter.listenerList._engineDestroy.push((function(){e.offWindowListner()}))},e.prototype.bindRTMListener=function(){var e,t=this;this.rtm._on("_settingCanFetch",(function(e){return Ta(t,void 0,void 0,(function(){var t,r,i,A;return La(this,(function(n){return this.logger.info("zc.scf stream config "+JSON.stringify(e)),t=["auto_to_tcp","udp_max_fail_num","probe_started_num","hardware_encode","camera_hard_encode","custom_hard_encode","camera_width","camera_height","camera_framerate","camera_audio_bitrate","camera_video_bitrate","sound_level_api_type","open_mini_sdp","sound_sample_interval","AEC","AGC","ANS","publish_video_codec","screen_video_bitrate","l3_play_buffer_ms","udp_or_tcp","resource_mode","bitrate_mode","bg_fps_stat"],e&&(this.stateCenter.settingConfig.setSetting(e.setting,t),(null===(i=e.setting)||void 0===i?void 0:i.open_mini_sdp)&&(r=e.setting.open_mini_sdp,null===(A=this.streamCenter)||void 0===A||A.initMiniSdpWorker(r.open_mini_sdp))),[2]}))}))})),this.rtm._on("_appConfigRsp",(function(){t.logger.info("zc.acr call "),t.stateCenter.appConfig=t.rtm.getAppConfig(),t.streamCenter.reConnectSignals(),t.publishModule.startWaitPublish(),t.playModule.startWaitPlay()})),this.rtm._on("_netAppConfigRsp",(function(e){t.stateCenter.netAppConfig=e,t.stateCenter.supportBg=t.checkBackgroundCapacity()})),this.rtm._on("_roomLogin",(function(e,r){t.stateCenter.appid=t.rtm.getAppID(),t.stateCenter.idName=t.rtm.getUserID(),t.stateCenter.nickName=t.rtm.getUserName(),t.stateCenter.testEnvironment=t.rtm.isTestEnvironment(),t.stateCenter.isMultiRoom=t.rtm.getMultiRoom(),t.stateCenter.useNetAgent=t.rtm.isUseNetAgent,t.streamCenter.setSessionInfo(t.stateCenter.appid,t.stateCenter.idName,t.stateCenter.testEnvironment);var i=t.stateCenter.getRoomByRoomID(e);if(!i){var A=new As(t.logger,t.stateCenter,t.rtm,t.streamCenter,e);t.bindStreamHandler(A),t.stateCenter.roomList.push(i={roomID:e,streamHandler:A,sessionID:"",roomSessionID:"",token:r,isResetRoom:!1,streamList:[],streamInfoList:[]}),t.streamCenter.connectStreamSignal(e,r)}})),this.rtm._on("roomLoginResponse",(function(e){t.logger.info("zc.rlr call "+JSON.stringify(e));var r=e.header.room_id||e.body.room_id;t.stateCenter.appConfig=t.rtm.getAppConfig();var i=t.rtm.getToken(r),A=t.rtm.getSessionId(r),n=t.rtm.getRoomSessionID(r),o=t.stateCenter.getRoomByRoomID(r);if(!o){var s=new As(t.logger,t.stateCenter,t.rtm,t.streamCenter,r);t.bindStreamHandler(s),t.stateCenter.roomList.push(o={roomID:r,streamHandler:s,sessionID:A,roomSessionID:n,token:i,isResetRoom:!1,streamList:[],streamInfoList:[]})}if(o.sessionID=A,o.roomSessionID=n,t.stateCenter.tempRoomList.length>0)for(var a=function(e){var r=t.stateCenter.tempRoomList[e],i=r.roomID,A=r.streamList,n=t.stateCenter.roomList.find((function(e){return e.roomID===i}));n&&(n.streamList=A.filter((function(e){var r=t.streamCenter.stopedPlayerList[null==e?void 0:e.stream_id];return!!(r&&r.state<=6)})),t.stateCenter.tempRoomList[e].streamList=[])},c=0;c<t.stateCenter.tempRoomList.length;c++)a(c);if(1===e.body.stream_fetch_flag)return t.logger.info("zc.rlr stream fetch "+r),o.streamHandler.room=o,void o.streamHandler.fetchStreamList();o.streamHandler.handleStreamStart(e,o),t.streamCenter.checkStreamReport(),t.logger.info("zc.rlr end "+r)})),this.rtm._on("_connectChanged",(function(e,r){t.logger.info("zc.cc.0 "+e+" "+JSON.stringify(r)),"connecting"===e?t.stateCenter.connectChanged=!0:"connected"===e&&(t.stateCenter.connectChanged=!1,t.stateCenter.useNetAgent=t.rtm.isUseNetAgent,t.handleWaitPublishAndPlays(r))})),this.rtm._on("HBResponse",(function(e,r){var i,A=null===(i=null==e?void 0:e.header)||void 0===i?void 0:i.room_id,n=t.stateCenter.getRoomByRoomID(A||r);null==n||n.streamHandler.patchStreamList(e)})),this.rtm._on("_roomStateUpdate",(function(e,r,i,A,n){if("CONNECTED"===r&&(t.streamCenter.chargeInfosSaver.checkAndReport(),t.streamCenter.billingTimer.shouldReportRoomTime&&t.streamCenter.billingTimer.startChargeInfosUpload()),"DISCONNECTED"==r){t.logger.info("zc.rsu "+e+" disconnected "+(i?i+" ":"")+(A||"")+n),t.streamCenter.billingTimer.stopChargeInfosUpload();var o=t.stateCenter.getRoomByRoomID(e);if(o){var s=t.stateCenter.roomList.findIndex((function(t){return t.roomID==e}));o.isResetRoom=!0,o.streamHandler.reset(),t.streamCenter.reset(e,i,n),t.stateCenter.roomList.splice(s,1),n?t.stateCenter.tempRoomList.push(o):t.stateCenter.tempRoomList=t.stateCenter.tempRoomList.filter((function(t){return t.roomID!==e}))}t.streamCenter.disconnectStreamSignal()}else t.logger.info("zc.rsu "+e+" state: "+r)})),this.rtm._on("_tokenRenewed",(function(e,r){t.logger.info("zc.tr roomID:"+r+" "+e);var i=t.stateCenter.getRoomByRoomID(r);i&&(i.token=e)})),this.rtm._on("_tokenExpired",(function(e){var r,i;((null===(i=null===(r=null==e?void 0:e.body)||void 0===r?void 0:r.stop_stream_info)||void 0===i?void 0:i.stream_id_list)||[]).forEach((function(e){t.publishModule.stopPublishingStream(e,qe)}))})),this.rtm.liveRoomHandler.handlePushStreamMsg=function(e){e.body.stream_cmd=e.header.sub_cmd,e.body.stream_info=e.body.stream_info_list,delete e.body.stream_info_list,t.handlePushStreamMsg(e)},null===(e=this.rtm.service)||void 0===e||e.on("push_stream_update",(function(e){t.handlePushStreamMsg(e)}))},e.prototype.handleWaitPublishAndPlays=function(e){for(var t=Object.keys(this.stateCenter.waitPublishStreamList),r=0;r<t.length;r++){var i=t[r],A=this.stateCenter.waitPublishStreamList[i],n=A.localStream,o=A.publishOption,s=A.isDataChannel;if(A.retryStart){if(o.roomID&&o.roomID!==(null==e?void 0:e.roomID)){this.logger.info("zc.hwpap.0 room not connect");continue}this.publishModule.startPublishingStream(i,n,o,s),delete this.stateCenter.waitPublishStreamList[i]}}},e.prototype.handlePushStreamMsg=function(e){var t,r=(null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id)||"",i=this.stateCenter.getRoomByRoomID(r),A=this.rtm.getMsgSpan(_r,r);if(!i)return this.stateCenter.reporter.setError(A,Dr.ROOM_NOT_EXIST),void this.logger.error("zc.opsu room no found");var n="";switch(e.body.stream_cmd){case Z:n="add";break;case X:n="delete";break;case $:n="update"}var o=e.body.stream_info.map((function(e){return{stream_id:e.stream_id,stream_extra_info:e.extra_info,id_name:e.id_name||e.anchor_id_name}}));A.setAttributes({stream_update_type:Sr(n),stream_seq:e.body.stream_seq,stream_list:wr(o)}),A.end(),i.streamHandler.handlePushStreamUpdateMsg(e)},e.prototype.bindStreamCenterHandler=function(){var e=this;this.streamCenter.onPlayStateUpdate=function(t,r,i,A){var n,o,s,a,c,g,u,l,h,d,p,C,I,f,E,Q,B,m,y=e.streamCenter.playerList[r];if(1==t&&y&&PA(i)){var v=y.player,_=y.retryDispatchHandler,S=y.playOption;return 0!=v.sessionId&&v.signal&&v.shouldSendCloseSession()&&(v.signal.sendCloseSession(e.stateCenter.getSeq(),v.sessionId,1),v.signal.removeSession(v.sessionId),v.closeSessionSignal=!0),v.resetPlay(),_.stopMaxTime(),_.invalid(),_.initStream(r,S,!1),void(e.rtm.isLogin()?(_.startMaxTime(),_.active(0)):e.streamCenter.playerList[r].isReDispatch=!0)}if(y&&y.player&&(0==t||1==t)){var w=y.player.isRePlay?zt:Kt;1==t&&i&&e.stateCenter.reporter.spanSetAttributes({key:w.event,par:r},{error:i.code,message:i.message}),e.stateCenter.reporter.spanEnd({key:w.event,par:r},{url:Ma.url(null===(o=null===(n=null==y?void 0:y.player)||void 0===n?void 0:n.signal)||void 0===o?void 0:o.server),ip:Ma.ip(null===(s=null==y?void 0:y.player)||void 0===s?void 0:s.ip),peer_id:Ma.peer_id(null===(a=null==y?void 0:y.player)||void 0===a?void 0:a.peerID),source_type:Ma.source_type(jA(null===(c=null==y?void 0:y.player)||void 0===c?void 0:c.resourceMode)),net_protocol:Ma.net_protocol(null===(g=null==y?void 0:y.player)||void 0===g?void 0:g.netProtocol),signal_consume:Ma.signal_consume(null===(u=null==y?void 0:y.player)||void 0===u?void 0:u.signalTime),is_center:Ma.is_center(null==y?void 0:y.isCenterNode)}),e.stateCenter.reporter.spanEnd({key:Yt.event,par:r},{error:i.code,message:i.message},!0)}if(0!=t||(null==A?void 0:A.isCDN))1!=t||(null==A?void 0:A.isCDN)||(null===(Q=null==y?void 0:y.player)||void 0===Q||Q.uploadRTCPlayStats(),e.stateCenter.reporter.spanEnd({key:Vt.event,par:r},{stop_reason:Vt.stop_reason(null===(B=null==y?void 0:y.player)||void 0===B?void 0:B.stopReason),error:i.code,message:i.message}),y&&y.player&&(y.player.stopReason=""));else{var D=Vt,b=e.stateCenter.reporter.createSpan(Ie.I,{key:Yt.event,par:r},{key:Vt.event,par:r},0===(null===(l=null==y?void 0:y.player)||void 0===l?void 0:l.resourceMode)?Vt.event:Wr,!0);y.player.rtcPlayCount++,b.setAttributes({tryidx:D.tryidx(y.player.rtcPlayCount),url:D.url(null===(d=null===(h=null==y?void 0:y.player)||void 0===h?void 0:h.signal)||void 0===d?void 0:d.server),ip:D.ip(null===(p=null==y?void 0:y.player)||void 0===p?void 0:p.ip),net_protocol:D.net_protocol(null===(C=null==y?void 0:y.player)||void 0===C?void 0:C.netProtocol),room_id:D.room_id(null===(I=null==y?void 0:y.room)||void 0===I?void 0:I.roomID),room_sid_string:D.room_sid_string(null===(f=null==y?void 0:y.room)||void 0===f?void 0:f.roomSessionID),env:D.env(e.stateCenter.testEnvironment?3:1),resource_type:D.resource_type(jA(null===(E=null==y?void 0:y.player)||void 0===E?void 0:E.resourceMode)),protocol:D.protocol("webrtc"),dispatch_external_ip:D.dispatch_external_ip(e.stateCenter.clientIP),stream_id:D.stream_id(r)})}if(1===t&&e.streamCenter.playErrorCallBackList[r])e.stateCenter.connectChanged||(e.logger.info("zc.opsu.1 connect changed"),e.streamCenter.playErrorCallBackList[r]({errorCode:i&&i.code,extendedData:i&&i.message}),delete e.streamCenter.playErrorCallBackList[r]),e.logger.info("zc.opsu.1 stop play called by sdk"),e.playModule.stopPlayingStream(r,i);else{var k=function(e){return 0==e||1==e?0==e?"PLAYING":"NO_PLAY":"PLAY_REQUESTING"}(t);(1===t||(null===(m=null==y?void 0:y.player)||void 0===m?void 0:m.updateCBState({state:k,code:i.code})))&&e.stateCenter.actionListener("playerStateUpdate",{state:k,streamID:r,errorCode:i&&i.code,extendedData:i&&i.message})}},this.streamCenter.onPublishStateUpdate=function(t,r,i){e.onPublishStateUpdateHandle(t,r,i)},this.streamCenter.onPublishQualityUpdate=function(t,r){e.stateCenter.actionListener("publishQualityUpdate",t,r)},this.streamCenter.onPlayQualityUpdate=function(t,r){e.stateCenter.actionListener("playQualityUpdate",t,r)},this.streamCenter.onRemoteCameraStatusUpdate=function(t,r,i){var A=e.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:t},{key:""},ur);A.setAttributes({stream_id:lr(t),camera_status:hr(r),status_code:dr(i)}),A.end(),e.stateCenter.actionListener("remoteCameraStatusUpdate",t,r),e.stateCenter.actionListener("_remoteCameraStatusUpdate",t,i)},this.streamCenter.onRemoteMicStatusUpdate=function(t,r,i){var A=e.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:t},{key:""},pr);A.setAttributes({stream_id:Cr(t),mic_status:Ir(r),status_code:fr(i)}),A.end(),e.stateCenter.actionListener("remoteMicStatusUpdate",t,r),e.stateCenter.actionListener("_remoteMicStatusUpdate",t,i)},this.streamCenter.onSoundLevelUpdate=function(t){e.stateCenter.actionListener("soundLevelUpdate",t)},this.streamCenter.onMicSoundLevelUpdate=function(t){e.stateCenter.actionListener("capturedSoundLevelUpdate",t)}},e.prototype.bindStreamHandler=function(e){var t=this;e.onStreamUpdated=function(e,r,i){var A=i.map((function(e){return{streamID:e.streamID,user:e.user,extraInfo:e.extraInfo,urlsFLV:e.urlFlv,urlsRTMP:e.urlRtmp,urlsHLS:e.urlHls,urlsHttpsFLV:e.urlHttpsFlv,urlsHttpsHLS:e.urlHttpsHls}})),n={};if(0===r){var o=i.map((function(e){return{stream_id:e.streamID,code:V[e.closeType]&&V[e.closeType].code||0,description:V[e.closeType]&&V[e.closeType].description||"unknown"}}));n.stream_delete_reason=o}if(0===r&&(A=A.filter((function(e){return!t.stateCenter.publishStreamList[e.streamID]}))),t.updatePreviewerVolumeFactor(e),A.length>0&&t.stateCenter.actionListener("roomStreamUpdate",e,function(e){return 0==e?"DELETE":"ADD"}(r),A,Object.keys(n).length>0?JSON.stringify(n):""),i.length>0&&t.stateCenter.actionListener("_streamUpdated",r,i),1===r){var s=[];A.forEach((function(e){e.extraInfo&&s.push({streamID:e.streamID,user:e.user,extraInfo:e.extraInfo})})),s.length>0&&t.stateCenter.actionListener("streamExtraInfoUpdate",e,s)}},e.onPublishStateUpdate=function(e,r,i){var A,n,o,s,a,c,g,u,l,h,d,p,C,I,f,E;t.logger.info("zb.opsu ",r);var Q=t.streamCenter.publisherList[r];if(Q&&Q.publisher&&(0==e||1==e)){var B=wt;t.stateCenter.reporter.spanEnd({key:(Q.publisher.isRePublish?Dt:wt).event,par:r},{error:i.code,message:i.message,url:B.url(null===(n=null===(A=null==Q?void 0:Q.publisher)||void 0===A?void 0:A.signal)||void 0===n?void 0:n.server),ip:B.ip(null===(o=null==Q?void 0:Q.publisher)||void 0===o?void 0:o.ip),peer_id:B.peer_id(null===(s=null==Q?void 0:Q.publisher)||void 0===s?void 0:s.peerID),source_type:B.source_type("rtc"),net_protocol:B.net_protocol(null===(a=null==Q?void 0:Q.publisher)||void 0===a?void 0:a.netProtocol),is_center:B.is_center(null==Q?void 0:Q.isCenterNode)}),t.stateCenter.reporter.spanEnd({key:St.event,par:r},Na({},i),!0)}var m=Ft;if(Q&&Q.publisher)if(0==e){var y=t.stateCenter.reporter.createSpan(Ie.I,{key:St.event,par:r},{key:m.event,par:r},m.event,!0);Q.publisher.rtcPublishCount++,y.setAttributes({tryidx:m.tryidx(null==Q?void 0:Q.publisher.rtcPublishCount),url:m.url(null===(g=null===(c=null==Q?void 0:Q.publisher)||void 0===c?void 0:c.signal)||void 0===g?void 0:g.server),ip:m.ip(null===(h=null===(l=null===(u=null==Q?void 0:Q.publisher)||void 0===u?void 0:u.gwNode)||void 0===l?void 0:l.split(":"))||void 0===h?void 0:h[0]),net_protocol:m.net_protocol(null===(d=null==Q?void 0:Q.publisher)||void 0===d?void 0:d.netProtocol),dispatch_external_ip:m.dispatch_external_ip(t.stateCenter.clientIP),room_id:m.room_id(null===(p=null==Q?void 0:Q.room)||void 0===p?void 0:p.roomID),room_sid_string:m.room_sid_string(null===(C=null==Q?void 0:Q.room)||void 0===C?void 0:C.roomSessionID),resource_type:m.resource_type("rtc"),protocol:m.protocol("webrtc")})}else 1==e&&(1012===i.code?t.streamCenter.stopPublishingStream(r,i):2002===i.code&&(t.streamCenter.stopPublishingStream(r,i),i.code=xe),null===(I=null==Q?void 0:Q.publisher)||void 0===I||I.uploadRTCPublishStats(),t.stateCenter.reporter.spanEnd({key:m.event,par:r},{stop_reason:m.stop_reason(null===(f=null==Q?void 0:Q.publisher)||void 0===f?void 0:f.stopReason),error:i.code,message:i.message}),Q&&Q.publisher&&(Q.publisher.stopReason=""));var v=function(e){return 0==e||1==e?0==e?"PUBLISHING":"NO_PUBLISH":"PUBLISH_REQUESTING"}(e);(1===e||(null===(E=null==Q?void 0:Q.publisher)||void 0===E?void 0:E.updateCBState({state:v,code:i.code})))&&t.stateCenter.actionListener("publisherStateUpdate",{state:v,streamID:r,errorCode:i.code,extendedData:i.message})},e.onStreamExtraInfoUpdated=function(e,r){var i=r.map((function(e){return{streamID:e.streamID,user:e.user,extraInfo:e.extraInfo}}));t.stateCenter.actionListener("streamExtraInfoUpdate",e,i)}},e.prototype.updatePreviewerVolumeFactor=function(e){var t=this;if(this.streamCenter.useCopyMusic){this.logger.info("zc.rtc.upvf "+e);var r=[];if(e){var i=this.stateCenter.getRoomByRoomID(e);i&&r.push(i)}else r.push.apply(r,this.stateCenter.roomList);r.forEach((function(e){var r=Array.from(new Set(e.streamList.map((function(e){return e.id_name}))));t.streamCenter.previewStreamList.forEach((function(e){null==e||e.setVolumeFactorByUserCount(r.length)}))}))}},e.prototype.screenStreamFrom=function(e,t,r){var i=this,A={};A.audio={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e}},A.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxWidth:window.screen.width,maxHeight:window.screen.height}},!t&&(A.audio=!1),navigator.mediaDevices.getUserMedia(A).then((function(e){e.getTracks().forEach((function(e){return YA(e,i.logger,"zc.st.ssf")})),r(!0,e)})).catch((function(e){r(!1,null,e)}))},e.prototype.onPublishStateUpdateHandle=function(e,t,r){var i=this;this.logger.info("zc.opsuh.0 call");var A=this.streamCenter.publisherList[t],n=A.room;if(n)if(0==e){if(this.stateCenter.publishStreamList[t]){var o=!n.streamList.find((function(e){return e.stream_id==t&&(e.anchor_id_name==i.stateCenter.idName||e.id_name==i.stateCenter.idName||e.user_id===i.stateCenter.idName)}));if(this.logger.info("zc.opsuh.0 room stream"+t+" "+o),[H.tryPublish,H.retryPublish].includes(this.stateCenter.publishStreamList[t].state)&&o)this.stateCenter.publishStreamList[t].state=H.update_info,n.streamHandler.updateStreamInfo(t,q,this.stateCenter.publishStreamList[t].extra_info,(function(e){}));else this.logger.info("zc.opsuh.0 stream update "+t),this.stateCenter.publishStreamList[t].state=H.publishing,this.WebrtcOnPublishStateUpdateHandle(e,t,r)}}else{if(1==e&&A&&PA(r)){var s=A.publisher,a=A.retryDispatchHandler,c=A.publishOption;return 0!=s.sessionId&&s.signal&&s.shouldSendCloseSession()&&(s.signal.sendCloseSession(this.stateCenter.getSeq(),s.sessionId,1),s.signal.removeSession(s.sessionId),s.closeSessionSignal=!0),s.resetPublish(),a.stopMaxTime(),a.invalid(),a.initStream(t,c,!0),void(this.rtm.isLogin()?(a.startMaxTime(),a.active(0)):this.streamCenter.publisherList[t].isReDispatch=!0)}n.streamHandler.onPublishStateUpdate(e,t,r),1==e&&(this.logger.info("zc.opsuh.0 stop publish called by sdk"),this.publishModule.stopPublishingStream(t,r))}else this.logger.error("zc.opsuh.0 room not exist")},e.prototype.WebrtcOnPublishStateUpdateHandle=function(e,t,r){if(this.stateCenter.publishStreamList[t].state==H.publishing){var i=this.streamCenter.getRoomByStreamID(t);i&&i.streamHandler.onPublishStateUpdate(e,t,r)}},e.prototype.bindListener=function(e,t){var r=this.stateCenter.reporter.createSpan(Ie.H,{key:Et},{key:""},Qt);return r.setAttributes({listener:e}),this.stateCenter.listenerList[e]?"function"!=typeof t?(this.logger.error("zc.o.0 listener callBack must be funciton"),this.stateCenter.reporter.setError(r,Bt.INPUT_PARAM," listener callBack must be function"),!1):(-1==this.stateCenter.listenerList[e].indexOf(t)&&this.stateCenter.listenerList[e].push(t),r.end(),!0):(this.logger.error("zc.o.0 event "+e+" no found"),this.stateCenter.reporter.setError(r,Bt.INPUT_PARAM," event "+event+" no found"),!1)},e.prototype.deleteListener=function(e,t){var r=this.stateCenter.reporter.createSpan(Ie.H,{key:Et},{key:""},mt);if(r.setAttributes({listener:e}),!this.stateCenter.listenerList[e])return this.logger.error("zc.o.1 listener no found"),this.stateCenter.reporter.setError(r,yt.INPUT_PARAM," event "+event+" no found"),!1;this.logger.info("dc.o.1 "+"".concat(e," cb:")+typeof t);var i=this.stateCenter.listenerList[e];return t?i.splice(i.indexOf(t),1):this.stateCenter.listenerList[e]=[],r.end(),!0},e.prototype.checkBackgroundCapacity=function(){if(this.stateCenter.netAppConfig){var e=this.stateCenter.netAppConfig.media_config.publish_config.object_segmentation_platform;return!!e&&!!((e&1<<(t=0))>>t)}var t;return!0},e}(),Pa=function(){function e(e){this.view=e,this.offset=0,this.current_start_code_size=0,this.current_nalu_start=0,this.current_nalu_size=0,this.start_code_size=0,this.nalu_start=0,this.left_size=0,this.nalu_size=0,this.left_size=e.byteLength}return e.prototype.FindStartCode=function(){var e=this.view.byteLength-this.offset;for(this.current_start_code_size=0,this.current_nalu_start=-1;e>=3;){if(0==this.view.getUint8(this.offset)&&0==this.view.getUint8(this.offset+1)&&1==this.view.getUint8(this.offset+2))return this.current_start_code_size=3,this.current_nalu_start=this.offset,this.offset-1>=0&&0==this.view.getUint8(this.offset-1)&&(++this.current_start_code_size,--this.current_nalu_start),this.offset+=3,!0;--e,++this.offset}return!1},e.prototype.FindNalu=function(){return this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,!(this.offset>=this.view.byteLength)&&(!!this.FindStartCode()&&(this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,!0))},e.prototype.NextNalu=function(e){if(this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,this.offset>=this.view.byteLength)return!1;if(!this.FindStartCode())return!1;if((this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,e)&&6!=(31&this.view.getUint8(this.nalu_start+this.start_code_size)))return!0;return this.FindStartCode()?(this.offset=this.current_nalu_start,this.nalu_size=this.current_nalu_start-this.nalu_start,!0):(this.nalu_size=this.view.byteLength-this.nalu_start,!0)},e}();function Fa(e,t,r){if(0===e)return"";var i=1,A="  Here are some explanations about the error code: ".concat(i++,". reason=").concat(e,": ").concat(function(e){switch(e){case Da.PEER_CLOSE_REASON_NORMAL:return"Client voluntarily exits.";case Da.PEER_CLOSE_REASON_STATE_ERROR:return"Status error; Reason: Repeatedly received offer/answer, etc.";case Da.PEER_CLOSE_REASON_VRS_PUBLISH_DENIED:return"Refuse to push the stream; Reason: The client retweeted the stream and was kicked or the agent's pubstart timed out, etc.";case Da.PEER_CLOSE_REASON_VRS_PLAY_DENIED:return"Refuse to pull stream; Reason: may pull empty stream, etc., refer to 'err' error code for details.";case Da.PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH:return"No matching audio codec; Reason: Client (Web) does not support OPUS, etc.";case Da.PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH:return"No matching video codec; Reason: Client (Web) does not support h264 and vp8 etc.";case Da.PEER_CLOSE_REASON_SDP_INVALID:return"SDP parsing error; Reason: SDP format error.";default:return"unknown"}}(e));return t&&(A+=" ".concat(i++,". action=").concat(t,": ").concat(function(e){switch(e){case ba.DENIED_ACTION_STOP:return"cancel pushing stream.";case ba.DENIED_ACTION_RETRY_NEXT_IP:return"Try the next ip, if there is no next ip, re-request the route.";case ba.DENIED_ACTION_REDIRECT:return"Redirect to the ip address specified by data.";case ba.DENIED_ACTION_REDISPATCH:return"re-request route.";case ba.DENIED_ACTION_RETRY:return"retry current gateway node.";default:return"unknown"}}(t))),r&&(A+=" ".concat(i++,". err=").concat(r,": ").concat(function(e){switch(e){case ka.DENIED_ERROR_DISPATCH_FAILED:return"media scheduling failed.";case ka.DENIED_ERROR_EMPTY_PUBLISH_IPS:return"empty publish ips error.";case ka.DENIED_ERROR_EMPTY_PLAY_IPS:return"empty play ips error.";case ka.DENIED_ERROR_STREAM_NOT_EXSIT:return"stream does not exist.";case ka.DENIED_ERROR_APP_NOT_ONLINE:return"APP has been removed.";case ka.DENIED_ERROR_INVALID_PARAMETERS:return"invalid parameter.";case ka.DENIED_ERROR_NO_CLIENTIP_SET:return"client ip is not set.";case ka.DENIED_ERROR_PERMISSION_DENIED:return"No permission, access denied.";case ka.DENIED_ERROR_SET_STREAM_INFO_FAILED:return"Failed to set stream information.";case ka.DENIED_ERROR_INTERNAL_ERROR:return"internal error / server busy.";case ka.DENIED_ERROR_PUBLISH_FORBIDDEN:return"Streaming is banned.";case ka.DENIED_ERROR_NEW_PUBLISH:return"new publish error.";case ka.DENIED_ERROR_INNER_ERROR:return"inner error.";case ka.DENIED_ERROR_MANAGER_STOP:return"manager stop error.";case ka.DENIED_ERROR_PUBLISH_AUTH_FAILED:return"Stream push authentication failed.";case ka.DENIED_ERROR_PLAY_AUTH_FAILED:return"Stream pull authentication failed.";case ka.DENIED_ERROR_SERVER_STOP:return"server stoped error.";case ka.DENIED_ERROR_SESSION_ID:return"session id error.";case ka.DENIED_ERROR_MANAGER_TIMEOUT:return"manager timeout.";case ka.DENIED_ERROR_NEW_PUBLISH_SRC:return"new publish src.";case ka.DENIED_ERROR_PLAY_SESSION_LIMIT:return"Pull session limit.";case ka.DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE:return"disable ip port flexible.";case ka.DENIED_ERROR_PACKET_ILLEGAL_TS:return"packet illegal ts.";case ka.DENIED_ERROR_PACKET_ILLEGAL_ADDR:return"packet illegal address.";case ka.DENIED_ERROR_PACKET_ILLEGAL_FORMAT:return"packet illegal format.";case ka.DENIED_ERROR_CHECK_ADDR_TIMEOUT:return"Check address timed out.";case ka.DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE:return"Check Address Illegal Signature.";case ka.DENIED_ERROR_CHECK_ADDR_INCONSTANT:return"Check for address changes.";case ka.DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT:return"SDP negotiation timed out, check whether the SDP is sent successfully.";case ka.DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT:return"Address negotiation timed out, check whether the Candidate is sent successfully.";case ka.DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED:return"The connectivity check failed, probably due to firewall restrictions (protocol or port) that caused the network between the browser and the gateway to fail.";case ka.DENIED_ERROR_WEBRTC_DTLS_HS_FAILED:return"The DTLS handshake fails, the verification of the certificate may fail, and the background checks whether the certificate has expired.";case ka.DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT:return"The DTLS handshake timed out, this mainly due to network link packet loss and other situations that caused the timeout. Please check your network status and try again.";case ka.DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED:return"Streaming encryption failed";case ka.DENIED_ERROR_WEBRTC_HB_TIMEOUT:return"The heartbeat timed out, this mainly due to network link packet loss and other conditions that caused the timeout. Please check your network status and try again.";case ka.DENIED_ERROR_WEBRTC_CONNECTION_LOST:return"The link is disconnected. In turn mode, if the turn link times out or has been released, the gateway will fail to send, and the gateway will think that the link has been lost.";case ka.DENIED_ERROR_WEBRTC_NEW_SRC:return"After the stream pushing end pushes the stream again, the stream pulling end will receive this message.";default:return"unknown"}}(r))),A}!function(e){e[e.PEER_CLOSE_REASON_NORMAL=0]="PEER_CLOSE_REASON_NORMAL",e[e.PEER_CLOSE_REASON_STATE_ERROR=5]="PEER_CLOSE_REASON_STATE_ERROR",e[e.PEER_CLOSE_REASON_VRS_PUBLISH_DENIED=15]="PEER_CLOSE_REASON_VRS_PUBLISH_DENIED",e[e.PEER_CLOSE_REASON_VRS_PLAY_DENIED=18]="PEER_CLOSE_REASON_VRS_PLAY_DENIED",e[e.PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH=21]="PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH",e[e.PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH=22]="PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH",e[e.PEER_CLOSE_REASON_SDP_INVALID=23]="PEER_CLOSE_REASON_SDP_INVALID"}(Da||(Da={})),function(e){e[e.DENIED_ACTION_STOP=1]="DENIED_ACTION_STOP",e[e.DENIED_ACTION_RETRY_NEXT_IP=2]="DENIED_ACTION_RETRY_NEXT_IP",e[e.DENIED_ACTION_REDIRECT=3]="DENIED_ACTION_REDIRECT",e[e.DENIED_ACTION_REDISPATCH=4]="DENIED_ACTION_REDISPATCH",e[e.DENIED_ACTION_RETRY=5]="DENIED_ACTION_RETRY"}(ba||(ba={})),function(e){e[e.DENIED_ERROR_DISPATCH_FAILED=1001]="DENIED_ERROR_DISPATCH_FAILED",e[e.DENIED_ERROR_EMPTY_PUBLISH_IPS=1002]="DENIED_ERROR_EMPTY_PUBLISH_IPS",e[e.DENIED_ERROR_EMPTY_PLAY_IPS=1003]="DENIED_ERROR_EMPTY_PLAY_IPS",e[e.DENIED_ERROR_STREAM_NOT_EXSIT=1004]="DENIED_ERROR_STREAM_NOT_EXSIT",e[e.DENIED_ERROR_APP_NOT_ONLINE=1005]="DENIED_ERROR_APP_NOT_ONLINE",e[e.DENIED_ERROR_INVALID_PARAMETERS=1006]="DENIED_ERROR_INVALID_PARAMETERS",e[e.DENIED_ERROR_NO_CLIENTIP_SET=1007]="DENIED_ERROR_NO_CLIENTIP_SET",e[e.DENIED_ERROR_PERMISSION_DENIED=1008]="DENIED_ERROR_PERMISSION_DENIED",e[e.DENIED_ERROR_SET_STREAM_INFO_FAILED=1009]="DENIED_ERROR_SET_STREAM_INFO_FAILED",e[e.DENIED_ERROR_INTERNAL_ERROR=1010]="DENIED_ERROR_INTERNAL_ERROR",e[e.DENIED_ERROR_PUBLISH_FORBIDDEN=1011]="DENIED_ERROR_PUBLISH_FORBIDDEN",e[e.DENIED_ERROR_NEW_PUBLISH=1012]="DENIED_ERROR_NEW_PUBLISH",e[e.DENIED_ERROR_INNER_ERROR=1013]="DENIED_ERROR_INNER_ERROR",e[e.DENIED_ERROR_MANAGER_STOP=1014]="DENIED_ERROR_MANAGER_STOP",e[e.DENIED_ERROR_PUBLISH_AUTH_FAILED=1015]="DENIED_ERROR_PUBLISH_AUTH_FAILED",e[e.DENIED_ERROR_PLAY_AUTH_FAILED=1016]="DENIED_ERROR_PLAY_AUTH_FAILED",e[e.DENIED_ERROR_SERVER_STOP=2001]="DENIED_ERROR_SERVER_STOP",e[e.DENIED_ERROR_SESSION_ID=2002]="DENIED_ERROR_SESSION_ID",e[e.DENIED_ERROR_MANAGER_TIMEOUT=2003]="DENIED_ERROR_MANAGER_TIMEOUT",e[e.DENIED_ERROR_NEW_PUBLISH_SRC=2004]="DENIED_ERROR_NEW_PUBLISH_SRC",e[e.DENIED_ERROR_PLAY_SESSION_LIMIT=2005]="DENIED_ERROR_PLAY_SESSION_LIMIT",e[e.DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE=2006]="DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE",e[e.DENIED_ERROR_PACKET_ILLEGAL_TS=2007]="DENIED_ERROR_PACKET_ILLEGAL_TS",e[e.DENIED_ERROR_PACKET_ILLEGAL_ADDR=2008]="DENIED_ERROR_PACKET_ILLEGAL_ADDR",e[e.DENIED_ERROR_PACKET_ILLEGAL_FORMAT=2009]="DENIED_ERROR_PACKET_ILLEGAL_FORMAT",e[e.DENIED_ERROR_CHECK_ADDR_TIMEOUT=2010]="DENIED_ERROR_CHECK_ADDR_TIMEOUT",e[e.DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE=2011]="DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE",e[e.DENIED_ERROR_CHECK_ADDR_INCONSTANT=2012]="DENIED_ERROR_CHECK_ADDR_INCONSTANT",e[e.DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT=3e3]="DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT",e[e.DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT=3001]="DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT",e[e.DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED=3002]="DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED",e[e.DENIED_ERROR_WEBRTC_DTLS_HS_FAILED=3003]="DENIED_ERROR_WEBRTC_DTLS_HS_FAILED",e[e.DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT=3004]="DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT",e[e.DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED=3005]="DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED",e[e.DENIED_ERROR_WEBRTC_HB_TIMEOUT=3006]="DENIED_ERROR_WEBRTC_HB_TIMEOUT",e[e.DENIED_ERROR_WEBRTC_CONNECTION_LOST=3007]="DENIED_ERROR_WEBRTC_CONNECTION_LOST",e[e.DENIED_ERROR_WEBRTC_NEW_SRC=3008]="DENIED_ERROR_WEBRTC_NEW_SRC"}(ka||(ka={}));var Ga={FPS:{code:ie.captureFpsToLow,message:"The video capture frame rate is too low."},VOLUME:{code:ie.captureVolumeToLow,message:"The capture volume is too low."}},Ua={V_BITRATE:{code:ie.sendVideoBitrateToLow,message:"The video bit rate sent is too low."},FPS:{code:ie.sendFpsToLow,message:"The video frame rate sent is too low."},A_BITRATE:{code:ie.sendAudioBitrateToLow,message:"The audio bit rate sent is too low."}},xa={A_VOLUME:{code:ie.receiveVolumeToLow,message:"The volume of audio received is too low."},A_DECODE:{code:ie.receiveAudioDecodedFail,message:"The received audio failed to be decoded."},V_DECODE:{code:ie.receiveVideoDecodedFail,message:"The received video failed to be decoded."},V_DECODED_FPS:{code:ie.receiveVideoFpsDecodedToLow,message:"Received video decode frame rate is too low."},RENDER_VIDEO_FPS:{code:ie.renderVideoFpsToLow,message:"The rendered video frame rate is too low."}},Ha={FPS:{code:ie.captureFpsNormal,message:"The video capture frame rate is normal."},VOLUME:{code:ie.captureVolumeNormal,message:"The capture volume is normal."}},qa={V_BITRATE:{code:ie.sendVideoBitrateNormal,message:"The video bit rate sent is normal."},FPS:{code:ie.sendFpsNormal,message:"The video frame rate sent is normal."},A_BITRATE:{code:ie.sendAudioBitrateNormal,message:"The audio bit rate sent is normal."}},Ja={A_VOLUME:{code:ie.receiveVolumeNormal,message:"The volume of audio received is normal."},A_DECODE:{code:ie.receiveAudioDecodedNormal,message:"The received audio successed to be decoded."},V_DECODE:{code:ie.receiveVideoDecodedNormal,message:"The received video successed to be decoded."},V_DECODED_FPS:{code:ie.receiveVideoFpsDecodedNormal,message:"Received video decode frame rate is normal."},RENDER_VIDEO_FPS:{code:ie.renderVideoFpsNormal,message:"The rendered video frame rate is normal."}},Ya=function(){function e(e,t,r,i){this.stateCenter=e,this.parentEvent=i,this.results={},this.preTime=Date.now(),this.preTotalFps=0,this.preIsNormal={},this.logger=t,this.streamId=r,this.initPreIsNormal(Ga),this.initPreIsNormal(Ua),this.initPreIsNormal(xa)}return e.prototype.initPreIsNormal=function(e){for(var t in e){this.preIsNormal[e[t].code]=!0}},e.prototype.recordData=function(e,t,r){var i=e.code,A=this.results[i]||[];if(A.push(r),A.length>=5){var n=A.includes(!1);this.preIsNormal[i]&&!n&&(this.uploadEventData(e),this.stateCenter.actionListener("exceptionUpdate",this.streamId,e)),!this.preIsNormal[i]&&n&&(this.uploadEventData(t),this.stateCenter.actionListener("exceptionUpdate",this.streamId,t)),this.preIsNormal[i]=n,A=[]}this.results[i]=A},e.prototype.uploadEventData=function(e){var t=this.stateCenter.reporter.createSpan(Ie.I,{key:this.parentEvent,par:this.streamId},{key:""},aA);t.setAttributes({code:cA(e.code),message:gA(e.message)}),t.end()},e.prototype.checkRemoteStats=function(e,t){this.recordData(xa.A_VOLUME,Ja.A_VOLUME,this.recvAudioVolume(e)),this.recordData(xa.A_DECODE,Ja.A_DECODE,this.recvAudioDecode(e)),this.recordData(xa.V_DECODE,Ja.V_DECODE,this.recvVideoDecode(e)),this.recordData(xa.V_DECODED_FPS,Ja.V_DECODED_FPS,this.recvVideoDecodedFrameRate(e)),this.recordData(xa.RENDER_VIDEO_FPS,Ja.RENDER_VIDEO_FPS,this.renderVideoFrameRate(e,t))},e.prototype.checkLocalStats=function(e){this.recordData(Ga.FPS,Ha.FPS,this.captureVideoFrameRate(e)),this.recordData(Ua.FPS,qa.FPS,this.sendVideoFrameRate(e)),this.recordData(Ga.VOLUME,Ha.VOLUME,this.sendAudioVolume(e)),this.recordData(Ua.V_BITRATE,qa.V_BITRATE,this.sendVideoBitrate(e)),this.recordData(Ua.A_BITRATE,qa.A_BITRATE,this.sendAudioBitrate(e))},e.prototype.sendVideoBitrate=function(e){return!("1"===e.videoMuteState||e.videoQuality>2)&&0===e.videoBitrate},e.prototype.sendVideoFrameRate=function(e){var t=e.videoTransferFPS,r=e.videoFPS;return"1"!==e.videoMuteState&&(r>=10&&t<5||r<10&&r>=5&&t<=1)},e.prototype.captureVideoFrameRate=function(e){var t=e.videoTargetFPS,r=e.videoFPS;return"1"!==e.videoMuteState&&(t>=10&&r<5||t<10&&t>=5&&r<=1)},e.prototype.sendAudioVolume=function(e){return"1"!==e.audioMuteState&&Math.floor(32767*e.audioLevel)<Math.floor(327.67)},e.prototype.sendAudioBitrate=function(e){var t=e.audioBitrate;return!("1"===e.audioMuteState||e.audioQuality>2)&&(0===t||e.audioTargetBitrate>=48&&t<22)},e.prototype.recvAudioVolume=function(e){return!("1"===e.audioMuteState||e.audioQuality>2)&&(e.audioBitrate>0&&Math.floor(32767*e.audioLevel)<Math.floor(327.67))},e.prototype.recvAudioDecode=function(e){return!("1"===e.audioMuteState||e.audioQuality>2)&&(e.audioBitrate>0&&0===e.audioFPS)},e.prototype.recvVideoDecode=function(e){return!("1"===e.videoMuteState||e.videoQuality>2)&&(e.videoBitrate>0&&0===e.videoTransferFPS)},e.prototype.recvVideoDecodedFrameRate=function(e){var t=e.videoFPS,r=e.videoTransferFPS;return"1"!==e.videoMuteState&&(t>=10&&r<5||t<10&&t>=5&&r<=1)},e.prototype.renderVideoFrameRate=function(e,t){var r,i=e.videoTransferFPS;if("1"===e.videoMuteState)return!1;for(var A=document.querySelectorAll("video")||[],n=0;n<A.length;n++){var o=A[n];try{if((o.srcObject===t||(null===(r=o.srcObject)||void 0===r?void 0:r.getVideoTracks()[0])===(null==t?void 0:t.getVideoTracks()[0]))&&o.getVideoPlaybackQuality){var s=o.getVideoPlaybackQuality().totalVideoFrames,a=Date.now(),c=(s-this.preTotalFps)/(a-this.preTime)*1e3;return this.preTotalFps=s,this.preTime=a,i>10&&c<5||i<=10&&i>=5&&c<=1}}catch(e){}}return!1},e}(),Ka=function(){return Ka=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Ka.apply(this,arguments)},za=function(){function e(e,t,r,i,A,n){this.qualityUpdateInterval=e,this.qualityUploadInterval=t,this.publish=r,this.logger=i,this.dataReport=A,this.stateCenter=n,this.qualityTimer=null,this.qualityUpdateTimer=null,this.qualityUploadTimer=null,this.lastPublishStats={},this.netQuality=0,this.poorQualityNum=0,this.probeState=s.probed,this.probeTime=0,this.probeInterval=6e4,this.publishStat={},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:"1",videoQuality:-1,videoPacketsLost:0,videoPacketsLostRate:0,googCodecName:""},audio:{audioBitrate:0,audioCodec:"opus",muteState:"1",audioQuality:-1,audioFPS:0,audioPacketsLost:0,audioPacketsLostRate:0,googCodecName:""}},this.qualityUploadLastTime=0,this.qualitySeq=0,this.timerType=0;var o=Math.min(e,t);this.qualitySampleInterval=o>1e3?o:1e3,this.getTimerType(),this.exception=new Ya(this.stateCenter,this.logger,this.streamId,St.event)}return Object.defineProperty(e.prototype,"streamId",{get:function(){return this.publish.streamId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.publish.sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"peerID",{get:function(){return this.publish.peerID},enumerable:!1,configurable:!0}),e.prototype.getTimerType=function(){this.qualityUpdateInterval===this.qualityUploadInterval?this.timerType=0:this.qualitySampleInterval===this.qualityUpdateInterval?this.timerType=1:this.qualitySampleInterval===this.qualityUploadInterval&&(this.timerType=2),this.logger.info("zc.p.0.qgtt "+this.streamId+" timer type "+this.timerType+" "+this.qualitySampleInterval+" "+this.qualityUpdateInterval+" "+this.qualityUploadInterval)},e.prototype.setPublishQualityTimer=function(){var e=this;null==this.qualityTimer&&(this.logger.info(co+" "+this.streamId+" called "+this.qualitySampleInterval),this.clearPublishQualityTimer(),this.qualityTimer=setInterval((function(){e.peerConnectionGetStats()}),this.qualitySampleInterval),this.lastPublishStats={audioPacketsLost:0,videoPacketsLost:0,videoPacketsSent:0,audioPacketsSent:0,audioRetransmittedPacketsSent:0,videoTime:(new Date).getTime(),audioTime:(new Date).getTime(),time:0,audioBytesSent:0,videoBytesSent:0,framesEncoded:0,framesSent:0,videoRetransmittedPacketsSent:0},this.qualitySeq=(0,r.getSeq)())},e.prototype.clearPublishQualityTimer=function(){this.clearPublishQualityUpdateTimer(),this.clearPublishQualityUploadTimer(),null!=this.qualityTimer&&(clearInterval(this.qualityTimer),this.qualityTimer=null),this.lastPublishStats={},this.poorQualityNum=0,this.qualityUploadLastTime=0},e.prototype.getConnectionStatsPromiseList=function(){var e=this,t=[];return this.publish.peerConnection?(this.publish.peerConnection.getSenders().filter((function(t){var r;return!e.publish.lowStream&&t.track||t.track&&!(null===(r=e.publish.lowStream)||void 0===r?void 0:r.getTracks().includes(t.track))})).forEach((function(r){e.publish.peerConnection&&t.push(e.publish.peerConnection.getStats(r.track))})),t):t},e.prototype.peerConnectionGetStats=function(){var e=this;if(this.publish.peerConnection){var t=this.getConnectionStatsPromiseList();"chrome"==this.stateCenter.browser&&t.push(new Promise((function(t){var r;try{var i=null===(r=e.publish.peerConnection)||void 0===r?void 0:r.getStats((function(e){return t(e)}),(function(e){t(null)}));"function"==typeof(null==i?void 0:i.catch)&&i.catch((function(e){t(null)}))}catch(e){t(null)}}))),Promise.all(t).then((function(t){0!==t.length&&e.getPublishStats(t.filter((function(e){return e instanceof RTCStatsReport})),t[t.length-1]instanceof RTCStatsReport?null:t[t.length-1])})).catch((function(t){e.logger.info(co+" "+e.streamId+" getStats error "+t.toString())}))}},e.prototype.getPublishStats=function(e,t){var r,i,A,n=this;if(e){for(var o,s=document.querySelectorAll("video, audio"),a=0;a<s.length;a++)s[a].srcObject===this.publish.localStream&&(o=s[a]);var c=this.publish.streamCenter.checkPreview(this.publish.localStream),g={scenario:this.stateCenter.scenario,sampleTimeWindow:this.qualityUploadInterval,audioCodec:"opus",audioTargetBitrate:this.publish.videoInfo.audioBitrate/1e3||0,audioBitrate:0,videoTargetBitrate:this.publish.videoInfo.bitRate||0,videoTargetFPS:this.publish.videoInfo.frameRate||0,videoBitrate:0,audioFPS:0,audioLevel:0,audioPacketsLost:0,totalAudioEnergy:0,totalSamplesDuration:0,audioPacketsLostRate:0,videoFPS:0,nackCount:0,pliCount:0,audioQuality:0,videoQuality:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoPacketsLost:0,videoPacketsLostRate:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,googActualEncBitrate:0,googTargetEncBitrate:0,googFrameWidthInput:0,googFrameHeightInput:0,googFrameRateInput:0,qualityLimitationReason:"",codecImplementationName:"",videoMuteState:(null===(r=null==c?void 0:c.videoTrack)||void 0===r?void 0:r.enabled)?"0":"1",audioMuteState:this.publish.localStream.getAudioTracks().length>0&&this.publish.localStream.getAudioTracks()[0].enabled?"0":"1",soundLevel:null==c?void 0:c.soundLevel,muted:o?o.muted:void 0,paused:o?o.paused:void 0,volume:o?o.volume:void 0,sinkId:o?o.sinkId:void 0},u=this.lastPublishStats.time,l=0,h=0,d=0,p=0,C=0,I=0;if(e.forEach((function(e){var t=!1;e.forEach((function(e){"track"==e.type&&(t=!0)})),e.forEach((function(e){var r=e.kind||e.mediaType;if(("outbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesSent)&&"audio"==r)0!=u&&(g.audioBitrate=8*(e.bytesSent-n.lastPublishStats.audioBytesSent)/(e.timestamp-u),e.retransmittedPacketsSent=e.retransmittedPacketsSent||0,e.packetsSent=e.packetsSent||0,g.audioFPS=(e.packetsSent-(e.retransmittedPacketsSent-n.lastPublishStats.audioRetransmittedPacketsSent)-n.lastPublishStats.audioPacketsSent)/(e.timestamp-u)*1e3||0,d=(e.retransmittedPacketsSent-n.lastPublishStats.audioRetransmittedPacketsSent)/(e.packetsSent-n.lastPublishStats.audioPacketsSent)),g.audioBitrate<0&&(g.audioBitrate=0),n.lastPublishStats.audioBytesSent=e.bytesSent,n.lastPublishStats.time=e.timestamp,n.lastPublishStats.audioPacketsSentTimeStamp=e.packetsSent-n.lastPublishStats.audioPacketsSent,n.lastPublishStats.audioPacketsSent=e.packetsSent,n.lastPublishStats.audioRetransmittedPacketsSent=e.retransmittedPacketsSent;else if(("outbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesSent)&&"video"==r){g.isHardwareEncode=function(e){if(e){var t=null==e?void 0:e.toLocaleLowerCase();if("unknown"!==t)return"openh264"!==t&&"libvpx"!==t}}(e.encoderImplementation),0!=u&&(g.videoBitrate=8*(e.bytesSent-n.lastPublishStats.videoBytesSent)/(e.timestamp-u),g.videoFPS=1e3*(e.framesEncoded-n.lastPublishStats.framesEncoded)/(e.timestamp-u),p=(e.retransmittedPacketsSent-n.lastPublishStats.videoRetransmittedPacketsSent)/(e.packetsSent-n.lastPublishStats.videoPacketsSent)),g.videoBitrate<0&&(g.videoBitrate=0),g.videoFPS<0&&(g.videoFPS=0),g.nackCount=e.nackCount,g.pliCount=e.pliCount,g.qualityLimitationReason=e.qualityLimitationReason,n.lastPublishStats.videoBytesSent=e.bytesSent,n.lastPublishStats.framesEncoded=e.framesEncoded,n.lastPublishStats.time=e.timestamp,n.lastPublishStats.videoPacketsSentTimeStamp=e.packetsSent-n.lastPublishStats.videoPacketsSent,n.lastPublishStats.videoPacketsSent=e.packetsSent,n.lastPublishStats.videoRetransmittedPacketsSent=e.retransmittedPacketsSent,t||n.vTrackStats(u,g,e)}else if("remote-inbound-rtp"==e.type&&"video"==r){e.packetsLost>0&&(g.videoPacketsLost=e.packetsLost);var i=e.packetsLost-n.lastPublishStats.videoPacketsLost;g.videoPacketsLostRate=i>0?i/n.lastPublishStats.videoPacketsSentTimeStamp:0,e.packetsLost>0&&(n.lastPublishStats.videoPacketsLost=e.packetsLost),n.lastPublishStats.videoTime=e.timestamp,h=1e3*e.roundTripTime,I=e.jitter}else if("remote-inbound-rtp"==e.type&&"audio"==r){e.packetsLost>0&&(g.audioPacketsLost=e.packetsLost);var A=e.packetsLost-n.lastPublishStats.audioPacketsLost;g.audioPacketsLostRate=A>0?A/n.lastPublishStats.audioPacketsSentTimeStamp:0,e.packetsLost>0&&(n.lastPublishStats.audioPacketsLost=e.packetsLost),n.lastPublishStats.audioTime=e.timestamp,l=1e3*e.roundTripTime,C=e.jitter}else"media-source"==e.type&&("audio"==r||e.id.toLowerCase().indexOf("audio")>=0)?(g.audioLevel=e.audioLevel||0,g.totalAudioEnergy=e.totalAudioEnergy,g.totalSamplesDuration=e.totalSamplesDuration):"track"==e.type&&("video"==r||e.id.indexOf("video")>=0||e.frameWidth)?n.vTrackStats(u,g,e):"candidate-pair"==e.type&&(null!=e.totalRoundTripTime&&(g.totalRoundTripTime=e.totalRoundTripTime),null!=e.currentRoundTripTime&&(g.currentRoundTripTime=e.currentRoundTripTime))}))})),t&&t.result().forEach((function(e){"ssrc"==e.type&&e.names().indexOf("googBandwidthLimitedResolution")>=0&&(g.googBandwidthLimitedResolution=e.stat("googBandwidthLimitedResolution")),"ssrc"==e.type&&"video"==e.stat("mediaType")&&e.names().indexOf("googCodecName")>=0&&(g.videoCodecName=e.stat("googCodecName")),"ssrc"==e.type&&"audio"==e.stat("mediaType")&&e.names().indexOf("googCodecName")>=0&&(g.audioCodecName=e.stat("googCodecName")),"ssrc"==e.type&&e.names().indexOf("googCpuLimitedResolution")>=0&&(g.googCpuLimitedResolution=e.stat("googCpuLimitedResolution")),"ssrc"==e.type&&e.names().indexOf("googFrameWidthInput")>=0&&(g.googFrameWidthInput=e.stat("googFrameWidthInput")),"ssrc"==e.type&&e.names().indexOf("googFrameHeightInput")>=0&&(g.googFrameHeightInput=e.stat("googFrameHeightInput")),"ssrc"==e.type&&e.names().indexOf("googFrameRateInput")>=0&&(g.googFrameRateInput=e.stat("googFrameRateInput")),"ssrc"==e.type&&e.names().indexOf("codecImplementationName")>=0&&(g.codecImplementationName=e.stat("codecImplementationName")),"VideoBwe"==e.type&&e.names().indexOf("googAvailableSendBandwidth")>=0&&(g.googAvailableSendBandwidth=e.stat("googAvailableSendBandwidth")),"VideoBwe"==e.type&&e.names().indexOf("googActualEncBitrate")>=0&&(g.googActualEncBitrate=e.stat("googActualEncBitrate")),"VideoBwe"==e.type&&e.names().indexOf("googTargetEncBitrate")>=0&&(g.googTargetEncBitrate=e.stat("googTargetEncBitrate")),"VideoBwe"==e.type&&e.names().indexOf("googRetransmitBitrate")>=0&&(g.googRetransmitBitrate=e.stat("googRetransmitBitrate"))})),"chrome"===this.stateCenter.browser){var f=null===(i=navigator.userAgent)||void 0===i?void 0:i.match(/Chrome\/(\d+)/);parseInt(f&&f[1]||"100")<=91&&g.isHardwareEncode&&this.publish.handleEncBitrate(Number.parseInt(g.googTargetEncBitrate),Number.parseInt(g.googActualEncBitrate),Number.parseInt(g.googRetransmitBitrate))}h=isNaN(h)||h<0?0:h,p=isNaN(p)||p<0?0:p,I=isNaN(I)||I<0?0:I,l=isNaN(l)||l<0?0:l,d=isNaN(d)||d<0?0:d,C=isNaN(C)||C<0?0:C;var E=xA(h,p,I),Q=xA(l,d,C);if(g.videoQuality=u>0?HA(E):0,g.audioQuality=u>0?HA(Q):0,this.stateCenter.networkState!==P.offline&&"disconnected"!==(null===(A=this.publish.peerConnection)||void 0===A?void 0:A.connectionState)||(g.videoQuality=ge.Die,g.audioQuality=ge.Die),!g.frameHeight||!g.frameWidth){var B=this.publish.localStream.getVideoTracks()[0];B&&(g.frameHeight=B.getSettings().height||0,g.frameWidth=B.getSettings().width||0)}var m=Math.min(E,Q);this.netQuality=m,this.updateCurrentQualityStats(g),this.publishStat=g,0===this.timerType?0!==u&&(this.checkProbe(),this.uploadPublishQuality(g),this.publish.onPublishQualityUpdate(this.streamId,this.currentQuality),this.exception.checkLocalStats(g),this.publish.streamCenter.changeTxQuality(HA(this.netQuality),this.sessionId,this.peerID)):1===this.timerType?0!==u?this.publish.onPublishQualityUpdate(this.streamId,this.currentQuality):this.qualityTimer&&this.setPublishQualityUploadTimer():0!==u?(this.checkProbe(),this.uploadPublishQuality(g),this.exception.checkLocalStats(g),this.publish.streamCenter.changeTxQuality(HA(this.netQuality),this.sessionId,this.peerID)):this.qualityTimer&&this.setPublishQualityUpdateTimer()}},e.prototype.setPublishQualityUpdateTimer=function(){var e=this;null==this.qualityUpdateTimer&&(this.logger.info("zc.p.0.spqut.1 "+this.streamId+" called "+this.qualityUpdateInterval),this.clearPublishQualityUpdateTimer(),this.qualityUpdateTimer=setInterval((function(){e.publish.onPublishQualityUpdate(e.streamId,e.currentQuality)}),this.qualityUpdateInterval))},e.prototype.clearPublishQualityUpdateTimer=function(){this.logger.info(go+" "+this.streamId+" called "+!!this.qualityUpdateTimer),null!=this.qualityUpdateTimer&&(clearInterval(this.qualityUpdateTimer),this.qualityUpdateTimer=null)},e.prototype.setPublishQualityUploadTimer=function(){var e=this;null==this.qualityUploadTimer&&(this.logger.info("zc.p.0.spqut.2 "+this.streamId+" called "+this.qualityUploadInterval),this.qualityUploadTimer=setInterval((function(){e.checkProbe(),e.uploadPublishQuality(e.publishStat),e.exception.checkLocalStats(e.publishStat),e.publish.streamCenter.changeTxQuality(HA(e.netQuality),e.sessionId,e.peerID)}),this.qualityUploadInterval))},e.prototype.clearPublishQualityUploadTimer=function(){this.logger.info(go+" "+this.streamId+" called "+!!this.qualityUpdateTimer),null!=this.qualityUploadTimer&&(clearInterval(this.qualityUploadTimer),this.qualityUploadTimer=null)},e.prototype.checkProbe=function(){var e=this.netQuality,t=this.lastPublishStats.time;this.logger.info(co+" netQuality "+e+" "+t),e<=this.publish.streamCenter.targetQuality?this.poorQualityNum++:this.poorQualityNum=0,t>0&&this.poorQualityNum>=this.publish.streamCenter.probeStartedNum&&(new Date).getTime()>this.probeTime+this.probeInterval&&(this.logger.info(co+" netQuality "+e+" start net probe"),this.probeState=s.tryProbe,this.publish.poorQualityRetryCnt++,this.publish.streamCenter.startNetProbe(!0,this.publish,this.publish.gwNodeList),this.probeTime=(new Date).getTime())},e.prototype.vTrackStats=function(e,t,r){var i=r.frameHeight,A=r.frameWidth,n=r.framesSent,o=r.timestamp;if(t.frameHeight=i,t.frameWidth=A,0===e||this.lastPublishStats.frameHeight===i&&this.lastPublishStats.frameWidth===A)0===e&&(this.lastPublishStats.frameHeight=i,this.lastPublishStats.frameWidth=A);else{var s=this.stateCenter.reporter.createSpan(Ie.H,{key:St.event,par:this.streamId},{key:""},kt);s.setAttributes({webrtc_sid:Rt(this.sessionId),w:Nt(A),h:Tt(i)}),s.end(),this.lastPublishStats.frameHeight=i,this.lastPublishStats.frameWidth=A}0!=e&&(t.videoTransferFPS=1e3*(n-this.lastPublishStats.framesSent)/(o-e)),t.videoTransferFPS<0&&(t.videoTransferFPS=0),this.lastPublishStats.framesSent=n},e.prototype.updateCurrentQualityStats=function(e){var t=e.videoBitrate,r=e.videoFPS,i=e.videoTransferFPS,A=e.frameHeight,n=e.frameWidth,o=e.videoMuteState,s=e.videoQuality,a=e.isHardwareEncode,c=e.audioBitrate,g=e.audioCodec,u=e.audioMuteState,l=e.audioQuality,h=e.audioFPS,d={video:Ka(Ka({},this.currentQuality.video),{videoBitrate:t,videoFPS:r,videoTransferFPS:i,frameHeight:A,frameWidth:n,muteState:o,videoQuality:s,isHardwareEncode:a}),audio:Ka(Ka({},this.currentQuality.audio),{audioBitrate:c,audioCodec:g,muteState:u,audioQuality:l,audioFPS:h}),nackCount:e.nackCount,pliCount:e.pliCount,totalRoundTripTime:e.totalRoundTripTime,currentRoundTripTime:e.currentRoundTripTime,qualityLimitationReason:e.qualityLimitationReason};if(void 0!==e.videoPacketsLost){var p=e.videoPacketsLostRate;d.video.videoPacketsLost=e.videoPacketsLost,d.video.videoPacketsLostRate=p}if(void 0!==e.audioPacketsLost){var C=e.audioPacketsLostRate;d.audio.audioPacketsLost=e.audioPacketsLost,d.audio.audioPacketsLostRate=C}if(void 0!==e.muted&&(d.muted=e.muted,d.paused=e.paused,d.volume=e.volume,d.sinkId=e.sinkId),void 0!==e.googBandwidthLimitedResolution){var I=e.videoCodecName,f=e.audioCodecName,E=e.googFrameWidthInput,Q=e.googFrameHeightInput,B=e.googCpuLimitedResolution,m=e.googFrameRateInput,y=e.codecImplementationName,v=e.googAvailableSendBandwidth,_=e.googActualEncBitrate,S=e.googTargetEncBitrate;d.googBandwidthLimitedResolution=e.googBandwidthLimitedResolution,d.video.googCodecName=I,d.audio.googCodecName=f,d.googCpuLimitedResolution=B,d.googFrameWidthInput=E,d.googFrameHeightInput=Q,d.googFrameRateInput=m,d.codecImplementationName=y,d.googAvailableSendBandwidth=v,d.googActualEncBitrate=_,d.googTargetEncBitrate=S}this.currentQuality=d},e.prototype.uploadPublishQuality=function(e){var t=this;if(this.publish.signal.isServerConnected){var r=(new Date).getTime();(0==this.qualityUploadLastTime||r-this.qualityUploadLastTime>=2e3)&&(e.stream_type="publish",e.stream_id=this.streamId,e.timeStamp=r,this.logger.info(uo+" "+this.streamId+" upload"+JSON.stringify(e)),this.publish.localStream&&this.publish.localStream.getTracks().forEach((function(e){YA(e,t.logger,uo)})),this.publish.streamCenter.updateQuality(0,e),this.qualityUploadLastTime=r)}},e}(),ja=function(){return ja=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},ja.apply(this,arguments)},Va=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Wa=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};var Za,Xa,$a,ec=new Uint8Array([0,0,0,1,101,184,0,4,0,0,9,255,254,222,35,192,166,30,73,128]),tc=new Uint8Array([0,0,0,1,103,77,64,51,140,141,78,64,60,34,17,168,0,0,0,1,104,238,60,128]),rc=St,ic=bt,Ac=wt,nc=function(){function e(e,t,i,A,n,o,s,a){var c,g=this;this.curCBState={state:"NO_PUBLISH",code:0},this.isProbeDispatch=!1,this._state=y,this.lastState=y,this.sessionId=0,this.sessionToken="",this.candidateInfo=[],this.qualityUpdateInterval=3e3,this.publishQualityList=[],this.maxQualityListCount=10,this.canvasTimer=null,this.canvas=null,this.ctx=null,this.canvasImage=null,this.reportSeq=NaN,this.parentSpanKey="",this.streamReportSeq=(0,r.getSeq)(),this.videoInfo={width:0,height:0,frameRate:0,bitRate:0,minBitrate:0,keyFrameInterval:2,channelCount:1,audioBitrate:48e3},this.mediaStreamConfig=null,this.offerSeq=0,this.peerConnection=null,this.qualityCount=0,this.closeSessionSignal=!1,this.channelCount=1,this.localSdpOrder=[],this.remoteSdpOrder=[],this.videoCodec="H264",this.stateNego=ce.stop,this.isExternal=!1,this.negoInterval=25e3,this.publishEvent=!1,this.cameraState="on",this.microState="on",this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0,this.retryFailGwNodes=[],this.dispatchedGwNodes=[],this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[],this.isPeer=!1,this.peerFailCount=0,this.peerID=0,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,this.iceDisconnectedMaxTime=15e3,this.isUpdateSDP=!1,this.isUdpSuccess=!1,this.toBeReplacedTracks={},this.send_seq=0,this.dataChannelState=0,this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.answerSdpTime=0,this.streamConnectIP="",this.mediaSideInfos=[],this.lowMediaSideInfos=[],this.mixConfig={forceSynchronousNetworkTime:0,alignment:0},this.sideMediaConfig={isSEIStart:!1,SEIType:le.ZegoDefined,unregisterSeiFilter:"",uuidSend:!1,track:null},this.reportBeginTime=0,this.reportPublishingTime=0,this.reportPublishStateTime=0,this.isRePublish=!1,this.cachedGwNodesMode=hg.TheSameReUse,this.rtcPublishCount=0,this.stopReason="",this.signalTime=0,this.pushCmdSeqMap=((c={}).MediaDescPush={seq:-1,time:0},c.MediaDescUpdatePush={seq:-1,time:0},c.PublishEventPush={seq:-1,time:0},c.ClientInfoPush={seq:-1,time:0},c.CandidateInfoPush={seq:-1,time:0},c),this._turnToTcp=!1,this.encodeLowVideoFrame=function(e,t){g.encodeFrame(e,t,!0)},this.encodeVideoFrame=function(e,t){g.sideMediaConfig.track?g.encodeFrameAudioOnly(e,t,!1):g.encodeFrame(e,t,!1)},this.camera_status=2,this.mic_status=2,this.streamId=e,this.logger=t,this.dataReport=i,this.qualityTimeInterval=A,this.streamCenter=o,this.stateCenter=s,this.videoCodec=this.stateCenter.settingConfig.getSetting("publish_video_codec"),this.previewer=a,this.localStream=a.localStream,this.zegoCaptureStream=a.zegoCaptureStream,this.zegoCaptureStream&&this.zegoCaptureStream.startPublish(),a.onAudioTrackChange=function(e){var t=g.peerConnection&&g.peerConnection.getSenders().find((function(t){var r;return(null===(r=t.track)||void 0===r?void 0:r.kind)===e.kind}));t?(t.replaceTrack(e),g.logger.info("zc.oatc remote audio track change success")):g.logger.warn("zc.oatc stream has not sender")},this.initStreamReport(),this.qualityHandler=new za(this.qualityTimeInterval,n,this,this.logger,this.dataReport,this.stateCenter)}return e.prototype.updateCBState=function(e){var t=this,r=Object.keys(e).some((function(r){return e[r]!==t.curCBState[r]}));return r&&(this.curCBState=e),r},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){this.lastState=this._state,this._state=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"publishStat",{get:function(){return this.qualityHandler.publishStat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"probeState",{get:function(){return this.qualityHandler.probeState},set:function(e){this.qualityHandler.probeState=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"netQuality",{get:function(){return this.qualityHandler.netQuality},set:function(e){this.qualityHandler.netQuality=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPublishStats",{get:function(){return this.qualityHandler.lastPublishStats},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lowStream",{get:function(){var e;return null===(e=this.previewer)||void 0===e?void 0:e.lowStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iceStateDisConnect",{get:function(){return[ce.iceClosed,ce.iceDisconnected,ce.iceFailed].includes(this.stateNego)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLastConnected",{get:function(){return this.lastState===m},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"netProtocol",{get:function(){return this._turnToTcp?"tcp":"udp"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ip",{get:function(){var e,t;return null===(t=null===(e=this.gwNode)||void 0===e?void 0:e.split(":"))||void 0===t?void 0:t[0]},enumerable:!1,configurable:!0}),e.prototype.initStreamReport=function(){this.reportSpan=this.stateCenter.reporter.createSpan(Ie.I,{key:St.event,par:this.streamId},{key:ic.event,par:this.streamId},ic.event,!0),this.reportBeginTime=(new Date).getTime()},e.prototype.publishStateUpdateError=function(e,t,r,i){this.logger.error(Co+"  call ",this.streamId+" "+JSON.stringify(e));var A=this.stateCenter.reporter.createSpan(Ie.H,{key:St.event,par:this.streamId},{key:""},Jt);A.setAttributes({error:null==e?void 0:e.code,message:null==e?void 0:e.message}),A.end(),this.streamId&&this.onPublishStateUpdate(_e,this.streamId,e,t,r,i),this.logger.info(Co+"  ended")},e.prototype.netProbeToReDispatch=function(){this.isProbeDispatch=!0,this.publishStateUpdateError(St.error.kPublishNetProbePoor)},e.prototype.resetPublish=function(){this.logger.info("zc.p.0.rp   "+this.streamId+" call"),this.state=y,this.publishEvent=!1,null==this.peerConnection&&null==this.peerConnection||(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.qualityHandler.clearPublishQualityTimer(),this.clearCanvasTimer(),this.signal&&(this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PublishEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId),this.signal.unregisterPushCallback("MediaDescUpdatePush",this.sessionId)),this.sessionSeq=0,this.offerSeq=0,this.candidateInfo=[],this.publishQualityList=[],this.resetEncBitrate(),this.isUpdateSDP=!1},e.prototype.clearCanvasTimer=function(){null!=this.canvasTimer&&(clearInterval(this.canvasTimer),this.sideMediaConfig.track=null,this.canvasTimer=null,this.canvas=null,this.ctx=null,this.canvasImage=null)},e.prototype.shouldSendCloseSession=function(){return this.state!=y&&this.state!=I},e.prototype.resetPushCmdSeqMap=function(){var e;this.pushCmdSeqMap=((e={}).MediaDescPush={seq:-1,time:0},e.MediaDescUpdatePush={seq:-1,time:0},e.PublishEventPush={seq:-1,time:0},e.ClientInfoPush={seq:-1,time:0},e.CandidateInfoPush={seq:-1,time:0},e)},e.prototype.startPublish=function(e,t,r,i,A){var n,o,s,a,c,g,u,l,h,d,p,C,I,f=this;if(this.logger.info(Zn+" "+e+" called"),this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),e){var E;this.localStream=t,this.mediaStreamConfig=i,this.channelCount=i.channelCount,this.publishOption=A||{},(null==A?void 0:A.SEIType)&&(this.sideMediaConfig.SEIType=A.SEIType),this.qualityHandler.currentQuality.video.muteState=(null===(o=null===(n=this.previewer)||void 0===n?void 0:n.videoTrack)||void 0===o?void 0:o.enabled)?"0":"1",this.qualityHandler.currentQuality.audio.muteState=this.localStream.getAudioTracks().length>0&&this.localStream.getAudioTracks()[0].enabled?"0":"1",navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&i&&(i.externalCapture||i.externalMediaStream)&&(this.localStream.onaddtrack=function(){var e,r,i,A;f.logger.info(Zn+" "+f.streamId+" Track added"),t&&t.getTracks().forEach((function(e){YA(e,f.logger,Zn)}));var n=[];(null===(e=f.previewer)||void 0===e?void 0:e.videoTrack)&&n.push(null===(r=f.previewer)||void 0===r?void 0:r.videoTrack);var o=f.localStream.getAudioTracks();if(n.length>1){var s=null===(i=f.peerConnection)||void 0===i?void 0:i.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.id)===f.localStream.getVideoTracks()[0].id}));null==s||s.replaceTrack(n[1]),f.localStream.removeTrack(n[0])}else if(o.length>1){s=null===(A=f.peerConnection)||void 0===A?void 0:A.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.kind)===o[1].kind}));null==s||s.replaceTrack(o[1]),f.localStream.removeTrack(o[0])}}),r&&(this.videoInfo=r),A&&A.videoCodec&&(this.videoCodec=A.videoCodec);var Q=null===(s=this.previewer)||void 0===s?void 0:s.videoPreviewType;switch(Q){case"camera":E=this.stateCenter.settingConfig.getSetting("camera_video_bitrate",!0);break;case"screen":E=this.stateCenter.settingConfig.getSetting("screen_video_bitrate",!0);break;case"custom":E=this.stateCenter.settingConfig.getSetting("custom_video_bitrate",!0)}void 0!==E&&(this.logger.info(Zn+" setting "+Q+" "+E),this.videoInfo.bitRate=E);var B=this.stateCenter.settingConfig.getSetting("bitrate_mode",!0);B&&(this.logger.info(Zn+" setting bitrate_mode "+B),this.videoInfo.startBitrate=B);var m=this.stateCenter.settingConfig.getSetting("publish_video_codec",!0);if(m&&(this.logger.info(Zn+" setting publish_video_codec "+m),this.videoCodec=m),"boolean"==typeof(null==A?void 0:A.isSEIStart)&&(this.sideMediaConfig.isSEIStart=null==A?void 0:A.isSEIStart),this.sideMediaConfig.isSEIStart){var y=qA();"H264"===this.videoCodec&&y||(this.sideMediaConfig.isSEIStart=!1)}(null===(a=this.stateCenter.seiConfig)||void 0===a?void 0:a.unregisterSEIFilter)&&(this.sideMediaConfig.unregisterSeiFilter=null===(c=this.stateCenter.seiConfig)||void 0===c?void 0:c.unregisterSEIFilter),[0,1].includes(null==A?void 0:A.forceSynchronousNetworkTime)&&(this.mixConfig.forceSynchronousNetworkTime=null==A?void 0:A.forceSynchronousNetworkTime),this.stateCenter.reporter.spanSetAttributes({key:rc.event,par:this.streamId},{video_en_codec_id:rc.video_en_codec_id("VP8"==this.videoCodec?2:0),audio_c_channel_count:rc.audio_c_channel_count(2==this.channelCount?2:1),audio_en_bps:rc.audio_en_bps(this.videoInfo.audioBitrate),aec_level:rc.aec_level(1==i.AEC?2:0==i.AEC?0:2),ans_level:rc.ans_level(1==i.ANS?2:0==i.ANS?0:2),agc:rc.agc(1==i.AGC||0!=i.AGC),video_activate:rc.video_activate(!!(null===(u=null===(g=this.previewer)||void 0===g?void 0:g.videoTrack)||void 0===u?void 0:u.enabled)),audio_activate:rc.audio_activate(!!(null===(h=null===(l=this.previewer)||void 0===l?void 0:l.audioTrack)||void 0===h?void 0:h.enabled)),scenario:this.stateCenter.scenario}),this.reportSpan.setAttributes({room_id:ic.room_id(null===(p=null===(d=this.streamCenter.publisherList[this.streamId])||void 0===d?void 0:d.room)||void 0===p?void 0:p.roomID),room_sid_string:ic.room_sid_string(null===(I=null===(C=this.streamCenter.publisherList[this.streamId])||void 0===C?void 0:C.room)||void 0===I?void 0:I.roomSessionID),max_retry_interval:ic.max_retry_interval(this.stateCenter.streamRetryTime),scenario:this.stateCenter.scenario,use_resource_type:ic.use_resource_type(["rtc"])}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.negoTimer=setTimeout((function(){f.logger.error(Zn+" waiting timeout"),f.publishStateUpdateError(rc.error.kPublishNegoTimeoutError)}),this.negoInterval)}else this.logger.error(Zn+" "+e+" streamId is null")},e.prototype.activateSEIInsert=function(e,t){return new Promise((function(e,t){e(!1)}))},e.prototype.createSession=function(e,t){var i,A,n,o=this;this.sessionSeq=(0,r.getSeq)();var s=this.streamId;1==this.streamCenter.testEnvironment&&(s="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var a=this.stateCenter.settingConfig.getSetting("gw_nodes");a&&a instanceof Array&&a.length>0&&(this.logger.info(Zn+" setting "+JSON.stringify(a)),this.gwNodeList=a,this.gwNode=this.gwNodeList[0]||this.gwNode),this.setTurnTcp();var c=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);c&&(this.logger.info(Zn+" setting udp_or_tcp "+c),this._turnToTcp="tcp"===c),this._turnToTcp&&(this.isPeer=!1);var g=(null===(A=null===(i=this.streamCenter.publisherList[this.streamId])||void 0===i?void 0:i.room)||void 0===A?void 0:A.roomID)||(null===(n=this.stateCenter.roomList[0])||void 0===n?void 0:n.roomID),u=this.getSessionParams(g),l=u.params,h=u.paramsExt;this.paramsExt=h;var d=ui;if(this.isPeer){var p=(new Date).getTime(),C=this.getSpan(ui.event,this.parentSpanKey);this.signal.createSessionWithSdp({seq:this.sessionSeq,type:0,mode:0,streamId:s,videoInfo:this.videoInfo,strAuthParam:this.publishOption&&this.publishOption.streamParams||"",sdp:t||e.sdp,serverHost:this.gwNode,params:l,paramsExt:h,roomID:g,geo:{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList}},(function(e,t,r){return Va(o,void 0,void 0,(function(){var i;return Wa(this,(function(A){return i=(new Date).getTime(),this.logger.info(Zn+" create session time "+(i-p)),C.setAttributes({webrtc_sid:t,sdp:d.sdp(r.sdp),is_mini:d.is_mini(this.stateCenter.isMiniSdp),gw_nodes:d.gw_nodes(r.gw_nodes),gw_nodes_ttl:d.gw_nodes(r.gw_nodes_ttl),gw_version:d.gw_version(r.gw_version)}),C.end(),this.stateCenter.reporter.spanSetAttributes({key:rc.event,par:this.streamId},{gw_version:rc.gw_version(r.gw_version)}),this.stateNego!==ce.iceConnected&&this.getSpan(Ci,this.parentSpanKey,"",!0),this.handleCreateSessionWithSdpResp(e,t,r),[2]}))}))}),(function(e,t){var r;if(o.sessionSeq==t){var i=1==e?rc.error.kSessionTimeoutError:rc.error.kSessionRequestError;o.logger.info(Zn+" ".concat(o.streamId," create session fail. signal: ").concat(o.signal.state,"; ws: ").concat(null===(r=o.signal.websocket)||void 0===r?void 0:r.readyState," ")),C.setAttributes({try_cnt:o.peerFailCount}),o.stateCenter.reporter.setError(C,i),o.publishStateUpdateError(i)}else o.logger.warn(Zn+" seq is not match.")}))}else{var f=this.getSpan(ui.event,this.parentSpanKey);this.signal.createSession(this.sessionSeq,0,0,s,this.publishOption&&this.publishOption.streamParams,this.gwNode,l,g,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},(function(e,t,r){return Va(o,void 0,void 0,(function(){return Wa(this,(function(i){return f.setAttributes({webrtc_sid:d.webrtc_sid(t),gw_nodes:d.gw_nodes(r.gw_nodes),gw_nodes_ttl:d.gw_nodes(r.gw_nodes_ttl),gw_version:d.gw_version(r.gw_version)}),f.end(),this.stateCenter.reporter.spanSetAttributes({key:rc.event,par:this.streamId},{gw_version:rc.gw_version(r.gw_version)}),this.handleCreateSessionResp(e,t,r),[2]}))}))}),(function(e,t){if(o.sessionSeq==t){var r=1==e?rc.error.kSessionTimeoutError:rc.error.kSessionRequestError;o.stateCenter.reporter.setError(f,r),o.publishStateUpdateError(r)}else o.logger.warn(Zn+" seq is not match.")}))}this.state=I,this.logger.info(Zn+" "+this.streamId+" called success"),this.stateNego=ce.start},e.prototype.handleCreateSessionResp=function(e,t,r){var i=r.turn_server,A=i.split("?")[0]&&i.split("?")[0].slice(5),n=this.streamCenter.server.split("?"),o=n[1]&&n[1].slice(2),s="webrtc://".concat(A,"/").concat(o,"/").concat(this.streamId);if(this.stateCenter.reporter.spanSetAttributes({key:this.parentSpanKey,par:this.streamId},{webrtc_sid:r.session_id,url:s}),this.logger.info(Zn+" "+this.streamId+" sessionId:"+r.session_id),this.sessionSeq==e){this.resetPushCmdSeqMap();var a=r.client_ip||r.clientip;a&&(this.stateCenter.clientIP=a);var c=0,g=(new Date).getTime();if(this.reportBeginTime&&(this.logger.info(Zn+" "+this.streamId+" create signal time "+(c=g-this.reportBeginTime)),this.signalTime=c),this.answerSdpTime=g,0!==r.result){if(this.logger.error(Zn+" "+this.streamId+" create session failed "+r.result),1021===(null==r?void 0:r.result))return void this.publishStateUpdateError(Le,!0);this.publishStateUpdateError(rc.error.kSessionRequestError)}else this.sessionId=r.session_id,this.sessionToken=r.session_token,this.logger.info(Zn+" "+this.streamId+" create session success "+this.sessionId),this.setGwNodes(r,!1),this.onCreatePublishSessionSuccess(r)}else this.logger.error(Zn+" "+this.streamId+" seq is not match.")},e.prototype.handleCreateSessionWithSdpResp=function(e,t,r){var i=this;if(this.logger.info(Zn+" sessionId:"+t),this.sessionSeq==e){this.resetPushCmdSeqMap();var A=r.client_ip||r.clientip;A&&(this.stateCenter.clientIP=A);var n=0,o=(new Date).getTime();if(this.reportBeginTime&&(this.logger.info(Zn+" "+this.streamId+" create signal time "+(n=o-this.reportBeginTime)),this.signalTime=n),this.answerSdpTime=o,0!==r.result){if(110===r.result&&(this.stateCenter._isMiniSdp=!1),this.logger.error(Zn+" create session failed "+r.result),1021===(null==r?void 0:r.result))return void this.publishStateUpdateError(Le,!0);this.publishStateUpdateError({code:rc.error.kSessionRequestError.code,message:rc.error.kSessionRequestError.message+" result:"+r.result})}else{this.sessionId=t,this.sessionToken=r.session_token,this.setGwNodes(r,!1),this.logger.info(Zn+" get remote session success "+this.streamId);var s=performance.now();this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,t,r){if(s){var A=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(Zn+" ".concat(i.streamId,", cmd: CloseSessionPush, cost_time: ").concat(A))}i.onRecvCloseSession(e,t,r)})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,t,r){i.onRecvResetSession(e,t,r)})),this.signal.registerPushCallback("PublishEventPush",this.sessionId,(function(e,t,r){if(i.compareSeqs("PublishEventPush",e)){if(s){var A=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(Zn+" ".concat(i.streamId,", cmd: PublishEventPush, cost_time: ").concat(A))}i.onRecvPublishEvent(e,t,r)}})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,t,r){i.compareSeqs("ClientInfoPush",e)&&i.onRecvClientInfo(e,t,r)})),this.signal.registerPushCallback("MediaDescUpdatePush",this.sessionId,(function(e,t,r){return Va(i,void 0,void 0,(function(){return Wa(this,(function(i){switch(i.label){case 0:return this.compareSeqs("MediaDescUpdatePush",e)?[4,this.onRecvUpdateMediaDescription(e,t,r)]:[2];case 1:return i.sent(),[2]}}))}))})),this.onGetRemoteOfferSuccess(r.sdp)}}else this.logger.error(Zn+" seq is not match.")},e.prototype.getSessionParams=function(e){var t="",r=[],i={},A=this.stateCenter.seiConfig.SEIPass;if("boolean"==typeof A){var n=A?1:0;this.stateCenter.useNetAgent?i.sei_filter_pass=n:r.push("zgseipass="+n)}this.stateCenter.isMiniSdp&&!this.stateCenter.useNetAgent&&r.push("sdp_fmt_type=1"),this.stateCenter.idName&&r.push("zguid="+this.stateCenter.idName),e&&r.push("zgrid="+e);var o=this.publishOption.setDeviceDelayByUser;return isNaN(o)||(this.stateCenter.useNetAgent?i.ktv_device_delay=o:r.push("ktv_device_delay="+o)),r.length>0&&(t=r.join("&")),{params:t,paramsExt:i}},e.prototype.setGwNodes=function(e,t){var r;if(this.logger.info("zc.p.0.sgn "+this.streamId+" "+JSON.stringify(null==e?void 0:e.gw_nodes)+" "+JSON.stringify(this.retryFailGwNodes)),(null===(r=e.gw_nodes)||void 0===r?void 0:r.length)>0){var i=this.sortGwNodes(e.gw_nodes,this.retryFailGwNodes,t);this.retryFailGwNodes=[],this.handleDispatchedGwNodes(i,e.gw_nodes_ttl)}},e.prototype.resetGwNodes=function(){this.logger.info("zc.p.0.rgn "+this.streamId),this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0},e.prototype.sortGwNodes=function(e,t,r){var i=JSON.parse(JSON.stringify(e));if(t.forEach((function(e){var t=i.indexOf(e);t>=0&&(i.splice(t,1),i.push(e))})),!r){var A=i.findIndex((function(t){return t===e[0]}));A>0&&(i.splice(A,1),i.unshift(e[0]))}return i},e.prototype.handleDispatchedGwNodes=function(e,t){if(this.logger.info("zc.p.0.hdgn "+this.streamId+" "+JSON.stringify(e)),Array.isArray(e)){this.gwNodeList=e.length>0?e:this.gwNodeList,this.gwNode=e.length>0?this.gwNodeList[0]:this.gwNode;var r=0===t?60:t;this.gwNodesTTL=r?(new Date).getTime()+1e3*r:this.gwNodesTTL,e.length>0&&this.streamCenter.updateCachedGwNodesList(this,!0,e,r)}},e.prototype.dispatchGwNodes=function(e,t){var i,A=this.streamId;1==this.streamCenter.testEnvironment&&(A="zegotest-"+this.streamCenter.appid+"-"+this.streamId),null===(i=this.signal)||void 0===i||i.dispatchGwNodes((0,r.getSeq)(),0,A,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},(function(t,r,i){e&&e(i)}),(function(e,r){t&&t(e)}))},e.prototype.onCreatePublishSessionSuccess=function(e){var t=this,r=$n;this.logger.info(r+" "+this.streamId+" called");var i=[];if(e.turn_server){var A=e.turn_server.split(";");this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var n=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");!isNaN(n)&&(this.streamCenter.maxUdpFailNum=n);var o=this.streamCenter,s=o.autoSwitchProtocol,a=o.maxUdpFailNum,c=o.udpFailNum;this.logger.info(r+"  autoToTcp: ".concat(s,", udpFailNum: ").concat(c,", maxUdpFailNum: ").concat(a,".")),s&&!this._turnToTcp&&c>=a&&(this.logger.info(r+" switch to tcp. "),this._turnToTcp=!0);var g=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);g&&(this.logger.info(r+" setting udp_or_tcp "+g),this._turnToTcp="tcp"===g);var u=void 0,l=A.filter((function(e){return e.indexOf("udp")>-1})),h=A.filter((function(e){return e.indexOf("tcp")>-1}));u=this._turnToTcp?h.length>0?h:l.map((function(e){return e.replace("udp","tcp")})):l,this.logger.info(r+" over tcp "+JSON.stringify(u)),i.push.apply(i,u)}e.stun_server&&i.push(e.stun_server);var d={iceTransportPolicy:"all",iceServers:[{urls:i,username:e.turn_username,credential:e.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(r+" "+this.streamId+" username: "+e.turn_username),this.logger.info(r+" "+this.streamId+" credential: "+e.turn_auth_key),this.createOffer(d);var p=performance.now();this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,(function(e,r,i){if(t.compareSeqs("CandidateInfoPush",e))var A=setTimeout((function(){t.onRecvCandidateInfo(e,r,i),clearTimeout(A)}),0)})),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,i,A){if(p){var n=(performance.now()-p).toFixed(0);p=void 0,t.logger.info(r+" ".concat(t.streamId,", cmd: CloseSessionPush, cost_time: ").concat(n))}32===A.reason&&(t.stateCenter._isMiniSdp=!1),t.onRecvCloseSession(e,i,A)})),this.signal.registerPushCallback("MediaDescPush",this.sessionId,(function(e,r,i){return Va(t,void 0,void 0,(function(){return Wa(this,(function(t){switch(t.label){case 0:return this.compareSeqs("MediaDescPush",e)?[4,this.onRecvMediaDescription(e,r,i)]:[2];case 1:return t.sent(),[2]}}))}))})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,r,i){t.onRecvResetSession(e,r,i)})),this.signal.registerPushCallback("PublishEventPush",this.sessionId,(function(e,i,A){if(t.compareSeqs("PublishEventPush",e)){if(p){var n=(performance.now()-p).toFixed(0);p=void 0,t.logger.info(r+" ".concat(t.streamId,", cmd: PublishEventPush, cost_time: ").concat(n))}t.onRecvPublishEvent(e,i,A)}})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,r,i){t.compareSeqs("ClientInfoPush",e)&&t.onRecvClientInfo(e,r,i)})),this.signal.registerPushCallback("MediaDescUpdatePush",this.sessionId,(function(e,r,i){return Va(t,void 0,void 0,(function(){return Wa(this,(function(t){switch(t.label){case 0:return this.compareSeqs("MediaDescUpdatePush",e)?[4,this.onRecvUpdateMediaDescription(e,r,i)]:[2];case 1:return t.sent(),[2]}}))}))})),this.logger.info(r+" "+this.streamId+" call success")},e.prototype.compareSeqs=function(e,t){var r=this.pushCmdSeqMap[e],i=r.seq,A=r.time,n=performance.now();return-1!==i&&i>=t&&n-A<6e3?(this.logger.warn("zc.p.cps.0"+" ".concat(this.streamId,", push ").concat(e,", seq ").concat(t," local ").concat(JSON.stringify(this.pushCmdSeqMap[e]))),!1):(this.pushCmdSeqMap[e]={seq:t,time:n},!0)},e.prototype.createOffer=function(e){var t,r,i,A=this,n=$n;this.peerConnection=new RTCPeerConnection(e),this.peerConnection.onicecandidate=function(e){A.onIceCandidate(e)},this.peerConnection.onsignalingstatechange=function(e){A.onSignalStateChange(e)},this.peerConnection.connectionState?this.peerConnection.onconnectionstatechange=function(e){A.onConnectionStateChange(e)}:this.logger.info("".concat(n," not support connectionState")),this.peerConnection.oniceconnectionstatechange=function(e){A.onIceConnectionStateChange(e)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=function(e){A.logger.info(n+" "+A.streamId+" data channel open"),A.dataChannelState=1},this.dataChannel.onclose=function(e){A.logger.error(n+" "+A.streamId+" data channel close ")});var o=[],s=[];if(this.lowStream&&this.lowStream.getVideoTracks().forEach((function(e){var t,r=null===(t=A.peerConnection)||void 0===t?void 0:t.addTrack(e,A.lowStream);A.sideMediaConfig.isSEIStart&&r&&"function"==typeof r.createEncodedStreams&&A.createVideoSenderTransform(r,!0)})),this.localStream){if(this.localStream.getTracks().forEach((function(e){var t,r=null===(t=A.peerConnection)||void 0===t?void 0:t.addTrack(e,A.localStream);A.sideMediaConfig.isSEIStart&&r&&"function"==typeof r.createEncodedStreams&&("video"===e.kind?A.createVideoSenderTransform(r):"audio"===e.kind&&A.createAudioSenderTransform(r),YA(e,A.logger,n))})),!(null===(t=this.previewer)||void 0===t?void 0:t.videoTrack)&&this.sideMediaConfig.isSEIStart){this.videoInfo.bitRate||(this.videoInfo.bitRate=50);var a=this.sideMediaConfig.track=this.addCanvasStreamVideoTrack(),c=this.peerConnection.addTrack(a,this.localStream);c&&"video"==a.kind&&"function"==typeof c.createEncodedStreams&&this.createVideoSenderTransform(c)}(null===(r=this.previewer)||void 0===r?void 0:r.videoTrack)&&(o=[null===(i=this.previewer)||void 0===i?void 0:i.videoTrack]),s=this.localStream.getAudioTracks(),o.length>0&&this.logger.info(n+" "+this.streamId+" video device: "+o[0].label),s.length>0&&this.logger.info(n+" "+this.streamId+" audio device: "+s[0].label)}var g={offerToReceiveAudio:s.length>0?1:0,offerToReceiveVideo:o.length>0?1:0};this.logger.info(n+" "+this.streamId+" createOffer: "+JSON.stringify(g));var u=this.getSpan(ni,this.parentSpanKey);this.peerConnection.createOffer(g).then((function(e){u.setAttributes({sdp:oi(e.sdp),is_mini:si(A.stateCenter.isMiniSdp)}),u.end(),A.onCreateOfferSuccess(e)}),(function(e){A.logger.error(n+" "+A.streamId+" create offer error "+e.toString()),A.stateCenter.reporter.setError(u,{code:rc.error.kCreateOfferError.code,message:e.toString()}),A.publishStateUpdateError(rc.error.kCreateOfferError,!0)}))},e.prototype.sendSEI=function(e){var t,r;if("H264"!==this.videoCodec)return this.logger.error(Qo+" code not support"),!1;if(!this.sideMediaConfig.isSEIStart)return this.logger.error(Qo+" not enable to send sei"),!1;var i=null===(t=this.peerConnection)||void 0===t?void 0:t.getSenders().filter((function(e){return e.track&&"video"===e.track.kind}));return i&&"function"!=typeof(null===(r=i[0])||void 0===r?void 0:r.createEncodedStreams)?(this.logger.error(Qo+" browser not support"),!1):this.sideMediaConfig.SEIType==le.UserUnregister&&e.byteLength<=16?(this.logger.error(Qo+" inData size should greater than 16"),!1):this.mediaSideInfos.length>=10?(this.logger.error(Qo+" side info count limit"),!1):(this.mediaSideInfos.push(e.buffer),this.lowStream&&this.lowMediaSideInfos.push(e.buffer),!0)},e.prototype.createAudioSenderTransform=function(e){var t=e.createEncodedStreams(),r=new TransformStream({transform:this.encodeAudioFrame});t.readable.pipeThrough(r).pipeTo(t.writable)},e.prototype.encodeAudioFrame=function(e,t){t.enqueue(e)},e.prototype.createVideoSenderTransform=function(e,t){void 0===t&&(t=!1);var r=e.createEncodedStreams(),i=new TransformStream({transform:t?this.encodeLowVideoFrame:this.encodeVideoFrame});r.readable.pipeThrough(i).pipeTo(r.writable)},e.prototype.encodeSEINalu=function(e){var t=e.byteLength,r=parseInt(t/255),i=t%255,A=new ArrayBuffer(1+(r+1)+t+1),n=new DataView(A),o=0;n.setUint8(o++,this.sideMediaConfig.SEIType===le.UserUnregister?5:243);for(var s=0;s<r;s++)n.setUint8(o++,255);n.setUint8(o++,i);var a=new DataView(e);for(s=0;s<(null==e?void 0:e.byteLength);s++)n.setInt8(o++,a.getInt8(s));n.setInt8(o++,128);var c=new Uint8Array(A),g=c;this.stateCenter.seiConfig.emulationPreventionByte&&(g=function(e){for(var t=[],r=e.length,i=0,A=0;A<r;++A){var n=e[A];n<=3&&i>=2&&(t.push(3),i=0),t.push(e[A]),0==n?++i:i=0}var o=new Uint8Array(t);return{output:o,outLength:o.length}}(c).output);return{rbspView:g,ebspLength:g.length}},e.prototype.encodeFrame=function(e,t,r){var i=r?this.lowMediaSideInfos:this.mediaSideInfos;if(i.length>0){for(var A=new DataView(e.data),n=[],o=0,s=0;s<i.length;s++){var a=this.encodeSEINalu(i[s]);o+=5+(Q=a.ebspLength),n.push(a)}r?this.lowMediaSideInfos=[]:this.mediaSideInfos=[];for(var c=new ArrayBuffer(o+e.data.byteLength),g=new DataView(c),u=0,l=new Pa(A),h=0,d=!1,p=!1;l.NextNalu();){var C=31&A.getUint8(l.nalu_start+l.start_code_size);if(7==C)d=!0,h+=l.nalu_size;else if(8==C)p=!0,h+=l.nalu_size;else if(9==C)continue;if(d&&p)break}for(var I=0;I<h;I++)g.setInt8(u++,A.getInt8(I));for(s=0;s<n.length;s++){var f=n[s],E=f.rbspView,Q=f.ebspLength;g.setUint8(u++,0),g.setUint8(u++,0),g.setUint8(u++,0),g.setUint8(u++,1),g.setUint8(u++,6);for(var B=0;B<Q;B++)g.setInt8(u++,E[B-0])}for(I=h;I<e.data.byteLength;I++)g.setInt8(u++,A.getInt8(I));new Uint8Array(c);e.data=c}t.enqueue(e)},e.prototype.encodeFrameAudioOnly=function(e,t,r){var i=r?this.lowMediaSideInfos:this.mediaSideInfos,A=0;"key"===e.type&&(A=tc.length+ec.length);var n=0,o=[];if(i.length>0){for(var s=0;s<i.length;s++){var a=this.encodeSEINalu(i[s]);n+=5+(C=a.ebspLength),o.push(a)}r?this.lowMediaSideInfos=[]:this.mediaSideInfos=[]}var c=new ArrayBuffer(n+A),g=new DataView(c),u=0;if("key"===e.type)for(var l=new DataView(tc.buffer),h=0;h<tc.length;h++)g.setInt8(u++,l.getInt8(h));for(s=0;s<o.length;s++){var d=o[s],p=d.rbspView,C=d.ebspLength;g.setUint8(u++,0),g.setUint8(u++,0),g.setUint8(u++,0),g.setUint8(u++,1),g.setUint8(u++,6);for(var I=0;I<C;I++)g.setInt8(u++,p[I-0])}if("key"===e.type){var f=new DataView(ec.buffer);for(h=0;h<ec.length;h++)g.setInt8(u++,f.getInt8(h))}e.data=c,t.enqueue(e)},e.prototype.onCreateOfferSuccess=function(e,t,r,i){var A,n=this;t&&(this.isUpdateSDP=!0,i&&(this.updateSDPCallBack=i)),this.localStream&&this.localStream.getTracks().forEach((function(e){YA(e,n.logger,eo)})),this.videoInfo.bitRate>0&&(e.sdp=this.updateBandwidthRestriction(e.sdp,this.videoInfo.bitRate)),e.sdp=e.sdp.replace(/sendrecv/g,"sendonly");var o=e.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)?e.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)[0]:null;if(o){var s=o.replace(/sendonly/,"sendrecv");e.sdp=e.sdp.replace(o,s)}var a=[];isNaN(this.videoInfo.audioBitrate)||a.push("maxaveragebitrate="+this.videoInfo.audioBitrate);var c=/stereo=\d+/,g=e.sdp.match(c),u="stereo="+(2===this.videoInfo.channelCount?1:0);g&&g[0]?e.sdp=e.sdp.replace(c,u):a.push(u);var l=/useinbandfec=\d+/,h=e.sdp.match(l);h&&h[0]&&a.push(h[0]),e.sdp=e.sdp.replace(l,a.join(";")),1===this.videoInfo.channelCount&&(e.sdp=e.sdp.replace(";stereo=1",";stereo=0")),this.localSdpOrder=e.sdp.match(/m=(.\w*)\s/g)||[],this.logger.info(eo+" "+this.streamId+" local sdp revert "+this.localSdpOrder.join("")),e.sdp=en.getSDPByVideDecodeType(e.sdp,this.videoCodec),this.logger.info(eo+" "+this.streamId+" localSdp1 "+e.sdp.substr(0,e.sdp.length/2)),this.logger.info(eo+" "+this.streamId+" localSdp2 "+e.sdp.substr(e.sdp.length/2));var d=this.getSpan(ai,this.parentSpanKey);d.setAttributes({sdp:ci(e.sdp),is_mini:gi(this.stateCenter.isMiniSdp)}),null===(A=this.peerConnection)||void 0===A||A.setLocalDescription(e).then((function(){return Va(n,void 0,void 0,(function(){return Wa(this,(function(t){switch(t.label){case 0:return d.end(),[4,this.onSetLocalDescriptionSuccess(e,r)];case 1:return t.sent(),[2]}}))}))}),(function(e){n.logger.error(eo+" "+n.streamId+" error "+e.toString()),n.stateCenter.reporter.setError(d,{code:rc.error.kSetLocalDescError.code,message:e.toString()}),n.publishStateUpdateError(rc.error.kSetLocalDescError,!0)}))},e.prototype.updateBandwidthRestriction=function(e,t){var r="AS";return"firefox"===this.stateCenter.browser&&(t=1e3*(t>>>0),r="TIAS"),e=-1===e.indexOf("b="+r+":")?e.replace(/(m=video.*\r\nc=IN.*\r\n)/g,"$1b="+r+":"+t+"\r\n"):(e=e.replace(new RegExp("b="+r+":.*\r\n","g"),"b="+r+":"+t+"\r\n")).replace("b="+r+":"+t+"\r\n","")},e.prototype.onSetLocalDescriptionSuccess=function(e,t){var i,A,n,o;return Va(this,void 0,void 0,(function(){var s,a,c,g,u,l,h,d,p,C,I,Q,B=this;return Wa(this,(function(m){return this.logger.info(to+" "+this.streamId+" success"),this.localStream&&this.localStream.getTracks().forEach((function(e){YA(e,B.logger,to)})),!this.isUpdateSDP&&(this.state=f),t&&(this.videoInfo=ja(ja({},this.videoInfo),t)),s=!1,a=null===(i=this.previewer)||void 0===i?void 0:i.previewType,c=this.stateCenter.settingConfig,"camera"===a?s=c.getSetting("camera_hard_encode"):"screen"===a?s=c.getSetting("hardware_encode"):"custom"===a&&(s=c.getSetting("custom_hard_encode")),g=!s,this.logger.info(to+" "+this.streamId+" ".concat(null===(A=this.previewer)||void 0===A?void 0:A.previewType," software encode: ").concat(g,", ")),u=en.getSDPByVideDecodeType(e.sdp,this.videoCodec,g,this.stateCenter.engineConfig.encodecSelectionMode),l=null===(n=this.previewer.videoTrack)||void 0===n?void 0:n.getSettings(),h=(null==l?void 0:l.width)||this.videoInfo.width,d=(null==l?void 0:l.height)||this.videoInfo.height,p=(null==l?void 0:l.frameRate)||this.videoInfo.frameRate,C={sdp:u,width:isNaN(h)?100:h,height:isNaN(d)?100:d,frameRate:isNaN(p)?15:p,video_min_kpbs:this.videoInfo.bitRate,video_max_kpbs:this.videoInfo.bitRate,audio_kpbs:48,keyframe_intv:Math.floor((null===(o=this.videoInfo)||void 0===o?void 0:o.keyFrameInterval)||2),paramsExt:this.paramsExt},this.offerSeq=(0,r.getSeq)(),this.isUpdateSDP?(this.logger.info(to+" "+this.streamId+" update sdp"),I=ja(ja({},C),{seq:this.sessionSeq,peerID:this.peerID,type:0}),this.signal.sendMediaDescUpdateReq(this.offerSeq,this.sessionId,I,(function(e,t,r){0==(null==r?void 0:r.result)&&(null==r?void 0:r.sdp)&&B.onGetRemoteOfferSuccess(null==r?void 0:r.sdp)}),(function(e,t){B.logger.error(to+" "+B.streamId+" update sdp failed"),B.updateSDPCallBack&&B.updateSDPCallBack(-1),B.publishStateUpdateError(1==e?rc.error.kUpdateMediaDescriptionTimeOut:rc.error.kUpdateMediaDescriptionError)})),[2]):this.isPeer?(this.createSession(e,u),[2]):(Q=this.getSpan(Si,this.parentSpanKey),this.signal.sendMediaDesc(this.offerSeq,this.sessionId,0,C,(function(e,t,r){Q.setAttributes({webrtc_sid:wi(t),mediaDescription:{width:C.width,height:C.height,frameRate:C.frameRate,video_min_kpbs:C.video_min_kpbs,video_max_kpbs:C.video_max_kpbs,audio_kpbs:C.audio_kpbs,keyframe_intv:C.keyframe_intv},sdp:C.sdp}),Q.end(),B.offerSeq==e&&B.sessionId==t?(B.logger.info(to+" "+B.streamId+" send success stateNego:waiterAnswer"),B.stateNego=ce.waiterAnswer,B.state=E,"string"==typeof(null==r?void 0:r.sdp)&&(null==r?void 0:r.sdp)&&B.onGetRemoteOfferSuccess(r.sdp,!0)):B.logger.error(to+" "+B.streamId+" seq or sessionId is not equal")}),(function(e,t){B.stateCenter.reporter.setError(Q,{code:rc.error.kMediaDescError.code,message:e.toString()}),B.publishStateUpdateError(rc.error.kMediaDescError)})),this.logger.info(to+" "+this.streamId+" call success"),[2])}))}))},e.prototype.onRecvUpdateMediaDescription=function(e,t,r){return Va(this,void 0,void 0,(function(){var t,i,A;return Wa(this,(function(n){switch(n.label){case 0:if(this.logger.info(Eo+" "+this.streamId+" received"),this.logger.info(Eo+" "+this.streamId+" received stateNego:waitingCandidate"),this.signal.sendUpdateMediaDescAck(e,this.sessionId,0,this.peerID),t=r.sdp,!this.stateCenter.isMiniSdp||!t)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.signal.webrtcCenterSvr.parseRecSdp(t,!0)];case 2:return i=n.sent(),[3,4];case 3:return A=n.sent(),this.logger.info(Eo+" "+this.streamId+" parse sdp err "+JSON.stringify(A)),[3,4];case 4:return i=i||r.sdp,1==r.type?this.onGetRemoteOfferSuccess(i):this.publishStateUpdateError(rc.error.kMediaDescError),[2]}}))}))},e.prototype.onRecvMediaDescription=function(e,t,r){return Va(this,void 0,void 0,(function(){var t,i,A,n;return Wa(this,(function(o){switch(o.label){case 0:if(this.logger.info(io+" "+this.streamId+" received"),t=r.sdp,!this.stateCenter.isMiniSdp||!t)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.signal.webrtcCenterSvr.parseRecSdp(t,!0)];case 2:return i=o.sent(),[3,4];case 3:return A=o.sent(),this.logger.info(io+" "+this.streamId+" parse sdp err "+JSON.stringify(A)),[3,4];case 4:return i=i||r.sdp,(n=this.getSpan(Di,this.parentSpanKey)).setAttributes({sdp:bi(r.sdp),is_mini:ki(this.stateCenter.isMiniSdp)}),n.end(),this.state!=E?(this.logger.info(io+" "+this.streamId+" current state "+this.state+" not allowed"),[2]):(this.stateNego=ce.waitingCandidate,this.logger.info(io+" "+this.streamId+" received stateNego:waitingCandidate"),this.signal.sendMediaDescAck(e,this.sessionId,0),1==r.type?this.onGetRemoteOfferSuccess(i):this.publishStateUpdateError(rc.error.kMediaDescError),[2])}}))}))},e.prototype.getVideoSenders=function(){var e;return null===(e=this.peerConnection)||void 0===e?void 0:e.getSenders().filter((function(e){return e.track&&"video"===e.track.kind}))},e.prototype.canSetBandWidthBySender=function(){var e=this.stateCenter.browserInfo.name.toLowerCase(),t=function(e){return"string"!=typeof e?0:Number(e.split(".")[0])||0}(this.stateCenter.browserInfo.version);return("chrome"===e||"safari"===e||"firefox"===e&&t>=64)&&"RTCRtpSender"in window&&"setParameters"in window.RTCRtpSender.prototype},e.prototype.setBandwidth=function(e,t){return void 0===t&&(t=""),Va(this,void 0,void 0,(function(){var r=this;return Wa(this,(function(i){return[2,new Promise((function(i){var A,n=function(t){r.logger.info("zc.p.sbw set band width by sdp.");var i="AS";return"firefox"===r.stateCenter.browser&&(e=1e3*(e>>>0),i="TIAS"),t=/b=AS.*(\r\n|\n)/.test(t)?t.replace(/AS:(\d+)/,i+":"+e):t.replace(/m=video.*(\r\n|\n)c=.*(\r\n|\n)/,"$&b=".concat(i,":").concat(e,"\n"))},o=null===(A=r.getVideoSenders())||void 0===A?void 0:A.filter((function(e){var t,i;return(null===(t=e.track)||void 0===t?void 0:t.id)!==(null===(i=r.lowStream)||void 0===i?void 0:i.getVideoTracks()[0].id)}));r.canSetBandWidthBySender()&&(null==o?void 0:o.length)?(r.logger.info("zc.p.sbw set band width by sender parameter."),null==o||o.forEach((function(A){return Va(r,void 0,void 0,(function(){var r,o,s,a,c=this;return Wa(this,(function(g){return(r=A.getParameters()).encodings||(r.encodings=[{}]),o=1e3*e,s=r.encodings[0].maxBitrate,a=JSON.stringify(r.encodings[0]),r.encodings[0].maxBitrate=o,A.setParameters(r).then((function(){c.logger.info("zc.p.sbw update maxBitrate success. origin: ".concat(s,", new: ").concat(o," , ").concat(a,",").concat(A.getParameters().encodings[0]," ")),i(t)})).catch((function(e){c.logger.warn("zc.p.sbw set band width by sender parameter fail, fall back to sdp parse."+e),t&&(t=n(t)),i(t)})),[2]}))}))}))):(t&&(t=n(t)),i(t))}))]}))}))},e.prototype.onGetRemoteOfferSuccess=function(e,t){var r,i;return void 0===t&&(t=!1),Va(this,void 0,void 0,(function(){var A,n,o,s,a,c,g,u,l,h,d,p,C,I,f,E,m,y,v,_,S=this;return Wa(this,(function(w){switch(w.label){case 0:if(this.videoInfo.audioBitrate&&48e3!==this.videoInfo.audioBitrate&&(e=e.replace(/maxaveragebitrate=(\d+)/,"maxaveragebitrate="+this.videoInfo.audioBitrate)),this.remoteSdpOrder=e.match(/m=(.\w*)\s/g)||[],this.logger.info(ro+" "+this.streamId+" sdp revert "+this.remoteSdpOrder.join("")),this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1,A=this.stateCenter.settingConfig.getSetting("udp_max_fail_num"),!isNaN(A)&&(this.streamCenter.maxUdpFailNum=A),s=(n=this.streamCenter).maxUdpFailNum,a=n.udpFailNum,this.logger.info("zp.oro.0  autoToTcp: ".concat(o=n.autoSwitchProtocol,", udpFailNum: ").concat(a,", maxUdpFailNum: ").concat(s,".")),o&&!this._turnToTcp&&a>=s&&(this.logger.info("zp.oro.0 switch to tcp."),this._turnToTcp=!0),(c=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0))&&(this.logger.info("zp.oro.0 setting udp_or_tcp "+c),this._turnToTcp="tcp"===c),this._turnToTcp&&(null===(r=e.match(/candidate.*/g))||void 0===r||r.forEach((function(t){var r=t.replace(/udp/,"tcp");r.includes(" tcptype ")||(r=r.replace(" typ host "," typ host tcptype passive ")),e=e.replace(t,r)}))),this.logger.info("zp.oro.0 "+this.streamId+" sdp revert "+this.localSdpOrder.join("")+" "+this.remoteSdpOrder.join("")),this.localSdpOrder.join()!==this.remoteSdpOrder.join()&&this.localSdpOrder.length==this.remoteSdpOrder.length&&(g=new RegExp("[\\s\\S]*"+this.remoteSdpOrder[0]).exec(e)[0].replace(this.remoteSdpOrder[0],""),u=[],l="",this.localSdpOrder.forEach((function(t){var r=S.remoteSdpOrder.findIndex((function(e){return e==t})),i=new RegExp(t+"[\\s\\S]*"+(S.remoteSdpOrder[r+1]||"")).exec(e)[0].replace(S.remoteSdpOrder[r+1],""),A=/a=mid:(\w)/.exec(i)[1];u.push(A),l+=i||""})),e=g.replace(/a=group:BUNDLE.*/,"a=group:BUNDLE "+u.join(" "))+l,this.localSdpOrder=[],this.remoteSdpOrder=[]),h=e.match(/m=video(.|\r|\n)*a=rtpmap(.|\r|\n)*(a=fmtp:(\d+).*)/),"chrome"==this.stateCenter.browser&&(d=0,p=0,this.videoInfo.bitRate&&"target"===this.videoInfo.startBitrate&&(d=this.videoInfo.bitRate),this.videoInfo.minBitrate?p=this.videoInfo.minBitrate:"screen"===this.previewer.previewType&&(C=function(e){var t=0,r=e.frameRate,i=e.width*e.height*(r<=30?r:30);return"number"==typeof i?(t=i<=3888e3?200:i<=6912e3?400:i<=15552e3?700:i<=27648e3?1e3:2e3)>e.bitRate&&(t=e.bitRate):t=parseInt(.6*e.bitRate+""),{minBitrate:t,resolution:i}}(this.videoInfo),p=C.minBitrate,this.logger.info(ro+" "+this.streamId+" resolution: ".concat(C.resolution,", min bitrate: ").concat(p))),I=[],p&&I.push("x-google-min-bitrate=".concat(p)),d&&I.push("x-google-start-bitrate=".concat(d)),null!==h&&I.length&&(f=h[3],E="".concat(f,";").concat(I.join(";")),e=e.replace(f,E))),!(this.videoInfo.bitRate>0))return[3,5];w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this.setBandwidth(this.videoInfo.bitRate,e)];case 2:return e=w.sent(),[3,4];case 3:return m=w.sent(),this.logger.error(ro+JSON.stringify(m)),[3,4];case 4:null==(y=this.getVideoSenders())||y.forEach((function(e){var t,r,i,A,n,o;if(e&&e.getParameters&&e.setParameters){var s=e.getParameters();if(s.encodings&&0!=s.encodings.length||(s.encodings=[{}]),(null===(t=e.track)||void 0===t?void 0:t.id)==(null===(r=S.lowStream)||void 0===r?void 0:r.getVideoTracks()[0].id)){var a=null===(i=S.previewer)||void 0===i?void 0:i.lowStreamConfig.bitRate;a&&(s.encodings[0].maxBitrate=1e3*a)}else{var c=S.lastPublishStats.frameWidth,g=(null===(n=null===(A=S.previewer)||void 0===A?void 0:A.cameraMaxResolution)||void 0===n?void 0:n.maxWidth)||0,u=null===(o=S.previewer.videoTrack)||void 0===o?void 0:o.getSettings().width,l=c?Math.min(g,c):g;if(g&&u){var h=Math.max(l/u,1);s.encodings[0].scaleResolutionDownBy=h}}e.setParameters(s)}})),w.label=5;case 5:return this.logger.info(ro+" "+this.streamId+" remoteSdp:",e),v={type:"answer",sdp:e,toJSON:function(){}},(_=this.getSpan(li,this.parentSpanKey)).setAttributes({sdp:hi(v.sdp),is_mini:di(this.stateCenter.isMiniSdp),webrtc_sid:pi(this.sessionId)}),null===(i=this.peerConnection)||void 0===i||i.setRemoteDescription(new RTCSessionDescription(v)).then((function(){S.logger.info(ro+" "+S.streamId+" set success"),S.localStream&&S.localStream.getTracks().forEach((function(e){YA(e,S.logger,ro)})),_.end(),S.stateNego==ce.iceConnected&&S.updateSDPCallBack&&(S.logger.info(ro+" "+S.streamId+" update sdp success"),S.updateSDPCallBack(0),S.updateSDPCallBack=void 0,S.isUpdateSDP=!1)}),(function(e){S.logger.error(ro+" "+S.streamId+" failed: "+e.toString()),_.setAttributes({error:rc.error.kSetRemoteDescError.code,message:e.toString()}),_.end(),S.publishStateUpdateError(rc.error.kSetRemoteDescError,!0)})),this.state=Q,t&&e.indexOf("candidate")>-1&&(this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[],this.state=B),this.logger.info(ro+" "+this.streamId+" call success"),[2]}}))}))},e.prototype.onIceConnectionStateChange=function(e){var t,r=this;if(this.state!=y&&null!=this.peerConnection){this.logger.info(ao+" "+this.streamId+" ice state: "+this.peerConnection.iceConnectionState);var i=this.getSpan(vi,this.parentSpanKey,Ft.event);if(i.setAttributes({ice_state:_i(this.peerConnection.iceConnectionState)}),"connected"===this.peerConnection.iceConnectionState){if(this.logger.info(ao+" "+this.streamId+" connected state "+this.state+" ?"+(null===(t=this.peerConnection)||void 0===t?void 0:t.connectionState)),this.reportBeginTime){var A=(new Date).getTime()-this.reportBeginTime;this.reportSpan.setAttributes({publish_begin_time:ic.publish_begin_time(A)}),this.reportBeginTime=0}if(this.stateCenter.reporter.spanEnd({key:Ci,par:this.streamId},{webrtc_sid:this.sessionId}),this.stateNego=ce.iceConnected,this.answerSdpTime){var n=(new Date).getTime()-this.answerSdpTime;this.logger.info(ao+" "+this.streamId+" ice time "+n)}this.isProbeDispatch=!1,this.logger.info(ao+" "+this.streamId+" stateNego:iceConnected"),this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.peerConnection.connectionState||(this.publishEvent?this.publishSuccess():(this.firstGetStatsTimer&&clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null,this.firstGetStatsTimer=setTimeout((function(){var e;r.logger.info(ao+" get first stats state "+r.state),r.state!==m&&(null===(e=r.peerConnection)||void 0===e||e.getStats().then((function(e){r.logger.info(ao+" get first stats suc"),e.size>0&&r.publishSuccess()})))}),1e3)))}else"closed"===this.peerConnection.iceConnectionState?(i.end(),this.stateNego=ce.iceClosed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):"failed"===this.peerConnection.iceConnectionState?(i.end(),this.stateNego=ce.iceFailed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):"disconnected"===this.peerConnection.iceConnectionState&&(i.end(),this.logger.warn(ao+" ice disconnected "),this.stateNego=ce.iceDisconnected,this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout((function(){r.checkPublishConnectionFailedState("disconnected")}),this.iceDisconnectedMaxTime)))}},e.prototype.onIceCandidate=function(e){var t;(this.logger.info(oo+" "+this.streamId+" candidate "+JSON.stringify(e.candidate)),e.candidate)&&(-1!=(null===(t=e.candidate.candidate)||void 0===t?void 0:t.indexOf("relay"))?(this.logger.info(oo+" "+this.streamId+" candidate "+e.candidate.candidate+" state "+this.state),this.state<B||this.state==y?this.candidateInfo.push({candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex}):this.sendCandidateInfo([{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex}])):this.logger.info(oo+" "+this.streamId+" candidate not relay"))},e.prototype.sendCandidateInfo=function(e){var t=this;if(this.logger.info(po+" "+this.streamId+" called"),!(e=e.filter((function(e){return e.candidate.indexOf("relay")>0})))||e.length<1)this.logger.info(po+" "+this.streamId+" cancelled");else{var i=this.getSpan(Ri,this.parentSpanKey);i.setAttributes({candidate_info:Ni(e)}),this.stateNego!==ce.iceConnected&&(this.stateNego=ce.sendCandidate),this.logger.info(po+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo((0,r.getSeq)(),this.sessionId,e,(function(e,r,A){t.logger.info(po+" "+t.streamId+" send success"),i.end()}),(function(e,r){t.logger.error(po+" "+t.streamId+" failed to send: "+e.toString()),t.stateCenter.reporter.setError(i,{code:rc.error.kCandidateError.code,message:e.toString()}),t.publishStateUpdateError(rc.error.kCandidateError)}))}},e.prototype.onConnectionStateChange=function(e){var t,r=null===(t=this.peerConnection)||void 0===t?void 0:t.connectionState;this.logger.info(so+" "+this.streamId+" conn state: "+r),"connected"===r&&this.state!==m&&this.publishSuccess()},e.prototype.onSignalStateChange=function(e){this.logger.info(so+" "+this.streamId+" signal state: "+e.target.signalingState),this.state!=y&&null!=this.peerConnection&&"closed"===e.target.signalingState&&(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.stateNego=ce.iceClosed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState))},e.prototype.onRecvCandidateInfo=function(e,t,r){var i,A=this;this.logger.info(Ao+" "+this.streamId+" received "+JSON.stringify(r.infos));var n=this.getSpan(Ti,this.parentSpanKey);if(n.setAttributes({candidate_info:Li(r.infos)}),n.end(),this.state==Q){this.signal.sendCandidateInfoAck(e,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var o=0;o<r.infos.length;o++){var s={sdpMid:r.infos[o].sdpMid,sdpMLineIndex:r.infos[o].sdpMLineIndex,candidate:r.infos[o].candidate};this.logger.debug(Ao+""+this.streamId+" candidate "+s.candidate),null===(i=this.peerConnection)||void 0===i||i.addIceCandidate(new RTCIceCandidate(s)).then((function(){A.logger.info(Ao+" "+A.streamId+" add success")}),(function(e){A.logger.error(Ao+" "+A.streamId+" add error "+e.toString()),A.publishStateUpdateError(rc.error.kCandidateError,!0)}))}this.state=B,this.getSpan(Ci,this.parentSpanKey,"",!0).setAttributes({webrtc_sid:this.sessionId})}else this.logger.info(Ao+" "+this.streamId+" current state "+this.state+" not allowed")},e.prototype.onRecvCloseSession=function(e,t,r){var i=this;this.logger.info(ho+" "+this.streamId+" "+JSON.stringify(r));var A=this.getSpan(Bi,Ft.event);A.setAttributes({err_info:mi(r.err_info||""),reason_info:null==r?void 0:r.reason}),A.end(),this.stateCenter.reporter.spanSetAttributes({key:Ft.event,par:this.streamId},{denied_info:Ft.denied_info(r.err_info),stop_reason:Ft.stop_reason("DenyStop")}),this.signal.sendCloseSessionAck(e,this.sessionId,0);var n=r.err_info?JSON.parse(r.err_info.toLowerCase()):{},o=n.action?n.action:null,s=1*r.reason,a=JSON.parse(JSON.stringify(rc.error.kPublishSessionClosedError));a.message+=" reason:".concat(s," ").concat(o?" action:"+o:""," ").concat((null==n?void 0:n.err)?" err:"+(null==n?void 0:n.err):""),a.message+=";".concat(Fa(s,o,null==n?void 0:n.err)),1011===n.err&&(a=rc.error.kMediaServerForbidError),1014===n.err&&(a=rc.error.kPublishTokenExpiredError),this.negoTimer&&clearTimeout(this.negoTimer);var c=!([4,8,10,11,12,14,18,24,26,27,28,32].includes(s)||[2,3,4,5,6].includes(o)),g=!1;if(!this._turnToTcp){if([8,10].includes(s)||[18,15].includes(s)&&2===o&&[3001,3002].includes(n.err)){this.streamCenter.udpFailNum++;var u=this.streamCenter;u.autoSwitchProtocol&&u.udpFailNum>=u.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1),g=!0)}else this._turnToTcp||(this.streamCenter.udpFailNum=0);var l=this.gwNodeList.findIndex((function(e){return e==i.gwNode}))===this.gwNodeList.length-1,h=[3001,3002,3003,3004,3005,3006,3007,3008].includes(n.err);l&&h&&(this.logger.info(ho+" "+this.streamId+" switch tcp by all fail"),this.stateCenter.turnToTcp=!0)}this.publishStateUpdateError(a,c,n,g)},e.prototype.onRecvResetSession=function(e,t,r){if(this.logger.info(lo+" "+this.streamId+" received "),this.getSpan(yi,Ft.event).end(),t==this.sessionId){this.signal.sendCloseSessionAck(e,this.sessionId,0);var i=rc.error.kPublishSessionClosedError;this.negoTimer&&clearTimeout(this.negoTimer),this.publishStateUpdateError(i)}else this.logger.error(lo+" "+this.streamId+" cannot find session")},e.prototype.onRecvPublishEvent=function(e,t,r){var i;this.logger.info("zc.p.0.orpe "+this.streamId+" received");var A=this.getSpan(Ii,this.parentSpanKey,Ft.event);A.setAttributes({event_state:fi(r.event),webrtc_sid:t}),A.end(),this.firstGetStatsTimer&&(clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null);var n=null===(i=this.peerConnection)||void 0===i?void 0:i.connectionState;this.publishEvent=!0,(n?"connected"===n:this.stateNego===ce.iceConnected)&&this.state!=m&&0==r.event&&this.publishSuccess()},e.prototype.onRecvClientInfo=function(e,t,r){this.stateCenter.clientIP!==r.clientip&&this.logger.warn(no+" client ip changed "+this.stateCenter.clientIP+" "+r.clientip),this.signal.sendClientInfoAck(e,this.sessionId,0),this.stateCenter.clientIP=r.clientip,this.peerID=r.peer_id,this.streamConnectIP=r.clientip,this.stateCenter.isMultiOuter=this.isMultiOuter(),this.sideMediaConfig.isSEIStart&&this.sideMediaConfig.SEIType==le.UserUnregister&&this.sideMediaConfig.unregisterSeiFilter&&this.sendSEIUUID();var i=this.previewer;if(i&&null!==i.activateSEIConfig){var A=null==i?void 0:i.activateSEIConfig;this.activateSEIInsert(A.action,A.infoType)}},e.prototype.sendSEIUUID=function(){var e=this;this.logger.info("zc.ssuid call: "+this.sideMediaConfig.unregisterSeiFilter),this.signal.gw.mediaStreamSEIUUIDReq((0,r.getSeq)(),this.sessionId,this.peerID,this.sideMediaConfig.unregisterSeiFilter).then((function(t){var r;e.logger.info("zc.ssuid success"),0==(null===(r=null==t?void 0:t.usr_sei_filter)||void 0===r?void 0:r.result)&&(e.sideMediaConfig.uuidSend=!0)})).catch((function(t){e.logger.error("zc.ssuid failed")}))},e.prototype.checkPublishConnectionFailedState=function(e){this.logger.info(ao+" streamID "+this.streamId," state "+this.state+" connectionState "+e),this.publishStateUpdateError(rc.error.kMediaConnectionError)},e.prototype.getStopReason=function(e){var t="StopPublish";if(e&&e.code)if(1103051===e.code)t="ReachMaxAVRetryTime";else t="StopPublish";return t},e.prototype.stopPublish=function(e){var t;this.logger.info("zc.p.0.sp.1  .1 "+this.streamId+" called "+this.state+" "+JSON.stringify(e));var i=this.getStopReason(e);if(Object.keys(this.streamCenter.publisherList).length=1)for(var A in this.streamCenter.playerList){var n=this.streamCenter.playerList[A].player;n.state==k&&n.broadcasterStatus==ne.start&&(this.signal&&this.signal.sendBroadcasterStatus((0,r.getSeq)(),n.sessionId,0),n.broadcasterStatus=ne.stop)}this.sessionId&&!this.closeSessionSignal&&(this.signal.sendCloseSession((0,r.getSeq)(),this.sessionId,0),this.resetPushCmdSeqMap());var o=Date.now()-this.reportPublishStateTime;this.reportSpan.setAttributes({publish_state_time:ic.publish_state_time(o)}),this.stateCenter.reporter.spanSetAttributes({key:Ft.event,par:this.streamId},{stop_reason:Ft.stop_reason(i)}),this.uploadRTCPublishStats(),this.reportSpan.setAttributes({stream_id:ic.stream_id(this.streamId),webrtc_sid:ic.webrtc_sid(this.sessionId),probe_ip_cnt:ic.probe_ip_cnt(this.probeIpCnt),valid_probe_ip_cnt:ic.valid_probe_ip_cnt(this.validProbeIpCnt),poor_quality_retry_cnt:ic.poor_quality_retry_cnt(this.poorQualityRetryCnt),probe_not_trigger_retry_info:ic.probe_not_trigger_retry_info(this.probeNotRetryInfos.length>0?this.probeNotRetryInfos:void 0),bitrate:ic.bitrate(1e3*this.videoInfo.bitRate),h:ic.h(this.videoInfo.height),w:ic.w(this.videoInfo.width),cap_w:ic.w(this.videoInfo.width),cap_h:ic.h(this.videoInfo.height),fps:ic.h(this.videoInfo.frameRate),env:ic.env(this.stateCenter.testEnvironment?3:1),fail_cnt:ic.fail_cnt(Math.max(this.rtcPublishCount-1,0)),continuous_fail_cnt:ic.continuous_fail_cnt(this.continuousFailCnt),stop_reason:ic.stop_reason(i),error:(null==e?void 0:e.code)||0,message:(null==e?void 0:e.message)||""}),this.reportSpan.end(),this.streamCenter.stopToReport(0),this.retryFailGwNodes=[],this.resetPublish(),this.isRePublish=!1,this.rtcPublishCount=0,this.isProbeDispatch=!1,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,null===(t=this.zegoCaptureStream)||void 0===t||t.resetPublish()},e.prototype.uploadRTCPublishStats=function(){var e,t,r,i,A,n,o,s,a,c,g,u,l,h;this.stateCenter.reporter.spanSetAttributes({key:Ft.event,par:this.streamId},{lsttime:Ft.lsttime(parseInt(this.lastPublishStats.time)),total_stat:Ft.total_stat({afc:null===(e=this.lastPublishStats)||void 0===e?void 0:e.audioPacketsSent,vfc:null===(t=this.lastPublishStats)||void 0===t?void 0:t.framesSent,tfc:(null===(r=this.lastPublishStats)||void 0===r?void 0:r.audioPacketsSent)+(null===(i=this.lastPublishStats)||void 0===i?void 0:i.framesSent),vb:null===(A=this.lastPublishStats)||void 0===A?void 0:A.videoBytesSent,ab:null===(n=this.lastPublishStats)||void 0===n?void 0:n.audioBytesSent,tb:(null===(o=this.lastPublishStats)||void 0===o?void 0:o.videoBytesSent)+(null===(s=this.lastPublishStats)||void 0===s?void 0:s.audioBytesSent),rtp_rtt:Math.round(1e3*(null===(a=this.publishStat)||void 0===a?void 0:a.currentRoundTripTime))||0,w:null===(c=this.publishStat)||void 0===c?void 0:c.frameWidth,rtp_plr:null===(g=this.publishStat)||void 0===g?void 0:g.videoPacketsLostRate,h:null===(u=this.publishStat)||void 0===u?void 0:u.frameHeight,rtp_bw:(null===(l=this.publishStat)||void 0===l?void 0:l.googAvailableSendBandwidth)?null===(h=this.publishStat)||void 0===h?void 0:h.googAvailableSendBandwidth:void 0})})},e.prototype.onPublishStateUpdate=function(e,t,r,i,A,n){},e.prototype.onPublishQualityUpdate=function(e,t){},e.prototype.onDisconnect=function(e){this.logger.info(Io+" "+this.streamId+" call"),this.logger.info(Io+" "+this.streamId+" websocket disconnect"),this.publishStateUpdateError(e||Yt.error.kWebsocketDisconnectedError,!!e)},e.prototype.publishSuccess=function(){var e,t,i,A,n=this;if(this.logger.info(Xn+" call"),this._turnToTcp||(this.streamCenter.udpFailNum=0),this.isUpdateSDP&&this.updateSDPCallBack)return this.logger.info(Xn+" "+this.streamId+" update sdp success"),this.updateSDPCallBack(0),this.updateSDPCallBack=void 0,void(this.isUpdateSDP=!1);var o=this.isRePublish?Dt:wt;for(var s in this.stateCenter.reporter.spanEnd({key:o.event,par:this.streamId},{url:Ac.url(null===(e=this.signal)||void 0===e?void 0:e.server),ip:Ac.ip(this.ip),source_type:Ac.source_type("rtc"),net_protocol:Ac.net_protocol(this.netProtocol),is_center:Ac.is_center(null===(t=this.streamCenter.publisherList[this.streamId])||void 0===t?void 0:t.isCenterNode),signal_consume:Ac.signal_consume(this.signalTime),is_peer:Ac.is_peer(this.isPeer)}),this.state!=m&&this.onPublishStateUpdate(ve,this.streamId,{code:0,message:""},!0),this.isPeer&&(this.peerFailCount=0),this.state=m,this.continuousFailCnt=0,this.reportPublishStateTime=Date.now(),this.streamCenter.playerList){var a=this.streamCenter.playerList[s].player;a.state==k&&a.broadcasterStatus==ne.stop&&(this.signal&&this.signal.sendBroadcasterStatus((0,r.getSeq)(),a.sessionId,1),a.broadcasterStatus=ne.start)}var c=this.stateCenter.settingConfig.getSetting("probe_started_num");!isNaN(c)&&(this.streamCenter.probeStartedNum=c),this.qualityHandler.setPublishQualityTimer();var g=2,u=2,l=null===(i=this.previewer)||void 0===i?void 0:i.videoTrack,h=0!==this.localStream.getAudioTracks().length&&this.localStream.getAudioTracks()[0];this.localStream&&this.localStream.getTracks().forEach((function(e){YA(e,n.logger,Xn)})),(l&&"live"===l.readyState&&!0===l.enabled||(null===(A=this.previewer)||void 0===A?void 0:A.muteImage))&&(g=0),h&&"live"===h.readyState&&!0===h.enabled&&(u=0),this.sendStreamStatus(g,u,!0),this.streamCenter.soundLevelDelegate&&this.previewer&&this.previewer.startSoundLevel(),this.logger.info(Xn+" call success")},e.prototype.startSoundLevel=function(){var e;if(this.logger.info(fo+" call streamID: "+this.streamId),this.localStream&&0!=this.localStream.getAudioTracks().length)try{null===(e=this.previewer)||void 0===e||e.startSoundLevel()}catch(e){this.logger.error(fo+" "+this.streamId+" get sound level failed "+e)}else this.logger.info(fo+" "+this.streamId+" local stream no found")},e.prototype.stopSoundLevel=function(){var e;this.logger.info("zc.p.0.ssl.1 call streamID: "+this.streamId),null===(e=this.previewer)||void 0===e||e.stopSoundLevel()},e.prototype.handleEncBitrate=function(e,t,r){var i,A=this,n=1e3*this.videoInfo.bitRate,o=0;if(t>0){this.needIncMax||this.gotMax||(this.probeCount++,t>=.75*e?(this.probeCount>=10&&this.initFitCnt>=.6*this.probeCount&&(this.gotMax=!0,this.targetRate=n),this.initFitCnt++):this.probeCount>=10&&this.initFitCnt/this.probeCount<.3&&(this.needIncMax=!0));var s=FA(this.totalBitrateArray,t,10);if(this.needIncMax)if(s>=1.05*n){if(this.targetRate>n){this.targetRate-=s>e?s-e:s-n,this.targetRate=Math.max(this.targetRate,n),this.targetRate=Math.min(this.targetRate,2*n),o=this.targetRate}}else s<.8*n&&(0===this.targetRate&&(this.targetRate=e),this.targetRate=this.targetRate>=n?this.targetRate+.08*n:1.05*this.targetRate,this.targetRate=Math.min(this.targetRate,2*n),o=this.targetRate)}if(r>0&&r<n){var a=FA(this.totalRetransRateArray,r,5);if(this.needIncMax){if(a+t>1.05*n)this.targetRate-=a+t-n,this.targetRate=Math.max(this.targetRate,n-a),o=this.targetRate}else o=this.targetRate-a}else this.targetRate<n&&(this.targetRate=n,o=this.targetRate);if(o>0){o=FA(this.totalTargetRateArray,o,5);var c=null===(i=this.peerConnection)||void 0===i?void 0:i.getSenders().filter((function(e){return e.track&&"video"===e.track.kind}));if(!c)return;var g=c.length>1?c[1]:c[0]?c[0]:null;if(!g)return;var u=g.getParameters();u.encodings||(u.encodings=[{}]),u.encodings[0].maxBitrate=o,g.setParameters(u).catch((function(e){A.logger.error("zc.p.0.heb "+e)}))}},e.prototype.resetEncBitrate=function(){this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[]},e.prototype.replacePublishedTrack=function(e,t,r){return void 0===t&&(t=!1),{errorCode:-1,extendedData:"should install advanced module first"}},e.prototype.sendStreamStatus=function(e,t,i,A){var n=this;void 0===i&&(i=!1),void 0===A&&(A=0),(i||this.camera_status!==e||this.mic_status!==t)&&this.signal&&(this.camera_status=e,this.mic_status=t,A++,this.signal.sendStreamStatus((0,r.getSeq)(),this.sessionId,e,t,this.streamId,(function(){n.camera_status===e&&n.mic_status===t&&A<=1&&n.sendStreamStatus(e,t,!0,A)})))},e.prototype.handleSEIVideoTrack=function(e){"add"==e&&this.sideMediaConfig.track?this.clearCanvasTimer():"remove"!=e||this.sideMediaConfig.track||(this.sideMediaConfig.track=this.addCanvasStreamVideoTrack())},e.prototype.addCanvasStreamVideoTrack=function(){var e=this;this.canvas=WA(16,16),this.ctx=this.canvas.getContext("2d"),this.canvasImage=new Image,this.canvasImage.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFFJREFUOE9jZGBgaGBgYLBnYGBwYCANHGBgYDjIyMDAcIWBgUGbNL1w1VdBBvwnUzNY26gBo2EwjNLBfjJyIiz7HADlBVB2DiEjR15lYGBYAwAypRSY53SYoAAAAABJRU5ErkJggg==";var t=this.stateCenter.engineConfig.blankVideoTrackFrameInterval||100;return this.logger.info("zc.acsvt frame interval: "+t),this.canvasTimer=setInterval((function(){var t;null===(t=e.ctx)||void 0===t||t.drawImage(e.canvasImage,0,0,16,16)}),t),this.canvas.captureStream().getVideoTracks()[0]},e.prototype.getSpan=function(e,t,r,i){return void 0===i&&(i=!1),this.stateCenter.reporter.createSpan(Ie.H,{key:t,bak_key:r,par:this.streamId},{key:e,par:this.streamId},e,i)},e.prototype.isMultiOuter=function(){return!(!this.stateCenter.accessClientIp||!this.streamConnectIP||this.stateCenter.accessClientIp===this.streamConnectIP)},e.prototype.isCustomCdn=function(){var e,t;return void 0!==(null===(e=this.publishOption)||void 0===e?void 0:e.cdnUrl)&&""!==(null===(t=this.publishOption)||void 0===t?void 0:t.cdnUrl)},e.prototype.setTurnTcp=function(){this._turnToTcp=this.stateCenter.turnToTcp,void 0!==this.stateCenter.turnOverTcpOnly&&(this._turnToTcp=this.stateCenter.turnOverTcpOnly)},e.prototype.setStreamAlignmentProperty=function(e){var t=this;return new Promise((function(i){t.signal.gw.streamPropertyUpdate((0,r.getSeq)(),t.sessionId,t.peerID,e).then((function(r){t.logger.info("zc.zsap succsess. ".concat(r)),t.mixConfig.alignment=e,i(!0)})).catch((function(e){t.logger.error("zc.zsap failed. ".concat(e)),i(!1)}))}))},e}(),oc=function(){this.publisherList={},this.playerList={},this.stopedPlayerList={}},sc=__webpack_require__(6348),ac=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},cc=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},gc=function(){function e(e,t,r){this.logger=e,this.streamSignal=t,this.stateCenter=r,this.callbackMap={},this.pushCmdSeqs={}}return e.prototype.streamPropertyUpdate=function(e,t,r,i){return ac(this,void 0,void 0,(function(){var A=this;return cc(this,(function(n){return[2,new Promise((function(n,o){var s=sc.webrtc_cmd.WebrtcCmdReqMsg.encode({stream_property_update:{enable_stream_alignment_when_mix:i}}).finish();A.streamSignal.sendGWCmd(e,t,{peer_id:r,cmd_id:9},s,(function(e,t,r){var i=sc.webrtc_cmd.WebrtcCmdRspMsg.decode(r.body);i.stream_property_update_ack?n(i.stream_property_update_ack.result):o(i)}),(function(e){o(e)}))}))]}))}))},e.prototype.mediaStreamSEIUUIDReq=function(e,t,r,i){return ac(this,void 0,void 0,(function(){var A=this;return cc(this,(function(n){return[2,new Promise((function(n,o){var s=sc.webrtc_cmd.WebrtcCmdReqMsg.encode({usr_sei_filter:{sei_filter:i}}).finish();A.streamSignal.sendGWCmd(e,t,{peer_id:r,cmd_id:5},s,(function(e,t,r){var i=sc.webrtc_cmd.WebrtcCmdRspMsg.decode(r.body);un(i[Object.keys(i)[0]]),n(i)}),(function(e){o(e)}))}))]}))}))},e.prototype.metadataAck=function(e,t,r){return ac(this,void 0,void 0,(function(){var i;return cc(this,(function(A){return i=sc.webrtc_cmd.WebrtcCmdRspMsg.encode({meta_data_ack:{result:1}}).finish(),this.streamSignal.sendGWAck(e,t,{peer_id:r,cmd_id:1},i),[2]}))}))},e.prototype.registerPushCallback=function(e,t,r){var i,A=this,n=this.callbackMap[t];n?n[e]=r:(this.callbackMap[t]=((i={})[e]=r,i),this.pushCmdSeqs[t]={},this.streamSignal.registerPushCallback("CmdPush",t,(function(t,r,i){var n=performance.now();if(A.pushCmdSeqs[r][i.cmd_id]){var o=A.pushCmdSeqs[r][i.cmd_id],s=o.seq;if(void 0!==s&&s>=t&&n-o.time<6e3)return void A.logger.warn("zc.gs.rpc"+" ".concat(r," CdmPush order ").concat(e," ").concat(i.cmd_id," local: ").concat(s," seq ").concat(t))}A.pushCmdSeqs[r][i.cmd_id]={seq:t,time:n};var a=A.stateCenter.useNetAgent?i.body:cn(i.body),c=sc.webrtc_cmd.WebrtcCmdReqMsg.decode(a),g=Object.keys(c)[0];un(c[g=g||"meta_data_push"]);var u=A.callbackMap[r];if(u){var l=u[g];l&&l(t,r,c)}})))},e.prototype.unregisterPushCallback=function(e,t){var r=this.callbackMap[t];r&&(delete r[e],0===Object.keys(r).length&&(this.streamSignal.unregisterPushCallback("CmdPush",t),delete this.callbackMap[t],delete this.pushCmdSeqs[t]))},e}();!function(e){e[e.Connected=0]="Connected",e[e.Disconnected=1]="Disconnected",e[e.Broken=2]="Broken"}(Za||(Za={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(Xa||(Xa={})),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}($a||($a={}));var uc,lc=function(){function e(e,t,i,A,n){var o=this;this.server=e,this.netAgent=t,this.signalConfig=i,this.logger=A,this.stateCenter=n,this.readyState=$a.CLOSED,this.isActive=!1,this.accessServerState=Za.Disconnected,this.originAccessServerState=Za.Disconnected,this.mediaServerState=Za.Disconnected,this.originMediaServerState=Za.Disconnected,this.eventHandler={accessDisconnect:function(){o.setAccessServerState(Za.Disconnected)},accessConnect:function(){o.setAccessServerState(Za.Connected)},accessBroken:function(){o.setAccessServerState(Za.Broken)},mediaDisconnect:function(){o.setMediaServerState(Za.Disconnected)},mediaConnect:function(e){o.setMediaServerState(Za.Connected,e)},mediaBroken:function(){o.setMediaServerState(Za.Broken)}},this.wsHandler=t.getPCRequest("unified_rtc"===e?r.BusinessService.SERVICE_WEBRTC_SIGNAL:r.BusinessService.SERVICE_L3_WEBRTC_SIGNAL,{path:i.path,query:i.query,encode:i.encode,messageType:i.messageType,isMsgCache:!1}),this.setAccessServerState(t.isConnect()?Za.Connected:Za.Disconnected),this.setMediaServerState(0===this.wsHandler.connectState?Za.Connected:Za.Disconnected)}return e.prototype.updateAccessReadyState=function(){this.isActive&&this.accessServerState===Za.Connected&&this.mediaServerState!==Za.Connected?this.onreconnnecting&&this.onreconnnecting():this.accessServerState===Za.Disconnected&&this.logger.warn("zc.as.uars access timeout")},e.prototype.updateMediaReadyState=function(e){return this.logger.info("zc.as.umrs "+e),this.mediaServerState===Za.Connected?(this.originMediaServerState===Za.Broken&&e===Xa.AUTO&&this.onreconnnecting&&this.onreconnnecting(),void(this.readyState!==$a.OPEN&&(this.readyState=$a.OPEN,this.onopen&&this.onopen()))):this.mediaServerState===Za.Disconnected?(this.wsHandler.off("connected",this.eventHandler.mediaConnect),this.wsHandler.off("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.off("broken",this.eventHandler.mediaBroken),this.wsHandler.off("downLoadMessage"),this.netAgent.off("connected",this.eventHandler.accessConnect),this.netAgent.off("disconnected",this.eventHandler.accessDisconnect),this.netAgent.off("broken",this.eventHandler.accessBroken),void(this.readyState!==$a.CLOSED&&(this.readyState=$a.CLOSED,this.onclose&&this.onclose()))):void(this.mediaServerState===Za.Broken&&(this.readyState=$a.CONNECTING,this.onerror&&this.onerror(new Event("signal connecting"))))},e.prototype.setMediaServerState=function(e,t){this.logger.info(zo+" "+e+" "+t),this.mediaServerState!==e?(this.originMediaServerState=this.mediaServerState,this.mediaServerState=e,this.updateMediaReadyState(t)):this.logger.info(zo+" same state")},e.prototype.setAccessServerState=function(e){this.logger.info(jo+" "+e),this.accessServerState!==e?(this.originAccessServerState=this.accessServerState,this.accessServerState=e,this.updateAccessReadyState()):this.logger.info(jo+" same state")},e.prototype.open=function(){var e=this;this.isActive=!0,this.logger.info("zc.as.op state "+this.mediaServerState),this.mediaServerState===Za.Disconnected&&(this.wsHandler.on("connected",this.eventHandler.mediaConnect),this.wsHandler.on("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.on("broken",this.eventHandler.mediaBroken),this.netAgent.on("connected",this.eventHandler.accessConnect),this.netAgent.on("disconnected",this.eventHandler.accessDisconnect),this.netAgent.on("broken",this.eventHandler.accessBroken),this.wsHandler.on("downLoadMessage",(function(t,r){e.onmessage({data:t,extras:r})})),this.wsHandler.off("pcBrokenEvent"),this.wsHandler.on("pcBrokenEvent",(function(t){var r=oA,i=e.stateCenter.reporter.createSpan(Ie.H,{key:AA},{key:""},r.event);i.setAttributes({service_no:r.service_no(null==t?void 0:t.service_no)}),i.end()})),this.wsHandler.off("pcDisconnectedEvent"),this.wsHandler.on("pcDisconnectedEvent",(function(t){var r=sA,i=e.stateCenter.reporter.createSpan(Ie.H,{key:AA},{key:""},r.event);i.setAttributes({service_no:r.service_no(null==t?void 0:t.service_no)}),i.end()})),this.wsHandler.off("pcConnectedEvent"),this.wsHandler.on("pcConnectedEvent",(function(t){var r=nA,i=e.stateCenter.reporter.createSpan(Ie.H,{key:AA},{key:""},r.event);i.setAttributes({service_no:r.service_no(t.service_no),recv_time:r.recv_time((new Date).getTime()),proxy_link_sources:r.proxy_link_sources(t.proxy_link_sources),connect_stream:r.connect_stream(t.connect_stream)}),i.end()})))},e.prototype.close=function(){this.logger.info("zc.as.c call"),this.isActive=!1,this.wsHandler.off("connected",this.eventHandler.mediaConnect),this.wsHandler.off("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.off("broken",this.eventHandler.mediaBroken),this.wsHandler.off("downLoadMessage"),this.netAgent.off("connected",this.eventHandler.accessConnect),this.netAgent.off("disconnected",this.eventHandler.accessDisconnect),this.netAgent.off("broken",this.eventHandler.accessBroken),this.wsHandler.closeRequest()},e.prototype.send=function(e,t,r,i){var A=this;this.wsHandler.sendRequest({payload:e,ack:t,isInSendMap:r},(function(e){A.logger.info(Vo+" fail "+e),A.onerror&&A.onerror(e)}),(function(e){A.logger.info(Vo+" suc "+e)}),i)},e.prototype.onopen=function(){},e.prototype.onclose=function(e){},e.prototype.onerror=function(e){},e.prototype.onmessage=function(e){},e.prototype.onreconnnecting=function(){},e}(),hc=__webpack_require__(4212),dc=__webpack_require__(6602);!function(e){e[e.LoginReq=1]="LoginReq",e[e.LoginRsp=2]="LoginRsp",e[e.CreateSessionReq=3]="CreateSessionReq",e[e.CreateSessionRsp=4]="CreateSessionRsp",e[e.CreateSessionWithSdpReq=5]="CreateSessionWithSdpReq",e[e.CreateSessionWithSdpRsp=6]="CreateSessionWithSdpRsp",e[e.SessionResetPush=7]="SessionResetPush",e[e.SessionResetAck=8]="SessionResetAck",e[e.PublishEventPush=9]="PublishEventPush",e[e.PlayEventPush=10]="PlayEventPush",e[e.MediaDescReq=11]="MediaDescReq",e[e.MediaDescRsp=12]="MediaDescRsp",e[e.CandidateInfoReq=13]="CandidateInfoReq",e[e.CandidateInfoRsp=14]="CandidateInfoRsp",e[e.CloseSessionReq=15]="CloseSessionReq",e[e.CloseSessionRsp=16]="CloseSessionRsp",e[e.MediaDescPush=17]="MediaDescPush",e[e.MediaDescAck=18]="MediaDescAck",e[e.CandidateInfoPush=19]="CandidateInfoPush",e[e.CandidateInfoAck=20]="CandidateInfoAck",e[e.CloseSessionPush=21]="CloseSessionPush",e[e.CloseSessionAck=22]="CloseSessionAck",e[e.StreamStatusNotify=23]="StreamStatusNotify",e[e.StreamStatusNotifyAck=24]="StreamStatusNotifyAck",e[e.StreamStatusNotifyPush=25]="StreamStatusNotifyPush",e[e.StreamStatusNotifyPushAck=26]="StreamStatusNotifyPushAck",e[e.BroadcasterStatusNotify=27]="BroadcasterStatusNotify",e[e.BroadcasterStatusAck=28]="BroadcasterStatusAck",e[e.ActivateAudioPlayStreamReq=29]="ActivateAudioPlayStreamReq",e[e.ActivateAudioPlayStreamRsp=30]="ActivateAudioPlayStreamRsp",e[e.ActivateVideoPlayStreamReq=31]="ActivateVideoPlayStreamReq",e[e.ActivateVideoPlayStreamRsp=32]="ActivateVideoPlayStreamRsp",e[e.ClientInfoPush=33]="ClientInfoPush",e[e.ClientInfoAck=34]="ClientInfoAck",e[e.NetQualityProbeReq=35]="NetQualityProbeReq",e[e.NetQualityProbeRsp=36]="NetQualityProbeRsp",e[e.NetQualityInfoPush=37]="NetQualityInfoPush",e[e.NetQualityInfoAck=38]="NetQualityInfoAck",e[e.ActivateSEIInsertReq=39]="ActivateSEIInsertReq",e[e.ActivateSEIInsertRsp=40]="ActivateSEIInsertRsp",e[e.Peer2PeerNetStatsGetReq=41]="Peer2PeerNetStatsGetReq",e[e.Peer2PeerNetStatsGetRsp=42]="Peer2PeerNetStatsGetRsp",e[e.CmdReq=43]="CmdReq",e[e.CmdRsp=44]="CmdRsp",e[e.CmdPush=45]="CmdPush",e[e.CmdAck=46]="CmdAck",e[e.WebRTCDispatchReq=47]="WebRTCDispatchReq",e[e.WebRTCDispatchRsp=48]="WebRTCDispatchRsp"}(uc||(uc={}));var pc={1:"LoginReq",2:"LoginRsp",3:"CreateSessionReq",4:"CreateSessionRsp",5:"CreateSessionWithSdpReq",6:"CreateSessionWithSdpRsp",7:"SessionResetPush",8:"SessionResetAck",9:"PublishEventPush",10:"PlayEventPush",11:"MediaDescReq",12:"MediaDescRsp",13:"CandidateInfoReq",14:"CandidateInfoRsp",15:"CloseSessionReq",16:"CloseSessionRsp",17:"MediaDescPush",18:"MediaDescAck",19:"CandidateInfoPush",20:"CandidateInfoAck",21:"CloseSessionPush",22:"CloseSessionAck",23:"StreamStatusNotify",24:"StreamStatusNotifyAck",25:"StreamStatusNotifyPush",26:"StreamStatusNotifyPushAck",27:"BroadcasterStatusNotify",28:"BroadcasterStatusAck",29:"ActivateAudioPlayStreamReq",30:"ActivateAudioPlayStreamRsp",31:"ActivateVideoPlayStreamReq",32:"ActivateVideoPlayStreamRsp",33:"ClientInfoPush",34:"ClientInfoAck",35:"NetQualityProbeReq",36:"NetQualityProbeRsp",37:"NetQualityInfoPush",38:"NetQualityInfoAck",39:"ActivateSEIInsertReq",40:"ActivateSEIInsertRsp",41:"Peer2PeerNetStatsGetReq",42:"Peer2PeerNetStatsGetRsp",43:"CmdReq",44:"CmdRsp",45:"CmdPush",46:"CmdAck",47:"WebRTCDispatchReq",48:"WebRTCDispatchRsp"},Cc=function(){return Cc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Cc.apply(this,arguments)},Ic=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},fc=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ec=function(){function e(e,t,r){this.stateCenter=e,this.logger=t,this.isV2=!1,this.isV2=r}return e.prototype.mediaLogin=function(e,t){var r;if(this.isV2){var i={appid:this.stateCenter.appid,user_id:this.stateCenter.idName,token:e.token,tokenType:e.tokenType,sessions:e.sessions,roomid:e.roomid,sdk_version:this.stateCenter.sdkVerNum,app:t};this.logger.info("".concat("zc.wcs.ml"," LoginReq ").concat(JSON.stringify(i)," ")),r=this.encodePBBody("LoginReq",i)}else r=e;return r},e.prototype.createSession=function(e,t,r,A,n,o,s,a,c){var g;if(void 0===n&&(n=""),void 0===o&&(o=""),this.isV2){var u={type:t,stream_id:A,turn_server_host:"string"==typeof o?o:"",strAuthParam:n,params:s,area_type:c.type,area_id_list:c.areaList};this.stateCenter.isMultiRoom&&(u.roomid=a),this.logger.info("".concat("zc.wcs.cs.1"," ").concat(A," ").concat(e," ").concat(JSON.stringify(u)," ")),g=this.encodePBBody(e,u)}else{var l="";i.split(".").forEach((function(e,t){return l+=1==e.length&&1==t?"0"+e:e}));var h=this.stateCenter.browserInfo;g={type:t,stream_id:A,platform:navigator.platform,browser:h.name,version:h.version,app_id:this.stateCenter.appid+"",negotiate_mode:r,strAuthParam:n,sdk_version:1*l,turn_server_host:"string"==typeof o?o:"",params:s}}return g},e.prototype.createSessionWithSdp=function(e,t,r,A){var n=this,o=t.type,s=t.streamId,a=t.strAuthParam,c=t.sdp,g=t.serverHost,u=t.playBufLevel,l=t.params,h=t.paramsExt,d=t.roomID,p=t.geo,C=function(r){var A,C,I=(null===(A=t.videoInfo)||void 0===A?void 0:A.keyFrameInterval)||2;if(n.isV2){var f=n.getParamsExt(h,u,I),E={type:o,stream_id:s,media_server_host:"string"==typeof g?g:"",strAuthParam:a,params:l,params_ext:f,area_type:p.type,area_id_list:p.areaList};r?E.mini_sdp=r:E.sdp=c,n.stateCenter.isMultiRoom&&(E.roomid=d),n.logger.info(Kn+" "+s+" "+e+" params: "+JSON.stringify(Cc(Cc({},E),{sdp:void 0,mini_sdp:void 0,params_ext:f.toString()})));performance.now();C=n.encodePBBody(e,E)}else{var Q="";i.split(".").forEach((function(e,t){return Q+=1==e.length&&1==t?"0"+e:e}));var B={type:o,app_id:n.stateCenter.appid+"",stream_id:s,sdp:r.length?r:c,user_id:n.stateCenter.idName,platform:navigator.platform,browser:n.stateCenter.browserInfo.name,sdk_vers:parseInt(Q),clientIp:"",media_server_host:"string"==typeof g?g:"",strAuthParam:a,params:l,keyframe_intv:parseInt(I)};u&&(B.min_play_buf_level_ms=u),n.logger.info(Kn+" "+s+" "+e+" params: "+JSON.stringify(Cc(Cc({},B),{sdp:void 0}))),C=B}return C};if(this.stateCenter.isMiniSdp&&c)this.getMiniSdp(c,!this.isV2).then((function(e){var t=C(e);r(t)})).catch((function(){var e=C();r(e)}));else{var I=C();r(I)}},e.prototype.getParamsExt=function(e,t,r){return t&&(e.min_play_buf_level_ms=t),r&&(e.keyframe_intv=r),this.logger.info("".concat("zc.wcs.gpe"," ").concat(JSON.stringify(e))),sc.webrtc_cmd.WebrtcCmdReqMsg.encode({peer_extend_param:e}).finish()},e.prototype.sendMediaDesc=function(e,t,r){return Ic(this,void 0,void 0,(function(){var i=this;return fc(this,(function(A){return[2,new Promise((function(A,n){var o=function(A){var n,o=A||r.sdp;if(i.isV2){var s=i.getParamsExt(r.paramsExt,r.min_play_buf_level_ms,r.keyframe_intv),a={type:t,update:0,params_ext:s};A?a.mini_sdp=A:a.sdp=o,i.logger.info(zn+"  params: "+JSON.stringify(Cc(Cc({},a),{sdp:void 0}))),n=i.encodePBBody(e,a)}else{var c={type:t,sdp:o};null!=r.width&&(c.width=r.width),null!=r.height&&(c.height=r.height),null!=r.frameRate&&(c.framerate=r.frameRate),null!=r.video_min_kpbs&&(c.video_min_kpbs=r.video_min_kpbs),null!=r.video_max_kpbs&&(c.video_max_kpbs=r.video_max_kpbs),null!=r.audio_kpbs&&(c.audio_kpbs=r.audio_kpbs),null!=r.keyframe_intv&&(c.keyframe_intv=r.keyframe_intv),null!=r.min_play_buf_level_ms&&(c.min_play_buf_level_ms=r.min_play_buf_level_ms),i.logger.info(zn+"  params: "+JSON.stringify(Cc(Cc({},c),{sdp:void 0}))),n=c}return n};if(i.stateCenter.isMiniSdp&&r.sdp)i.getMiniSdp(r.sdp,!i.isV2).then((function(e){var t=o(e);A(t)})).catch((function(){var e=o();A(e)}));else{var s=o();A(s)}}))]}))}))},e.prototype.sendCandidateInfo=function(e,t){for(var r=[],i=0;i<t.length;i++){r.push({candidate:t[i].candidate,sdpMid:t[i].sdpMid,sdpMLineIndex:t[i].sdpMLineIndex})}return this.getBodyData(e,{infos:r})},e.prototype.sendCloseSession=function(e,t){return this.getBodyData(e,{reason:t})},e.prototype.sendAckMessage=function(e,t){return this.getBodyData(e,{result:t})},e.prototype.sendActivatePlayStream=function(e,t,r){var i={active:t?0:1,layer:0};return this.logger.info(qn+" activate "+r+" "+JSON.stringify(i)),this.getBodyData(e,i)},e.prototype.sendMediaDescUpdateReq=function(e){return Ic(this,void 0,void 0,(function(){var t=this;return fc(this,(function(r){return[2,new Promise((function(r,i){var A=e.peerID,n=e.type,o=e.sdp,s=e.width,a=e.height,c=e.frameRate,g=e.video_min_kpbs,u=e.video_max_kpbs,l=e.audio_kpbs,h=e.keyframe_intv,d=function(e){var r;if(t.isV2){var i={type:n,update:1};e?i.mini_sdp=e:i.sdp=o,t.logger.info("zc.wcs.smdu "+JSON.stringify(i)),r=t.encodePBBody("MediaDescReq",i)}else{r={peer_id:A,type:n,sdp:e||o,width:s,height:a,framerate:c,video_min_kpbs:g,video_max_kpbs:u,audio_kpbs:l,keyframe_intv:h}}return r};if(t.stateCenter.isMiniSdp&&o)t.getMiniSdp(o,!t.isV2).then((function(e){var t=d(e);r(t)})).catch((function(){var e=d();r(e)}));else{var p=d();r(p)}}))]}))}))},e.prototype.getBodyData=function(e,t){return this.isV2?this.encodePBBody(e,t):t},e.prototype.getMiniSdp=function(e,t){var r=this;return this.logger.info("zc.s.gmsdp isMini: ".concat(this.stateCenter.isMiniSdp," sdp:").concat(e.length)),new Promise((function(i,A){var n;null===(n=r.stateCenter.streamCenter.miniSdpWorker)||void 0===n||n.parseToMiniSdp(e||"").then((function(e){var A,n;if(r.logger.info("zc.s.gmsdp parse sdp success buffer:".concat(e.byteLength)),!e||!e.byteLength)return r.stateCenter._isMiniSdp=!1,"";n=t?null===(A=JA(e))||void 0===A?void 0:A.trim():e,i(n)})).catch((function(e){r.logger.error("zc.s.gmsdp error:".concat(JSON.stringify(e))),r.stateCenter._isMiniSdp=!1,A(e)}))}))},e.prototype.parseRecSdp=function(e,t){var r=this;return this.logger.info("zc.s.prsdp isMini: ".concat(this.stateCenter.isMiniSdp," rSDP:").concat(e.length)),new Promise((function(i,A){var n,o=t?cn(e):e;null===(n=r.stateCenter.streamCenter.miniSdpWorker)||void 0===n||n.loadMiniSdpToOriginSdp(o).then((function(e){r.logger.info("zc.s.prsdp parse minisdp success sdp:".concat(e.length)),i(e)})).catch((function(t){r.logger.error("zc.s.gmsdp error:".concat(JSON.stringify(t))),r.stateCenter._isMiniSdp=!1,A(e)}))}))},e.prototype.headerData=function(e){var t=uc[e.cmd];if(void 0!==t){var r=hc.webrtc_proto_v2.Head.create({cmd:t,seq:e.seq,session_id:e.session_id});return hc.webrtc_proto_v2.Head.encode(r).finish()}this.logger.error("zc.wmh.hd cmd not exist")},e.prototype.encodePBMsg=function(e,t,r){void 0===r&&(r=!0);var i=new Uint8Array(Array.from(this.getWebRTCHead(e.length,t.length)).concat(Array.from(e)).concat(Array.from(t))),A=dc.generalpclib.Header.create({cmd:r?100:101}),n=dc.generalpclib.Header.encode(A).finish(),o=new Uint8Array(8);o[0]=181,o[1]=0;var s=n.length,a=i.length;return o[2]=s>>8,o[3]=s-(o[2]<<8),o.set(new Uint8Array(Int32Array.from([a]).buffer).reverse(),4),new Uint8Array(Array.from(o).concat(Array.from(n)).concat(Array.from(i)))},e.prototype.getWebRTCHead=function(e,t){var r=new Uint8Array(7);return r[0]=17,r[1]=e>>8,r[2]=e-(r[1]<<8),r.set(new Uint8Array(Int32Array.from([t]).buffer).reverse(),3),r},e.prototype.encodePBBody=function(e,t){var r=hc.webrtc_proto_v2[e].create(t),i=hc.webrtc_proto_v2[e].encode(r).finish();hc.webrtc_proto_v2[e].decode(i);return i},e.prototype.decodePBBody=function(e,t){var r=pc[e.cmd];if(r)return hc.webrtc_proto_v2[r].decode(t);this.logger.info($o+" cmd is not rtc")},e.prototype.handlePushMsg=function(e,t){var r=e[0];if(181===r){var i=(e[2]<<8)+e[3],A=dc.generalpclib.Header.decode(e.slice(8,8+i));if(101===A.cmd){var n=e.slice(8+i),o=n[0];if(17===o){var s=(n[1]<<8)+n[2],a=hc.webrtc_proto_v2.Head.decode(n.slice(7,7+s)),c=n.slice(7+s);return{header:a,body:this.decodePBBody(a,c)}}this.logger.error($o+" webrtc tag error "+o)}else this.logger.error($o+" cmd error "+A.cmd)}else this.logger.error($o+" type error "+r)},e}(),Qc=function(){return Qc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Qc.apply(this,arguments)},Bc=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},mc=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},yc=["LoginReq","CreateSessionWithSdpReq","CreateSessionReq"],vc=["Peer2PeerNetStatsGetReq","Peer2PeerNetStatsGetRsp"],_c=function(){function e(e,t,r,i){void 0===i&&(i=!1),this.netAgent=r,this.useNetAgent=i,this.sendDataMap={},this.sendDataList=new ye,this.sendDataCheckOnceCount=100,this.signalSeq=0,this.pushCallback={},this.sessionInfos={},this.tryHeartbeatCount=0,this.heartbeatInterval=1e4,this.sendDataTimeout=5e3,this.sendDataDropTimeout=1e4,this.sendDataCheckTimer=null,this.sendDataCheckInterval=2e3,this.loginTimer=null,this.loginTimeout=1e4,this.successConnectedCallback=null,this.isNoAppConfig=!1,this.checkMessageList=["ActivateVideoPlayStreamReq","ActivateAudioPlayStreamReq","CreateSessionReq","CreateSessionWithSdpReq","ActivateSEIInsertReq","StreamStatusNotify","MediaDescUpdateReq"],this.tryConnectCount=1,this.tryConnectTimer=null,this.tryConnectInterval=3e3,this.state=F,this.tokenType=0,this.platform=navigator.platform,this.testStreamStatusMsgs=[],this.unCheckCmds=["LoginReq","CreateSessionReq","CreateSessionWithSdpReq"],this._websocket=null,this.negoInterval=25e3,this.negoTryCount=1,this.negoTryMaxCount=2,this.isV2=!0,this.logger=e,this.stateCenter=t,this.stateCenter.streamConnectTime&&(this.tryConnectInterval=this.stateCenter.streamConnectTime),this.isV2=!!this.stateCenter.useNetAgent,this.webrtcCenterSvr=new Ec(t,e,this.isV2),this.gw=new gc(e,this,t)}return Object.defineProperty(e.prototype,"wsReadyState",{get:function(){var e;return null===(e=this.websocket)||void 0===e?void 0:e.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocket",{get:function(){return this._websocket},set:function(e){null===e&&this.useNetAgent||(this._websocket=e)},enumerable:!1,configurable:!0}),e.prototype.setSessionInfo=function(e,t){this.logger.debug("zc.s.ssi call"),this.appid=e+"",this.userid=t},e.prototype.onDisconnect=function(e,t){},e.prototype.onReConnect=function(e){},e.prototype.onUpdateHeartBeatInterval=function(e){},e.prototype.resetConnectTimer=function(){this.logger.info("zc.s.rct call"),clearTimeout(this.tryConnectTimer),this.tryConnectTimer=null,this.tryConnectCount=0},e.prototype.resetLoginTimer=function(){this.logger.info("zc.s.rlt call"),clearTimeout(this.loginTimer),this.loginTimer=null},e.prototype.handleWsPBMsg=function(e,t){var r=this.webrtcCenterSvr.handlePushMsg(e,t);if((null==r?void 0:r.header)&&(null==r?void 0:r.body)){var i;if(r)r.header.cmd=pc[r.header.cmd],un(r.body),i={header:Qc(Qc({},r.header),{appid:this.appid,user_id:this.userid}),body:r.body};return i}this.logger.error("zc.s.dwpm no header or body")},e.prototype.handleWsMessage=function(e){var t;(null==(t=this.isV2?this.handleWsPBMsg(e.data,e.extras):JSON.parse(e.data))?void 0:t.header)&&t.header.appid==this.appid&&t.header.user_id===this.userid?(vc.includes(t.header.cmd)||(this.logger.info(bn+" signmsg= ",t.header.cmd),this.logger.info(bn+" signmsg= "+JSON.stringify(t.header)+" "+JSON.stringify(Qc(Qc({},t.body),{mini_sdp:void 0})))),this.handleServerPush(t)):this.logger.warn(bn+" check header failed")},e.prototype.bindWebSocketEvents=function(){var e=this;this.tryHeartbeatCount=0,this.tryConnectInterval=this.stateCenter.streamConnectTime?this.stateCenter.streamConnectTime:3e3,this.websocket&&(this.websocket.onclose=function(t){var r=t||{},i=r.reason,A=r.wasClean;if(e.logger.info(bn+" close msg = ".concat(r.code,", ").concat(i,", ").concat(A)),e.state!=F){if(e.useNetAgent)return void e.disconnectCallback();e.successConnectedCallback=e.connectCallback,e.resetConnectTimer(),e.startConnectTimer((function(t){1008===t&&e.disconnectCallback(qe)})),e.resetCheckMessage()}},this.websocket.onerror=function(t){var r=t||{},i=r.code,A=r.reason,n=r.wasClean;e.logger.info(bn+" msg = ".concat(JSON.stringify(t),", ").concat(i,", ").concat(A,", ").concat(n))})},e.prototype.resetCheckMessage=function(){this.logger.info("zc.s.rcm call"),clearTimeout(this.sendDataCheckTimer),this.sendDataCheckTimer=null;for(var e=this.sendDataList.getFirst();null!=e;)this.sendDataList.remove(e),e._data.error&&e._data.error(2,e._data.seq),e=this.sendDataList.getFirst();this.sendDataMap={}},e.prototype.handleServerPush=function(e){switch(e.header.cmd){case"LoginRsp":this.handleRespondData("LoginReq",e);break;case"CreateSessionRsp":this.handleRespondData("CreateSessionReq",e),0===e.body.result&&this.addSession(e.header.session_id,e.body.session_token);break;case"CreateSessionWithSdpRsp":this.handleRespondData("CreateSessionWithSdpReq",e),0===e.body.result&&this.addSession(e.header.session_id,e.body.session_token);break;case"MediaDescRsp":this.handleRespondData("MediaDescReq",e);break;case"CandidateInfoRsp":this.handleRespondData("CandidateInfoReq",e);break;case"CloseSessionRsp":this.handleRespondData("CloseSessionReq",e),this.removeSession(e.header.session_id);break;case"ClientHBRsp":this.handleRespondData("ClientHBReq",e);break;case"MediaDescPush":case"CandidateInfoPush":case"StreamStatusNotifyPush":case"PublishEventPush":case"PlayEventPush":case"ClientInfoPush":case"NetQualityInfoPush":case"MediaDescUpdatePush":case"CmdPush":this.handlePushData(e);break;case"CloseSessionPush":this.handlePushData(e),this.removeSession(e.header.session_id);break;case"QualityReportRsp":this.handleRespondData("QualityReportReq",e);break;case"SessionResetPush":this.handlePushResetSessionData(e);break;case"ActivateVideoPlayStreamRsp":this.handleRespondData("ActivateVideoPlayStreamReq",e);break;case"ActivateAudioPlayStreamRsp":this.handleRespondData("ActivateAudioPlayStreamReq",e);break;case"NetQualityProbeRsp":this.handleRespondData("NetQualityProbeReq",e);break;case"ActivateSEIInsertRsp":this.handleRespondData("ActivateSEIInsertReq",e);break;case"StreamStatusNotifyAck":this.handleRespondData("StreamStatusNotify",e);break;case"Peer2PeerNetStatsGetRsp":this.handleRespondData("Peer2PeerNetStatsGetReq",e);break;case"MediaDescUpdateRsp":this.handleRespondData("MediaDescUpdateReq",e);break;case"CmdRsp":this.handleRespondData("CmdReq",e);break;case"WebRTCDispatchRsp":this.handleRespondData("WebRTCDispatchReq",e)}},e.prototype.disconnectCallback=function(e,t){this.logger.info("zc.s.dcb "+JSON.stringify(e)+" "+t),this.connectCallback&&(this.connectCallback(t||-1,this.server,void 0),this.connectCallback=null);var r=this.server;this.disconnectServer(),this.onDisconnect(r,e)},e.prototype.updateToken=function(){var e=this;this.logger.info(kn+" call");var t={token:this.token,tokenType:this.tokenType,roomid:this.roomID,anchorname:this.stateCenter.anchor_info.anchor_id,sdkversion:i,osinfo:navigator.appVersion};if(this.logger.info(kn+" osinfo "+navigator.userAgent),0!=Object.keys(this.sessionInfos).length){var r=[];for(var A in this.sessionInfos){var n=parseInt(A);r.push({session_id:n,session_token:this.sessionInfos[n].token})}t.sessions=r}var o=this.webrtcCenterSvr.mediaLogin(t,this.app);this.sendMessageWithCallback("LoginReq",this.stateCenter.getSeq(),0,o,(function(t,r,i){if(0==i.result){e.token=i.token,e.tokenType=i.tokenType;e.resetLoginTimer(),e.logger.info(kn+" callback "+!!e.connectCallback),null!=e.connectCallback?(e.connectCallback(0,e.server,{}),e.connectCallback=null):e.useNetAgent&&e.onReConnect(e.server),e.checkMessageTimeout()}else{null!=e.connectCallback&&(e.connectCallback(i.result,e.server,{error:i.strError}),e.connectCallback=null)}}),(function(){null!=e.connectCallback&&(e.connectCallback(-1,e.server,void 0),e.connectCallback=null)})),this.resetLoginTimer(),this.loginTimer=setTimeout((function(){e.logger.info(kn+" set login timer"),null!=e.connectCallback&&(e.connectCallback(-1,e.server,void 0),e.connectCallback=null)}),this.loginTimeout)},e.prototype.sendMessageWithCallback=function(e,t,r,i,A,n){var o,s=this;void 0===A&&(A=null),void 0===n&&(n=null),vc.includes(e)||this.logger.info(Rn+" call "+e+" "+t+" "+(null===(o=this.websocket)||void 0===o?void 0:o.readyState));var a=performance.now();if(!this.websocket||!this.unCheckCmds.includes(e)&&this.websocket.readyState!==$a.OPEN)return this.logger.error(Rn+" connect not establish"),void(n&&n(1,t));var c={seq:t,deleted:!1,cmd:e,time:(new Date).getTime(),success:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(yc.includes(e)){var n=(performance.now()-a).toFixed(0);s.logger.info(Rn+" seq: ".concat(t,", cmd: ").concat(e,", cost_time: ").concat(n))}A&&A.apply(void 0,r)},error:n},g=this.sendDataList.push(c);this.sendDataMap[c.seq]=g;var u,l=this.getHeader(e,t,r);this.isV2?u=this.webrtcCenterSvr.encodePBMsg(l,i):u=JSON.stringify({header:l,body:i});vc.includes(e)||this.isV2||this.logger.info(Rn+" "+u);var h={};this.useNetAgent&&"LoginReq"===e?this.websocket.send(u,!0,!0,h):this.websocket.send(u,void 0,void 0,h),this.logger.debug(Rn+" success")},e.prototype.getHeader=function(e,t,r){var i={version:"1.0.1",cmd:e,appid:this.appid+"",seq:t,user_id:this.userid,session_id:r};return this.isV2?this.webrtcCenterSvr.headerData(i):i},e.prototype.connectServer=function(e,t,r,i){var A,n,o=this;if(this.logger.info(Nn+" "+r),this.roomID=e,this.token=t,this.server=r,this.state=G,this.connectCallback=i,this.isServerConnected)this.logger.info(Nn+" websocket is connected"),this.resetConnectTimer(),this.state=U;else try{if(this.useNetAgent){if(!this.stateCenter.appConfig)return this.logger.info(Nn+" no app config "),void(this.isNoAppConfig=!0);var s=this.stateCenter.appConfig.media_config.publish_config.resource_info.find((function(e){return e.resource_type===a.RTC}));if(!s)return void(i&&i(Ge));var g=null===(A=null==s?void 0:s.service_info)||void 0===A?void 0:A.find((function(e){return e.protocol===c.WEBRTC}));if(!g)return void(i&&i(Ge));var u=g.url_template.split("{IP}")[1].split("?"),l=u[0],h=u[1];this.app=null===(n=h.split("="))||void 0===n?void 0:n[1];var d=void 0;d=this.isV2?{path:"wsv2",query:"",encode:!1,messageType:2}:{path:l,query:h,encode:!0,messageType:1},this.logger.info(Nn+" signal "+JSON.stringify(d)),this.websocket instanceof WebSocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),!this.websocket&&(this.websocket=new lc(this.server,this.netAgent,d,this.logger,this.stateCenter)),this.websocket.open()}else this.logger.info(Nn+" need new websocket"),this.websocket&&(this.logger.warn(Nn+" close error websocket"),this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close()),this.websocket=new WebSocket(this.server);this.websocket.onclose=function(e){var t=e||{},r=t.code,i=t.reason,A=t.wasClean;o.logger.info(Nn+" websocket close call. msg = ".concat(JSON.stringify(e),", ").concat(r,", ").concat(i,", ").concat(A)),o.useNetAgent&&o.state!=F&&(o.successConnectedCallback=o.connectCallback,o.resetConnectTimer(),o.startConnectTimer((function(e){1008===e&&o.disconnectCallback(qe)})))},this.websocket.onerror=function(e){var t=e||{},r=t.code,i=t.reason,A=t.wasClean;o.logger.info(Nn+" websocket onerror call. msg = ".concat(JSON.stringify(e),", ").concat(r,", ").concat(i,", ").concat(A)),o.stateCenter.useNetAgent&&(null==e?void 0:e.code)&&o.disconnectCallback(void 0,null==e?void 0:e.code)},this.useNetAgent&&this.websocket instanceof lc?(this.websocket.onopen=function(){o.logger.info(Nn+" websocket open call"),o.bindWebSocketEvents(),o.state=U,o.websocket&&(o.websocket.onmessage=o.handleWsMessage.bind(o))},this.websocket.onreconnnecting=function(){o.logger.info(Nn+" websocket reconnecting "+!!o.successConnectedCallback+" "+!!o.loginTimer),o.successConnectedCallback&&(o.connectCallback=o.successConnectedCallback),o.updateToken()},this.websocket.onmessage=this.handleWsMessage.bind(this),this.updateToken()):this.websocket.onopen=function(){o.resetConnectTimer(),o.logger.info(Nn+" websocket open call"),o.websocket&&(o.websocket.onmessage=o.handleWsMessage.bind(o)),o.bindWebSocketEvents(),o.updateToken(),o.state=U}}catch(e){this.logger.error(Nn+" websocket error "+e)}this.useNetAgent||(this.logger.info(Nn+" "+this.tryConnectInterval),this.tryConnectTimer=setTimeout((function(){o.startConnectTimer(i)}),this.tryConnectInterval))},e.prototype.startConnectTimer=function(e){if(this.logger.info(Tn+" call"),this.tryConnectCount>=3)return this.logger.info(Tn+" beyond "+this.server+"max limit"),void this.disconnectCallback();this.websocket&&this.websocket.readyState===$a.OPEN?(this.logger.info(Tn+" websocket is connected"),this.resetConnectTimer()):(this.tryConnectCount+=1,this.connectServer(this.roomID,this.token,this.server,e))},e.prototype.disconnectServer=function(){this.logger.info("zc.s.dc call"),this.connectCallback=null,this.resetCheckMessage(),this.resetConnectTimer(),this.resetLoginTimer(),this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),this.token="",this.sessionInfos={},this.tokenType=0,this.tryHeartbeatCount=0,this.tryConnectCount=0,this.state=F},Object.defineProperty(e.prototype,"isServerConnected",{get:function(){var e;return(null===(e=this.websocket)||void 0===e?void 0:e.readyState)===$a.OPEN},enumerable:!1,configurable:!0}),e.prototype.createSession=function(e,t,r,i,A,n,o,s,a,c,g){void 0===A&&(A=""),void 0===n&&(n=""),this.logger.info(Ln+" call: "+i);var u="CreateSessionReq",l=this.webrtcCenterSvr.createSession(u,t,r,i,A,n,o,s,a);this.sendMessageWithCallback(u,e,0,l,c,g)},e.prototype.createSessionWithSdp=function(e,t,r){var i=this,A=e.seq,n=e.streamId;this.logger.info(Ln+" call: "+n);var o="CreateSessionWithSdpReq";this.webrtcCenterSvr.createSessionWithSdp(o,e,(function(e){i.sendMessageWithCallback(o,A,0,e,(function(e,A,o){return Bc(i,void 0,void 0,(function(){var i,s=this;return mc(this,(function(a){return i=o.sdp||o.mini_sdp,this.stateCenter.isMiniSdp&&i?this.setRspBodySdp(o).then((function(){s.logger.info(Ln+" sdp "+n),t&&t(e,A,o)})).catch((function(e){r&&r(e)})):(this.logger.info(Ln+" sdp "+n),t&&t(e,A,o)),[2]}))}))}),r)}),(function(){}))},e.prototype.dispatchGwNodes=function(e,t,r,i,A,n){this.logger.info(Yn+" call: "+r);var o="WebRTCDispatchReq",s={type:t,stream_id:r,area_type:i.type,area_id_list:i.areaList};this.logger.info(Yn+" "+r+" "+JSON.stringify(s));var a=this.webrtcCenterSvr.getBodyData(o,s);this.sendMessageWithCallback(o,e,0,a,A,n)},e.prototype.sendMediaDescUpdateReq=function(e,t,r,i,A){var n=this,o=this.isV2?"MediaDescReq":"MediaDescUpdateReq";this.webrtcCenterSvr.sendMediaDescUpdateReq(r).then((function(r){n.sendMessageWithCallback(o,e,t,r,(function(e,t,r){return Bc(n,void 0,void 0,(function(){var n;return mc(this,(function(o){return n=r.sdp||r.mini_sdp,this.stateCenter.isMiniSdp&&n?this.setRspBodySdp(r).then((function(){i&&i(e,t,r)})).catch((function(e){A&&A(e)})):i&&i(e,t,r),[2]}))}))}),A)})).catch((function(e){A&&A(e)}))},e.prototype.removeSession=function(e){this.logger.info("zc.s.rs call "+e),this.sessionInfos[e]&&delete this.sessionInfos[e]},e.prototype.sendCloseSession=function(e,t,r,i,A){this.logger.info("zc.s.srs call: "+t);var n="CloseSessionReq",o=this.webrtcCenterSvr.sendCloseSession(n,r);this.removeSession(t),this.sendMessageWithCallback(n,e,t,o,i,A)},e.prototype.sendMessage=function(e,t,r,i){if(this.logger.info(Mn+" call "+e),this.websocket&&this.websocket.readyState===$a.OPEN){var A,n=this.getHeader(e,t,r);if(this.isV2)A=this.webrtcCenterSvr.encodePBMsg(n,i);else A=JSON.stringify({header:n,body:i});this.websocket.send(A,void 0,void 0,{}),this.logger.info(Mn+" success")}else this.logger.error(Mn+" connect not establish")},e.prototype.handleRespondData=function(e,t){this.logger.debug(On+" call");var r=this.sendDataMap[t.header.seq];if(null!=r){delete this.sendDataMap[t.header.seq],this.sendDataList.remove(r);var i=r._data;i.cmd!==e?this.logger.error(On+" command is not match"):i.success&&i.success(t.header.seq,t.header.session_id,t.body)}else{if("CloseSessionRsp"==t.header.cmd)return;this.logger.error(On+" cannot find data "+e)}},e.prototype.addSession=function(e,t){this.logger.info("zc.s.as call"+e),this.sessionInfos[e]={token:t}},e.prototype.handlePushData=function(e){this.logger.info(Pn+" call "+e.header.cmd+" session "+e.header.session_id);var t=this.pushCallback[e.header.cmd+e.header.session_id];t?t.callback&&t.callback(e.header.seq,e.header.session_id,e.body):this.logger.info(Pn+" no callbackData "+e.header.cmd+" session: "+e.header.session_id)},e.prototype.handlePushResetSessionData=function(e){this.logger.debug(Fn+" call ");var t=[];if(0==e.body.cResetType)t=Object.keys(this.sessionInfos);else if(1==e.body.cResetType)for(var r=0;r<e.body.session_ids.length;r++)t.push(e.body.session_ids[r]);if(this.sendResetSessionAck(e.header.seq,0,0),0!=t.length)for(var i=0;i<t.length;i++){var A=this.pushCallback[e.header.cmd+t[i]];null==A?this.logger.info(Fn+" no callbackData "+t[i]):A.callback&&A.callback(e.header.seq,t[i],e.body)}else this.logger.info(Fn+" no session to callback")},e.prototype.sendMediaDesc=function(e,t,r,i,A,n){return Bc(this,void 0,void 0,(function(){var o,s=this;return mc(this,(function(a){return this.logger.info("zc.s.smd call: "+t),this.webrtcCenterSvr.sendMediaDesc(o="MediaDescReq",r,i).then((function(r){s.sendMessageWithCallback(o,e,t,r,(function(e,t,r){return Bc(s,void 0,void 0,(function(){var i;return mc(this,(function(o){return i=r.sdp||r.mini_sdp,this.stateCenter.isMiniSdp&&i?this.setRspBodySdp(r).then((function(){A&&A(e,t,r)})).catch((function(e){n&&n(e)})):A&&A(e,t,r),[2]}))}))}),n)})).catch((function(){})),[2]}))}))},e.prototype.sendCandidateInfo=function(e,t,r,i,A){this.logger.info("zc.s.sci call: "+t);var n="CandidateInfoReq",o=this.webrtcCenterSvr.sendCandidateInfo(n,r);this.sendMessageWithCallback(n,e,t,o,i,A)},e.prototype.sendMediaDescAck=function(e,t,r){this.logger.info(Gn+" call: "+t);var i="MediaDescAck",A=this.webrtcCenterSvr.sendAckMessage(i,r);this.sendMessage(i,e,t,A)},e.prototype.sendUpdateMediaDescAck=function(e,t,r,i){this.logger.info(Gn+" call: "+t);this.sendMessage("MediaDescUpdateAck",e,t,{peer_id:i,result:r})},e.prototype.sendCandidateInfoAck=function(e,t,r){this.logger.info("zc.s.scia call: "+t);var i="CandidateInfoAck",A=this.webrtcCenterSvr.sendAckMessage(i,r);this.sendMessage(i,e,t,A)},e.prototype.sendCloseSessionAck=function(e,t,r){this.logger.info("zc.s.scsa call: "+t);var i="CloseSessionAck",A=this.webrtcCenterSvr.sendAckMessage(i,r);this.sendMessage(i,e,t,A)},e.prototype.sendResetSessionAck=function(e,t,r){this.logger.debug("zc.s.srsa call: "+t);var i="SessionResetAck",A=this.webrtcCenterSvr.sendAckMessage(i,r);this.sendMessage(i,e,t,A)},e.prototype.sendStreamStatusNotifyAck=function(e,t,r){this.logger.debug("zc.s.sssna call: "+t);var i="StreamStatusNotifyPushAck",A=this.webrtcCenterSvr.sendAckMessage(i,r);this.sendMessage(i,e,t,A)},e.prototype.sendClientInfoAck=function(e,t,r){this.logger.debug("zc.s.scia call: "+t);var i="ClientInfoAck",A=this.webrtcCenterSvr.sendAckMessage(i,r);this.sendMessage(i,e,t,A)},e.prototype.registerPushCallback=function(e,t,r){r&&"function"==typeof r&&(this.logger.info("zc.s.rpc set callback "+t+" "+e),this.pushCallback[e+t]={callback:r})},e.prototype.unregisterPushCallback=function(e,t){delete this.pushCallback[e+t]},e.prototype.checkMessageTimeout=function(){for(var e,t,r=this,i=this.sendDataList.getFirst(),A=(new Date).getTime(),n=0,o=0,s=0;null!=i&&!(i._data.time+this.sendDataTimeout>A);)if(delete this.sendDataMap[i._data.seq],this.sendDataList.remove(i),++o,-1!=this.checkMessageList.indexOf(i._data.cmd)){if(null==i._data.error||this.sendDataDropTimeout>0&&i._data.time+this.sendDataDropTimeout<A?++s:(this.logger.warn(Un+" error cmd = "+i._data.cmd+" seq ="+(null===(e=i._data)||void 0===e?void 0:e.seq)+" start time ="+(null===(t=i._data)||void 0===t?void 0:t.time)),i._data.error&&i._data.error(1,i._data.seq)),++n>=this.sendDataCheckOnceCount)break;i=this.sendDataList.getFirst()}else i=this.sendDataList.getFirst();this.sendDataCheckTimer=setTimeout((function(){r.checkMessageTimeout()}),this.sendDataCheckInterval),0==o&&0==s||this.logger.info(Un+" call success, state: timeout="+o+" drop="+s)},e.prototype.sendHeartbeat=function(){var e=this;if(this.logger.debug(xn+"call tryHeartbeatCount:"+this.tryHeartbeatCount),0!=Object.keys(this.sessionInfos).length)if(this.state===U){if(++this.tryHeartbeatCount>5)return this.logger.error(xn+" heartbeat try limit"),void this.disconnectCallback();var t=[];for(var r in this.sessionInfos)t.push(parseInt(r));var i={session_ids:t},A=(new Date).getTime();this.sendMessageWithCallback("ClientHBReq",this.stateCenter.getSeq(),0,i,(function(t,r,i){e.logger.info(xn+" hb time "+((new Date).getTime()-A)),e.heartbeatInterval!=i.hb_interval&&(e.heartbeatInterval=i.hb_interval,e.onUpdateHeartBeatInterval(i.hb_interval)),e.tryHeartbeatCount=0}),(function(e,t){}))}else this.logger.warn(xn+" state error");else this.logger.info(xn+" no need to heartbeat")},e.prototype.sendStreamStatus=function(e,t,r,i,A,n){this.logger.info(Hn+" call "+t);var o="StreamStatusNotify",s={mic_status:i,camera_status:r};this.logger.info("".concat(Hn," stream ").concat(A||""," status ").concat(JSON.stringify(s)));var a=this.webrtcCenterSvr.getBodyData(o,s);this.sendMessageWithCallback(o,e,t,a,(function(){}),(function(e){1===e&&n&&n()}))},e.prototype.ActivatePlayVideoStream=function(e,t,r,i,A){this.logger.info("zc.s.apvs call");var n="ActivateVideoPlayStreamReq",o=this.webrtcCenterSvr.sendActivatePlayStream(n,r,"video");this.sendMessageWithCallback(n,e,t,o,i,A)},e.prototype.ActivatePlayAudioStream=function(e,t,r,i,A){this.logger.info(qn+" call");var n="ActivateAudioPlayStreamReq",o=this.webrtcCenterSvr.sendActivatePlayStream(n,r,"audio");this.sendMessageWithCallback(n,e,t,o,i,A)},e.prototype.sendBroadcasterStatus=function(e,t,r){this.logger.info("zc.s.sbs call "+t);var i="BroadcasterStatusNotify",A=this.webrtcCenterSvr.getBodyData(i,{status:r});this.sendMessage(i,e,t,A)},e.prototype.sendNetProbe=function(e,t,r,i,A){this.logger.info(Jn+" call "+t);var n="NetQualityProbeReq",o=this.webrtcCenterSvr.getBodyData(n,{peer_id:r,action:1});this.sendMessageWithCallback(n,e,t,o,i,A)},e.prototype.sendNetQualityInfoPushAck=function(e,t,r,i){this.logger.info(Jn+" call "+t);var A="NetQualityInfoAck",n=this.webrtcCenterSvr.getBodyData(A,{peer_id:r,result:i});this.sendMessage(A,e,t,n)},e.prototype.activateSEIInsert=function(e,t,r,i,A,n,o){},e.prototype.getP2PNetStats=function(e,t,r,i,A){var n="Peer2PeerNetStatsGetReq",o=this.webrtcCenterSvr.getBodyData(n,{peer_id:r});this.sendMessageWithCallback(n,e,t,o,i,A)},e.prototype.sendGWCmd=function(e,t,r,i,A,n){var o=this,s="CmdReq";r.body=this.isV2?i:JA(i);var a=this.webrtcCenterSvr.getBodyData(s,r);this.sendMessageWithCallback(s,e,t,a,(function(e,t,r){var i=o.isV2?r.body:cn(r.body);r.body=i,A(e,t,r)}),n)},e.prototype.sendGWAck=function(e,t,r,i){var A="CmdAck";r.body=this.isV2?i:JA(i);var n=this.webrtcCenterSvr.getBodyData(A,r);this.sendMessage(A,e,t,n)},e.prototype.sendNetQualityGradeAck=function(e,t,r){this.logger.info("zc.s.nqga call: "+e);var i=sc.webrtc_cmd.WebrtcCmdRspMsg.encode({net_quality_grade_ack:{result:r}}).finish();this.sendGWAck(this.stateCenter.getSeq(),e,{peer_id:t,cmd_id:7},i)},e.prototype.setRspBodySdp=function(e){return Bc(this,void 0,void 0,(function(){var t=this;return mc(this,(function(r){return[2,new Promise((function(r,i){t.webrtcCenterSvr.parseRecSdp(e.sdp||e.mini_sdp,!e.mini_sdp).then((function(t){e.sdp=t,delete e.mini_sdp,r()})).catch((function(e){i(e)}))}))]}))}))},e}(),Sc=function(e,t,r,i,A){if(void 0===A&&(A="video"),t.breakStartTime){var n=e-t.breakStartTime;n>=i&&(t.cumulativeBreakDuration+=n,r.breakDuration+=n),t.breakStartTime=void 0}},wc=function(e,t,r,i,A,n,o,s,a,c){if(void 0===a&&(a=s),void 0===c&&(c="video"),A>1e3&&(A=1e3),i.breakStartTime)if(r){if(0===t)e-i.breakStartTime>=22e3&&Sc(e,i,o,A,c),n.breakDuration+=1e3;else if(s>=A)if(s<500)if(s+a<1e3)Sc(e-(1e3-a),i,o,A,c),i.breakStartTime=e-s,n.breakDuration+=a+s,n.decodeTime+=1e3-(a+s);else Sc(e-1e3+a,i,o,A,c),i.breakStartTime=e-1e3+a,n.breakDuration+=1e3;else s>=500&&(Sc(e-s,i,o,A,c),i.breakStartTime=e-s,n.breakDuration+=1e3);else a<=A?(Sc(e-1e3+a,i,o,A,c),i.breakStartTime=void 0,n.breakDuration+=a,n.decodeTime+=1e3-a,o.decodeDuration+=1e3-a):n.breakDuration+=1e3}else{i.resumeRecv=!1;var g=e-1e3-i.breakStartTime;g<=0&&(g=0),i.breakStartTime=void 0,i.noBreakNoDecodeDuration+=g,n.breakCancelDuration+=g,o.blankDuration+=g}else r?0===t?i.resumeRecv?(i.breakStartTime=e-1e3,n.breakDuration+=1e3):(i.noBreakNoDecodeDuration+=1e3,o.blankDuration+=1e3):a>A?i.resumeRecv?(i.breakStartTime=e-a,i.cumulativeBreakDuration+=a,n.breakDuration+=a,n.decodeTime+=1e3-a,o.breakDuration+=a,o.decodeDuration+=1e3-a):(i.noBreakNoDecodeDuration+=1e3,o.blankDuration+=1e3):(n.decodeTime+=1e3,o.decodeDuration+=1e3):i.decodeStartTime&&(0===t?(i.resumeRecv=!1,i.noBreakNoDecodeDuration+=1e3,o.blankDuration+=1e3):(n.decodeTime+=1e3,o.decodeDuration+=1e3));r&&t&&(i.resumeRecv=!0)},Dc=function(e,t,r,i,A,n,o){if(void 0===o&&(o="video"),i=i>1e3?1e3:i,t.breakDuration=0,t.breakCancelDuration=0,t.decodeTime=0,r.decodeDuration=0,r.breakDuration=0,r.blankDuration=0,e.decodeStartTime){var s=n,a=s-e.decodeStartTime;if(e.decodeStartTime=void 0,e.totalDuration+=a,e.breakStartTime){var c=s-e.breakStartTime;e.breakStartTime=void 0,A?c>i&&(e.cumulativeBreakDuration+=c):e.noBreakNoDecodeDuration+=c}var g=e.cumulativeBreakDuration,u=e.totalDuration-e.cumulativeBreakDuration-e.noBreakNoDecodeDuration;return e.cumulativeDecodeDuration=u,{cumulativeBreakDuration:g,cumulativeDecodeDuration:u}}return{cumulativeBreakDuration:0,cumulativeDecodeDuration:0}},bc=function(){return bc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},bc.apply(this,arguments)},kc=function(){function e(e,t,r,i,A,n){this.qualityUpdateInterval=e,this.qualityUploadInterval=t,this.player=r,this.logger=i,this.dataReport=A,this.stateCenter=n,this.playQualityList=[],this.qualityTimer=null,this.qualityUpdateTimer=null,this.qualityUploadTimer=null,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,audioPacketsReceived:0,videoPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:"1",videoQuality:-1,googCodecName:"",videoPacketsLost:0,videoPacketsLostRate:0,videoFramesDecoded:0,videoFramesDropped:0,videoCumulativeDecodeTime:0,videoCumulativeBreakTime:0,videoCumulativeBreakRate:0},audio:{audioBitrate:0,audioCodec:"opus",muteState:"1",audioQuality:-1,audioFPS:0,audioJitter:0,audioLevel:0,audioPacketsLost:0,audioPacketsLostRate:0,audioSamplingRate:0,audioSendLevel:0,googCodecName:"",audioCumulativeDecodeTime:0,audioCumulativeBreakTime:0,audioCumulativeBreakRate:0},peerToPeerDelay:0,peerToPeerPacketLostRate:0},this.decodeStartTime=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=s.probed,this.probeTimer=null,this.probeTimeoutInterval=3e4,this.qualityUploadLastTime=0,this.playStat={},this.cumulativeQuality={},this.audioBreakThreshold=200,this.videoBreakThreshold=500,this.videoBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.audioBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.lastSampleTime=0,this.videoBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.audioBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.videoReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.audioReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},this.currentSecondQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0},this.poorQualityNum=0,this.sampleTimes=0,this.qualitySampleInterval=1e3,this.timerType=0,this.hasRecvMediaData=!1,this.onRecvMediaData=function(){},this.p2pNetStats={p2pLostRate:0,p2pRTT:0},this.currentQuality.video.muteState=this.player.videoMuteState,this.currentQuality.audio.muteState=this.player.audioMuteState,this.getTimerType(),this.exception=new Ya(this.stateCenter,this.logger,this.streamId,Yt.event)}return Object.defineProperty(e.prototype,"streamId",{get:function(){return this.player.streamId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.player.sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"peerID",{get:function(){return this.player.peerID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioMuted",{get:function(){if(!this.player.remoteStream||this.player.remoteStream.getAudioTracks().length<=0)return!0;var e=this.player.remoteStream.getAudioTracks()[0];return!(!e||!e.muted&&"ended"!==e.readyState&&e.enabled)||("1"==this.player.audioMuteState||!this.player.playMediaStatus.audio)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoMuted",{get:function(){if(!this.player.remoteStream||this.player.remoteStream.getVideoTracks().length<=0)return!0;var e=this.player.remoteStream.getVideoTracks()[0];return!(!e||!e.muted&&"ended"!==e.readyState&&e.enabled)||("1"==this.player.videoMuteState||!this.player.playMediaStatus.video)},enumerable:!1,configurable:!0}),e.prototype.getPlayStats=function(e,t){var r,i=this;if(null!=e){var A=this.sampleTimes%parseInt((this.qualityUploadInterval/this.qualitySampleInterval).toString())==0;A&&this.getP2PNetStats();for(var n,o=document.querySelectorAll("video, audio"),s=0;s<o.length;s++)o[s].srcObject===this.player.playStream&&(n=o[s]);var a=this.player.rtcViewer;!n&&a&&(n=a.audio);var c={sampleTimeWindow:this.qualityUploadInterval,audioFractionLost:0,audioPacketsLost:0,audioPacketsLostRate:0,audioBitrate:0,audioLevel:0,audioSendLevel:0,audioSamplingRate:0,audioCodec:"opus",audioQuality:0,audioFPS:0,videoQuality:0,videoPacketsLost:0,videoPacketsLostRate:0,videoBitrate:0,videoFPS:0,nackCount:0,pliCount:0,audioJitter:0,videoJitter:0,videoFractionLost:0,videoFramesDecoded:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoFramesDropped:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,audioMuteState:this.audioMuted?"1":"0",videoMuteState:this.videoMuted?"1":"0",soundLevel:this.player.soundLevel,muted:n?n.muted:void 0,paused:n?n.paused:void 0,volume:n?n.volume:void 0,sinkId:n?n.sinkId:void 0},g=this.lastPlayStats.time,u=0,l=0,h=0,d=0,p=0,C=0,I=0,f=null,E=null;e.forEach((function(e){var t=e.kind||e.mediaType;["ssrc","inbound-rtp"].includes(e.type)&&("video"==t||e.id.indexOf("VideoStream")>=0)&&(f=e),("inbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesReceived)&&("audio"==t||e.id.indexOf("AudioStream")>=0)&&(E=e)}));var Q=(new Date).getTime(),B=function(e,t){return e>t?e-t:0};if(this.lastSampleTime||(this.lastSampleTime=Q-1e3),f){var m=f.totalInterFrameDelay,y=f.framesDecoded,v=f.totalSquaredInterFrameDelay,_=B(y,this.totalQuality.framesDecode);this.totalQuality.framesDecode=y;var S=B(m,this.totalQuality.totalInterFrameDelay);this.totalQuality.totalInterFrameDelay=m;var w=B(v,this.totalQuality.totalSquaredInterFrameDelay);this.totalQuality.totalSquaredInterFrameDelay=v;var D=(w-Math.pow(S,2)/(_||1))/(_||1);D=D>0?D:-D;var b=parseInt((1e3/(_+1)).toString()),k=1e3*Math.sqrt(D),R=S/(_||1)*1e3||b,N=(R=parseInt((R>1e3?1e3:R).toString()))+k;if(N=parseInt((N>1e3?1e3:N).toString()),_>0&&0===this.player.cameraStatus&&!this.videoBreak.decodeStartTime&&(this.videoBreak.decodeStartTime=Q-1e3),this.videoBreak.decodeStartTime)wc(Q,_,0===this.player.cameraStatus&&this.player.playMediaStatus.video,this.videoBreak,this.videoBreakThreshold,this.videoBreakReport,this.videoReliableBreak,R,N)}if(E){var T=E.totalSamplesReceived,L=E.concealedSamples,M=E.bytesReceived,O=B(T,this.totalQuality.totalSamplesReceived);this.totalQuality.totalSamplesReceived=T;var F=B(L,this.totalQuality.concealedSamples);this.totalQuality.concealedSamples=L;var G=B(M,this.totalQuality.audioBytesReceived);this.totalQuality.audioBytesReceived=M;var U=parseInt((1e3*(F/(O||1))).toString());if(G>0&&0===this.player.micStatus&&!this.audioBreak.decodeStartTime&&(this.audioBreak.decodeStartTime=Q-1e3),this.audioBreak.decodeStartTime)wc(Q,G,0===this.player.micStatus&&this.player.playMediaStatus.audio,this.audioBreak,this.audioBreakThreshold,this.audioBreakReport,this.audioReliableBreak,U,U,"audio")}t&&t.result().forEach((function(e){"ssrc"==e.type&&(e.names().indexOf("googBandwidthLimitedResolution")>=0&&(c.googBandwidthLimitedResolution=e.stat("googBandwidthLimitedResolution")),e.names().indexOf("codecImplementationName")>=0&&(c.codecImplementationName=e.stat("codecImplementationName")),"video"==e.stat("mediaType")&&(e.names().indexOf("googCodecName")>=0&&(c.videoCodecName=e.stat("googCodecName")),e.names().indexOf("googCurrentDelayMs")>=0&&(I=e.stat("googCurrentDelayMs"))),"audio"==e.stat("mediaType")&&(e.names().indexOf("googCodecName")>=0&&(c.audioCodecName=e.stat("googCodecName")),e.names().indexOf("googCurrentDelayMs")>=0&&(C=e.stat("googCurrentDelayMs"))),e.names().indexOf("googCpuLimitedResolution")>=0&&(c.googCpuLimitedResolution=e.stat("googCpuLimitedResolution"))),"VideoBwe"==e.type&&e.names().indexOf("googAvailableSendBandwidth")>=0&&(c.googAvailableSendBandwidth=e.stat("googAvailableSendBandwidth"))}));var x=!1;e.forEach((function(e){"track"==e.type&&(x=!0)})),e.forEach((function(e){var t=e.kind||e.mediaType;if(("inbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesReceived)&&("audio"==t||e.id.indexOf("AudioStream")>=0)){if(0!=g)c.audioBitrate=8*(e.bytesReceived-i.lastPlayStats.audioBytesReceived)/(e.timestamp-g),(A=e.packetsLost-i.lastPlayStats.audioPacketsLost)>0&&(l=A/(A+e.packetsReceived-i.lastPlayStats.audioPacketsReceived));c.audioBitrate<0&&(c.audioBitrate=0),c.audioJitter=e.jitter,e.packetsLost>0&&(c.audioPacketsLost=e.packetsLost),c.audioFractionLost=e.fractionLost;var r=e.packetsLost-i.lastPlayStats.audioPacketsLost;c.audioFPS=(e.packetsReceived-i.lastPlayStats.audioPacketsReceived)/(e.timestamp-g)*1e3,c.audioPacketsLostRate=r>0?r/(e.packetsReceived-i.lastPlayStats.audioPacketsReceived+r):0,i.lastPlayStats.audioBytesReceived=e.bytesReceived,e.packetsLost>0&&(i.lastPlayStats.audioPacketsLost=e.packetsLost),i.lastPlayStats.audioPacketsReceived=e.packetsReceived,i.lastPlayStats.audioTime=e.timestamp,i.lastPlayStats.time=e.timestamp,i.lastPlayStats.audioBitrate=c.audioBitrate,d=e.jitter,x||i.aTrackStats(c,e)}else if(("inbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesReceived)&&("video"==t||e.id.indexOf("VideoStream")>=0)){var A;if(0!=g)c.videoBitrate=8*(e.bytesReceived-i.lastPlayStats.videoBytesReceived)/(e.timestamp-g),c.videoFPS=1e3*(e.framesDecoded-i.lastPlayStats.framesDecoded)/(e.timestamp-g),(A=e.packetsLost-i.lastPlayStats.videoPacketsLost)>0&&(h=A/(A+e.packetsReceived-i.lastPlayStats.videoPacketsReceived));else"number"==typeof e.framesPerSecond&&(c.videoFPS=e.framesPerSecond);c.videoBitrate<0&&(c.videoBitrate=0),c.videoFPS<0&&(c.videoFPS=0),c.videoJitter=e.jitter,c.nackCount=e.nackCount,c.pliCount=e.pliCount,c.videoFractionLost=e.fractionLost,c.videoFramesDecoded=e.framesDecoded,e.packetsLost>0&&(c.videoPacketsLost=e.packetsLost),c.videoPacketsLostRate=(r=e.packetsLost-i.lastPlayStats.videoPacketsLost)>0?r/(e.packetsReceived-i.lastPlayStats.videoPacketsReceived+r):0,i.lastPlayStats.videoBytesReceived=e.bytesReceived,i.lastPlayStats.framesDecoded=e.framesDecoded,e.packetsLost>0&&(i.lastPlayStats.videoPacketsLost=e.packetsLost),i.lastPlayStats.videoPacketsReceived=e.packetsReceived,i.lastPlayStats.videoTime=e.timestamp,i.lastPlayStats.time=e.timestamp,p=e.jitter,x||i.vTrackStats(c,e,g)}else"track"==e.type&&("video"==t||e.id.indexOf("video")>=0)||e.frameWidth?i.vTrackStats(c,e,g):"track"==e.type&&("audio"==t||e.id.indexOf("audio")>=0)?i.aTrackStats(c,e):"candidate-pair"==e.type&&(null!=e.totalRoundTripTime&&(c.totalRoundTripTime=e.totalRoundTripTime),null!=e.currentRoundTripTime&&(c.currentRoundTripTime=e.currentRoundTripTime,u=1e3*c.currentRoundTripTime))})),this.lastPlayStats.googCurrentDelayMs=Number(C)||Number(I)||0,h=isNaN(h)||h<0?0:h,p=isNaN(p)||p<0?0:p,l=isNaN(l)||l<0?0:l,d=isNaN(d)||d<0?0:d;var H=xA(u,h,p),q=xA(u,l,d);c.audioQuality=g>0?HA(q):0,c.videoQuality=g>0?HA(H):0,this.player.stateCenter.networkState!==P.offline&&"disconnected"!==(null===(r=this.player.peerConnection)||void 0===r?void 0:r.connectionState)||(c.videoQuality=ge.Die,c.audioQuality=ge.Die);var J=Math.min(H,q);this.netQuality=J,c.peerToPeerDelay=isNaN(this.p2pNetStats.p2pRTT)?0:parseInt((this.p2pNetStats.p2pRTT/2+this.lastPlayStats.googCurrentDelayMs).toString()),c.peerToPeerPacketLostRate=this.p2pNetStats.p2pLostRate,this.playStat=c,this.updateCurrentQualityStats(c),(!this.hasRecvMediaData&&c.videoBitrate>0||c.audioBitrate>0)&&(this.hasRecvMediaData=!0,this.onRecvMediaData&&this.onRecvMediaData()),1===this.timerType&&0!=g&&this.player.onPlayQualityUpdate(this.streamId,this.currentQuality),A&&(this.checkProbe(Q),this.uploadPlayQuality(c,Q),0!=g&&(0===this.timerType&&this.player.onPlayQualityUpdate(this.streamId,this.currentQuality),this.exception.checkRemoteStats(c,this.player.playStream),this.player.streamCenter.changeRxQuality(HA(this.netQuality)))),2==this.timerType&&0===g&&this.qualityTimer&&this.setPlayQualityUpdateTimer()}},e.prototype.vTrackStats=function(e,t,r){var i=t.frameHeight,A=t.frameWidth,n=t.framesReceived,o=t.framesDropped,s=t.timestamp;if(e.frameHeight=i,e.frameWidth=A,0===r||this.lastPlayStats.frameHeight===i&&this.lastPlayStats.frameWidth===A)0===r&&(this.lastPlayStats.frameHeight=i,this.lastPlayStats.frameWidth=A,this.player.isProbe||(this.stateCenter.reporter.spanAppendAttribute({key:Vt.event,par:this.streamId},"vinfo",{h:i,fft:Date.now(),w:A}),this.stateCenter.reporter.spanAppendAttribute({key:jt.event,par:this.streamId},"vinfo",{h:i,fft:Date.now(),w:A})));else{if(!this.player.isProbe){var a=this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:this.streamId},{key:""},Lt);a.setAttributes({webrtc_sid:Mt(this.sessionId),w:Ot(A),h:Pt(i)}),a.end(),this.stateCenter.reporter.spanAppendAttribute({key:Vt.event,par:this.streamId},"vinfo",{h:i,fft:Date.now(),w:A}),this.stateCenter.reporter.spanAppendAttribute({key:jt.event,par:this.streamId},"vinfo",{h:i,fft:Date.now(),w:A})}this.lastPlayStats.frameHeight=i,this.lastPlayStats.frameWidth=A}0!=r&&(isNaN(n)||isNaN(o)||(e.videoTransferFPS=1e3*(n-this.lastPlayStats.framesReceived)/(s-r),e.videoFramesDropped=o-this.lastPlayStats.framesDropped)),e.videoTransferFPS<0&&(e.videoTransferFPS=0),e.videoFramesDropped<0&&(e.videoFramesDropped=0),n&&(this.lastPlayStats.framesReceived=n),o&&(this.lastPlayStats.framesDropped=o)},e.prototype.aTrackStats=function(e,t){e.audioLevel=t.audioLevel||0,e.audioSendLevel=t.totalAudioEnergy,e.audioSamplingRate=t.totalSamplesDuration},e.prototype.updateCurrentQualityStats=function(e){var t=e.videoBitrate,r=e.videoFPS,i=e.videoTransferFPS,A=e.frameHeight,n=e.frameWidth,o=e.videoMuteState,s=e.videoQuality,a=e.videoFramesDecoded,c=e.videoFramesDropped,g=e.videoPacketsLost,u=e.videoPacketsLostRate,l=e.audioBitrate,h=e.audioCodec,d=e.audioMuteState,p=e.audioQuality,C=e.audioFPS,I=e.audioJitter,f=e.audioLevel,E=e.audioPacketsLost,Q=e.audioPacketsLostRate,B=e.audioSamplingRate,m=e.audioSendLevel,y=e.nackCount,v=e.pliCount,_=e.totalRoundTripTime,S=e.currentRoundTripTime,w=e.peerToPeerDelay,D=e.peerToPeerPacketLostRate,b=e.sampleTimeWindow,k={video:bc(bc({},this.currentQuality.video),{videoBitrate:t,videoFPS:r,videoTransferFPS:i,frameHeight:A,frameWidth:n,videoQuality:s,videoFramesDecoded:a,videoFramesDropped:c,videoPacketsLost:g,videoPacketsLostRate:u,muteState:o,videoCumulativeDecodeTime:this.videoReliableBreak.decodeDuration,videoCumulativeBreakTime:this.videoReliableBreak.breakDuration,videoCumulativeBreakRate:this.videoReliableBreak.breakDuration/(this.videoReliableBreak.decodeDuration+this.videoReliableBreak.breakDuration||1)}),audio:bc(bc({},this.currentQuality.audio),{audioBitrate:l,audioCodec:h,audioQuality:p,audioFPS:C,audioJitter:I,audioLevel:f,audioPacketsLost:E,audioPacketsLostRate:Q,audioSamplingRate:B,audioSendLevel:m,muteState:d,audioCumulativeDecodeTime:this.audioReliableBreak.decodeDuration,audioCumulativeBreakTime:this.audioReliableBreak.breakDuration,audioCumulativeBreakRate:this.audioReliableBreak.breakDuration/(this.audioReliableBreak.decodeDuration+this.audioReliableBreak.breakDuration||1)}),nackCount:y,pliCount:v,totalRoundTripTime:_,currentRoundTripTime:S,peerToPeerDelay:w,peerToPeerPacketLostRate:(D||0)/255,sampleTimeWindow:b};if(void 0!==e.muted){var R=e.paused,N=e.volume,T=e.sinkId;k.muted=e.muted,k.paused=R,k.volume=N,k.sinkId=T}if(void 0!==e.videoCodecName){var L=e.audioCodecName,M=e.codecImplementationName,O=e.googAvailableSendBandwidth;k.video.googCodecName=e.videoCodecName,k.audio.googCodecName=L,k.codecImplementationName=M,k.googAvailableSendBandwidth=O}this.currentQuality=k},e.prototype.uploadPlayQuality=function(e,t){var r,i;if(this.player.signal.isServerConnected){var A=t;if(0==this.qualityUploadLastTime||A-this.qualityUploadLastTime>=2e3){if(e.stream_type="play",e.stream_id=this.streamId,e.timeStamp=A,e.video_break_duration=this.videoBreakReport.breakDuration,e.video_break_cancel_duration=this.videoBreakReport.breakCancelDuration,e.video_decode_time=this.videoBreakReport.decodeTime,this.videoBreakReport.breakCancelDuration=0,this.videoBreakReport.breakDuration=0,this.videoBreakReport.decodeTime=0,e.audio_break_duration=this.audioBreakReport.breakDuration,e.audio_break_cancel_duration=this.audioBreakReport.breakCancelDuration,e.audio_decode_time=this.audioBreakReport.decodeTime,this.audioBreakReport.breakCancelDuration=0,this.audioBreakReport.breakDuration=0,this.audioBreakReport.decodeTime=0,e.real_sampling_interval=A-this.lastSampleTime,!e.frameHeight||!e.frameWidth)for(var n=document.querySelectorAll("video"),o=0;o<n.length;o++){var s=n[o],a=null===(r=s.srcObject)||void 0===r?void 0:r.getVideoTracks()[0];if(a&&a==(null===(i=this.player.playStream)||void 0===i?void 0:i.getVideoTracks()[0])){e.frameHeight=s.videoHeight||0,e.frameWidth=s.videoWidth||0;break}}this.lastSampleTime=A,this.logger.info("zc.p.upq.1 "+this.streamId+" upload"+JSON.stringify(e)),this.player.streamCenter.updateQuality(1,e),this.qualityUploadLastTime=A}}},e.prototype.getP2PNetStats=function(){var e=this;this.player.signal.getP2PNetStats((0,r.getSeq)(),this.sessionId,this.peerID,(function(t,r,i){var A=i.p2p_rtt;e.p2pNetStats.p2pLostRate=i.p2p_lost_rate||0,e.p2pNetStats.p2pRTT=A||0}),(function(e){}))},e.prototype.getTimerType=function(){this.timerType=this.qualityUpdateInterval===this.qualityUploadInterval?0:this.qualitySampleInterval===this.qualityUpdateInterval?1:2,this.logger.info("zc.p.0.qgtt "+this.streamId+" timer type "+this.timerType+" "+this.qualitySampleInterval+" "+this.qualityUpdateInterval+" "+this.qualityUploadInterval)},e.prototype.setPlayQualityTimer=function(){var e=this;null==this.qualityTimer&&(this.logger.info(Ro+" "+this.streamId+" startTimer"),this.clearPlayQualityTimer(),this.getP2PNetStats(),this.qualityTimer=setInterval((function(){e.sampleTimes++;var t=e.player.peerConnection;if(t){var r=[t.getStats(null)];"chrome"==e.player.stateCenter.browser&&r.push(new Promise((function(e){try{var r=t.getStats((function(t){return e(t)}),(function(t){e(null)}));"function"==typeof(null==r?void 0:r.catch)&&r.catch((function(t){e(null)}))}catch(t){e(null)}}))),Promise.all(r).then((function(t){e.getPlayStats(t[0],t[1])})).catch((function(t){e.logger.error(Ro+" "+e.streamId+" getStats error "+t.toString())}))}}),this.qualitySampleInterval),this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0})},e.prototype.clearPlayQualityTimer=function(){if(this.clearPlayQualityUpdateTimer(),null!=this.qualityTimer){clearInterval(this.qualityTimer),this.qualityTimer=null;var e=(new Date).getTime();this.lastSampleTime=0,this.sampleTimes=0,this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},Dc(this.videoBreak,this.videoBreakReport,this.videoReliableBreak,this.videoBreakThreshold,0===this.player.cameraStatus&&this.player.playMediaStatus.video,e),Dc(this.audioBreak,this.audioBreakReport,this.audioReliableBreak,this.audioBreakThreshold,0===this.player.micStatus&&this.player.playMediaStatus.audio,e,"audio")}this.poorQualityNum=0,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesDropped:0,framesReceived:0,audioBitrate:0}},e.prototype.setPlayQualityUpdateTimer=function(){var e=this;null==this.qualityUpdateTimer&&(this.logger.info("zc.p.1.spqt.1 "+this.streamId+" called "+this.qualityUpdateInterval),this.clearPlayQualityUpdateTimer(),this.qualityUpdateTimer=setInterval((function(){e.player.onPlayQualityUpdate(e.streamId,e.currentQuality)}),this.qualityUpdateInterval))},e.prototype.clearPlayQualityUpdateTimer=function(){this.logger.info("zc.p.1.cpqt.1 "+this.streamId+" called "+!!this.qualityUpdateTimer),null!=this.qualityUpdateTimer&&(clearInterval(this.qualityUpdateTimer),this.qualityUpdateTimer=null)},e.prototype.checkProbe=function(e){var t,r,i=this.netQuality,A=this.lastPlayStats.time;if(i<=this.player.streamCenter.targetQuality?this.poorQualityNum++:this.poorQualityNum=0,i<=this.player.streamCenter.l3BadQualityScore&&this.player.streamCenter.handleQualityBad(this.streamId,this.player.resourceMode,he.L3)?this.logger.info(Ro+"check cdn mode"):A>0&&this.poorQualityNum>=(null===(r=null===(t=this.player)||void 0===t?void 0:t.streamCenter)||void 0===r?void 0:r.probeStartedNum)&&e>this.probeTime+this.probeInterval&&(this.logger.info(Ro+" netQuality "+i+" start net probe"),this.probeState=s.tryProbe,this.player.poorQualityRetryCnt++,this.player.streamCenter.startNetProbe(!1,this.player,this.player.gwNodeList),this.probeTime=e),i>this.player.streamCenter.l3BadQualityScore){var n=this.player.streamCenter.playerList[this.streamId];n?n.qualityBadCount=0:this.logger.warn(Ro+" ".concat(this.streamId," play info not exist.")),this.player.streamCenter.l3ProtocolBadTimestamp=0,this.player.streamCenter.lastHandleL3BadTimestamp=0}},e.prototype.startProbeTimeout=function(){var e=this;this.probeTimer=setTimeout((function(){e.logger.error(Bo+" probe timeout"),e.player.playStateUpdateError(Yt.error.kProbeTimeOutError)}),this.probeTimeoutInterval)},e.prototype.stopProbeTimeout=function(){this.probeTimer&&(clearTimeout(this.probeTimer),this.probeTimer=null)},e}(),Rc=function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||(i||(i=Array.prototype.slice.call(t,0,A)),i[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))};function Nc(e){var t,r=e,i=function(e){var t={m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"}]};function r(e,t,r){var i=function(e){return String(Number(e))===e?Number(e):e},A=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:A&&!t[e.name]&&(t[e.name]={});var n=e.push?{}:A?t[e.name]:t;(function(e,t,r,A){if(A&&!r)t[A]=i(e[1]);else for(var n=0;n<r.length;n+=1)null!=e[n+1]&&(t[r[n]]=i(e[n+1]))})(r.match(e.reg),n,e.names,e.name),e.push&&t[e.push].push(n)}var i=RegExp.prototype.test.bind(/^([a-z])=(.*)/),A=[],n={},o=n;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var i=e[0],n=e.slice(2);"m"===i&&(A.push({rtp:[],fmtp:[]}),o=A[A.length-1]);for(var s=0;s<(t[i]||[]).length;s+=1){var a=t[i][s];if(a.reg&&a.reg.test(n))return r(a,o,n)}})),n.media=A,n}(e),A=[];return i.media.forEach((function(e){"video"===e.type&&e.fmtp.forEach((function(e){t="a=fmtp:"+e.payload+" "+e.config,-1===e.config.indexOf("sps-pps-idr-in-keyframe")&&-1===A.indexOf(t)&&A.push(t)}))})),A.forEach((function(e){r=r.replace(new RegExp(e,"g"),e+";sps-pps-idr-in-keyframe=1")})),r}var Tc=function(){return Tc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Tc.apply(this,arguments)},Lc=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Mc=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Oc=Yt,Pc=jt,Fc=Kt;function Gc(e){var t=0,r=0;return t=e[r++]<<24,t|=e[r++]<<16,t|=e[r++]<<8,t|=e[r++]}function Uc(e,t){void 0===t&&(t=0);for(var r=e.length,i=[],A=0;A<r;)A>=t&&r-A>=3&&!e[A]&&!e[A+1]&&3==e[A+2]?(i.push(e[A++]),i.push(e[A++]),A++):i.push(e[A++]);var n=new Uint8Array(i);return{output:n,outLength:n.length}}var xc=function(){function e(e,t,i,A,n,o,s,a,c){var g,u=this;this.curCBState={state:"NO_PLAY",code:0},this._state=R,this.lastState=R,this.candidateInfo=[],this.broadcasterStatus=ne.stop,this.isExternal=!1,this.reportSeq=NaN,this.parentSpanKey="",this.streamReportSeq=(0,r.getSeq)(),this.reportBeginTime=0,this.reportPlayingTime=0,this.reportPlayStateTime=0,this.streamInRoom=!0,this.playStartTime=0,this.streamRoomPushConsumed=0,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,this.playStateCount=0,this.isRePlay=!1,this.videoSizeCallback=!1,this.remoteStream=null,this.playStream=null,this.rtcViewer=null,this.playOption={},this.playMediaStatus={video:!0,audio:!0},this.closeSessionSignal=!1,this.stateNego=L.stop,this.negoTimer=null,this.negoInterval=25e3,this.cameraStatus=0,this.micStatus=0,this.hasSentStreamStatus=!1,this.playEvent=!1,this.gotStreamStatus=!1,this.soundLevel=0,this.mic=null,this.beginTime=0,this.firstFrameTime=0,this.resourceMode=0,this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0,this.isPeer=!1,this.peerFailCount=0,this.isProbe=!1,this.probeType="audio",this.peerID=0,this.isRecvClientInfo=!1,this.videoCodec="",this.videoCodecTimes=0,this.answerSdpTime=0,this.streamConnectIP="",this.initPoster="",this.initVideoStyle="",this.firstPlay=!0,this.isProbeByDG=!1,this.useResourceTypes=[],this.tryidx=0,this._CDNPlayerClone=null,this.retryFailGwNodes=[],this.dispatchedGwNodes=[],this.rtcPlayCount=0,this.signalTime=0,this.stopReason="",this.isProbeDispatch=!1,this.streamNotFoundTime=0,this.pushCmdSeqMap=((g={}).MediaDescPush={seq:-1,time:0},g.StreamStatusNotifyPush={seq:-1,time:0},g.PlayEventPush={seq:-1,time:0},g.ClientInfoPush={seq:-1,time:0},g.NetQualityInfoPush={seq:-1,time:0},g.CandidateInfoPush={seq:-1,time:0},g),this.audioMuteState="0",this.videoMuteState="0",this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.onDataChannelList=[],this.sideMediaConfig={isSEIStart:!1,unregisterSeiFilter:"",filterSize:0},this.cachedGwNodesMode=hg.DiffReUse,this.iceDisconnectedMaxTime=15e3,this.netTimer=null,this.lostQualityTime=0,this.userID="",this._turnToTcp=!1,this.decodeVideoFrame=function(e,t){var r,i;if("VP8"===u.videoCodec)t.enqueue(e);else{for(var A=new DataView(e.data),n=0,o=new Pa(A),s=0,a=!1;o.NextNalu(a);)if(7!=(s=31&A.getUint8(o.nalu_start+o.start_code_size))&&8!=s&&9!=s){if(6!=s)break;var c=new Uint8Array(e.data).slice(o.nalu_start+o.start_code_size,o.nalu_start+o.start_code_size+o.nalu_size);if(u.stateCenter.seiConfig.emulationPreventionByte)c=Uc(c).output;n=1,a=!0;for(var g=0;255===c[n];)g+=255,n++;if(243===(g+=c[n++])||5===g||100===g){for(var l=0;255===c[n];)l+=255,n++;if(l+=c[n++],e.data.byteLength-n<l)break;var h=new Uint8Array(4+l);switch(h[0]=0,h[1]=0,g){case 100:h[2]=3,h[3]=235;break;case 5:h[2]=3,h[3]=236;break;case 243:h[2]=3,h[3]=237}for(var d=0;d<l;d++)h[4+d-0]=c[n++];var p=!1;if(243===g)p=!0;else if(5===g){var C=u.sideMediaConfig.unregisterSeiFilter;if(C){var I=h.slice(4,4+u.sideMediaConfig.filterSize),f=void 0,E=!0;if(0===(f="string"==typeof C?gn(C):C).length)E=!1;else for(var Q=0;Q<f.length;Q++)if(f[Q]!==I[Q]){E=!1;break}p=E}else p=!0}p&&u.stateCenter.actionListener("playerRecvSEI",u.streamId,h)}else if(244===g){for(l=0;255===c[n];)l+=255,n++;if(l+=c[n++],e.data.byteLength-n<l)break;var B=parseInt(l/5+""),m=c.slice(n,n+=l),y=[],v=function(e){var t=5*e,A=m.slice(t,t+4),n=m.slice(t+4,t+5),o=Gc(A),s=n[0],a=(null===(i=null===(r=u.room.streamList)||void 0===r?void 0:r.find((function(e){return e.stream_nid===o})))||void 0===i?void 0:i.stream_id)||"";y.push({soundLevelID:o,value:s,streamID:a})};for(Q=0;Q<B;Q++)v(Q);var _=new Map(y.map((function(e){return[e.soundLevelID,e.value]}))),S=y.filter((function(e){return e.streamID})).map((function(e){return[e.streamID,e.value]})),w=new Map(S);u.stateCenter.actionListener("mixerSoundLevelUpdate",_,u.streamId),w.size&&u.stateCenter.actionListener("autoMixerSoundLevelUpdate",w,u.streamId)}}t.enqueue(e)}},this.decodeAudioFrame=function(e,t){t.enqueue(e)},this.soundMeterWorklet=null,this.streamId=e,this.logger=t,this.signal=i,this.dataReport=A,this.streamCenter=s,this.ac=a,this.stateCenter=c,this.qualityHandler=new kc(n,o,this,this.logger,this.dataReport,this.stateCenter),this.qualityHandler.onRecvMediaData=function(){u.streamNotFoundTime&&(u.streamNotFoundTime=0,u.logger.info("zc.p.ormd.1 "+u.streamId+" reset streamNotFoundTime"))},this.resourceMode=this.stateCenter.settingConfig.getSetting("resource_mode"),this.initStreamReport()}return e.prototype.updateCBState=function(e){var t=this,r=Object.keys(e).some((function(r){return e[r]!==t.curCBState[r]}));return r&&(this.curCBState=e),r},Object.defineProperty(e.prototype,"room",{get:function(){var e;return null===(e=this.streamCenter.playerList[this.streamId])||void 0===e?void 0:e.room},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){this.lastState=this._state,this._state=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"probeState",{get:function(){return this.qualityHandler.probeState},set:function(e){this.qualityHandler.probeState=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"netQuality",{get:function(){return this.qualityHandler.netQuality},set:function(e){this.qualityHandler.netQuality=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPlayStats",{get:function(){return this.qualityHandler.lastPlayStats},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iceStateDisConnect",{get:function(){return[L.iceClosed,L.iceDisconnected,L.iceFailed].includes(this.stateNego)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLastConnected",{get:function(){return this.lastState===k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playStat",{get:function(){return this.qualityHandler.playStat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ip",{get:function(){var e,t;return null===(t=null===(e=this.gwNode)||void 0===e?void 0:e.split(":"))||void 0===t?void 0:t[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"netProtocol",{get:function(){return this._turnToTcp?"tcp":"udp"},enumerable:!1,configurable:!0}),e.prototype.netProbeToReDispatch=function(){this.isProbeDispatch=!0,this.playStateUpdateError(Oc.error.kPlayNetProbePoor)},e.prototype.initStreamReport=function(){this.reportSpan=this.stateCenter.reporter.createSpan(Ie.I,{key:Yt.event,par:this.streamId},{key:Pc.event,par:this.streamId},Pc.event,!0),this.playStartTime=this.reportBeginTime=(new Date).getTime()},e.prototype.startPlay=function(e,t,r){var i,A,n,o,s,a,c,g,u,l=this;if(this.logger.info(Bo+" called ",e),this.playEvent=!1,this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),e){if(this.getRemoteStreamSuc=t,this.playOption=r||{},this.playMediaStatus={video:this.playMediaStatus.video&&(void 0===this.playOption.video||!!this.playOption.video),audio:this.playMediaStatus.audio&&(void 0===this.playOption.audio||!!this.playOption.audio)},r&&r.videoCodec&&(this.playOption.videoCodec=r.videoCodec),"boolean"==typeof(null==r?void 0:r.isSEIStart)&&(this.sideMediaConfig.isSEIStart=null==r?void 0:r.isSEIStart),this.sideMediaConfig.isSEIStart){var h=qA();((null===(i=this.playOption)||void 0===i?void 0:i.videoCodec)&&"H264"!==(null===(A=this.playOption)||void 0===A?void 0:A.videoCodec)||!h)&&(this.sideMediaConfig.isSEIStart=!1)}if(null===(n=this.stateCenter.seiConfig)||void 0===n?void 0:n.unregisterSEIFilter){var d=this.sideMediaConfig.unregisterSeiFilter=null===(o=this.stateCenter.seiConfig)||void 0===o?void 0:o.unregisterSEIFilter;this.sideMediaConfig.filterSize=gn(d).byteLength}null==(null==r?void 0:r.streamType)&&void 0!==this.stateCenter.streamType&&(this.playOption.streamType=this.stateCenter.streamType),this.stateCenter.reporter.spanSetAttributes({key:Oc.event,par:e},{video_layer:Oc.video_layer(2===this.playOption.streamType?-1:this.playOption.streamType||1)});var p=this.stateCenter.settingConfig.getSetting("play_video_codec",!0);p&&(this.logger.info(Bo+" setting play_video_codec "+p),this.playOption.videoCodec=p);var C=(null===(s=this.playOption)||void 0===s?void 0:s.resourceMode)==de.DG?1:0;this.stateCenter.reporter.spanSetAttributes({key:(this.isRePlay?zt:Fc).event,par:this.streamId},{is_peer:Fc.is_peer(this.isPeer)}),this.stateCenter.reporter.spanSetAttributes({key:Oc.event,par:this.streamId},{audio_activate:Oc.audio_activate(1==this.playOption.audio||0!=this.playOption.audio),video_activate:Oc.video_activate(1==this.playOption.video||0!=this.playOption.video),biz_product:Oc.biz_product(C)}),this.reportSpan.setAttributes({room_id:Pc.room_id(null===(c=null===(a=this.streamCenter.playerList[this.streamId])||void 0===a?void 0:a.room)||void 0===c?void 0:c.roomID),room_sid_string:Pc.room_sid_string(null===(u=null===(g=this.streamCenter.playerList[this.streamId])||void 0===g?void 0:g.room)||void 0===u?void 0:u.roomSessionID)}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.negoTimer=setTimeout((function(){l.logger.error(Bo+" waiting timeout"),l.playStateUpdateError(Oc.error.kPlayNegoTimeoutError)}),this.negoInterval),this.isProbe&&this.qualityHandler.startProbeTimeout()}else this.logger.warn(Bo+" streamId is null")},e.prototype.onCreatePlaySessionSuccess=function(e){var t=this,r=mo;this.logger.info(r+" "+this.streamId+" success");var i=[];if(e.turn_server){var A=e.turn_server.split(";");this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var n=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");!isNaN(n)&&(this.streamCenter.maxUdpFailNum=n);var o=this.streamCenter,s=o.autoSwitchProtocol,a=o.maxUdpFailNum,c=o.udpFailNum;this.logger.info(r+"  autoToTcp: ".concat(s,", udpFailNum: ").concat(c,", maxUdpFailNum: ").concat(a,".")),s&&!this._turnToTcp&&c>=a&&(this.logger.info(r+" switch to tcp."),this._turnToTcp=!0);var g=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);g&&(this.logger.info(r+" setting udp_or_tcp "+g),this._turnToTcp="tcp"===g);var u=void 0,l=A.filter((function(e){return e.indexOf("udp")>-1})),h=A.filter((function(e){return e.indexOf("tcp")>-1}));u=this._turnToTcp?h.length>0?h:l.map((function(e){return e.replace("udp","tcp")})):l,this.logger.info(r+" over tcp "+JSON.stringify(u)),i.push.apply(i,u)}e.stun_server&&i.push(e.stun_server);var d={iceTransportPolicy:"all",iceServers:[{urls:i,username:e.turn_username,credential:e.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(r+" "+this.streamId+" username: "+e.turn_username),this.logger.info(r+" "+this.streamId+" credential: "+e.turn_auth_key),this.createOffer(d);var p=performance.now();this.signal.registerPushCallback("MediaDescPush",this.sessionId,(function(e,r,i){return Lc(t,void 0,void 0,(function(){return Mc(this,(function(t){switch(t.label){case 0:return this.compareSeqs("MediaDescPush",e)?[4,this.onRecvMediaDesc(e,r,i)]:[2];case 1:return t.sent(),[2]}}))}))})),this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,(function(e,r,i){if(t.compareSeqs("CandidateInfoPush",e))var A=setTimeout((function(){t.onRecvCandidateInfo(e,r,i),clearTimeout(A)}),0)})),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,i,A){if(p){var n=(performance.now()-p).toFixed(0);p=void 0,t.logger.info(r+" ".concat(t.streamId,", cmd: CloseSessionPush, cost_time: ").concat(n))}32===A.reason&&(t.stateCenter._isMiniSdp=!1),t.onRecvCloseSession(e,i,A)})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,r,i){t.onRecvResetSession(e,r,i)})),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,(function(e,r,i){t.compareSeqs("StreamStatusNotifyPush",e)&&(t.gotStreamStatus=!0,t.streamStatus=i,t.statusSeq=e,t.playStream&&t.onRecvStreamStatus(e,i))})),this.signal.registerPushCallback("PlayEventPush",this.sessionId,(function(e,i,A){if(t.compareSeqs("PlayEventPush",e)){if(p){var n=(performance.now()-p).toFixed(0);t.logger.info(r+" ".concat(t.streamId,", cmd: PlayEventPush, cost_time: ").concat(n))}t.onRecvPlayEvent(e,i,A)}})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,r,i){t.compareSeqs("ClientInfoPush",e)&&t.onRecvClientInfo(e,r,i)})),this.signal.gw.registerPushCallback("net_quality_grade_push",this.sessionId,(function(e,r,i){t.onRecvNetQualityGrade(e,r,i)})),this.logger.info(r+" "+this.streamId+" call success")},e.prototype.compareSeqs=function(e,t){var r=this.pushCmdSeqMap[e],i=r.seq,A=r.time,n=performance.now();return-1!==i&&i>=t&&n-A<6e3?(this.logger.warn("zc.p.cps.1"+" ".concat(this.streamId,", push ").concat(e,", seq ").concat(t," local ").concat(JSON.stringify(this.pushCmdSeqMap[e]))),!1):(this.pushCmdSeqMap[e]={seq:t,time:n},!0)},e.prototype.createOffer=function(e){var t=this,r=mo;if(this.peerConnection=new RTCPeerConnection(e),this.peerConnection.onicecandidate=function(e){t.onIceCandidate(e)},this.peerConnection.onsignalingstatechange=function(e){t.onConnectionStateChange(e)},this.peerConnection.oniceconnectionstatechange=function(e){t.onIceConnectionStateChange(e)},this.peerConnection.onconnectionstatechange=function(e){t.onPeerConnectionStateChange(e)},this.peerConnection.ontrack=function(e){t.onGotRemoteStream(e.streams[0],e.receiver)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=function(e){t.logger.info(r+" "+t.streamId+" data channel open")},this.dataChannel.onmessage=function(e){if(t.logger.info(r+" "+t.streamId+" data channel onmessage"),e.data instanceof Blob){var i=new FileReader,A={};i.readAsArrayBuffer(e.data),i.onload=function(){A.data=i.result,t.onReceivedDataChannel(A)}}else t.onReceivedDataChannel(e)}),this.stateCenter.customUa){var i="function"==typeof this.peerConnection.addTransceiver;this.logger.info(r+" "+this.streamId+" custom ua ios "+i),i&&(this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"}))}var A={offerToReceiveAudio:1,offerToReceiveVideo:1};this.isProbe?"audio"===this.probeType&&(A.offerToReceiveVideo=0):(this.playOption&&!1===this.playOption.video&&(A.offerToReceiveVideo=0),this.playOption&&!1===this.playOption.audio&&(A.offerToReceiveAudio=0)),this.logger.info(r+" "+this.streamId+" createOffer: "+JSON.stringify(A));var n=this.getSpan(Pi,this.parentSpanKey);this.peerConnection.createOffer(A).then((function(e){if(n&&(n.setAttributes({sdp:Fi(e.sdp),is_mini:Gi(t.stateCenter.isMiniSdp)}),n.end()),!t.checkProbeSDP(e.sdp))return t.resetPlay(),void t.startPlay(t.streamId,t.getRemoteStreamSuc,t.playOption);t.onCreateOfferSuccess(e)}),(function(e){t.logger.error(r+" "+t.streamId+" create offer error "+e.toString()),n&&t.stateCenter.reporter.setError(n,{code:Yt.error.kCreateOfferError.code,message:e.toString()}),t.playStateUpdateError(Oc.error.kCreateOfferError,!0)}))},e.prototype.checkProbeSDP=function(e){return this.logger.info(mo+" is probe "+this.isProbe),!this.isProbe||(!("audio"===this.probeType&&!e.includes("m=audio"))||(this.logger.warn(mo+" no audio"),this.probeType="all",!1))},e.prototype.createSession=function(e){var t,i,A,n=this;this.sessionSeq=(0,r.getSeq)();var o=this.streamId;1==this.streamCenter.testEnvironment&&(o="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var s=this.stateCenter.settingConfig.getSetting("gw_nodes");s&&s instanceof Array&&s.length>0&&(this.logger.info(Bo+" setting "+JSON.stringify(s)),this.gwNodeList=s,this.gwNode=this.gwNodeList[0]||this.gwNode),this.setTurnTcp();var a=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);a&&(this.logger.info(So+" setting udp_or_tcp "+a),this._turnToTcp="tcp"===a),this._turnToTcp&&(this.isPeer=!1);var c=(null===(i=null===(t=this.streamCenter.publisherList[this.streamId])||void 0===t?void 0:t.room)||void 0===i?void 0:i.roomID)||(null===(A=this.stateCenter.roomList[0])||void 0===A?void 0:A.roomID),g=this.getSessionParams(c),u=g.params,l=g.paramsExt;this.paramsExt=l;var h=qi;if(this.isPeer){var d=this.getSpan(qi.event,this.parentSpanKey),p=this.stateCenter.settingConfig.getSetting("l3_play_buffer_ms"),C=(new Date).getTime();this.signal.createSessionWithSdp({seq:this.sessionSeq,type:this.isProbe?2:1,mode:0,streamId:o,strAuthParam:this.playOption&&this.playOption.streamParams||"",sdp:e.sdp,serverHost:this.gwNode,playBufLevel:[de.L3,de.DG].includes(this.resourceMode)?p:void 0,params:u,paramsExt:l,roomID:c,geo:{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList}},(function(e,t,r){return Lc(n,void 0,void 0,(function(){var i;return Mc(this,(function(A){return i=(new Date).getTime(),this.logger.info(Bo+" create session time "+(i-C)),d&&(d.setAttributes({webrtc_sid:t,sdp:h.sdp(r.sdp),gw_nodes:h.gw_nodes(r.gw_nodes),gw_nodes_ttl:h.gw_nodes(r.gw_nodes_ttl),gw_version:h.gw_version(r.gw_version)}),d.end()),this.stateNego!==L.iceConnected&&this.getSpan(ji,this.parentSpanKey,"",!0),this.stateCenter.reporter.spanSetAttributes({key:Oc.event,par:this.streamId},{gw_version:Oc.gw_version(r.gw_version)}),this.handleCreateSessionWithSdpResp(e,t,r),[2]}))}))}),(function(e,t){if(n.sessionSeq==t){var r=1==e?Oc.error.kSessionTimeoutError:Oc.error.kSessionRequestError;d&&(d.setAttributes({try_cnt:n.peerFailCount}),n.stateCenter.reporter.setError(d,r)),n.playStateUpdateError(r)}else n.logger.warn(Bo+" seq is not match.")}))}else{var I=this.getSpan(qi.event,this.parentSpanKey);this.signal.createSession(this.sessionSeq,1,0,o,this.playOption&&this.playOption.streamParams,this.gwNode,u,c,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},(function(e,t,r){return Lc(n,void 0,void 0,(function(){return Mc(this,(function(i){return I&&(I.setAttributes({webrtc_sid:qi.webrtc_sid(t),sdp:h.sdp(r.sdp),is_mini:h.is_mini(this.stateCenter.isMiniSdp),gw_nodes:h.gw_nodes(r.gw_nodes),gw_nodes_ttl:h.gw_nodes(r.gw_nodes_ttl),gw_version:h.gw_version(r.gw_version)}),I.end(),this.stateCenter.reporter.spanSetAttributes({key:Oc.event,par:this.streamId},{gw_version:Oc.gw_version(r.gw_version)})),this.handleCreateSessionResp(e,t,r),[2]}))}))}),(function(e,t){if(n.sessionSeq==t){var r=1==e?Oc.error.kSessionTimeoutError:Oc.error.kSessionRequestError;I&&n.stateCenter.reporter.setError(I,r),n.playStateUpdateError(r)}else n.logger.warn(Bo+" seq is not match.")}))}this.state=_,this.logger.info(Bo+" "+this.streamId+" called success"),this.stateNego=L.start},e.prototype.getSessionParams=function(e){var t="",r=[],i={},A=this.stateCenter.seiConfig.SEIPass;if("boolean"==typeof A){var n=A?1:0;this.stateCenter.useNetAgent?i.sei_filter_pass=n:r.push("zgseipass="+n)}return this.stateCenter.isMiniSdp&&!this.stateCenter.useNetAgent&&r.push("sdp_fmt_type=1"),2===this.resourceMode&&(i.client_class_type=1),"number"==typeof this.playOption.streamType&&(this.stateCenter.useNetAgent?i.video_stream_type=this.playOption.streamType:r.push("video_stream_type="+this.playOption.streamType)),this.stateCenter.idName&&r.push("zguid="+this.stateCenter.idName),e&&r.push("zgrid="+e),r.length>0&&(t=r.join("&")),{params:t,paramsExt:i}},e.prototype.setGwNodes=function(e,t){var r;if(this.logger.info("zc.p.1.sgn "+this.streamId+" "+JSON.stringify(null==e?void 0:e.gw_nodes)+" "+JSON.stringify(this.retryFailGwNodes)),(null===(r=e.gw_nodes)||void 0===r?void 0:r.length)>0){var i=this.sortGwNodes(e.gw_nodes,this.retryFailGwNodes,t);this.retryFailGwNodes=[],this.handleDispatchedGwNodes(i,e.gw_nodes_ttl)}},e.prototype.resetGwNodes=function(){this.logger.info("zc.p.1.rgn "+this.streamId),this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0},e.prototype.sortGwNodes=function(e,t,r){var i=JSON.parse(JSON.stringify(e));if(t.forEach((function(e){var t=i.indexOf(e);t>=0&&(i.splice(t,1),i.push(e))})),!r){var A=i.findIndex((function(t){return t===e[0]}));A>0&&(i.splice(A,1),i.unshift(e[0]))}return i},e.prototype.handleDispatchedGwNodes=function(e,t){if(this.logger.info("zc.p.1.hdgn "+this.streamId+" "+JSON.stringify(e)),Array.isArray(e)){this.gwNodeList=e.length>0?e:this.gwNodeList,this.gwNode=e.length>0?this.gwNodeList[0]:this.gwNode;var r=0===t?60:t;this.gwNodesTTL=r?(new Date).getTime()+1e3*r:this.gwNodesTTL,e.length>0&&this.streamCenter.updateCachedGwNodesList(this,!1,e,r)}},e.prototype.dispatchGwNodes=function(e,t){var i,A=this.streamId;1==this.streamCenter.testEnvironment&&(A="zegotest-"+this.streamCenter.appid+"-"+this.streamId),null===(i=this.signal)||void 0===i||i.dispatchGwNodes((0,r.getSeq)(),1,A,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},(function(t,r,i){e&&e(i)}),(function(e,r){t&&t(e)}))},e.prototype.handleCreateSessionResp=function(e,t,r){var i=r.turn_server,A=i.split("?")[0]&&i.split("?")[0].slice(5),n=this.streamCenter.server.split("?"),o=n[1]&&n[1].slice(2);if(this.stateCenter.reporter.spanSetAttributes({key:this.parentSpanKey,par:this.streamId},{webrtc_sid:r.session_id,url:"webrtc://".concat(A,"/").concat(o,"/").concat(this.streamId)}),this.logger.info(Bo+" "+this.streamId+" sessionId:"+r.session_id),this.sessionSeq==e){this.resetPushCmdSeqMap();var s=r.client_ip||r.clientip;s&&(this.stateCenter.clientIP=s);var a=0,c=(new Date).getTime();if(this.reportBeginTime&&(this.logger.info(yo+" "+this.streamId+" create signal time "+(a=c-this.reportBeginTime)),this.signalTime=a),this.answerSdpTime=c,0!==r.result){if(this.logger.error(Bo+" "+this.streamId+" create error"),1021===(null==r?void 0:r.result))return void this.playStateUpdateError(Le,!0);this.playStateUpdateError(Oc.error.kSessionRequestError)}else this.sessionId=r.session_id,this.sessionToken=r.session_token,this.setGwNodes(r,!1),this.onCreatePlaySessionSuccess(r)}else this.logger.error(Bo+" seq is not match.")},e.prototype.handleCreateSessionWithSdpResp=function(e,t,r){var i=this;if(this.logger.info(yo+" sessionId:"+t),this.sessionSeq==e){this.resetPushCmdSeqMap();var A=r.client_ip||r.clientip;A&&(this.stateCenter.clientIP=A);var n=0,o=(new Date).getTime();if(this.reportBeginTime&&(this.logger.info(yo+" "+this.streamId+" create signal time "+(n=o-this.reportBeginTime)),this.signalTime=n),this.answerSdpTime=o,0!==r.result){if(110===r.result&&(this.stateCenter._isMiniSdp=!1),this.logger.error(yo+" create session failed "+r.result),1021===(null==r?void 0:r.result))return void this.playStateUpdateError(Le,!0);if(this.stateCenter.useNetAgent&&1004===(null==r?void 0:r.result))if(this.checkTryEmptyStreamTimeout())return void this.playStateUpdateError(Oc.error.kPlayStreamNotFound,!0);this.playStateUpdateError(Oc.error.kSessionRequestError)}else{this.sessionId=t,this.sessionToken=r.session_token,this.logger.info(yo+" create session success ",this.streamId),this.setGwNodes(r,!1);var s=performance.now();this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,t,r){if(s){var A=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(yo+" ".concat(i.streamId,", cmd: CloseSessionPush, cost_time: ").concat(A))}i.onRecvCloseSession(e,t,r)})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,t,r){i.onRecvResetSession(e,t,r)})),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,(function(e,t,r){i.compareSeqs("StreamStatusNotifyPush",e)&&(i.gotStreamStatus=!0,i.streamStatus=r,i.statusSeq=e,i.playStream&&i.onRecvStreamStatus(e,r))})),this.signal.registerPushCallback("PlayEventPush",this.sessionId,(function(e,t,r){if(i.compareSeqs("PlayEventPush",e)){if(s){var A=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(Bo+" ".concat(i.streamId,", cmd: PlayEventPush, cost_time: ").concat(A))}i.onRecvPlayEvent(e,t,r)}})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,t,r){i.compareSeqs("ClientInfoPush",e)&&i.onRecvClientInfo(e,t,r)})),this.signal.registerPushCallback("NetQualityProbeRsp",this.sessionId,(function(e,t,r){i.onRecvPlayEvent(e,t,r)})),this.signal.registerPushCallback("NetQualityInfoPush",this.sessionId,(function(e,t,r){i.compareSeqs("NetQualityInfoPush",e)&&i.onRecvNetQualityInfo(e,t,r)})),this.signal.gw.registerPushCallback("net_quality_grade_push",this.sessionId,(function(e,t,r){i.onRecvNetQualityGrade(e,t,r)})),this.onGetRemoteOfferSuccess(r.sdp)}}else this.logger.error(yo+" seq is not match.")},e.prototype.onCreateOfferSuccess=function(e){var t=this;this.logger.info(vo+" "+this.streamId+" localSdp1 "+e.sdp.substr(0,e.sdp.length/2)),this.logger.info(vo+" "+this.streamId+" localSdp2 "+e.sdp.substr(e.sdp.length/2)),e.sdp=e.sdp.replace(/sendrecv/g,"recvonly"),e.sdp=e.sdp.replace(/useinbandfec=/,"stereo=1;useinbandfec=");var r=e.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)?e.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)[0]:null;if(r){var i=r.replace(/recvonly/,"sendrecv");e.sdp=e.sdp.replace(r,i)}e.sdp=Nc(e.sdp),e.sdp=function(e){var t=e.split("\r\n"),r=new Map;t.forEach((function(e,i){if(/^a=rtcp-fb:/.test(e)&&t[i+1]&&!/^a=rtcp-fb:/.test(t[i+1])){var A=e.match(/^a=rtcp-fb:\d+/);A&&r.set(i+1,A[0]+" rrtr")}}));for(var i=Array.from(r),A=0;A<i.length;A++){var n=Rc([],i[A],!0);t.splice(n[0]+A,0,n[1])}return t.join("\r\n")}(e.sdp),this.playOption.videoCodec&&(e.sdp=en.getSDPByVideDecodeType(e.sdp,this.playOption.videoCodec));var A=this.getSpan(Ui,this.parentSpanKey);A&&A.setAttributes({sdp:xi(e.sdp),is_mini:Hi(this.stateCenter.isMiniSdp)}),this.peerConnection.setLocalDescription(e).then((function(){A&&A.end(),t.onSetLocalDescriptionSuccess(e)}),(function(e){t.logger.error(vo+" "+t.streamId+" set error "+e.toString()),A&&t.stateCenter.reporter.setError(A,{code:Yt.error.kSetLocalDescError.code,message:e.toString()}),t.playStateUpdateError(Oc.error.kSetLocalDescError,!0)}))},e.prototype.onSetLocalDescriptionSuccess=function(e){var t=this;if(this.logger.info(_o+" "+this.streamId+" success"),this.isPeer)this.createSession(e);else{var i={sdp:e.sdp,paramsExt:this.paramsExt};2==this.resourceMode&&(i.min_play_buf_level_ms=500),this.answerSeq=(0,r.getSeq)();var A=this.getSpan(Vi,this.parentSpanKey);this.signal.sendMediaDesc(this.answerSeq,this.sessionId,0,i,(function(e,r,n){t.logger.info(_o+" "+t.streamId+" sendMediaDesc resp"),A&&(A.setAttributes({webrtc_sid:Wi(r),sdp:i.sdp}),A.end()),t.answerSeq==e&&t.sessionId==r?(t.logger.info(_o+" "+t.streamId+" send success stateNego:waiterAnswer"),t.stateNego=L.waiterAnswer,t.state=w,"string"==typeof(null==n?void 0:n.sdp)&&(null==n?void 0:n.sdp)&&t.onGetRemoteOfferSuccess(n.sdp,!0)):t.logger.error(_o+" "+t.streamId+" seq or sessionId is not equal "+t.answerSeq+" "+e,0+t.sessionId+" "+r)}),(function(e,r){t.logger.error(_o+" "+t.streamId+" failed to send "+e),A&&t.stateCenter.reporter.setError(A,{code:Yt.error.kMediaDescError.code,message:e.toString()}),t.playStateUpdateError(Oc.error.kMediaDescError)})),this.state=S}},e.prototype.onRecvMediaDesc=function(e,t,r){return Lc(this,void 0,void 0,(function(){var t,i,A,n;return Mc(this,(function(o){switch(o.label){case 0:if(this.logger.info(So+" "+this.streamId+" received ",r),t=r.sdp,!this.stateCenter.isMiniSdp||!t)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.signal.webrtcCenterSvr.parseRecSdp(t,!0)];case 2:return i=o.sent(),[3,4];case 3:return A=o.sent(),this.logger.warn(So+" "+this.streamId+" parse sdp err "+JSON.stringify(A)),[3,4];case 4:return i=i||r.sdp,(n=this.getSpan(Zi,this.parentSpanKey))&&(n.setAttributes({sdp:Xi(i),is_mini:$i(this.stateCenter.isMiniSdp)}),n.end()),this.stateNego=L.waitingCandidate,this.logger.info(So+" "+this.streamId+" received stateNego:waitingCandidate"),this.state!==w?(this.logger.error(So+" "+this.streamId+" current state "+this.state+" not allowed"),[2]):(this.signal.sendMediaDescAck(e,this.sessionId,0),this.onGetRemoteOfferSuccess(i),[2])}}))}))},e.prototype.onGetRemoteOfferSuccess=function(e,t){var r,i=this;void 0===t&&(t=!1);var A={type:"answer",sdp:e,toJSON:function(){}},n=this.getSpan(Ji,this.parentSpanKey);this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var o=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");!isNaN(o)&&(this.streamCenter.maxUdpFailNum=o);var s=this.streamCenter,a=s.autoSwitchProtocol,c=s.maxUdpFailNum,g=s.udpFailNum;this.logger.info(So+"  autoToTcp: ".concat(a,", udpFailNum: ").concat(g,", maxUdpFailNum: ").concat(c,".")),a&&!this._turnToTcp&&g>=c&&(this.logger.info(So+" switch to tcp."),this._turnToTcp=!0);var u=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);u&&(this.logger.info(So+" setting udp_or_tcp "+u),this._turnToTcp="tcp"===u),this._turnToTcp&&(null===(r=A.sdp.match(/candidate.*/g))||void 0===r||r.forEach((function(e){var t=e.replace(/udp/,"tcp");t.includes(" tcptype ")||(t=t.replace(" typ host "," typ host tcptype passive ")),A.sdp=A.sdp.replace(e,t)}))),this.logger.info(So+" "+this.streamId+" remoteSdp ",A.sdp),n&&n.setAttributes({sdp:Yi(A.sdp),webrtc_sid:zi(this.sessionId),is_mini:Ki(this.stateCenter.isMiniSdp)}),this.peerConnection.setRemoteDescription(new RTCSessionDescription(A)).then((function(){n&&n.end(),i.logger.info(So+" "+i.streamId+" set success")}),(function(e){i.logger.error(So+" "+i.streamId+" set remote error "+e.toString()),n&&(n.setAttributes({error:Yt.error.kSetRemoteDescError.code,message:e.toString()}),n.end()),i.playStateUpdateError(Oc.error.kSetRemoteDescError,!0)})),this.state=D,t&&e.indexOf("candidate")>-1&&(this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[],this.state=B),this.logger.info(So+" "+this.streamId+" call success")},e.prototype.onRecvCandidateInfo=function(e,t,r){var i=this;this.logger.info(wo+" "+this.streamId+" received ");var A=this.getSpan(rA,this.parentSpanKey);if(A&&(A.setAttributes({candidate_info:iA(r.infos)}),A.end()),this.state==D){this.signal.sendCandidateInfoAck(e,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var n=0;n<r.infos.length;n++){var o={sdpMid:r.infos[n].sdpMid,sdpMLineIndex:r.infos[n].sdpMLineIndex,candidate:r.infos[n].candidate};this.logger.info(wo+" "+this.streamId+" candidate "+o.candidate),this.peerConnection.addIceCandidate(new RTCIceCandidate(o)).then((function(){i.logger.debug(wo+" "+i.streamId+" add success")}),(function(e){i.logger.error(wo+" "+i.streamId+" add error "+e.toString()),i.playStateUpdateError(Oc.error.kCandidateError,!0)}))}this.state=b;var s=this.getSpan(ji,this.parentSpanKey,"",!0);null==s||s.setAttributes({webrtc_sid:this.sessionId}),this.logger.info(wo+" "+this.streamId+" call success")}else this.logger.warn(wo+" "+this.streamId+" current state "+this.state+" not allowed")},e.prototype.onRecvPlayEvent=function(e,t,i){if(this.logger.info(Do+" "+this.streamId+" received"),!this.isProbe){var A=this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:this.streamId},{key:""},Ei);A.setAttributes({event_state:Qi(i.event),webrtc_sid:t}),A.end()}if(!0===this.playEvent&&0==i.event){this.logger.info(Do+" "+this.streamId+" retry: "+this.streamId);var n=this.streamId,o=this.playOption;this.signal.sendCloseSession((0,r.getSeq)(),this.sessionId,1),this.resetPlay(),this.startPlay(n,this.getRemoteStreamSuc,o)}else this.playEvent=!0},e.prototype.onRecvClientInfo=function(e,t,i){this.stateCenter.clientIP!==i.clientip&&this.logger.warn("zc.p.orci.1.1 client ip changed "+this.stateCenter.clientIP+" "+i.clientip),this.signal.sendClientInfoAck(e,this.sessionId,0),this.stateCenter.clientIP=i.clientip,this.peerID=i.peer_id,this.streamConnectIP=i.clientip,this.stateCenter.isMultiOuter=this.isMultiOuter(),this.isProbe&&this.stateNego==L.iceConnected&&this.signal.sendNetProbe((0,r.getSeq)(),this.sessionId,this.peerID,(function(){}),(function(){})),this.isRecvClientInfo=!0},e.prototype.onRecvNetQualityInfo=function(e,t,i){this.logger.info(Go+" call"),this.qualityHandler.stopProbeTimeout();var A=0,n=i.lossrate,o=i.rtt;(this.peerID!==i.peer_id&&!this.isProbeByDG||null==typeof n||null==typeof o)&&(this.logger.info(Go+" local peerID:"+this.peerID+" remote peerID:"+i.peer_id+" lossrate:"+n+" rtt:"+o),A=1),this.signal.sendNetQualityInfoPushAck((0,r.getSeq)(),this.sessionId,this.peerID,A),0==A&&"number"==typeof n&&"number"==typeof o?(this.isProbeByDG=!1,this.onCalNetQualityResult(0,xA(o,n))):this.onCalNetQualityResult(1)},e.prototype.onRecvNetQualityGrade=function(e,t,r){var i,A,n=this,o=r.net_quality_grade_push;this.userID=this.userID||(null===(A=null===(i=this.streamCenter.playerList[this.streamId])||void 0===i?void 0:i.room.streamList.find((function(e){return e.stream_id==n.streamId})))||void 0===A?void 0:A.id_name),this.signal.sendNetQualityGradeAck(this.sessionId,this.peerID,0),this.userID&&(this.stateCenter.actionListener("networkQuality",this.userID,null==o?void 0:o.tx_quality,null==o?void 0:o.rx_quality),!this.netTimer&&this.startPollNetworkQuality(),this.lostQualityTime=0)},e.prototype.onIceCandidate=function(e){(this.logger.info(bo+" "+this.streamId+" called"),null!=e.candidate)&&(this.logger.info(bo+" "+this.streamId+" candidate "+e.candidate.candidate),this.state<b||this.state==R?(this.logger.info(bo+" "+this.streamId+" cached"),this.candidateInfo.push({candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex})):(this.logger.info(bo+" "+this.streamId+" send"),this.sendCandidateInfo([{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex}])))},e.prototype.onConnectionStateChange=function(e){this.logger.info("zc.p.ocsc.1 "+this.streamId+" called "+e.target.signalingState),this.state!=R&&null!=this.peerConnection&&"closed"===e.target.signalingState&&(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.stateNego=L.iceClosed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState))},e.prototype.onIceConnectionStateChange=function(e){var t=this;if(this.state!=R&&null!=this.peerConnection){this.logger.info(ko+" "+this.streamId+" stateChanged "+this.peerConnection.iceConnectionState);var i=this.getSpan(vi,this.parentSpanKey,Vt.event);if(i&&i.setAttributes({ice_state:_i(this.peerConnection.iceConnectionState)}),"connected"===this.peerConnection.iceConnectionState){if(this.stateNego=L.iceConnected,this.isProbe&&this.isPeer&&(this.isRecvClientInfo||this.isProbeByDG))return this.signal.sendNetProbe((0,r.getSeq)(),this.sessionId,this.peerID,(function(){}),(function(){})),void(null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null));if(null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),!this.isProbe&&this.reportBeginTime){var A=(new Date).getTime()-this.reportBeginTime;this.reportSpan.setAttributes({play_begin_time:Pc.play_begin_time(A)}),this.reportBeginTime=0}if(this.stateCenter.reporter.spanEnd({key:ji,par:this.streamId},{webrtc_sid:this.sessionId}),this.answerSdpTime){var n=(new Date).getTime()-this.answerSdpTime;this.logger.info(ko+" "+this.streamId+" ice time "+n)}if(!this.isProbe&&this.state!=k){this.onPlayStateUpdate(we,this.streamId,{code:0,message:""},!0),this.getRemoteStreamSuc&&this.getRemoteStreamSuc(this.playOption.resourceMode==de.DG&&this.firstPlay?null:this.playStream);var o=this.playMediaStatus,s=o.video,a=o.audio,c=this.streamCenter.playModule;if(c){var g=[void 0,!0].includes(this.playOption.video),u=[void 0,!0].includes(this.playOption.audio);g&&!s&&c.mutePlayStream(this.streamId,"video",!s).then((function(e){t.logger.info(ko+" mute video: ".concat(e))})),u&&!a&&c.mutePlayStream(this.streamId,"audio",!a).then((function(e){t.logger.info(ko+" mute audio: ".concat(e))}))}}this.state=k;var l=this.isRePlay?zt:Fc;for(var h in this.stateCenter.reporter.spanEnd({key:l.event,par:this.streamId},{signal_consume:Fc.signal_consume(this.signalTime),is_peer:Fc.is_peer(this.isPeer)}),this.playStateCount++,this.continuousFailCnt=0,this.reportPlayStateTime=Date.now(),this.isProbeDispatch=!1,this.streamCenter.publisherList){if(this.streamCenter.publisherList[h].publisher.state==m&&this.broadcasterStatus==ne.stop){this.signal&&this.signal.sendBroadcasterStatus((0,r.getSeq)(),this.sessionId,1),this.broadcasterStatus=ne.start;break}}if(!this.isProbe){this.qualityHandler.setPlayQualityTimer();var d=this.stateCenter.settingConfig.getSetting("probe_started_num");!isNaN(d)&&(this.streamCenter.probeStartedNum=d)}this.logger.info(ko+" "+this.streamId+" stateNego:iceConnected"),this.isPeer&&(this.peerFailCount=0),!this.hasConnectionChange()&&this.recordFirstFrameData(),this._turnToTcp||(this.streamCenter.udpFailNum=0)}else"closed"===this.peerConnection.iceConnectionState?(null==i||i.end(),this.stateNego=L.iceClosed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):"failed"===this.peerConnection.iceConnectionState?(null==i||i.end(),this.stateNego=L.iceFailed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):"disconnected"===this.peerConnection.iceConnectionState&&(null==i||i.end(),this.stateNego=L.iceDisconnected,this.logger.warn(ko+" ice disconnected"),this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout((function(){t.checkPlayConnectionFailedState("disconnected")}),this.iceDisconnectedMaxTime)))}},e.prototype.onPeerConnectionStateChange=function(e){this.logger.info("zc.p.opcsc.1 "+this.streamId+" connectionChanged "+this.peerConnection.connectionState),"connected"===this.peerConnection.connectionState&&this.recordFirstFrameData()},e.prototype.hasConnectionChange=function(){var e,t,r=this.stateCenter.browser;return!("firefox"===r||"chrome"===r&&(e=0,t=(navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/)||[])[1],t&&(e=parseInt(t.split(",")[0])),e<72))},e.prototype.checkPlayConnectionFailedState=function(e){this.logger.info(ko+"  state "+this.state+" connectionState "+e),this.playStateUpdateError(Oc.error.kMediaConnectionError)},e.prototype.resetPlay=function(){this.logger.info("zc.p.rp.1 "+this.streamId+" call"),this.state=R,this.playEvent=!1,this.isRecvClientInfo=!1,null!=this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.stopVideocTimer(),this.qualityHandler.stopProbeTimeout(),this.qualityHandler.clearPlayQualityTimer(),this.signal&&(this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PlayEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId),this.signal.unregisterPushCallback("NetQualityProbeRsp",this.sessionId),this.signal.unregisterPushCallback("NetQualityInfoPush",this.sessionId),this.signal.gw.unregisterPushCallback("net_quality_grade_push",this.sessionId)),this.sessionSeq=0,this.answerSeq=0,this.videoSizeCallback=!1,this.stopSoundLevel()},e.prototype.onRecvResetSession=function(e,t,r){this.logger.info(No+" "+this.streamId+" received ");var i=this.getSpan(yi,Vt.event);if(i&&i.end(),t==this.sessionId){this.signal.sendCloseSessionAck(e,this.sessionId,0);var A=JSON.parse(JSON.stringify(Oc.error.kPlaySessionClosedError));this.negoTimer&&clearTimeout(this.negoTimer),this.playStateUpdateError(A)}else this.logger.info(No+" "+this.streamId+" cannot find session")},e.prototype.onRecvCloseSession=function(e,t,r){var i=this;this.logger.info(To+" "+this.streamId+" "+JSON.stringify(r)),this.stateCenter.reporter.spanSetAttributes({key:Vt.event,par:this.streamId},{denied_info:Vt.denied_info(r.err_info),stop_reason:Vt.stop_reason("DenyStop")}),this.signal.sendCloseSessionAck(e,this.sessionId,0);var A=r.err_info?JSON.parse(r.err_info.toLowerCase()):{},n=A.action?A.action:null,o=1*r.reason,s=JSON.parse(JSON.stringify(1004===(null==A?void 0:A.err)?Oc.error.kPlayStreamNotFound:Oc.error.kPlaySessionClosedError));s.message+=" reason:".concat(o," ").concat(n?" action:"+n:""," ").concat((null==A?void 0:A.err)?" err:"+(null==A?void 0:A.err):""),s.message+=";".concat(Fa(o,n,null==A?void 0:A.err)),this.negoTimer&&clearTimeout(this.negoTimer);var a=!([4,8,10,11,12,14,24,26,27,28,32].includes(o)||[2,3,4,5,6].includes(n));1004===(null==A?void 0:A.err)&&(this.checkTryEmptyStreamTimeout()&&(a=!0));var c=!1;if(!this._turnToTcp){if([8,10].includes(o)||[18,15].includes(o)&&2===n&&[3001,3002].includes(A.err)){this.streamCenter.udpFailNum++;var g=this.streamCenter;g.autoSwitchProtocol&&g.udpFailNum>=g.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1),c=!0)}else this._turnToTcp||(this.streamCenter.udpFailNum=0);var u=this.gwNodeList.findIndex((function(e){return e==i.gwNode}))===this.gwNodeList.length-1,l=[3001,3002,3003,3004,3005,3006,3007,3008].includes(A.err);u&&l&&(this.logger.info(To+" "+this.streamId+" switch tcp by all fail"),this.stateCenter.turnToTcp=!0)}this.playStateUpdateError(s,a,A,c)},e.prototype.checkTryEmptyStreamTimeout=function(){var e=Date.now(),t=this.stateCenter.streamRetryTime,r=this.streamNotFoundTime;if(r){if(e-r>1e3*t)return this.streamNotFoundTime=0,this.logger.info("zc.p.ctest.1 "+this.streamId+" stream not found. retry over time: ".concat(t,"s")),!0}else this.streamNotFoundTime=e;return!1},e.prototype.onRecvStreamStatus=function(e,t,r){void 0===r&&(r=!1),this.logger.info(Lo+" "+this.streamId+" call"),this.logger.info("".concat(Lo," ").concat(this.streamId," status camera_status: ").concat(t.camera_status," mic_status: ").concat(t.mic_status)),this.signal.sendStreamStatusNotifyAck(e,this.sessionId,0),this.reportFirstFrameData(t.camera_status,t.mic_status),(!this.hasSentStreamStatus||this.cameraStatus!==t.camera_status)&&this.onRemoteCameraStatusUpdate(this.streamId,this.getCameraMicStatus(t.camera_status),t.camera_status),(!this.hasSentStreamStatus||this.micStatus!==t.mic_status)&&this.onRemoteMicStatusUpdate(this.streamId,this.getCameraMicStatus(t.mic_status),t.mic_status),this.hasSentStreamStatus=!0;var i=this.cameraStatus!==t.camera_status;if(this.cameraStatus=t.camera_status,this.micStatus=t.mic_status,this.videoMuteState=0===t.camera_status?"0":"1",this.audioMuteState=0===t.mic_status?"0":"1","boolean"==typeof this.playOption.video)this.logger.info(Lo+" "+this.streamId+" has set video option, ignore stream status");else{var A=this.playStream,n=this.rtcViewer;if(0!==t.camera_status&&20!==t.camera_status)n?i&&(this.logger.info(Lo+" "+this.streamId+" viewer clear last frame"),n.checkIfClearLastFrame()):A.getVideoTracks().forEach((function(e){e.enabled=!1,e.stop(),A.removeTrack(e)}));else if(0===A.getVideoTracks().length){var o=this.remoteStream.clone().getVideoTracks()[0];A.addTrack(o),n&&n.setVideo(o,"safari"===this.stateCenter.browser)}if("safari"===this.stateCenter.browser&&r)for(var s=document.querySelectorAll("video, audio"),a=0;a<s.length;a++){var c=s[a];c.srcObject===this.playStream&&(this.logger.info(Lo+" track changed. rerender stream"),c.srcObject=this.playStream)}}this.logger.info(Lo+" "+this.streamId+" call success")},e.prototype.onGotRemoteStream=function(e,t){var r=this;if(this.logger.info(Mo+" "+this.streamId+" called "+e),e){var i=this.playOption.playoutDelayHint;if(!isNaN(i)&&t)try{this.logger.info(Mo+" "+this.streamId+" playoutDelayHint: ".concat(i,", origin delay: ").concat(t.playoutDelayHint)),t.playoutDelayHint=i,this.logger.info(Mo+" "+this.streamId+" playoutDelayHint result: ".concat(t.playoutDelayHint))}catch(e){this.logger.warn(Mo+" set playoutDelayHint failed. ".concat(e))}if(this.sideMediaConfig.isSEIStart&&"function"==typeof t.createEncodedStreams&&("video"===t.track.kind?this.createVideoReceiverTransform(t):"audio"===t.track.kind&&this.createAudioReceiverTransform(t)),this.playStream){this.playStream.getTracks().forEach((function(e){return r.playStream.removeTrack(e)}));var A=this.rtcViewer;e.clone().getTracks().forEach((function(e){return Lc(r,void 0,void 0,(function(){return Mc(this,(function(t){return this.playStream.addTrack(e),A&&A.setTrack("video"===e.kind,e,"safari"===this.stateCenter.browser),[2]}))}))}))}else this.playStream=e.clone();this.audioMuteState=this.playStream.getAudioTracks().length>0?"0":"1",this.videoMuteState=this.playStream.getVideoTracks().length>0?"0":"1",this.remoteStream=e,this.getVideoCodec(),this.gotStreamStatus&&this.onRecvStreamStatus(this.statusSeq,this.streamStatus,!0),this.streamCenter.soundLevelDelegate&&!this.isProbe&&this.startSoundLevel()}else this.logger.warn(Mo+" "+this.streamId+" remote stream is empty")},e.prototype.createVideoReceiverTransform=function(e){var t=e.createEncodedStreams(),r=new TransformStream({transform:this.decodeVideoFrame});this.receiverStreams=t,t.readable.pipeThrough(r).pipeTo(t.writable)},e.prototype.createAudioReceiverTransform=function(e){var t=e.createEncodedStreams(),r=new TransformStream({transform:this.decodeAudioFrame});t.readable.pipeThrough(r).pipeTo(t.writable)},e.prototype.sendCandidateInfo=function(e){var t=this;if(this.logger.info(Oo+" "+this.streamId+" called"),!(e=e.filter((function(e){return e.candidate.indexOf("relay")>0})))||e.length<1)this.logger.info(Oo+" "+this.streamId+" cancelled");else{var i=this.getSpan(eA,this.parentSpanKey);i&&i.setAttributes({candidate_info:tA(e)}),this.stateNego!==L.iceConnected&&(this.stateNego=L.sendCandidate),this.logger.info(Oo+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo((0,r.getSeq)(),this.sessionId,e,(function(e,r,A){t.logger.debug(Oo+" "+t.streamId+" send success"),i&&i.end()}),(function(e,r){t.logger.error(Oo+" "+t.streamId+" failed to send: "+e.toString()),i&&t.stateCenter.reporter.setError(i,{code:Yt.error.kCandidateError.code,message:e.toString()}),t.playStateUpdateError(Oc.error.kCandidateError)}))}},e.prototype.shouldSendCloseSession=function(){return this.state!=ke&&this.state!=_},e.prototype.resetPushCmdSeqMap=function(){var e;this.pushCmdSeqMap=((e={}).MediaDescPush={seq:-1,time:0},e.StreamStatusNotifyPush={seq:-1,time:0},e.PlayEventPush={seq:-1,time:0},e.ClientInfoPush={seq:-1,time:0},e.NetQualityInfoPush={seq:-1,time:0},e.CandidateInfoPush={seq:-1,time:0},e)},e.prototype.playStateUpdateError=function(e,t,r,i){if(this.logger.error(Po+" call ",this.streamId,JSON.stringify(e)),!this.isProbe){var A=this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:this.streamId},{key:""},rr);A.setAttributes({error:null==e?void 0:e.code,message:null==e?void 0:e.message}),A.end()}this.isProbe?this.onCalNetQualityResult(1):this.streamId&&this.onPlayStateUpdate(De,this.streamId,e,t,r,i),this.logger.info(Po+" "+this.streamId+" ended")},e.prototype.getCameraMicStatus=function(e){return 0==e?"OPEN":"MUTE"},e.prototype.onPlayStateUpdate=function(e,t,r,i,A,n){},e.prototype.onPlayQualityUpdate=function(e,t){},e.prototype.onRemoteCameraStatusUpdate=function(e,t,r){},e.prototype.onRemoteMicStatusUpdate=function(e,t,r){},e.prototype.getStopReason=function(e){var t="StopPlay";if(e&&e.code)if(1104031===e.code)t="ReachMaxAVRetryTime";else t="StopPlay";return t},e.prototype.stopPlay=function(e,t){var i,A,n,o;this.logger.info("zc.p.1.sp.1 "+this.streamId+" called");var s=this.getStopReason(e);for(var a in this.streamCenter.publisherList){if(this.streamCenter.publisherList[a].publisher.state==m&&this.broadcasterStatus==ne.start){this.signal&&this.signal.sendBroadcasterStatus((0,r.getSeq)(),this.sessionId,0),this.broadcasterStatus=ne.stop;break}}if(this.sessionId&&!this.closeSessionSignal&&(this.signal.sendCloseSession((0,r.getSeq)(),this.sessionId,0),this.resetPushCmdSeqMap()),!this.isProbe){var c=Date.now()-this.reportPlayStateTime;[0,2].includes(this.resourceMode)&&this.reportSpan.setAttributes({play_state_time:Pc.play_state_time(c||0)}),this.uploadRTCPlayStats(),this.stateCenter.reporter.spanSetAttributes({key:Vt.event,par:this.streamId},{stop_reason:Vt.stop_reason(s)})}if(this.stopPollNetworkQuality(),this.resetPlay(),!this.isProbe&&!t){var g=this.qualityHandler,u=g.videoBreak,l=g.audioBreak,h=2===this.resourceMode?"l3":"rtc",d=((i={})["".concat(h,"_a_break_time")]=l.cumulativeBreakDuration,i["".concat(h,"_a_decode_time")]=l.cumulativeDecodeDuration,i["".concat(h,"_v_break_time")]=u.cumulativeBreakDuration,i["".concat(h,"_v_decode_time")]=u.cumulativeDecodeDuration,i.audio_cumulative_break_time=l.cumulativeBreakDuration,i.audio_cumulative_decode_time=l.cumulativeDecodeDuration,i.video_cumulative_break_time=u.cumulativeBreakDuration,i.video_cumulative_decode_time=u.cumulativeDecodeDuration,i);this.reportSpan.setAttributes(Tc({biz_product:(null===(A=this.playOption)||void 0===A?void 0:A.resourceMode)==de.DG?1:0,webrtc_sid:Pc.webrtc_sid(this.sessionId),max_retry_interval:Pc.max_retry_interval(this.stateCenter.streamRetryTime),probe_ip_cnt:Pc.probe_ip_cnt(this.probeIpCnt),valid_probe_ip_cnt:Pc.valid_probe_ip_cnt(this.validProbeIpCnt),poor_quality_retry_cnt:Pc.poor_quality_retry_cnt(this.poorQualityRetryCnt),probe_not_trigger_retry_info:Pc.probe_not_trigger_retry_info(this.probeNotRetryInfos.length>0?this.probeNotRetryInfos:void 0),fail_cnt:Pc.fail_cnt(Math.max(this.rtcPlayCount-1,0)),continuous_fail_cnt:Pc.continuous_fail_cnt(this.continuousFailCnt),use_resource_type:Pc.use_resource_type(this.resourceMode===de.DG?this.useResourceTypes:[jA(this.resourceMode)]),use_na:jt.use_na(this.stateCenter.useNetAgent?1:0),play_state_cnt:Pc.first_frame_time(this.playStateCount),protocol:Pc.protocol("webrtc"),dispatch_external_ip:Pc.dispatch_external_ip(this.stateCenter.clientIP),w:Pc.w(null===(n=this.playStat)||void 0===n?void 0:n.frameWidth),h:Pc.h(null===(o=this.playStat)||void 0===o?void 0:o.frameHeight),stop_reason:Pc.stop_reason(s),error:(null==e?void 0:e.code)||0,message:(null==e?void 0:e.message)||"",cdn_a_break_time:0,cdn_a_decode_time:0,cdn_v_break_time:0,cdn_v_decode_time:0,l3_a_break_time:0,l3_a_decode_time:0,l3_v_break_time:0,l3_v_decode_time:0,rtc_a_break_time:0,rtc_a_decode_time:0,rtc_v_break_time:0,rtc_v_decode_time:0},d)),this.reportSpan.end()}this.streamCenter.stopToReport(1),this.retryFailGwNodes=[],this.isRePlay=!1,this.rtcPlayCount=0,this.isProbeDispatch=!1,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.continuousFailCnt=0;var p=this.rtcViewer;p&&p.destroy()},e.prototype.onDisconnect=function(e){this.logger.info("zc.p.od.1 "+this.streamId+" call"),this.playStateUpdateError(e||Oc.error.kWebsocketDisconnectedError,!!e)},e.prototype.startSoundLevel=function(){var e,t=this;if(this.logger.info(Fo+" call streamID: "+this.streamId),!this.isProbe)if(this.remoteStream&&0!=this.remoteStream.getAudioTracks().length){null===(e=this.soundMeterWorklet)||void 0===e||e.destroy(),this.mic=null;var r=this.streamCenter.getCloudSoundInterval();try{var i=this,A=this.streamCenter.createSoundLevel(this.ac,this.remoteStream,this.streamCenter.soundLevelInterval,r,(function(e){i.soundLevel=0===t.micStatus?100*e:0})),n=A.mic;this.soundMeterWorklet=A.soundMeter,this.mic=n}catch(e){this.logger.error(Fo+" get sound level failed "+e)}}else this.logger.info(Fo+" "+this.streamId+" remote stream no found")},e.prototype.stopSoundLevel=function(){var e;this.logger.info("zc.p.ssl.1.1 call streamID: "+this.streamId),null===(e=this.soundMeterWorklet)||void 0===e||e.destroy(),this.mic=null},e.prototype.onCalNetQualityResult=function(e,t){},e.prototype.onReceivedDataChannel=function(e){var t,r,i=this,A=new Uint8Array(e.data,0,10),n=e.data.byteLength-10,o=new Uint8Array(e.data,10,n);if(1==A[0]){var s=A[1],a=A[2]<<8|A[3],c=A[4]<<8|A[5],g=(new Date).getTime();if(this.first_pkt&&(this.next_sn[0]=a==c?a:c,this.first_pkt=!1),this.pkt_list.push({sn:a,sn0:c,recv_ts:g,flags:s,payload_len:n,payloadArray:o}),this.pkt_list.sort(this.compareShort),a==this.next_sn[0]){var u=this.pkt_list.filter((function(e){return e.sn0==c}));if(u.sort(this.compareShort),null!=u.find((function(e){return 1&e.flags}))&&u.length==this.compareShort(a,c)+1){for(var l=0,h=new ArrayBuffer(65536),d=0;d<u.length;d++){new Uint8Array(h).set(u[d].payloadArray,l),l+=u[d].payload_len}null===(t=this.onDataChannelList)||void 0===t||t.forEach((function(e){e(h,l,i.streamId)})),this.pkt_list=[],this.first_pkt=!0}this.next_sn[0]++}else for(var p=function(){var e=C.pkt_list.filter((function(e){return e.sn0==i.pkt_list[0].sn0}));if(e.sort(C.compareShort),null!=e.find((function(e){return 1&e.flags}))&&e.length==C.compareShort(e[e.length-1].sn,e[0].sn0)+1){for(var t=0,A=new ArrayBuffer(65536),n=0;n<e.length;n++){new Uint8Array(A).set(e[n].payloadArray,t),t+=e[n].payload_len}C.next_sn[0]=e[0].sn0+e.length,null===(r=C.onDataChannelList)||void 0===r||r.forEach((function(e){e(A,t,i.streamId)})),C.pkt_list=[],C.first_pkt=!0}else if(g-e[0].ts<4e3){var o=e[0].sn0;for(n=0;n<e.length&&o==e[n].sn;n++)o++;return C.next_sn[0]=o,"break"}for(n=0;n<e.length;n++)C.pkt_list.shift()},C=this;this.pkt_list.length>0;){if("break"===p())break}}},e.prototype.compareShort=function(e,t){var r=new Uint16Array(1);r[0]=e-t;var i=new Int16Array(1);return i[0]=r[0],i[0]},e.prototype.uploadRTCPlayStats=function(){var e,t,r,i,A,n,o,s,a,c,g,u,l,h,d;this.stateCenter.reporter.spanSetAttributes({key:Vt.event,par:this.streamId},{lsttime:Vt.lsttime(parseInt(this.qualityHandler.lastPlayStats.time)),total_stat:Ft.total_stat({afc:null===(e=this.lastPlayStats)||void 0===e?void 0:e.audioPacketsReceived,vfc:null===(t=this.lastPlayStats)||void 0===t?void 0:t.framesReceived,tfc:(null===(r=this.lastPlayStats)||void 0===r?void 0:r.audioPacketsReceived)+(null===(i=this.lastPlayStats)||void 0===i?void 0:i.framesReceived),vb:null===(A=this.lastPlayStats)||void 0===A?void 0:A.videoBytesReceived,ab:null===(n=this.lastPlayStats)||void 0===n?void 0:n.audioBytesReceived,tb:(null===(o=this.lastPlayStats)||void 0===o?void 0:o.videoBytesReceived)+(null===(s=this.lastPlayStats)||void 0===s?void 0:s.audioBytesReceived),rtp_rtt:Math.round(1e3*(null===(a=this.playStat)||void 0===a?void 0:a.currentRoundTripTime))||0,w:null===(c=this.playStat)||void 0===c?void 0:c.frameWidth,rtp_plr:null===(g=this.playStat)||void 0===g?void 0:g.videoPacketsLostRate,h:null===(u=this.playStat)||void 0===u?void 0:u.frameHeight,rtp_bw:(null===(l=this.playStat)||void 0===l?void 0:l.googAvailableSendBandwidth)?null===(h=this.playStat)||void 0===h?void 0:h.googAvailableSendBandwidth:void 0,p2p_delay:null===(d=this.playStat)||void 0===d?void 0:d.peerToPeerDelay})})},e.prototype.getVideoCodec=function(){var e=this;this.peerConnection&&(this.peerConnection.getStats().then((function(t){t.forEach((function(r){if("inbound-rtp"===r.type&&"video"===r.kind&&r.codecId){var i=t.get(r.codecId).mimeType.toLowerCase();i.indexOf("h264")>-1?e.videoCodec="H264":i.indexOf("vp8")>-1&&(e.videoCodec="VP8",e.sideMediaConfig.isSEIStart&&e.logger.error("zc.p.gvc video code VP8 is not support SEI"))}}))})),this.videoCodecTimes++,this.videoCodec||this.videoCodecTimes>=5)?this.stopVideocTimer():this.videoCodecTimer=setTimeout((function(){e.getVideoCodec()}),100)},e.prototype.stopVideocTimer=function(){this.videoCodecTimer&&(clearTimeout(this.videoCodecTimer),this.videoCodecTimer=null)},e.prototype.getViewer=function(){return this.playStream&&!this.rtcViewer&&(this.rtcViewer=new Is(this.playStream,this,{clearLastFrame:this.stateCenter.engineConfig.playClearLastFrame})),this.rtcViewer},e.prototype.isMultiOuter=function(){return!(!this.stateCenter.accessClientIp||!this.streamConnectIP||this.stateCenter.accessClientIp===this.streamConnectIP)},e.prototype.isCustomCdn=function(){return!1},e.prototype.getSpan=function(e,t,r,i){return void 0===i&&(i=!1),this.isProbe?null:this.stateCenter.reporter.createSpan(Ie.H,{key:t,bak_key:r,par:this.streamId},{key:e,par:this.streamId},e,i)},e.prototype.setTurnTcp=function(){this._turnToTcp=this.stateCenter.turnToTcp,void 0!==this.stateCenter.turnOverTcpOnly&&(this._turnToTcp=this.stateCenter.turnOverTcpOnly)},e.prototype.recordFirstFrameData=function(){var e;this.isProbe||0!=this.firstFrameTime||(this.firstFrameTime=(new Date).getTime()-this.beginTime,this.reportSpan.setAttributes({first_frame_time:Pc.first_frame_time(this.firstFrameTime),fft_video:Pc.fft_video(this.firstFrameTime),fft_audio:Pc.fft_audio(this.firstFrameTime),biz_product:Lr.biz_product((null===(e=this.playOption)||void 0===e?void 0:e.resourceMode)==de.DG?1:0)}),this.firstVideoSpan=this.firstFrameSpan("video"),this.firstAudioSpan=this.firstFrameSpan("audio"))},e.prototype.reportFirstFrameData=function(e,t){0===e&&this.firstVideoSpan&&(this.firstVideoSpan.setAttributes({dev_changed:Lr.dev_changed(0!==this.cameraStatus)}),this.firstVideoSpan.spanReport(),this.firstVideoSpan=null),0===t&&this.firstAudioSpan&&(this.firstAudioSpan.setAttributes({dev_changed:Mr.dev_changed(0!==this.micStatus)}),this.firstAudioSpan.spanReport(),this.firstAudioSpan=null)},e.prototype.firstFrameSpan=function(e){var t,r="video"===e?Lr:Mr,i=this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:this.streamId},{key:""},r.event),A=this.streamInRoom?2:0===this.streamRoomPushConsumed?0:1,n=(new Date).getTime()-this.answerSdpTime;return i.setAttributes({webrtc_sid:r.webrtc_sid(this.sessionId),resource_type:r.resource_type(jA(this.resourceMode)),fft_consumed:r.fft_consumed(this.firstFrameTime),protocol:r.protocol("webrtc"),push_consumed:r.push_consumed(this.streamRoomPushConsumed),prepare_recv_consumed:r.prepare_recv_consumed(this.signalTime),connected_consumed:r.connected_consumed(n),reliability:r.reliability(A),biz_product:r.biz_product((null===(t=this.playOption)||void 0===t?void 0:t.resourceMode)==de.DG?1:0)}),null==i||i.end(!1),i},e.prototype.setStreamAdd=function(){this.streamInRoom||0!==this.streamRoomPushConsumed||this.state===b||(this.streamRoomPushConsumed=(new Date).getTime()-this.playStartTime)},e.prototype.startPollNetworkQuality=function(){var e=this;clearTimeout(this.netTimer),this.netTimer=setTimeout((function(){e.lostQualityTime++;var t=ge.Unknown,r=ge.Unknown;e.userID&&e.lostQualityTime>1&&(e.lostQualityTime>3&&(t=ge.Die,r=ge.Die),e.stateCenter.actionListener("networkQuality",e.userID,t,r)),e.startPollNetworkQuality()}),3e3)},e.prototype.stopPollNetworkQuality=function(){clearTimeout(this.netTimer),this.lostQualityTime=0},e}(),Hc=function(){function e(){this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryStartTime=0,this.retryActiveCount=1,this.retryNetCount=0,this.retryNetMaxTimes=3,this.isOverTime=!1}return e.prototype.init=function(e,t,r,i){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),"number"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),"number"==typeof r&&(this.RETRY_CONTINUE_COUNT=r),"number"==typeof i&&(this.RETRY_MAX_TIME_INTERVAL=i)},e.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.retryNetCount=0},e.prototype.isRetrying=function(){return null!==this.retryTimer||null!==this.startRetryTimer||null!==this.maxTimer},e}(),qc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Jc=bt,Yc=jt,Kc=function(e){function t(t,r,i,A){var n=e.call(this)||this;return n.logger=t,n.stateCenter=r,n.streamCenter=i,n.isPublish=A,n.serverUrls=[],n}return qc(t,e),t.prototype.initStream=function(e,t){this.streamID=e,this.serverUrls=t},t.prototype.activePublish=function(e){var t=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;var r=this.stateCenter.networkState==P.offline;if(r){if(this.logger.info("zc.tsh.a check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn("zc.tsh.a network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var i=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=i>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:i}var A=this.streamCenter.publisherList[this.streamID].publisher,n=this.serverUrls[0],o=["unified_rtc","unified_l3"].includes(n);if(!o){var s=this.serverUrls,a=A.signal?A.signal.server:"";s.forEach((function(e,r){return r<=s.indexOf(a)&&t.serverUrls.push(e)})),s.splice(0,s.indexOf(a)+1),n=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]}var c="number"==typeof e?e:1e3*this.retryActiveInterval;this.stateCenter.reporter.spanSetAttributes({key:A.parentSpanKey,par:this.streamID},{wait_consume:wt.wait_consume(c)});var g=function(){t.logger.info("zc.tsh.a stream ".concat(t.streamID," : connect to ").concat(o?"unified signal server":"signal server "+n)),t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,r?t.retryNetCount++:t.retryActiveCount++,t.streamCenter.connectPublishServer(t.streamID,n)};return 0!==c?this.retryTimer=setTimeout(g,c):g(),this.logger.info("zc.tsh.a call success. delay: "+c),!0},t.prototype.activePull=function(e,t){var r=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),t&&(this.playStreamSuccess=t),this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;var i=this.stateCenter.networkState==P.offline;if(i){if(this.logger.info("zc.tsh.a check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn("zc.tsh.a network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var A=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=A>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:A}var n=this.streamCenter.playerList[this.streamID].player,o=this.serverUrls,s=n.signal?n.signal.server:"",a=this.serverUrls[0],c=["unified_rtc","unified_l3"].includes(a);c||(o.forEach((function(e,t){return t<=o.indexOf(s)&&r.serverUrls.push(e)})),o.splice(0,o.indexOf(s)+1),a=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]);var g="number"==typeof e?e:1e3*this.retryActiveInterval;return this.stateCenter.reporter.spanSetAttributes({key:n.parentSpanKey,par:this.streamID},{wait_consume:Kt.wait_consume(g)}),this.retryTimer=setTimeout((function(){r.logger.warn("zc.tsh.a stream ".concat(r.streamID," : connect to ").concat(c?"unified signal server":"signal server "+a)),r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=null,i?r.retryNetCount++:r.retryActiveCount++,r.streamCenter.connectPlayServer(r.streamID,r.playStreamSuccess,a)}),g),this.logger.info("zc.tsh.a call success. delay: "+g),!0},t.prototype.startMaxTime=function(){var e=this;this.logger.info("zc.tsh.smt ".concat(this.streamID," call")),this.maxTimer?this.logger.warn("zc.tsh.smt max timer"):(this.maxTimer=setTimeout((function(){if(e.logger.warn("zc.tsh.smt ".concat(e.streamID," over max time ").concat(e.RETRY_MAX_TIME,"s, stop retry")),e.isOverTime=!0,e.invalid(),e.isPublish){if(!e.streamCenter.publisherList[e.streamID])return void e.logger.info("zc.tsh.smt streamID "+e.streamID+" publish no found");e.publishStateHandle(_e,e.streamID,St.error.kPublishRetryTimeoutError,!0)}else{if(!e.streamCenter.playerList[e.streamID])return void e.logger.info("zc.tsh.smt streamID "+e.streamID+" play no found");e.playStateHandle(De,e.streamID,Yt.error.kPlayRetryTimeoutError,!0)}}),1e3*this.RETRY_MAX_TIME),this.logger.info("zc.tsh.smt maxTimer=".concat(this.maxTimer)))},t.prototype.stopMaxTime=function(){this.logger.info("zc.tsh.stmt streamID "+this.streamID+" maxTimer="+this.maxTimer),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.retryNextSignal=function(e){var t,r,i,A;if(this.stateCenter.networkState==P.offline)return this.logger.info("zc.tsh.rns "+this.streamID+" offline"),!0;if(this.isPublish){var n=this.streamCenter.publisherList[this.streamID];if(n.publisher.state==y&&[St.error.kPublishNegoTimeoutError.code].includes(e.code))return!0;if(this.logger.info("zc.tsh.rns "+this.streamID+" publish ws state "+(null===(t=n.publisher.signal)||void 0===t?void 0:t.wsReadyState)),this.logger.info("zc.tsh.rns "+this.streamID+" offline"),n.isCenterNode&&(null===(r=n.publisher.signal)||void 0===r?void 0:r.wsReadyState)==$a.OPEN)return!1;if(!n.isCenterNode&&[St.error.kPublishSessionClosedError.code].includes(e.code)){var o=e.message.match(/reason:(\d+)/);return!["26"].includes(o?o[1]:"")}return!0}var s=this.streamCenter.playerList[this.streamID];if(s.player.state==R&&[Yt.error.kPlayNegoTimeoutError.code].includes(e.code))return!0;if(this.logger.info("zc.tsh.rns "+this.streamID+" play ws state "+(null===(i=s.player.signal)||void 0===i?void 0:i.wsReadyState)),s.isCenterNode&&(null===(A=s.player.signal)||void 0===A?void 0:A.wsReadyState)==$a.OPEN)return!1;if(!s.isCenterNode&&[Yt.error.kPlaySessionClosedError.code].includes(e.code)){o=e.message.match(/reason:(\d+)/);return!["24","26","28"].includes(o?o[1]:"")}return!0},t.prototype.publishStateHandle=function(e,t,i,A,n,o){this.logger.info(vn+" call "+t+" "+(i?i.code+"":"")+" "+A+" "+JSON.stringify(n)+" "+o);var s=A||this.RETRY_MAX_TIME<3;if(!s&&i&&(PA(i)||0==this.serverUrls.length))return this.logger.info(vn+" stop "+s+" "+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPublishStateUpdate(e,t,i);var a=this.streamCenter.publisherList[t],c=a.publisher;if(!s&&i&&0!==i.code){if(this.maxTimer||s||this.startMaxTime(),this.stateCenter.useNetAgent&&i.code===Ye.code)return this.logger.info(vn+" connect fail"),this.activePublish(),void this.streamCenter.onPublishStateUpdate(2,t,i);this.stateCenter.publishStreamList[t].state=H.retryPublish;var g=c.localStream,u=c.videoInfo,l=c.mediaStreamConfig,h=c.publishOption;if(0!=c.sessionId&&c.signal&&c.shouldSendCloseSession()&&(c.signal.sendCloseSession((0,r.getSeq)(),c.sessionId,1),c.signal.removeSession(c.sessionId),c.closeSessionSignal=!0),c.resetPublish(),!s&&!this.retryNextSignal(i)){if(this.logger.info(vn+" retry current signal "),this.rePublishSpan(t,i,c),a.isCenterNode){this.logger.info(vn+" current node "+c.gwNode+" failed "+JSON.stringify(c.retryFailGwNodes));var d=c.retryFailGwNodes.findIndex((function(e){return e===c.gwNode}));d>=0&&c.retryFailGwNodes.splice(d,1),c.retryFailGwNodes.push(c.gwNode),this.retryNewGwNode(c,i,n,o)}this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null;var p=St.error,C=[p.kPublishNetworkBrokenError.code,p.kMediaConnectionError.code].includes(i.code)?0:1e3;return this.logger.info(vn+" delay "+C),this.startRetryTimer=setTimeout((function(){c.state==y&&c.startPublish(t,g,u,l,h)}),C),void(i&&0!==i.code&&this.streamCenter.onPublishStateUpdate(2,t,i))}this.streamCenter.removeStreamFromSignal(!0,t)}if(s)return this.stopMaxTime(),this.invalid(),1===e&&c.resetPublish(),(null==i?void 0:i.code)&&this.stateCenter.reporter.spanSetAttributes({key:c.parentSpanKey,par:t},i),void this.streamCenter.onPublishStateUpdate(e,t,i);i&&0!==i.code&&this.activePublish(void 0)&&(c&&(c.isExternal=!1),this.rePublishSpan(t,i,c),this.streamCenter.onPublishStateUpdate(2,t,i)),this.logger.info(vn+" end "+t)},t.prototype.needReDispatchError=function(e){return[St.error.kPublishNetProbePoor.code,Yt.error.kPlayNetProbePoor.code].includes(e.code)},t.prototype.playStateHandle=function(e,t,i,A,n,o){this.logger.info(_n+" call "+t+" "+(i?i.code+"":"")+" "+A+" "+JSON.stringify(n)+" "+o);var s=A||this.RETRY_MAX_TIME<3;if(!s&&i&&(PA(i)||0==this.serverUrls.length))return this.logger.info(_n+" stop "+s+" "+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPlayStateUpdate(e,t,i);var a=this.streamCenter.playerList[t],c=a.player;if(!s&&i&&0!==i.code){!this.maxTimer&&!s&&this.startMaxTime();var g=c.playOption;if(0!=c.sessionId&&c.signal&&c.shouldSendCloseSession()&&(c.signal.sendCloseSession((0,r.getSeq)(),c.sessionId,1),c.signal.removeSession(c.sessionId),c.closeSessionSignal=!0),c.resetPlay(),!s&&!this.retryNextSignal(i)){if(this.logger.info(_n+" retry current signal "),a.isCenterNode){this.logger.info(_n+" current node "+c.gwNode+" "+JSON.stringify(c.retryFailGwNodes));var u=c.retryFailGwNodes.findIndex((function(e){return e===c.gwNode}));u>=0&&c.retryFailGwNodes.splice(u,1),c.retryFailGwNodes.push(c.gwNode),this.retryNewGwNode(c,i,n,o)}this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null,this.rePlaySpan(t,i,c);var l=Yt.error,h=[l.kPlayNetworkBrokenError.code,l.kMediaConnectionError.code].includes(i.code)?0:1e3;return this.logger.info(_n+" delay "+h),this.startRetryTimer=setTimeout((function(){c.startPlay(t,c.getRemoteStreamSuc,g)}),h),void(i&&0!==i.code&&this.streamCenter.onPlayStateUpdate(2,t,i))}this.streamCenter.removeStreamFromSignal(!1,t)}if(s)return this.stopMaxTime(),this.invalid(),(null==i?void 0:i.code)&&this.stateCenter.reporter.spanSetAttributes({key:c.parentSpanKey,par:t},{error:null==i?void 0:i.code}),void this.streamCenter.onPlayStateUpdate(e,t,i);if(i&&0!==i.code&&this.activePull(void 0)){c&&(c.isExternal=!1);(0,r.getReportSeq)();this.rePlaySpan(t,i,c),this.streamCenter.onPlayStateUpdate(2,t,i)}this.logger.info(_n+" end "+t)},t.prototype.retryNewGwNode=function(e,t,r,i){var A,n,o,s;if(this.logger.info(Sn+" call "+e.streamId),t&&t.code&&this.needReDispatchError(t))this.retryNextGwNode(e,!0,i);else if(null==r?void 0:r.action)switch(null==r?void 0:r.action){case 1:case 5:break;case 2:default:this.retryNextGwNode(e,!1,i);break;case 3:var a=null==r?void 0:r.ins;a&&a.length>0&&(e.gwNode=((null===(A=a[0])||void 0===A?void 0:A.IP)||(null===(n=a[0])||void 0===n?void 0:n.ip))+":"+((null===(o=a[0])||void 0===o?void 0:o.Port)||(null===(s=a[0])||void 0===s?void 0:s.port)));break;case 4:e.resetGwNodes(),this.streamCenter.clearCachedGwNodesList(e,this.isPublish)}else this.retryNextGwNode(e,!1,i);this.logger.info(Sn+" "+e.streamId+" new node "+e.gwNode)},t.prototype.retryNextGwNode=function(e,t,r){var i;if(this.logger.info(wn+" call "+e.streamId+" "+e.gwNode),0!==(null===(i=e.gwNodeList)||void 0===i?void 0:i.length)||e.gwNode){var A=e.gwNodesTTL<(new Date).getTime(),n=e.iceStateDisConnect&&this.stateCenter.isMultiOuter,o=e.gwNodeList.findIndex((function(t){return t==e.gwNode})),s=o===e.gwNodeList.length-1;this.logger.info(wn+" "+e.streamId+" ttl: "+A+" ice: "+n+" last: "+s),t||A||e.isLastConnected&&n||s?this.stateCenter.useNetAgent?(e.gwNode=e.gwNodeList[++o%e.gwNodeList.length],this.dispatchGwNodesBypass(e)):e.resetGwNodes():e.gwNode=r?e.gwNodeList[0]:e.gwNodeList[++o%e.gwNodeList.length]}else this.logger.info(wn+" call "+e.streamId+" gwNodeList is empty")},t.prototype.dispatchGwNodesBypass=function(e){var t=this;e.dispatchGwNodes((function(r){t.logger.info(Dn+" suc "+JSON.stringify(r)),e.setGwNodes(r,!0)}),(function(e){t.logger.info(Dn+" fail "+JSON.stringify(e))}))},t.prototype.rePublishSpan=function(e,t,r){null==r||r.uploadRTCPublishStats(),this.stateCenter.reporter.spanEnd({key:Ft.event,par:e},{error:null==t?void 0:t.code,message:null==t?void 0:t.message});this.stateCenter.reporter.createSpan(Ie.H,{key:St.event,par:e},{key:Dt.event,par:e},Dt.event,!0);!1===(null==r?void 0:r.isRePublish)&&this.stateCenter.reporter.spanSetAttributes({key:Jc.event,par:e},{retry_btime:Jc.retry_btime((new Date).getTime())}),r&&(r.isRePublish=!0,r.parentSpanKey=Dt.event)},t.prototype.rePlaySpan=function(e,t,r){null==r||r.uploadRTCPlayStats(),this.stateCenter.reporter.spanEnd({key:Vt.event,par:e},{error:null==t?void 0:t.code,message:null==t?void 0:t.message});this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:e},{key:zt.event,par:e},zt.event,!0);!1===(null==r?void 0:r.isRePlay)&&this.stateCenter.reporter.spanSetAttributes({key:Yc.event,par:e},{retry_btime:Yc.retry_btime((new Date).getTime())}),r&&(r.isRePlay=!0,r.parentSpanKey=zt.event)},t}(Hc),zc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),jc=ri,Vc=Mi,Wc=function(e){function t(t,r,i,A){var n=e.call(this)||this;return n.retryActiveCount=1,n.RETRY_MAX_TIME=90,n.logger=t,n.stateCenter=r,n.rtm=i,n.streamCenter=A,n}return zc(t,e),t.prototype.initStream=function(e,t,r){this.streamID=e,this.playOption=t,this.isPublish=r},t.prototype.active=function(e){var t,r,i,A,n,o,s=this;if(this.logger.info(mn+" retry call "+this.streamID),this.isPublish){var a=null===(r=null===(t=this.streamCenter)||void 0===t?void 0:t.publisherList[this.streamID])||void 0===r?void 0:r.publisher;n=(null==a?void 0:a.isRePublish)?Dt:wt,o=ri}else{var c=null===(A=null===(i=this.streamCenter)||void 0===i?void 0:i.playerList[this.streamID])||void 0===A?void 0:A.player;n=(null==c?void 0:c.isRePlay)?zt:Kt,o=Mi}var g=this.stateCenter.reporter.createSpan(Ie.H,{key:n.event,par:this.streamID},{key:""},o.event);if(this.retryTimer)return this.logger.info(mn+" has active, ignore"),this.stateCenter.reporter.setError(g,He,"has active, ignore"),!1;var u=this.rtm.isDisConnect()&&this.stateCenter.networkState==P.offline;if(u){if(this.logger.info(mn+" check if really offline"),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn(mn+" network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn(mn+" retry over time, stop retry"),this.stateCenter.reporter.setError(g,He,"retry over time, stop retry"),!1;if(!this.rtm.isLogin()){this.stopMaxTime(),this.invalid();var l=this.isPublish?this.streamCenter.publisherList[this.streamID]:this.streamCenter.playerList[this.streamID];l&&(l.isReDispatch=!0)}var h=this.retryActiveCount-1;this.retryDispatchSpan||(this.retryDispatchSpan=g,this.stateCenter.reporter.setSpanInMap(g,{key:o.event,par:this.streamID}));var d=this.playOption&&2==this.playOption.resourceMode?1:0,p={stream_id:this.streamID,ptype:this.isPublish?"push":"pull",signals:this.streamCenter.getAllInUseUrl(),header_kvs:[{key:"grpc-metadata-push",value:this.playOption&&this.playOption.cdnUrl||""}],retry:h,center_ability:!0,dispatch_type:d};return this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout((function(){s.retryTimer=null,u?s.retryNetCount++:s.retryActiveCount++;var e=s.streamCenter.getRoomByStreamID(s.streamID),t=s.rtm.service.sendMessage("webrtc_url",p,(function(e,t){s.handleFetchWebRtcUrlRsp(e)}),(function(e,t){s.handleFetchWebRtcUrlRsp(e)}),void 0,{sessionID:null==e?void 0:e.sessionID,roomID:null==e?void 0:e.roomID,roomSessionID:null==e?void 0:e.roomSessionID});s.isPublish&&t?s.streamCenter.publisherList[s.streamID]&&(s.streamCenter.publisherList[s.streamID].seq=t):t&&s.streamCenter.playerList[s.streamID]&&(s.streamCenter.playerList[s.streamID].seq=t)}),"number"==typeof e?e:1e3*this.retryActiveInterval),this.logger.info(mn+" call success"),!0},t.prototype.startMaxTime=function(){var e=this;this.logger.info("zc.tdh.smt ".concat(this.streamID," call")),this.maxTimer||(this.maxTimer=setTimeout((function(){e.logger.warn("".concat("zc.rdh.m"," ").concat(e.streamID," dispatch over max time ").concat(e.RETRY_MAX_TIME,"s stop retry")),e.isOverTime=!0,e.invalid();var t=Yt.error.kPlayDispatchError;t.message=t.message+" try max limit",e.isPublish?e.streamCenter.onPublishStateUpdate(_e,e.streamID,t):e.streamCenter.onPlayStateUpdate(De,e.streamID,t)}),1e3*this.RETRY_MAX_TIME),this.logger.info("zc.tdh.smt ".concat(this.streamID," maxTimer=").concat(this.maxTimer)))},t.prototype.stopMaxTime=function(){this.logger.info("zc.tdh.stmt ".concat(this.streamID," maxTimer=").concat(this.maxTimer)),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.handleFetchWebRtcUrlRsp=function(e){var t,r,i,A,n,o,s,a,c,g,u;if(e.code&&[Oe.code].includes(e.code))this.active();else{if(e.code&&[Pe.code].includes(e.code))return this.stopMaxTime(),this.invalid(),void(this.isPublish?this.streamCenter.publisherList[this.streamID].isReDispatch=!0:this.streamCenter.playerList[this.streamID].isReDispatch=!0);var l=e,h=l.body.stream_id,d=!1,p=Yt.error;if(this.isPublish&&(!this.streamCenter.publisherList[h]||l.header.seq!==this.streamCenter.publisherList[this.streamID].seq))return this.logger.warn(yn+" seq is not match, ignore "+this.streamID),this.stopMaxTime(),void this.invalid();if(!(this.isPublish||this.streamCenter.playerList[this.streamID]&&l.header.seq===this.streamCenter.playerList[this.streamID].seq))return this.logger.warn(yn+" seq is not match, ignore "+this.streamID),this.stopMaxTime(),void this.invalid();if(this.stateCenter.clientIP=l.body.clientip||"",0===l.body.err_code||2!=l.body.need_action)if(0===l.body.err_code||1===l.body.need_action||[3102].includes(l.body.err_code)){if(this.stopMaxTime(),this.invalid(),l.body.urls&&Array.isArray(l.body.urls)&&l.body.urls.length>0?d=!0:this.logger.error(yn+" signal url is empty"),"push"===l.body.ptype&&this.streamCenter.publisherList[h]){if(!d)return null===(n=this.retryDispatchSpan)||void 0===n||n.setAttributes({try_cnt:jc.try_cnt(this.retryActiveCount)}),this.stateCenter.reporter.setError(this.retryDispatchSpan,St.error.kPublishDispatchError),this.retryDispatchSpan=null,void this.streamCenter.onPublishStateUpdate(_e,h,St.error.kPublishDispatchError);var C=this.streamCenter.publisherList[h];this.stateCenter.publishStreamList[h]?(C.ttl=l.body.hosts_ttl?(new Date).getTime()+1e3*l.body.hosts_ttl:0,C.isCenterNode="boolean"==typeof l.body.is_center_node&&l.body.is_center_node,C.serverUrls=l.body.urls,null===(o=this.retryDispatchSpan)||void 0===o||o.setAttributes({urls:jc.urls(C.serverUrls),is_center:jc.is_center(C.isCenterNode),try_cnt:jc.try_cnt(this.retryActiveCount)}),null===(s=this.retryDispatchSpan)||void 0===s||s.end(),this.retryDispatchSpan=null,this.streamCenter.startPublishingStream(h)):this.logger.error(yn+" no streamid to publish")}else if("pull"==l.body.ptype&&this.streamCenter.playerList[h]){var I;if(!d)return(I=JSON.parse(JSON.stringify(1900001004===(null===(a=l.body)||void 0===a?void 0:a.err_code)?p.kPlayStreamNotFound:p.kPlayDispatchError))).message=I.message+(l.body.err_code?" server error:"+l.body.err_code:""),3102===l.body.err_code&&(I=Yt.error.kPlayUnsupportedResourceMode),null===(c=this.retryDispatchSpan)||void 0===c||c.setAttributes({try_cnt:Vc.try_cnt(this.retryActiveCount)}),this.stateCenter.reporter.setError(this.retryDispatchSpan,I),void this.streamCenter.onPlayStateUpdate(De,h,I);var f=this.streamCenter.playerList[h];f.ttl=l.body.hosts_ttl?(new Date).getTime()+1e3*l.body.hosts_ttl:0,f.isCenterNode="boolean"==typeof l.body.is_center_node&&l.body.is_center_node,f.serverUrls=l.body.urls,null===(g=this.retryDispatchSpan)||void 0===g||g.setAttributes({urls:Vc.urls(f.serverUrls),is_center:Vc.is_center(f.isCenterNode),try_cnt:Vc.try_cnt(this.retryActiveCount)}),null===(u=this.retryDispatchSpan)||void 0===u||u.end(),this.retryDispatchSpan=null,this.streamCenter.startPlayingStream(h,this.stateCenter.useNetAgent,this.streamCenter.playSuccessCallBackList[h])}}else this.retryActiveInterval=Math.floor(3*Math.random())+3,2==this.retryActiveCount&&((I=JSON.parse(JSON.stringify("pull"===(null===(i=l.body)||void 0===i?void 0:i.ptype)&&1900001004===(null===(A=l.body)||void 0===A?void 0:A.err_code)?p.kPlayStreamNotFound:p.kPlayDispatchError))).message=I.message+(l.body.err_code?" server error:"+l.body.err_code:""),"push"===l.body.ptype?this.streamCenter.onPublishStateUpdate(Se,h,I):this.streamCenter.onPlayStateUpdate(be,h,I)),this.active();else this.retryActiveInterval=l.body.action_delay/1e3||Math.floor(3*Math.random())+3,2==this.retryActiveCount&&((I=JSON.parse(JSON.stringify("pull"===(null===(t=l.body)||void 0===t?void 0:t.ptype)&&1900001004===(null===(r=l.body)||void 0===r?void 0:r.err_code)?p.kPlayStreamNotFound:p.kPlayDispatchError))).message=I.message+(l.body.err_code?" server error:"+l.body.err_code:""),"push"===l.body.ptype?this.streamCenter.onPublishStateUpdate(Se,h,I):this.streamCenter.onPlayStateUpdate(be,h,I)),this.active()}},t}(Hc),Zc=__webpack_require__(4255),Xc=__webpack_require__.n(Zc),$c=__webpack_require__(2990),eg=__webpack_require__(2402),tg=__webpack_require__.n(eg),rg=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},ig=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ag=function(){function e(e,t){this.name=e,this.logger=t,this.storeName=e+":"+function(e,t){var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),A=[];if(t=t||i.length,e)for(r=0;r<e;r++)A[r]=i[0|Math.random()*t];else{var n=void 0;for(A[8]=A[13]=A[18]=A[23]="-",A[14]="4",r=0;r<36;r++)A[r]||(n=0|16*Math.random(),A[r]=i[19==r?3&n|8:n])}return A.join("")}(6),this.store=tg().createInstance({name:this.storeName}),this.recordStoresInStorage(e,this.storeName)}return e.prototype.recordStoresInStorage=function(e,t){try{var r=localStorage.getItem(e),i=r?r.split(","):[];i.push(t+"-1"),localStorage.setItem(e,null==i?void 0:i.join(","))}catch(e){}},e.prototype.getStoresFromStorage=function(){return this.refreshStores("1")},e.prototype.resetStorageStores=function(){this.refreshStores("0")},e.prototype.removeStoreFromStorage=function(e){this.refreshStores("2",e)},e.prototype.refreshStores=function(e,t){var r=this;if(!localStorage)return[];var i=localStorage.getItem(this.name),A=i?i.split(","):[],n=[];if(A.length>0){var o=[];A.forEach((function(i){var A=i.split("-"),s=A[0],a=A[1];"2"==e?(s!==t&&o.push(s+"-"+a),t&&r.dropInstance(t)):o.push(s+"-"+e),-1===s.indexOf(r.storeName)&&"0"==a&&n.push(s)})),localStorage.setItem(this.name,o.join(","))}return n},e.prototype.dropInstance=function(e){return rg(this,void 0,void 0,(function(){return ig(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,tg().dropInstance({name:e})];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.getCacheStoreData=function(e){return rg(this,void 0,void 0,(function(){var t,r,i,A;return ig(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,(t=tg().createInstance({name:e})).keys()];case 1:return r=n.sent(),i=r.filter((function(e){return e.indexOf("_head")>-1})),A=[],i.length>0?[4,this.readStoreDatas(i,r,t)]:[3,3];case 2:return A=n.sent(),[3,4];case 3:this.removeStoreFromStorage(e),n.label=4;case 4:return[2,A];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.readStoreDatas=function(e,t,r){return rg(this,void 0,void 0,(function(){var i,A,n;return ig(this,(function(o){switch(o.label){case 0:i=[],A=function(A){var n,o,s,a,c,g,u,l,h,d;return ig(this,(function(p){switch(p.label){case 0:o=(n=e[A]).replace("_head",""),s=t.filter((function(e){return e.indexOf(o)>-1})),a=null,c=[],g=[],u=0,p.label=1;case 1:return u<s.length?[4,r.getItem(l=s[u])]:[3,4];case 2:h=p.sent(),l.startsWith(o+"_head")?a=h:l.startsWith(o+"_publish")?c.push(h):l.startsWith(o+"_play")&&g.push(h),p.label=3;case 3:return u++,[3,1];case 4:return d=(new Date).getTime()-parseInt(o),a?c.length>0||g.length>0?(i.push({timestamp:parseInt(o),head:a,publishInfos:c,playInfos:g}),[3,7]):[3,5]:[3,7];case 5:return 0===c.length&&0===g.length&&d>6e4?[4,r.removeItem(n)]:[3,7];case 6:p.sent(),p.label=7;case 7:return[2]}}))},n=0,o.label=1;case 1:return n<e.length?[5,A(n)]:[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2,i]}}))}))},e.prototype.saveItem=function(e,t){return rg(this,void 0,void 0,(function(){var r;return ig(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.store.setItem(e,t)];case 1:return i.sent(),[3,3];case 2:return r=i.sent(),this.logger.warn(Xo+" save "+JSON.stringify(r)),[3,3];case 3:return[2]}}))}))},e.prototype.getItem=function(e){return rg(this,void 0,void 0,(function(){var t;return ig(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.store.getItem(e)];case 1:return[2,r.sent()];case 2:return t=r.sent(),this.logger.warn(Xo+" get "+JSON.stringify(t)),[3,3];case 3:return[2]}}))}))},e.prototype.removeItem=function(e){return rg(this,void 0,void 0,(function(){var t;return ig(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.store.removeItem(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),this.logger.warn(Xo+" remove "+JSON.stringify(t)),[3,3];case 3:return[2]}}))}))},e.prototype.clearItems=function(e){return rg(this,void 0,void 0,(function(){var t,r,i=this;return ig(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,this.store.keys()];case 1:return t=A.sent(),t.filter((function(t){return t.indexOf(e)>-1})).forEach((function(e){return rg(i,void 0,void 0,(function(){return ig(this,(function(t){switch(t.label){case 0:return[4,this.removeItem(e)];case 1:return t.sent(),[2]}}))}))})),[3,3];case 2:return r=A.sent(),this.logger.warn(Xo+" clear "+JSON.stringify(r)),[3,3];case 3:return[2]}}))}))},e.prototype.getUnReportCachedDatas=function(e){return rg(this,void 0,void 0,(function(){var t,r,i;return ig(this,(function(A){switch(A.label){case 0:return[4,this.filterItems(e)];case 1:return t=A.sent(),r=[],t&&t.length>0?(i=t.filter((function(e){return e.indexOf("_head")>-1})),[4,this.readStoreDatas(i,t,this.store)]):[3,3];case 2:r=A.sent(),A.label=3;case 3:return[2,r]}}))}))},e.prototype.filterItems=function(e){return rg(this,void 0,void 0,(function(){var t,r;return ig(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.store.keys()];case 1:return t=i.sent(),[2,t.filter((function(t){return-1===t.indexOf(e)}))];case 2:return r=i.sent(),this.logger.warn(Xo+" filter "+JSON.stringify(r)),[3,3];case 3:return[2]}}))}))},e}(),ng=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},og=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},sg=function(){function e(e,t,r){var i=this;this.logger=e,this.stateCenter=t,this.streamCenter=r,this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityUploadTimestamp=0,this.qualityHeadTimestamp=0,this.uploadInterval=6e4,this.cacheChargeInfoPackets=[],this.chargeInfoSending=!1,this.beforeunloadListener=function(){i.streamStoreHandler.resetStorageStores()},this.streamStoreHandler=new Ag(this.CacheKey,e),this.bindListener(),this.bindDestroyListener()}return Object.defineProperty(e.prototype,"CacheKey",{get:function(){return"z_s_c_"+this.stateCenter.appid},enumerable:!1,configurable:!0}),e.prototype.bindListener=function(){window.addEventListener("beforeunload",this.beforeunloadListener)},e.prototype.offListener=function(){window.removeEventListener("beforeunload",this.beforeunloadListener)},e.prototype.bindDestroyListener=function(){var e=this;this.stateCenter.listenerList._engineDestroy.push((function(){e.offListener()}))},e.prototype.updateQuality=function(e,t,r){var i=(new Date).getTime(),A=JSON.stringify(this.publishQualityInfos).length+JSON.stringify(this.playQualityInfos).length,n=r&&(this.publishQualityInfos.length>0||this.playQualityInfos.length>0);0!==this.qualityUploadTimestamp&&i-this.qualityUploadTimestamp>this.uploadInterval||A>8e3||n?(this.streamQualityUpload(n),this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=Math.round((new Date).getTime()),this.saveSpeedLogHead(),this.qualityUploadTimestamp=i):0==this.qualityHeadTimestamp&&(this.qualityHeadTimestamp=Math.round((new Date).getTime()),this.saveSpeedLogHead(),this.qualityUploadTimestamp=i),t&&(0==e?this.handlePublishQualityData(t):this.handlePlayQualityData(t))},e.prototype.sendPacketFromCache=function(){var e=this;if(!this.chargeInfoSending){var t=function(){if(!e.logDomain||e.cacheChargeInfoPackets.length<=0)e.chargeInfoSending=!1;else{e.chargeInfoSending=!0;var r=e.cacheChargeInfoPackets[0];e.getStreamReportSocket(e.logDomain).then((function(i){e.sendMessageWithCallback(i,r,(function(){e.logger.info(Uo+" upload charge info success"),e.chargeInfoSending=!1,e.cacheChargeInfoPackets.shift(),e.cacheChargeInfoPackets.length>0&&e.sendPacketFromCache()}),(function(){e.logger.info(Uo+" send message error, retry upload charge info 1"),setTimeout(t,3e3)}),(function(){e.logger.info(Uo+" timeout, retry upload charge info 2"),t()}))})).catch((function(r){if("appid userid token not exist"===r)return e.logger.info(Uo+" stop retry upload charge info."),void(e.chargeInfoSending=!1);e.logger.info(Uo+" open socket error, retry upload charge info 3"),setTimeout(t,3e3)}))}};t()}},e.prototype.uploadChargeInfos=function(e){var t,r=null===(t=this.logger.url)||void 0===t?void 0:t.split("/")[2];if(r){""!==r&&(this.logDomain=r);var i=Math.round((new Date).getTime()/1e3),A=this.getSpeedLogHead(i),n={charge_infos:e,client_type:2};this.logger.info("zc.uslg.cgif call, chargeinfos:"+JSON.stringify({_SpeedLogHead:A,_QualityEvent:n}));var o=this.createStreamQualityPacket(A,n);this.cacheChargeInfoPackets.push(o),this.sendPacketFromCache()}},e.prototype.streamQualityUpload=function(e){if(Object.keys(this.streamCenter.publisherList).length>0||Object.keys(this.streamCenter.playerList).length>0||e){var t=this.getSpeedLogHead();this.uploadQuality(this.qualityHeadTimestamp,t,{publish_quality_infos:this.publishQualityInfos,play_quality_infos:this.playQualityInfos,client_type:2})}},e.prototype.getStreamReportSocket=function(e){var t=this;return new Promise((function(r,i){var A,n=!1,o=function(){var e;t.logger.info(Uo+" speed log socket open"),n=!0,t.qualityWebsocket&&r(t.qualityWebsocket),null===(e=t.qualityWebsocket)||void 0===e||e.removeEventListener("open",o)},s=function(){var e;t.logger.info(Uo+" speed log socket close"),n||i("not open, socket closed"),null===(e=t.qualityWebsocket)||void 0===e||e.removeEventListener("close",s)},a=function(){!function(){var e;null===(e=t.qualityWebsocket)||void 0===e||e.addEventListener("open",o)}(),function(){var e;null===(e=t.qualityWebsocket)||void 0===e||e.addEventListener("close",s)}()};if(t.qualityWebsocket&&2!=t.qualityWebsocket.readyState&&3!=t.qualityWebsocket.readyState)1==t.qualityWebsocket.readyState?(n=!0,r(t.qualityWebsocket)):a();else{var c=t.stateCenter.appid,g=t.stateCenter.idName,u=null===(A=t.stateCenter.roomList[0])||void 0===A?void 0:A.token;if(!c||!g||!u)return t.logger.error(Uo+" appid userid token not exist"),void i("appid userid token not exist");var l="wss://".concat(e,"/ws/report/stream?appid=").concat(c,"&product=rtc&token=").concat(encodeURIComponent(u),"&id_name=").concat(g);t.qualityWebsocket=new WebSocket(l),a()}setTimeout((function(){n||i("not open, timeout, socket closed")}),1e4)}))},e.prototype.createStreamQualityPacket=function(e,t){var r=$c.logreport.SpeedLogHead.create(e),i=$c.logreport.QualityEvent.create(t),A=$c.logreport.SpeedLogHead.encode(r).finish(),n=$c.logreport.QualityEvent.encode(i).finish(),o=this.getQualityHead(A,n),s=new Uint8Array(12+A.length+n.length);return s.set(o),s.set(A,12),s.set(n,12+A.length),s},e.prototype.sendMessageWithCallback=function(e,t,r,i,A){var n=this,o=Date.now()%1e4,s=!1,a=!1;1!==e.readyState&&!a&&i&&i(),e.onmessage=function(t){(t.data+"").includes("success")?(n.logger.info(Uo+" quality (".concat(o,") upload success")),!a&&r&&r(),s=!0):(!a&&i&&i(),s=!0),e.onmessage=null},e.send(t),setTimeout((function(){s||(A&&A(),a=!0)}),15e3)},e.prototype.uploadQuality=function(e,t,r,i){var A,n=this,o=this.createStreamQualityPacket(t,r),s=null===(A=this.logger.url)||void 0===A?void 0:A.split("/")[2];if(s){var a=function(){return n.getStreamReportSocket(s)};a().then((function(t){var r=Date.now()%1e4,A=!1;n.sendMessageWithCallback(t,o,(function(){A=!0,n.delStreamData(e),i&&n.streamStoreHandler.removeStoreFromStorage(i),setTimeout((function(){n.checkCacheDataToReport()}),1e3)})),setTimeout((function(){return ng(n,void 0,void 0,(function(){return og(this,(function(e){switch(e.label){case 0:return A?[3,2]:[4,a()];case 1:e.sent().send(o),this.logger.info(Uo+" retry upload quality (".concat(r,"), length: ")+o.length+"."),e.label=2;case 2:return[2]}}))}))}),3e3),n.logger.info(Uo+" upload quality (".concat(r,"), length: ")+o.length+".")}))}},e.prototype.checkCacheDataToReport=function(){return ng(this,void 0,void 0,(function(){var e;return og(this,(function(t){switch(t.label){case 0:return[4,this.streamStoreHandler.getUnReportCachedDatas(this.qualityHeadTimestamp+"")];case 1:return e=t.sent(),this.uploadUnReportDatas(e),[2]}}))}))},e.prototype.getQualityHead=function(e,t){var r=new Uint8Array(12);r[0]=0,r[1]=12,r[2]=e.length>>8,r[3]=e.length-(r[2]<<8),r[4]=t.length>>24,r[5]=t.length-(r[4]<<24)>>16,r[6]=t.length-(r[4]<<24)-(r[5]<<16)>>8,r[7]=t.length-(r[4]<<24)-(r[5]<<16)-(r[6]<<8);var i=Math.ceil((new Date).getTime()/1e3);return r[8]=i>>24,r[9]=i-(r[8]<<24)>>16,r[10]=i-(r[8]<<24)-(r[9]<<16)>>8,r[11]=i-(r[8]<<24)-(r[9]<<16)-(r[10]<<8),r},e.prototype.handlePublishQualityData=function(e){var t=this.publishQualityInfos.find((function(t){return t.stream_id==e.stream_id&&t.video_width==e.frameWidth&&t.video_height==e.frameHeight}));if(!t){var r=this.streamCenter.getRoomByStreamID(e.stream_id);t={stream_id:e.stream_id,session_id:r?Number(r.sessionID):0,video_width:e.frameWidth,video_height:e.frameHeight,infos:[],room_id:r?r.roomID:"",evnvironment:1,room_session_id:r?Number(r.roomSessionID):0,resource_type:2},this.publishQualityInfos.push(t)}t.infos.push({audio_bitrate:Math.round(e.audioBitrate)||0,video_bitrate:Math.round(e.videoBitrate)||0,video_capture_fps:Math.round(10*e.videoFPS)||0,video_network_fps:Math.round(10*e.videoTransferFPS)||0,uplink_plr:e.audioPacketsLostRate,rtt:Math.round(1e3*e.currentRoundTripTime)||0,audio_network_fps:Math.round(10*e.audioFPS),captured_sound_level:Math.round(e.audioLevel),sample_time_offset:Math.round((e.timeStamp-this.qualityHeadTimestamp)/10)}),this.saveStreamInfo("publish",t)},e.prototype.handlePlayQualityData=function(e){var t,r=this.playQualityInfos.find((function(t){return t.stream_id==e.stream_id&&t.video_width==e.frameWidth&&t.video_height==e.frameHeight}));if(!r){var i=this.streamCenter.getRoomByStreamID(e.stream_id),A=null===(t=this.streamCenter.playerList[e.stream_id])||void 0===t?void 0:t.player;r={stream_id:e.stream_id,session_id:i?Number(i.sessionID):0,video_width:e.frameWidth,video_height:e.frameHeight,infos:[],room_id:i?i.roomID:"",room_session_id:i?Number(i.roomSessionID):0,resource_type:0===(null==A?void 0:A.resourceMode)?2:3},this.playQualityInfos.push(r)}r.infos.push({audio_bitrate:Math.round(e.audioBitrate)||0,video_bitrate:Math.round(e.videoBitrate)||0,video_network_fps:Math.round(10*e.videoFPS)||0,downlink_plr:Math.round(e.audioPacketsLostRate)||0,audio_network_fps:Math.round(10*e.audioFPS)||0,audio_break_duration:Math.round(e.audio_break_duration/10),video_break_duration:Math.round(e.video_break_duration/10),rtt:Math.round(1e3*e.currentRoundTripTime)||0,rendered_sound_level:Math.round(e.audioLevel),audio_break_cancel_duration:Math.round(e.audio_break_cancel_duration/10),video_break_cancel_duration:Math.round(e.video_break_cancel_duration/10),audio_decode_time:Math.round(e.audio_decode_time/10),video_decode_time:Math.round(e.video_decode_time/10),real_sampling_interval:Math.round(e.real_sampling_interval/10),video_frames_decoded:Math.round(e.videoFramesDecoded)||0,video_frames_dropped:Math.round(e.videoFramesDropped)||0,sample_time_offset:Math.round((e.timeStamp-this.qualityHeadTimestamp)/10),peer_to_peer_plr:e.peerToPeerPacketLostRate,peer_to_peer_delay:e.peerToPeerDelay}),this.saveStreamInfo("play",r)},e.prototype.saveSpeedLogHead=function(){var e=this.getSpeedLogHead();this.streamStoreHandler.saveItem(this.qualityHeadTimestamp+"_head",e)},e.prototype.saveStreamInfo=function(e,t){this.streamStoreHandler.saveItem("".concat(this.qualityHeadTimestamp,"_").concat(e).concat(t.stream_id),t)},e.prototype.delStreamData=function(e){this.streamStoreHandler.clearItems(e+"")},e.prototype.getSpeedLogHead=function(e){return{version:14,timestamp:e||Math.round(this.qualityHeadTimestamp/1e3),event:0,app_id:this.stateCenter.appid,user_id:this.stateCenter.idName,biz_type:1,time_offset:Xc().MAX_VALUE,os_type:NA(),scenario:this.stateCenter.scenario,sdk_version:i}},e.prototype.checkStreamReport=function(){var e=this;this.streamStoreHandler.getStoresFromStorage().forEach((function(t){return ng(e,void 0,void 0,(function(){var e;return og(this,(function(r){switch(r.label){case 0:return[4,this.streamStoreHandler.getCacheStoreData(t)];case 1:return e=r.sent(),this.uploadUnReportDatas(e,t),[2]}}))}))}))},e.prototype.uploadUnReportDatas=function(e,t){var r=this;this.stateCenter.roomList.length<=0?this.logger.warn("zc.sqr.uud no room"):e.length>0&&e.forEach((function(e){r.uploadQuality(e.timestamp,e.head,{publish_quality_infos:e.publishInfos,play_quality_infos:e.playInfos,client_type:2},t)}))},e.prototype.resetReport=function(){var e=this;this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=0,this.qualityUploadTimestamp=0,setTimeout((function(){e.qualityWebsocket&&(e.qualityWebsocket.close(),e.qualityWebsocket=void 0,e.chargeInfoSending=!1)}),2e4)},e}();function ag(){var e={},t=this,r={init:function(r){importScripts(r),t._ModuleFn(e)},parseToMiniSdp:function(r,i){var A=e._parseToMiniSdp,n=e._getBuffer,o=e.HEAPU8,s=e._free,a=(0,e.allocateUTF8)(r),c=A(a);if(c<0)return t.postMessage({code:c,eventId:i});var g=n(),u=new Uint8Array(o.subarray(g,g+c-1))||new Uint8Array;t.postMessage({code:0,data:u,eventId:i});try{s(a),s(c),s(g)}catch(e){console.error(e)}},loadMiniSdpToOriginSdp:function(r,i){var A,n,o,s=e._loadMiniSdpToSdp,a=e.UTF8ToString,c=e.HEAPU8,g=e._free,u=(0,e._malloc)(r.length);c.set(r,u);for(var l=a(s(u,r.byteLength))||"",h=l.split("\r\n")||[],d=["ice-ufrag","ice-pwd","ice-options","fingerprint","setup","mid","extmap","sendrecv","sendonly","recvonly","inactive","rtpmap","rtcp-fb","fmtp","ssrc","candidate","msid"];h.length;){var p=h.length,C=null===(n=null===(A=h[p-1])||void 0===A?void 0:A.split("=")[1])||void 0===n?void 0:n.split(":")[0];if(-1!=(null===(o=h[p-1])||void 0===o?void 0:o.indexOf("="))&&d.includes(C))break;h.pop()}l=h.join("\r\n"),t.postMessage({code:0,data:l+="\r\n",eventId:i});try{g(u)}catch(e){console.error(e)}}};onmessage=function(e){r[e.data.command]?r[e.data.command](e.data.val,e.data.eventId):console.error("the command is invalid")}}var cg,gg=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},ug=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},lg=function(){function e(){var e=this;this.msgSuccessCallBack={};var t=ag.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],r=URL.createObjectURL(new window.Blob([t],{type:"text/javascript"}));this.worker=new Worker(r);var i=URL.createObjectURL(new window.Blob(['\nvar Module = (() => {\n  var _scriptDir = typeof document !== \'undefined\' && document.currentScript ? document.currentScript.src : undefined;\n  \n  return (\nfunction(Module) {\n  Module = Module || {};\n\n\nvar g;\ng || (g = typeof Module !== \'undefined\' ? Module : {});\nvar aa, t;\ng.ready = new Promise(function(a, c) {\n  aa = a;\n  t = c;\n});\nvar ba = Object.assign({}, g), ca = "./this.program", u = "";\n"undefined" != typeof document && document.currentScript && (u = document.currentScript.src);\n_scriptDir && (u = _scriptDir);\n0 !== u.indexOf("blob:") ? u = u.substr(0, u.replace(/[?#].*/, "").lastIndexOf("/") + 1) : u = "";\nvar da = g.print || console.log.bind(console), v = g.printErr || console.warn.bind(console);\nObject.assign(g, ba);\nba = null;\ng.thisProgram && (ca = g.thisProgram);\nvar x;\ng.wasmBinary && (x = g.wasmBinary);\nvar noExitRuntime = g.noExitRuntime || !0;\n"object" != typeof WebAssembly && y("no native wasm support detected");\nvar z, ea = !1, fa = "undefined" != typeof TextDecoder ? new TextDecoder("utf8") : void 0;\nfunction ha(a, c, b) {\n  var d = c + b;\n  for (b = c; a[b] && !(b >= d);) {\n    ++b;\n  }\n  if (16 < b - c && a.buffer && fa) {\n    return fa.decode(a.subarray(c, b));\n  }\n  for (d = ""; c < b;) {\n    var f = a[c++];\n    if (f & 128) {\n      var k = a[c++] & 63;\n      if (192 == (f & 224)) {\n        d += String.fromCharCode((f & 31) << 6 | k);\n      } else {\n        var h = a[c++] & 63;\n        f = 224 == (f & 240) ? (f & 15) << 12 | k << 6 | h : (f & 7) << 18 | k << 12 | h << 6 | a[c++] & 63;\n        65536 > f ? d += String.fromCharCode(f) : (f -= 65536, d += String.fromCharCode(55296 | f >> 10, 56320 | f & 1023));\n      }\n    } else {\n      d += String.fromCharCode(f);\n    }\n  }\n  return d;\n}\nfunction A(a, c) {\n  return a ? ha(C, a, c) : "";\n}\nfunction D(a, c, b, d) {\n  if (!(0 < d)) {\n    return 0;\n  }\n  var f = b;\n  d = b + d - 1;\n  for (var k = 0; k < a.length; ++k) {\n    var h = a.charCodeAt(k);\n    if (55296 <= h && 57343 >= h) {\n      var l = a.charCodeAt(++k);\n      h = 65536 + ((h & 1023) << 10) | l & 1023;\n    }\n    if (127 >= h) {\n      if (b >= d) {\n        break;\n      }\n      c[b++] = h;\n    } else {\n      if (2047 >= h) {\n        if (b + 1 >= d) {\n          break;\n        }\n        c[b++] = 192 | h >> 6;\n      } else {\n        if (65535 >= h) {\n          if (b + 2 >= d) {\n            break;\n          }\n          c[b++] = 224 | h >> 12;\n        } else {\n          if (b + 3 >= d) {\n            break;\n          }\n          c[b++] = 240 | h >> 18;\n          c[b++] = 128 | h >> 12 & 63;\n        }\n        c[b++] = 128 | h >> 6 & 63;\n      }\n      c[b++] = 128 | h & 63;\n    }\n  }\n  c[b] = 0;\n  return b - f;\n}\nfunction E(a) {\n  for (var c = 0, b = 0; b < a.length; ++b) {\n    var d = a.charCodeAt(b);\n    127 >= d ? c++ : 2047 >= d ? c += 2 : 55296 <= d && 57343 >= d ? (c += 4, ++b) : c += 3;\n  }\n  return c;\n}\nvar G, H, C, I, J, K, L, ia, ja;\nfunction ka() {\n  var a = z.buffer;\n  G = a;\n  g.HEAP8 = H = new Int8Array(a);\n  g.HEAP16 = I = new Int16Array(a);\n  g.HEAP32 = K = new Int32Array(a);\n  g.HEAPU8 = C = new Uint8Array(a);\n  g.HEAPU16 = J = new Uint16Array(a);\n  g.HEAPU32 = L = new Uint32Array(a);\n  g.HEAPF32 = ia = new Float32Array(a);\n  g.HEAPF64 = ja = new Float64Array(a);\n}\nvar la = [], ma = [], na = [];\nfunction oa() {\n  var a = g.preRun.shift();\n  la.unshift(a);\n}\nvar M = 0, N = null, O = null;\nfunction y(a) {\n  if (g.onAbort) {\n    g.onAbort(a);\n  }\n  a = "Aborted(" + a + ")";\n  v(a);\n  ea = !0;\n  a = new WebAssembly.RuntimeError(a + ". Build with -sASSERTIONS for more info.");\n  t(a);\n  throw a;\n}\nfunction pa(a) {\n  return a.startsWith("data:application/octet-stream;base64,");\n}\nvar P;\nP = "data:application/octet-stream;base64,AGFzbQEAAAAByISAgABGYAF/AX9gAn9/AX9gAn9/AGABfwBgA39/fwF/YAN/f38AYAR/f39/AGAGf39/f39/AX9gBH9/f38Bf2AAAGAFf39/f38Bf2AAAX9gBn9/f39/fwBgBX9/f39/AGAIf39/f39/f38Bf2AHf39/f39/fwF/YAd/f39/f39/AGAFf35+fn4AYAABfmAFf39/f34Bf2AFf39+f38AYAJ/fgF/YAR/f39/AX5gBn9/f39+fwF/YAp/f39/f39/f39/AGAHf39/f39+fgF/YAR/fn5/AGADf35/AX5gAn9+AGAKf39/f39/f39/fwF/YAZ/f39/fn4Bf2ABfwF+YAJ8fwF8YAZ/fH9/f38Bf2ACfn8Bf2AEfn5+fgF/YAR/f39+AX5gA39/fwF+YAJ/fwF9YAJ/fwF8YAN/f38BfWADf39/AXxgDH9/f39/f39/f39/fwF/YAV/f39/fAF/YAZ/f39/fH8Bf2AHf39/f35+fwF/YAt/f39/f39/f39/fwF/YA9/f39/f39/f39/f39/f38AYAh/f39/f39/fwBgBH9/f34AYAF+AX9gDn9/f39/f39/f39/f39/AX9gDX9/f39/f39/f39/f38Bf2ADfn9/AX9gAXwBfmACfn4BfGACf30AYAJ/fABgAn5+AX9gA39+fgBgAn9/AX5gAn5+AX1gA39/fgBgBn9/f35/fwBgBn9/f39/fgF/YAh/f39/f39+fgF/YAR/f35/AX5gCX9/f39/f39/fwF/YAV/f39+fgBgBH9+f38BfwK1hICAABMDZW52C19fY3hhX3Rocm93AAUDZW52FV9lbWJpbmRfcmVnaXN0ZXJfdm9pZAACA2VudhVfZW1iaW5kX3JlZ2lzdGVyX2Jvb2wADQNlbnYYX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyAA0DZW52Fl9lbWJpbmRfcmVnaXN0ZXJfZmxvYXQABQNlbnYbX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nAAIDZW52HF9lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmcABQNlbnYWX2VtYmluZF9yZWdpc3Rlcl9lbXZhbAACA2VudhxfZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3AAUDZW52FWVtc2NyaXB0ZW5fbWVtY3B5X2JpZwAF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mAKZAp0CsQKyAtAC0QLTAtQC1QLXAtgC2QLaAuEC4wLlAuYC5wKEA4YDhQOHA9sD3APWA90D0APRA9MD3gPgA+ED4gPMBM0E9ASlAssH9gn/CfIK9Qr5CvwK/wqCC4QLhguIC4oLjAuOC5ALkgviCeoJ+wmSCpMKlAqVCpYKlwqYCpkKmgqbCu8IpgqnCqoKrQquCrEKsgq0Ct0K3grhCuMK5QrnCusK3wrgCuIK5ArmCugK7AqYBfoJgQqCCoMKhAqFCoYKiAqJCosKjAqNCo4KjwqcCp0KngqfCqAKoQqiCqMKtQq2CrgKugq7CrwKvQq/CsAKwQrCCsMKxArFCsYKxwrICskKywrNCs4KzwrQCtIK0wrUCtUK1grXCtgK2QraCpcFmQWaBZsFngWfBaAFoQWiBacFlguoBbUFvgXBBcQFxwXKBc0F0gXVBdgFlwvfBekF7gXwBfIF9AX2BfgF/AX+BYAGmAuNBpUGmwadBp8GoQaqBqwGmQuwBrkGvQa/BsEGwwbJBssGmgucC9QG1QbWBtcG2QbbBt4G8Ar3Cv0KiwuPC4MLhwudC58L7QbuBu8G9Qb3BvkG/AbzCvoKgAuNC5ELhQuJC6ELoAuJB6MLoguPB6QLlgeZB5oHmwecB50HngefB6AHpQuhB6IHowekB6UHpgenB6gHqQemC6oHrQeuB68HsgezB7QHtQe2B6cLtwe4B7kHuge7B7wHvQe+B78HqAvKB+IHqQuJCJsIqgvHCNMIqwvUCOEIrAvpCOoI6witC+wI7QjuCKENog2nDs0CywLKAqgOqw6pDqoOsQ6sDrQOrQ61DsoOxw64Dq4OyQ7GDrkOrw7IDsMOvA6wDr4O0A7RDtMO1A7NDs4O2Q7aDtwO3Q4Kh6yOgADdDhMAEPYEEBwQgAEQwgEQ4gEQoQILGwACQEHQqwEsAAtBf0oNAEEAKALQqwEQsA0LCxsAAkBB4KsBLAALQX9KDQBBACgC4KsBELANCwv3BQEEfyMAQdAAayIBJAACQCAAEP8BIgJB8P///wdPDQACQAJAIAJBCksNACABIAI6AEsgAUHAAGohAwwBCyACQQ9yQQFqIgQQrg0hAyABIARBgICAgHhyNgJIIAEgAzYCQCABIAI2AkQgAyEDCyADIgQgAmohAwJAIAJFDQAgBCAAIAIQ5wEaCyADQQA6AAAgAUHA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G0F/Sg0AIAEoAhAQsA0LIAEQsA0LIARBEGokAAvpAQECfyMAQRBrIgQkAAJAAkAgASAEQQxqQSgQrg0iBUEQaiACIAMQfRB2IgMoAgAiAkUNACAFIQFBACEDIAIhBQwBCyAFIAQoAgw2AgggBUIANwIAIAMgBTYCAAJAIAEoAgAoAgAiAkUNACABIAI2AgALIAEoAgQgAygCABBMIAEgASgCCEEBajYCCEEAIQFBASEDIAUhBQsgACADOgAEIAAgBTYCAAJAIAEiAUUNAAJAIAEsACdBf0oNACABQRxqKAIAELANCwJAIAEsABtBf0oNACABKAIQELANCyABELANCyAEQRBqJAALhwIBA38jAEEgayIEJAAgBEEQaiABIAIgAxB+QQAhAyABIARBDGogBCgCEEEQahB2IgUoAgAiBiECAkAgBg0AIAQoAhAiAyAEKAIMNgIIIANCADcCACAFIAM2AgACQCABKAIAKAIAIgNFDQAgASADNgIACyABKAIEIAUoAgAQTCABIAEoAghBAWo2AgggBCgCECEBIARBADYCEEEBIQMgASECCyAAIAM6AAQgACACNgIAIAQoAhAhASAEQQA2AhACQCABRQ0AAkAgBC0AGEUNAAJAIAEsACdBf0oNACABQRxqKAIAELANCyABLAAbQX9KDQAgASgCEBCwDQsgARCwDQsgBEEgaiQAC4cCAQN/IwBBIGsiBCQAIARBEGogASACIAMQf0EAIQMgASAEQQxqIAQoAhBBEGoQdiIFKAIAIgYhAgJAIAYNACAEKAIQIgMgBCgCDDYCCCADQgA3AgAgBSADNgIAAkAgASgCACgCACIDRQ0AIAEgAzYCAAsgASgCBCAFKAIAEEwgASABKAIIQQFqNgIIIAQoAhAhASAEQQA2AhBBASEDIAEhAgsgACADOgAEIAAgAjYCACAEKAIQIQEgBEEANgIQAkAgAUUNAAJAIAQtABhFDQACQCABLAAnQX9KDQAgAUEcaigCABCwDQsgASwAG0F/Sg0AIAEoAhAQsA0LIAEQsA0LIARBIGokAAvsBAEDfyABIAEgAEYiAjoADAJAIAINACABIQEDQCABIgIoAggiAS0ADA0BAkACQCABKAIIIgMoAgAiBCABRw0AAkAgAygCBCIERQ0AIAQtAAwNACABQQE6AAwgAyADIABGOgAMIARBAToA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QQApA/gcNwAAIAFBIGpBACkD8Bw3AAAgAUEYakEAKQPoHDcAACABQRBqQQApA+AcNwAAIAFBCGpBACkD2Bw3AAAgAUEAKQPQHDcAACAAQSRqQQE6AAAgAEEcakK6gICAgIiAgIB/NwIAIAAgATYCGEHQABCuDUGQHUHJABDnASIBQQA6AEkgAEE0akECOgAAIABBLGpCyYCAgICKgICAfzcCACAAIAE2AihBwAAQrg0iAUEAOgA5IAFBOGpBAC0AmB46AAAgAUEwakEAKQOQHjcAACABQShqQQApA4geNwAAIAFBIGpBACkDgB43AAAgAUEYakEAKQP4HTcAACABQRBqQQApA/AdNwAAIAFBCGpBACkD6B03AAAgAUEAKQPgHTcAACAAQcQAakEDOgAAIABBPGpCuYCAgICIgICAfzcCACAAIAE2AjhBwAAQrg0iAUEAOgA5IAFBOGpBAC0A2B46AAAgAUEwakEAKQPQHjcAACABQShqQQApA8geNwAAIAFBIGpBACkDwB43AAAgAUEYakEAKQO4HjcAACABQRBqQQApA7AeNwAAIAFBCGpBACkDqB43AAAgAUEAKQOgHjcAACAAQdQAakEEOgAAIABBzABqQrmAgICAiICAgH83AgAgACABNgJIQcAAEK4NIgFBADoAOSABQThqQQAtAJgfOgAAIAFBMGpBACkDkB83AAAgAUEoakEAKQOIHzcAACABQSBqQQApA4AfNwAAIAFBGGpBACkD+B43AAAgAUEQakEAKQPwHjcAACABQQhqQQApA+geNwAAIAFBACkD4B43AAAgAEHkAGpBBToAACAAQdwAakK5gICAgIiAgIB/NwIAIAAgATYCWEHAABCuDSIBQQA6AD8gAUE3akEAKQDXHzcAACABQTBqQQApA9AfNwAAIAFBKGpBACkDyB83AAAgAUEgakEAKQPAHzcAACABQRhqQQApA7gfNwAAIAFBEGpBACkDsB83AAAgAUEIakEAKQOoHzcAACABQQApA6AfNwAAIABB9ABqQQY6AAAgAEHsAGpCv4CAgICIgICAfzcCACAAIAE2AmhB0AAQrg1B4B9BwwAQ5wEiAUEAOgBDIABBhAFqQQc6AAAgAEH8AGpCw4CAgICKgICAfzcCACAAIAE2AnhBwAAQrg0iAUEAOgA9IAFBNWpBACkA5SA3AAAgAUEwakEAKQPgIDcAACABQShqQQApA9ggNwAAIAFBIGpBACkD0CA3AAAgAUEYakEAKQPIIDcAACABQRBqQQApA8AgNwAAIAFBCGpBACkDuCA3AAAgAUEAKQOwIDcAACAAQZQBakEIOgAAIABBjAFqQr2AgICAiICAgH83AgAgACABNgKIAUEwEK4NIgFBADoALyABQSdqQQApAJchNwAAIAFBIGpBACkDkCE3AAAgAUEYakEAKQOIITcAACABQRBqQQApA4AhNwAAIAFBCGpBACkD+CA3AAAgAUEAKQPwIDcAACAAQZwBakKvgICAgIaAgIB/NwIAIABBpAFqQQk6AAAgACABNgKYAUEwEK4NIgFBADoAIyABQR9qQQAoAL8hNgAAIAFBGGpBACkDuCE3AAAgAUEQakEAKQOwITcAACABQQhqQQApA6ghNwAAIAFBACkDoCE3AAAgAEGsAWpCo4CAgICGgICAfzcCACAAQbQBakEKOgAAIAAgATYCqAFBMBCuDSIBQQA6AC0gAUElakEAKQD1ITcAACABQSBqQQApA/AhNwAAIAFBGGpBACkD6CE3AAAgAUEQakEAKQPgITcAACABQQhqQQApA9ghNwAAIAFBACkD0CE3AAAgAEG8AWpCrYCAgICGgICAfzcCACAAQcQBakELOgAAIAAgATYCuAFBwAAQrg0iAUEAOgA2IAFBLmpBACkBriI3AAAgAUEoakEAKQOoIjcAACABQSBqQQApA6AiNwAAIAFBGGpBACkDmCI3AAAgAUEQakEAKQOQIjcAACABQQhqQQApA4giNwAAIAFBACkDgCI3AAAgAEHMAWpCtoCAgICIgICAfzcCACAAQdQBakEMOgAAIAAgATYCyAFBMBCuDSIBQQA6ACIgAUEgakEALwHgIjsAACABQRhqQQApA9giNwAAIAFBEGpBACkD0CI3AAAgAUEIakEAKQPIIjcAACABQQApA8AiNwAAIABB3AFqQqKAgICAhoCAgH83AgAgAEHkAWpBDToAACAAIAE2AtgBQTAQrg0iAUEAOgArIAFBJ2pBACgAlyM2AAAgAUEgakEAKQOQIzcAACABQRhqQQApA4gjNwAAIAFBEGpBACkDgCM3AAAgAUEIakEAKQP4IjcAACABQQApA/AiNwAAIABB7AFqQquAgICAhoCAgH83AgAgAEH0AWpBDjoAACAAIAE2AugBQSAQrg0iAUEAOgAaIAFBGGpBAC8BuCM7AAAgAUEQakEAKQOwIzcAACABQQhqQQApA6gjNwAAIAFBACkDoCM3AAAgAEH8AWpCmoCAgICEgICAfzcCACAAQYQCakEPOgAAIAAgATYC+AFBwAAQrg0iAUEAOgA/IAFBN2pBACkA9yM3AAAgAUEwakEAKQPwIzcAACABQShqQQApA+gjNwAAIAFBIGpBACkD4CM3AAAgAUEYakEAKQPYIzcAACABQRBqQQApA9AjNwAAIAFBCGpBACkDyCM3AAAgAUEAKQPAIzcAACAAQZQCakEQOgAAIABBjAJqQr+AgICAiICAgH83AgAgACABNgKIAkHAABCuDSIBQQA6ADkgAUE4akEALQC4JDoAACABQTBqQQApA7AkNwAAIAFBKGpBACkDqCQ3AAAgAUEgakEAKQOgJDcAACABQRhqQQApA5gkNwAAIAFBEGpBACkDkCQ3AAAgAUEIakEAKQOIJDcAACABQQApA4AkNwAAIABBpAJqQRE6AAAgAEGcAmpCuYCAgICIgICAfzcCACAAIAE2ApgCQcAAEK4NIgFBADoAOCABQTBqQQApA/AkNwAAIAFBKGpBACkD6CQ3AAAgAUEgakEAKQPgJDcAACABQRhqQQApA9gkNwAAIAFBEGpBACkD0CQ3AAAgAUEIakEAKQPIJDcAACABQQApA8AkNwAAIABBrAJqQriAgICAiICAgH83AgAgAEG0AmpBEjoAAEEAQgA3Aty4AUEAQgA3AuS4AUEAQYCAgPwDNgLsuAEgACABNgKoAkEAIQEDQCAAQbgCakHcuAEgAEEIaiABIgFBBHRqIgIgAhBoIAFBAWoiAiEBIAJBE0cNAAsgAEG4AmohAgNAIAIiAkFwaiEBAkAgAkF7aiwAAEF/Sg0AIAEoAgAQsA0LIAEhAiABIABBCGpHDQALQRRBAEGACBDjARogAEHAABCuDSIBNgIIIABCuoCAgICIgICAfzcCDCABQThqQQAvAcgcOwAAIAFBMGpBACkDwBw3AAAgAUEoakEAKQO4HDcAACABQSBqQQApA7AcNwAAIAFBGGpBACkDqBw3AAAgAUEQakEAKQOgHDcAACABQQhqQQApA5gcNwAAIAFBACkDkBw3AAAgAUEAOgA6QcAAEK4NIQEgAEEIakEQakK6gICAgIiAgIB/NwMAIAAgATYCFCABQThqQQAvAYgdOwAAIAFBMGpBACkDgB03AAAgAUEoakEAKQP4HDcAACABQSBqQQApA/AcNwAAIAFBGGpBACkD6Bw3AAAgAUEQakEAKQPgHDcAACABQQhqQQApA9gcNwAAIAFBACkD0Bw3AAAgAUEAOgA6QdAAEK4NIQEgAEEkakLJgICAgIqAgIB/NwIAIAAgATYCICABQZAdQckAEOcBQQA6AElBwAAQrg0hASAAQQhqQShqQrmAgICAiICAgH83AwAgACABNgIsIAFBOGpBAC0AmB46AAAgAUEwakEAKQOQHjcAACABQShqQQApA4geNwAAIAFBIGpBACkDgB43AAAgAUEYakEAKQP4HTcAACABQRBqQQApA/AdNwAAIAFBCGpBACkD6B03AAAgAUEAKQPgHTcAACABQQA6ADlBwAAQrg0hASAAQTxqQrmAgICAiICAgH83AgAgACABNgI4IAFBOGpBAC0A2B46AAAgAUEwakEAKQPQHjcAACABQShqQQApA8geNwAAIAFBIGpBACkDwB43AAAgAUEYakEAKQO4HjcAACABQRBqQQApA7AeNwAAIAFBCGpBACkDqB43AAAgAUEAKQOgHjcAACABQQA6ADlBwAAQrg0hASAAQQhqQcAAakK5gICAgIiAgIB/NwMAIAAgATYCRCABQThqQQAtAJgfOgAAIAFBMGpBACkDkB83AAAgAUEoakEAKQOIHzcAACABQSBqQQApA4AfNwAAIAFBGGpBACkD+B43AAAgAUEQakEAKQPwHjcAACABQQhqQQApA+geNwAAIAFBACkD4B43AAAgAUEAOgA5QcAAEK4NIQEgAEHUAGpCv4CAgICIgICAfzcCACAAIAE2AlAgAUE3akEAKQDXHzcAACABQTBqQQApA9AfNwAAIAFBKGpBACkDyB83AAAgAUEgakEAKQPAHzcAACABQRhqQQApA7gfNwAAIAFBEGpBACkDsB83AAAgAUEIakEAKQOoHzcAACABQQApA6AfNwAAIAFBADoAP0HQABCuDSEBIABB4ABqQsOAgICAioCAgH83AwAgACABNgJcIAFB4B9BwwAQ5wFBADoAQ0HAABCuDSEBIABB7ABqQr2AgICAiICAgH83AgAgACABNgJoIAFBNWpBACkA5SA3AAAgAUEwakEAKQPgIDcAACABQShqQQApA9ggNwAAIAFBIGpBACkD0CA3AAAgAUEYakEAKQPIIDcAACABQRBqQQApA8AgNwAAIAFBCGpBACkDuCA3AAAgAUEAKQOwIDcAACABQQA6AD1BMBCuDSEBIABB+ABqQq+AgICAhoCAgH83AwAgACABNgJ0IAFBJ2pBACkAlyE3AAAgAUEgakEAKQOQITcAACABQRhqQQApA4ghNwAAIAFBEGpBACkDgCE3AAAgAUEIakEAKQP4IDcAACABQQApA/AgNwAAIAFBADoAL0EwEK4NIQEgAEGEAWpCo4CAgICGgICAfzcCACAAIAE2AoABIAFBH2pBACgAvyE2AAAgAUEYakEAKQO4ITcAACABQRBqQQApA7AhNwAAIAFBCGpBACkDqCE3AAAgAUEAKQOgITcAACABQQA6ACNBMBCuDSEBIABBkAFqQq2AgICAhoCAgH83AwAgACABNgKMASABQSVqQQApAPUhNwAAIAFBIGpBACkD8CE3AAAgAUEYakEAKQPoITcAACABQRBqQQApA+AhNwAAIAFBCGpBACkD2CE3AAAgAUEAKQPQITcAACABQQA6AC1BwAAQrg0hASAAQZwBakK2gICAgIiAgIB/NwIAIAAgATYCmAEgAUEuakEAKQGuIjcAACABQShqQQApA6giNwAAIAFBIGpBACkDoCI3AAAgAUEYakEAKQOYIjcAACABQRBqQQApA5AiNwAAIAFBCGpBACkDiCI3AAAgAUEAKQOAIjcAACABQQA6ADZBMBCuDSEBIABBqAFqQqKAgICAhoCAgH83AwAgACABNgKkASABQSBqQQAvAeAiOwAAIAFBGGpBACkD2CI3AAAgAUEQakEAKQPQIjcAACABQQhqQQApA8giNwAAIAFBACkDwCI3AAAgAUEAOgAiQSAQrg0hASAAQbQBakKagICAgISAgIB/NwIAIAAgATYCsAEgAUEYakEALwG4IzsAACABQRBqQQApA7AjNwAAIAFBCGpBACkDqCM3AAAgAUEAKQOgIzcAACABQQA6ABpBMBCuDSEBIABBwAFqQquAgICAhoCAgH83AwAgACABNgK8ASABQSdqQQAoAJcjNgAAIAFBIGpBACkDkCM3AAAgAUEYakEAKQOIIzcAACABQRBqQQApA4AjNwAAIAFBCGpBACkD+CI3AAAgAUEAKQPw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ACAIIAcgAxDoARoLIAJBADoAAAJAAkAgASAEQQxqIAYQdCIDKAIAIgZFDQAgBSEDQQAhASAGIQUMAQsgBSAEKAIMNgIIIAVCADcCACADIAU2AgACQCABKAIAKAIAIgZFDQAgASAGNgIACyABKAIEIAMoAgAQTCABIAEoAghBAWo2AghBACEDQQEhASAFIQULIAAgAToABCAAIAU2AgACQCADIgNFDQACQCADLAAbQX9KDQAgAygCEBCwDQsgAxCwDQsgBEEQaiQADwsgBhAXAAvoCwEJfyMAQdAAayIEJAAgBEHAAGogAiADQSBBARDYAUEAIQMCQCAEKAJEIAQoAkAiAmtBEEcNACAEIAIoAgAQ5AEiBaw3AzhBACEDAkAgBUH/AUsNACAAKAIAIgZBiAFqIgchCAJAIAcoAgAiA0UNACAFQf8BcSEJIAchAiADIQMDQCACIAMiAyADLQAQIAlJIgobIgghAiADQQRqIAMgChsoAgAiCiEDIAghCCAKDQALCwJAAkAgCCICIAdGDQAgAiEDIAItABAgBUH/AXFNDQELIAchAwsgAyICIQMCQAJAAkACQAJAAkAgAiAHRw0AQcQAEK4NIgNBHGpCADcCACADQSxqIgJCADcCACADQTRqIgpCADcCACADQgA3AgQgA0IANwIMIANBqClBCGo2AgAgA0EUakIANwIAIANBJGoiCEIANwIAIANBPGoiCUIANwIAIANBIGogCDYCACACIANBMGoiCDYCACAIQQA2AgAgA0E4aiAJNgIAIApBADYCACAEIAM2AhwgBCADQQxqNgIYIARBKGogBkGEAWogBEE4aiAEQRhqEJEBIAQoAhwhAyAELQAsRQ0BIAQoAighAgJAIANFDQAgAyADKAIEIgpBf2o2AgQgCg0AIAMgAygCACgCCBEDACADEKMNCyACIQMLIAMhBiAEQShqIAQoAkAiAygCCCADQQxqKAIAQTtBARDYASAEKAIoIgMgBCgCLCILRg0EIAMhAwNAIAYoAhQiCUEgaiEIAkACQCADIgMoAgBBPSADKAIEEPUBIgoNACADKAIEIgJB8P///wdPDQQgAygCACEJAkACQCACQQpLDQAgBCACOgAjIARBGGohCgwBCyACQQ9yQQFqIgcQrg0hCiAEIAdBgICAgHhyNgIgIAQgCjYCGCAEIAI2AhwgCiEK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QCABRQ0AIAEQsA0LC0gAIABCADcAFyAAQX82AgggACACNgIEIAAgATYCACAAQQxqQQA6AAAgAEEfakIANwAAIABBJ2pCADcAACAAQSxqQgA3AAAgAAuIAQECfwJAIABBJGooAgAiAUUNACABIAEoAgQiAkF/ajYCBCACDQAgASABKAIAKAIIEQMAIAEQow0LAkAgAEEcaigCACIBRQ0AIAEgASgCBCICQX9qNgIEIAINACABIAEoAgAoAggRAwAgARCjDQsCQCAALAAXQX9KDQAgAEEMaigCABCwDQsgAAuyAwEFf0GwARCuDSIBQbwnQQhqNgIAIAFCADcCBCABQQxqQQBBpAEQ6QEhAiABQZgBakIANwIAIAFBiAFqIAFBjAFqNgIAIAFBoAFqQQA2AgAgAUGoAWoiA0IANwIAIAFBpAFqIAM2AgAgACACNgIYIABBHGoiAygCACECIAMgATYCAAJAIAJFDQAgAiACKAIEIgFBf2o2AgQgAQ0AIAIgAigCACgCCBEDACACEKMNCwJAAkADQCAAKAIEIgRFDQEgAEEANgI4IAAgACgCACIBNgI0QQAhAiABIQMCQANAIAIiASEFAkAgAyICLQAAQXZqDgQCAAACAAsgACACQQFqIgM2AgAgACABQQFqIgE2AjggASECIAMhAyABIARHDQALIAQhBQsgACAEIAVrIgE2AgQCQCABRQ0AIAEhAiAAKAIAIQMDQCACIQECQCADIgItAABBdmoOBAACAgACCyAAIAFBf2oiATYCBCAAIAJBAWoiAzYCACABIQIgAyEDIAENAAsLIAAgACgCMEEBajYCMCAERQ0BIAAQnwENAAwCCwALIAAoAiBFDQAgABCgAQsgBEUL8QQBBX8jAEEQayIBJABBASECAkACQAJAAkACQAJAAkACQAJAIAAoAjQiAywAAEGff2oOGgAHAQYHBgYGAgYHBgMGBAcGBwUHBwcGBgYHBgsgABChASECDAYLIAAQogEhAgwFCyAAKAI4QX5qIgJB8P///wdPDQUCQAJAIAJBCksNACABIAI6AAsgASEEDAELIAJBD3JBAWoiBRCuDSEEIAEgBUGAgICAeHI2AgggASAENgIAIAEgAjYCBCAEIQQLIAQiBSACaiEEAkAgAkUNACAFIANBAmogAhDoARoLIARBADoAACAAKAIYIgJBNGoh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IAAoAjAQpQECQCABLAATQX9KDQAgASgCCBCwDQtBACECDAELAkAgAkUNACADQfD///8HTw0GAkACQCADQQpLDQAgASADOgATIAFBCGohAAwBCyADQQ9yQQFqIgQQrg0hACABIARBgICAgHhyNgIQIAEgADYCCCABIAM2AgwgACEACyAAIgQgA2ohAAJAIANFDQAgBCACIAMQ6AEaCyAAQQA6AAAgBSABQRhqIAFBCGoQ0AECQCABLAATQX9KDQAgASgCCBCwDQtBASECDAELIAFBADoACCABQQA6ABMgBSABQRhqIAFBCGoQ0AECQCABLAATQX9KDQAgASgCCBCwDQtBASECCyACIQACQCABLAAjQX9KDQAgASgCGBCwDQsgAUEwaiQAIAAPCxCpAQALIAFBCGoQFwALIAFBCGoQFwALIAFBCGoQFwALIAFBCGoQFwALjgMBA38jAEEgayIBJAAgAUEQaiAAKAI0QQJqIAAoAjhBfmpBIEEBENgBAkACQAJAIAEoAhAiAkEMaigCACIDQQNHDQAgAigCCCICQbUrIAMQgAJFDQEgAkG5KyADEIACRQ0BCyABQRAQrg0iAzYCACABQouAgICAgoCAgH83AgQgA0EHakEAKACOCzYAACADQQApAIcLNwAAIANBADoACyAAQQIgASAAKAIwEKUBAkAgASwAC0F/Sg0AIAEoAgAQsA0LQQAhAAwBCwJAIAAoAiAiA0UNACADQQA2AlxBASEADAELAkAgACgCGCgCTA0AQQEhAAwBCyABQSAQrg0iAzYCACABQpKAgICAhICAgH83AgQgA0EQakEALwCwCjsAACADQQhqQQApAKgKNwAAIANBACkAoAo3AAAgA0EAOgASIABBAiABIAAoAjAQpQECQCABLAALQX9KDQAgASgCABCwDQtBACEACyAAIQMCQCABKAIQIgBFDQAgASAANgIUIAAQsA0LIAFBIGokACADC7kJAQh/IwBBIGsiASQAIAFBEGogACgCNEECaiAAKAI4QX5qQSBBARDYAQJAAkACQCABKAIUIAEoAhAiAmtBH0sNACABQRAQrg0iAjYCACABQoyAgICAgoCAgH83AgQgAkEIakEAKACACzYAACACQQApAPgKNwAAIAJBADoADCAAQQEgASAAKAIwEKUBAkAgASwAC0F/Sg0AIAEoAgAQsA0LQQAhAAwBCyACKAIAIQMCQAJAAkACQCACKAIEIgJBe2oOBwACAgICAgECCwJAIANBvSsgAhCAAg0AQQAhAkEAIQNBASEEDAMLAkAgA0HDKyACEIACDQBBACECQQEhA0EBIQQMAwsgAkELRw0BCyADQckrIAIQgAINAEEBIQJBAiEDQQEhBAwBC0EAIgQhAkEAIQMgBCEECyADIQUgAiEGAkACQCAEIgMNACABQSAQrg0iAjYCACABQpiAgICAhICAgH83AgQgAkEQakEAKQDjDzcAACACQQhqQQApANsPNwAAIAJBACkA0w83AAAgAkEAOgAYIABBAiABIAAoAjAQpQEgASwAC0F/Sg0BIAEoAgAQsA0MAQsCQCAAKAIgRQ0AIAAQoAELQdgBEK4NIgJBtChBCGo2AgAgAkIANwIEIAJBDGpBAEHMARDpASEEIAJBiAFqIgdCADcCACACQRBqQQk7AQAgAkEUakEAQe4AEOkBGiACQZQBaiIIQgA3AgAgAkGEAWogBzYCACACQaABaiIHQgA3AgAgAkGQAWogCDYCACACQdABaiIIQgA3AgAgAkGcAWogBzYCACACQagBakIANwIAIAJBsAFqQgA3AgAgAkG4AWpCADcCACACQcABakIANwIAIAJByAFqQQA2AgAgAkHMAWogCDYCACAAIAQ2AiAgAEEkaiIHKAIAIQQgByACNgIAAkAgBEUNACAEIAQoAgQiAkF/ajYCBCACDQAgBCAEKAIAKAIIEQMAIAQQow0LIAAoAiAiBCAFNgIAIAQgASgCECIFKAIIEOQBOwEEIAVBFGooAgAiAkHw////B08NAiAFKAIQIQcCQAJAIAJBCksNACABIAI6AAsgASEFDAELIAJBD3JBAWoiCBCuDSEFIAEgCEGAgICAeHI2AgggASAFNgIAIAEgAjYCBCAFIQULIAUiCCACaiEFAkAgAkUNACAIIAcgAhDoARoLIAVBADoAACAEQQhqIQICQCAELAATQX9KDQAgAigCABCwDQsgAiABKQMANwIAIAJBCGogAUEIaigCADYCACAGRQ0AIAEoAhAiBEEcaigCACICQfD///8HTw0CIAQoAhghBQJAAkAgAkEKSw0AIAEgAjoACyABIQQMAQsgAkEPckEBaiIGEK4NIQQgASAGQYCAgIB4cjYCCCABIAQ2AgAgASACNgIEIAQhBAsgBCIGIAJqIQQCQCACRQ0AIAYgBSACEOgBGgsgBEEAOgAAIAAoAiAiAkEgaiEAAkAgAiwAK0F/Sg0AIAAoAgAQsA0LIAAgASkDADcCACAAQQhqIAFBCGooAgA2AgALIAMhAAsgACECAkAgASgCECIARQ0AIAEgADYCFCAAELANCyABQSBqJAAgAg8LIAEQFwAL7QcBBX8jAEEgayIBJAAgAUEQaiAAKAI0QQJqIAAoAjhBfmpBIEEBENgBAkACQAJAIAEoAhQgASgCECICa0EwRg0AIAFBEBCuDSIDNgIAIAFCjICAgICCgICAfzcCBCADQQhqQQAoAIALNgAAIANBACkA+Ao3AAAgA0EAOgAMIABBASABIAAoAjAQpQECQCABLAALQX9KDQAgASgCABCwDQtBACEADAELIAIoAgQiA0Hw////B08NASACKAIAIQQCQAJAIANBCksNACABIAM6AAsgASECDAELIANBD3JBAWoiBRCuDSECIAEgBUGAgICAeHI2AgggASACNgIAIAEgAzYCBCACIQILIAIiBSADaiECAkAgA0UNACAFIAQgAxDoARoLIAJBADoAACAAKAIYIgJBBGohAwJAIAIsAA9Bf0oNACADKAIAELANCyADIAEpAwA3AgAgA0EIaiABQQhqKAIANgIAIAEoAhAiAkEMaigCACIDQfD///8HTw0BIAIoAgghBAJAAkAgA0EKSw0AIAEgAzoACyABIQIMAQsgA0EPckEBaiIFEK4NIQIgASAFQYCAgIB4cjYCCCABIAI2AgAgASADNgIEIAIhAgsgAiIFIANqIQICQCADRQ0AIAUgBCADEOgBGgsgAkEAOgAAIAAoAhgiAkEQaiEDAkAgAiwAG0F/Sg0AIAMoAgAQsA0LIAMgASkDADcCACADQQhqIAFBCGooAgA2AgAgASgCECICQRRqKAIAIgNB8P///wdPDQEgAigCECEEAkACQCADQQpLDQAgASADOgALIAEhAgwBCyADQQ9yQQFqIgUQrg0hAiABIAVBgICAgHhyNgIIIAEgAjYCACABIAM2AgQgAiECCyACIgUgA2ohAgJAIANFDQAgBSAEIAMQ6AEaCyACQQA6AAAgACgCGCICQRxqIQMCQCACLAAnQX9KDQAgAygCABCwDQsgAyABKQMANwIAIANBCGogAUEIaigCADYC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ODYCOCACIAEoAjw2AjwgAUHAAGohASACQcAAaiICIAVNDQALCyACIARPDQEDQCACIAEoAgA2AgAgAUEEaiEBIAJBBGoiAiAESQ0ADAILAAsCQCADQQRPDQAgACECDAELAkAgA0F8aiIEIABPDQAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCwJAIAIgA08NAANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC/cCAQJ/AkAgACABRg0AAkAgASAAIAJqIgNrQQAgAkEBdGtLDQAgACABIAIQ5wEPCyABIABzQQNxIQQCQAJAAkAgACABTw0AAkAgBEUNACAAIQMMAwsCQCAAQQNxDQAgACEDDAILIAAhAwNAIAJFDQQgAyABLQAAOgAAIAFBAWohASACQX9qIQIgA0EBaiIDQQNxRQ0CDAALAAsCQCAEDQACQCADQQNxRQ0AA0AgAkUNBSAAIAJBf2oiAmoiAyABIAJqLQAAOgAAIANBA3ENAAsLIAJBA00NAANAIAAgAkF8aiICaiABIAJqKAIANgIAIAJBA0sNAAsLIAJFDQIDQCAAIAJBf2oiAmogASACai0AADoAACACDQAMAwsACyACQQNNDQADQCADIAEoAgA2AgAgAUEEaiEBIANBBGohAyACQXxqIgJBA0sNAAsLIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8gICA38BfgJAIAJFDQAgACABOgAAIAIgAGoiA0F/aiABOgAAIAJBA0kNACAAIAE6AAIgACABOgABIANBfWogAToAACADQX5qIAE6AAAgAkEHSQ0AIAAgAToAAyADQXxqIAE6AAAgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIFayIC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AUEBaiEBIAAtAAEhBCAAQQFqIQAgBA0ADAILAAsgBCEDCyADQf8BcSABLQAAawvkAQEDfyMAQSBrIgJBGGpCADcDACACQRBqQgA3AwAgAkIANwMIIAJCADcDAAJAIAEtAAAiAw0AQQAPCwJAIAEtAAENACAAIQEDQCABIgRBAWohASAELQAAIANGDQALIAQgAGsPCwNAIAIgA0EDdkEccWoiBCAEKAIAQQEgA3RyNgIAIAEtAAEhAyABQQFqIQEgAw0ACyAAIQQCQCAALQAAIgNFDQAgACEBA0ACQCACIANBA3ZBHHFqKAIAIAN2QQFxDQAgASEEDAILIAEtAAEhAyABQQFqIgQhASADDQALCyAEIABrCwQAQQELAgALBABBAAsEAEEACwQAQQALBABBAAsCAAsCAAtcAQF/IAAgACgCSCIBQX9qIAFyNgJIAkAgACgCACIBQQhxRQ0AIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAsXAQF/IABBACABEPUBIgIgAGsgASACGwuPAQIBfgF/AkAgAL0iAkI0iKdB/w9xIgNB/w9GDQACQCADDQACQAJAIABEAAAAAAAAAABiDQBBACEDDAELIABEAAAAAAAA8EOiIAEQjAIhACABKAIAQUBqIQMLIAEgAzYCACAADwsgASADQYJ4ajYCACACQv////////+HgH+DQoCAgICAgIDwP4S/IQALIAALzgEBA38CQAJAIAIoAhAiAw0AQQAhBCACEIoCDQEgAigCECEDCwJAIAMgAigCFCIFayABTw0AIAIgACABIAIoAiQRBAAPCwJAAkAgAigCUEEATg0AQQAhAwwBCyABIQQDQAJAIAQiAw0AQQAhAwwCCyAAIANBf2oiBGotAABBCkcNAAsgAiAAIAMgAigCJBEEACIEIANJDQEgACADaiEAIAEgA2shASACKAIUIQULIAUgACABEOcBGiACIAIoAhQgAWo2AhQgAyABaiEECyAEC/sCAQR/IwBB0AFrIgUkACAFIAI2AswBQQAhBiAFQaABakEAQSgQ6QEaIAUgBSgCzAE2AsgBAkACQEEAIAEgBUHIAWogBUHQAGogBUGgAWogAyAEEI8CQQBODQBBfyEEDAELAkAgACgCTEEASA0AIAAQggIhBgsg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AEEgcQ0AIAEgAiAAEI0CGgsLdAEDf0EAIQECQCAAKAIALAAAEPIBDQBBAA8LA0AgACgCACECQX8hAwJAIAFBzJmz5gBLDQBBfyACLAAAQVBqIgMgAUEKbCIBaiADIAFB/////wdzShshAwsgACACQQFqNgIAIAMhASACLAABEPIBDQALIAMLtgQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAUF3ag4SAAECBQMEBgcICQoLDA0ODxAREgsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAIgFBBGo2AgAgACABMgEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMwEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMAAANwMADwsgAiACKAIAIgFBBGo2AgAgACABMQAANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAgALCz4BAX8CQCAAUA0AA0AgAUF/aiIBIACnQQ9xQaDAAGotAAAgAnI6AAAgAEIPViEDIABCBIghACADDQALCyABCzYBAX8CQCAAUA0AA0AgAUF/aiIBIACnQQdxQTByOgAAIABCB1YhAiAAQgOIIQAgAg0ACwsgAQuIAQIBfgN/AkACQCAAQoCAgIAQWg0AIAAhAgwBCwNAIAFBf2oiASAAIABCCoAiAkIKfn2nQTByOgAAIABC/////58BViEDIAIhACADDQAL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NgIYDAELIAFBAEEZIANBAXZrIANBH0YbdCEDIAQoAgAhBgNAIAYiBCgCBEF4cSABRg0CIANBHXYhBiADQQF0IQMgBCAGQQRxakEQaiICKAIAIgYNAAsgAiAANgIAIAAgBDYCGAsgACAANgIMIAAgADYCCA8LIAQoAggiASAANgIMIAQgADYCCCAAQQA2AhggACAENgIMIAAgATYCCAsLBwA/AEEQdAtUAQJ/QQAoArSqASIBIABBB2pBeHEiAmohAAJAAkAgAkUNACAAIAFNDQELAkAgABCrAk0NACAAEApFDQELQQAgADYCtKoBIAEPCxDuAUEwNgIAQX8LUwEBfgJAAkAgA0HAAHFFDQAgASADQUBqrYYhAkIAIQEMAQsgA0UNACABQcAAIANrrYggAiADrSIEhoQhAiABIASGIQELIAAgATcDACAAIAI3AwgLUwEBfgJAAkAgA0HAAHFFDQAgAiADQUBqrYghAUIAIQIMAQsgA0UNACACQcAAIANrrYYgASADrSIEiIQhASACIASIIQILIAAgATcDACAAIAI3AwgL5AMCAn8CfiMAQSBrIgIkAAJAAkAgAUL///////////8AgyIEQoCAgICAgMD/Q3wgBEKAgICAgIDAgLx/fFoNACAAQjyIIAFCBIaEIQQCQCAAQv//////////D4MiAEKBgICAgICAgAhUDQAgBEKBgICAgICAgMAAfCEFDAILIARCgICAgICAgIDAAHwhBSAAQoCAgICAgICACFINASAFIARCAYN8IQUMAQsCQCAAUCAEQoCAgICAgMD//wBUIARCgICAgICAwP//AFEbDQAgAEI8iCABQgSGhEL/////////A4NCgICAgICAgPz/AIQhBQwBC0KAgICAgICA+P8AIQUgBEL///////+//8MAVg0AQgAhBSAEQjCIpyIDQZH3AEkNACACQRBqIAAgAUL///////8/g0KAgICAgIDAAIQiBCADQf+If2oQrQIgAiAAIARBgfgAIANrEK4CIAIpAwAiBEI8iCACQQhqKQMAQgSGhCEFAkAgBEL//////////w+DIAIpAxAgAkEQakEIaikDAIRCAFKthCIEQoGAgICAgICACFQNACAFQgF8IQUMAQsgBEKAgICAgICAgAhSDQAgBUIBgyAFfCEFCyACQSBqJAAgBSABQoCAgICAgICA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ajYCCCAAIARBDGogBEEIahDrAyAEQRBqJAALCQAgACABEO8DCwkAIAAgARDwAwsMACAAIAEgAhDuAxoLOAEBfyMAQRBrIgMkACADIAEQ8QM2AgwgAyACEPEDNgIIIAAgA0EMaiADQQhqEPIDGiADQRBqJAALBwAgABC5AwsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCQAgACABEPUDCw0AIAAgASAAELkDa2oLBwAgABDzAwsYACAAIAEoAgA2AgAgACACKAIANgIEIAALBwAgABD0AwsEACAACwkAIAAgARD2AwsNACAAIAEgABD0A2tqCysBAX8jAEEQayIDJAAgA0EIaiAAIAEgAhD4AyADKAIMIQIgA0EQaiQAIAILZAEBfyMAQSBrIgQkACAEQRhqIAEgAhD5AyAEQRBqIAQoAhggBCgCHCADEPoDEPsDIAQgASAEKAIQEPwDNgIMIAQgAyAEKAIUEP0DNgIIIAAgBEEMaiAEQQhqEP4DIARBIGokAAsLACAAIAEgAhD/AwsHACAAEIAEC1IBAn8jAEEQayIEJAAgAiABayEFAkAgAiABRg0AIAMgASAFEOgBGgsgBCABIAVqNgIMIAQgAyAFajYCCCAAIARBDGogBEEIahD+AyAEQRBqJAALCQAgACABEIIECwkAIAAgARCDBAsMACAAIAEgAhCBBBoLOAEBfyMAQRBrIgMkACADIAEQhAQ2AgwgAyACEIQENgIIIAAgA0EMaiADQQhqEIUEGiADQRBqJAALBwAgABCIBAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCQAgACABEIkECw0AIAAgASAAEIgEa2oLBwAgABCGBAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALBwAgABCHBAsEACAACwQAIAALCQAgACABEIoECw0AIAAgASAAEIcEa2oLBAAgAAsHACAAEI4ECxgAIAAQvgMiAEIANwIAIABBCGpBADYCAAsHACAAEI8ECwQAIAALBAAgAAsKACAAEL4DKAIACwoAIAAQvgMQkwQLBAAgAAsEACAACwsAIAAgASACEJkECwkAIAAgARCbBAstAQF/IAAQvgMiAiACLQALQYABcSABcjoACyAAEL4DIgAgAC0AC0H/AHE6AAsLDAAgACABLQAAOgAACwsAIAEgAkEBEJwECwcAIAAQogQLDgAgARC/AxogABC/AxoLHgACQCACEJ0ERQ0AIAAgASACEJ4EDwsgACABEJ8ECwcAIABBCEsLCQAgACACEKAECwcAIAAQoQQLCQAgACABELQNCwcAIAAQsA0LBAAgAAsHACAAEKQECwQAIAALBAAgAAsJACAAIAEQrwQLGQAgABDEAxCwBCIAIAAQsQRBAXZLdkFwagsHACAAQQtJCy0BAX9BCiEBAkAgAEELSQ0AIABBAWoQswQiACAAQX9qIgAgAEELRhshAQsgAQsZACABIAIQsgQhASAAIAI2AgQgACABNgIACwIACwwAIAAQvgMgATYCAAs6AQF/IAAQvgMiAiACKAIIQYCAgIB4cSABQf////8HcXI2AgggABC+AyIAIAAoAghBgICAgHhyNgIICwwAIAAQvgMgATYCBAsHACABIABrCwUAELEECwUAELQECxkAAkAgABCwBCABTw0AEE8ACyABQQEQtQQLCgAgAEEPakFwcQsEAEF/CxoAAkAgARCdBEUNACAAIAEQtgQPCyAAELcECwkAIAAgARCyDQsHACAAEK4NCxgAAkAgABC8A0UNACAAELoEDwsgABC7BAsNACABKAIAIAIoAgBJCwoAIAAQywMoAgALCgAgABDLAxC8BAsEACAACw0AIAEoAgAgAigCAEkLMQEBfwJAIAAoAgAiAUUNAAJAIAEQ9wIQ4gIQ+gINACAAKAIARQ8LIABBADYCAAtBAQsIAEGAgICAeAsIAEH/////BwsRACAAIAEgACgCACgCHBEBAAsxAQF/AkAgACgCACIBRQ0AAkAgARChAxCZAxCjAw0AIAAoAgBFDwsgAEEANgIAC0EBCxEAIAAgASAAKAIAKAIsEQEACxwBAX8gACgCACECIAAgASgCADYCACABIAI2AgALMwEBfyMAQRBrIgIkACAAIAJBCGogAhC1AyIAIAEgARDGBBDFDSAAELYDIAJBEGokACAACwcAIAAQ/wELQAECfyAAKAIoIQIDQAJAIAINAA8LIAEgACAAKAIkIAJBf2oiAkECdCIDaigCACAAKAIgIANqKAIAEQUADAALAAsNACAAIAFBHGoQ9AkaCwkAIAAgARDLBAsnACAAIAAoAhhFIAFyIgE2AhACQCAAKAIUIAFxRQ0AQcULEM4EAAsLKQECfyMAQRBrIgIkACACQQhqIAAgARC5BCEDIAJBEGokACABIAAgAxsLQAAgAEHgyABBCGo2AgAgAEEAEMcEIABBHGoQ9QkaIAAoAiAQpQIgACgCJBClAiAAKAIwEKUCIAAoAjwQpQIgAAsNACAAEMwEGiAAELANCwUAEAsAC0EAIABBADYCFCAAIAE2AhggAEEANgIMIABCgqCAgOAANwIEIAAgAUU2AhAgAEEgakEAQSgQ6QEaIABBHGoQ8wkaCw4AIAAgASgCADYCACAACwQAIAALQQECfyMAQRBrIgEkAEF/IQICQCAAEM4CDQAgACABQQ9qQQEgACgCIBEEAEEBRw0AIAEtAA8hAgsgAUEQaiQAIAILRwECfyAAIAE3A3AgACAAKAIsIAAoAgQiAmusNwN4IAAoAgghAwJAIAFQDQAgAyACa6wgAVcNACACIAGnaiEDCyAAIAM2AmgL3QECA38CfiAAKQN4IAAoAgQiASAAKAIsIgJrrHwhBAJAAkACQCAAKQNwIgVQDQAgBCAFWQ0BCyAAENIEIgJBf0oNASAAKAIEIQEgACgCLCECCyAAQn83A3AgACABNgJoIAAgBCACIAFrrHw3A3hBfw8LIARCAXwhBCAAKAIEIQEgACgCCCEDAkAgACkDcCIFQgBRDQAgBSAEfSIFIAMgAWusWQ0AIAEgBadqIQMLIAAgAzYCaCAAIAQgACgCLCIDIAFrrHw3A3gCQCABIANLDQAgAUF/aiACOgAACyACC+EBAgN/An4jAEEQayICJAACQAJAIAG8IgNB/////wdxIgRBgICAfGpB////9wdLDQAgBK1CGYZCgICAgICAgMA/fCEFQgAhBgwBCwJAIARBgICA/AdJDQAgA61CGYZCgICAgICAwP//AIQhBUIAIQYMAQsCQCAEDQBCACEGQgAhBQwBCyACIAStQgAgBGciBEHRAGoQrQIgAkEIaikDAEKAgICAgIDAAIVBif8AIARrrUIwhoQhBSACKQMAIQYLIAAgBjcDACAAIAUgA0GAgICAeHGtQiCGhDcDCCACQRBqJAALjQECAn8CfiMAQRBrIgIkAAJAAkAgAQ0AQgAhBEIAIQUMAQsgAiABIAFBH3UiA3MgA2siA61CACADZyIDQdEAahCtAiACQQhqKQMAQoCAgICAgMAAhUGegAEgA2utQjCGfCABQYCAgIB4ca1CIIaEIQUgAikDACEECyAAIAQ3AwAgACAFNwMIIAJBEGokAAucCwIFfw9+IwBB4ABrIgUkACAEQv///////z+DIQogBCAChUKAgICAgICAgIB/gyELIAJC////////P4MiDEIgiCENIARCMIinQf//AXEhBgJAAkACQCACQjCIp0H//wFxIgdBgYB+akGCgH5JDQBBACEIIAZBgYB+akGBgH5LDQELAkAgAVAgAkL///////////8AgyIOQoCAgICAgMD//wBUIA5CgICAgICAwP//AFEbDQAgAkKAgICAgIAghCELDAILAkAgA1AgBEL///////////8AgyICQoCAgICAgMD//wBUIAJCgICAgICAwP//AFEbDQAgBEKAgICAgIAghCELIAMhAQwCCwJAIAEgDkKAgICAgIDA//8AhYRCAFINAAJAIAMgAoRQRQ0AQoCAgICAgOD//wAhC0IAIQEMAwsgC0KAgICAgIDA//8AhCELQgAhAQwCCwJAIAMgAkKAgICAgIDA//8AhYRCAFINACABIA6EIQJCACEBAkAgAlBFDQBCgICAgICA4P//ACELDAMLIAtCgICAgICAwP//AIQhCwwCCwJAIAEgDoRCAFINAEIAIQEMAgsCQCADIAKEQgBSDQBCACEBDAILQQAhCAJAIA5C////////P1YNACAFQdAAaiABIAwgASAMIAxQIggbeSAIQQZ0rXynIghBcWoQrQJBECAIayEIIAVB2ABqKQMAIgxCIIghDSAFKQNQIQELIAJC////////P1YNACAFQcAAaiADIAogAyAKIApQIgkbeSAJQQZ0rXynIglBcWoQrQIgCCAJa0EQaiEIIAVByABqKQMAIQogBSkDQCEDCyADQg+GIg5CgID+/w+DIgIgAUIgiCIEfiIPIA5CIIgiDiABQv////8PgyIBfnwiEEIghiIRIAIgAX58IhIgEVStIAIgDEL/////D4MiDH4iEyAOIAR+fCIRIANCMYggCkIPhiIUhEL/////D4MiAyABfnwiCiAQQiCIIBAgD1StQiCGhHwiDyACIA1CgIAEhCIQfiIVIA4gDH58Ig0gFEIgiEKAgICACIQiAiABfnwiFCADIAR+fCIWQiCGfCIXfCEBIAcgBmogCGpBgYB/aiEGAkACQCACIAR+IhggDiAQfnwiBCAYVK0gBCADIAx+fCIOIARUrXwgAiAQfnwgDiARIBNUrSAKIBFUrXx8IgQgDlStfCADIBB+IgMgAiAMfnwiAiADVK1CIIYgAkIgiIR8IAQgAkIghnwiAiAEVK18IAIgFkIgiCANIBVUrSAUIA1UrXwgFiAUVK18QiCGhHwiBCACVK18IAQgDyAKVK0gFyAPVK18fCICIARUrXwiBEKAgICAgIDAAINQDQAgBkEBaiEGDAELIBJCP4ghAyAEQgGGIAJCP4iEIQQgAkIBhiABQj+IhCECIBJCAYYhEiADIAFCAYaEIQELAkAgBkH//wFIDQAgC0KAgICAgIDA//8AhCELQgAhAQwBCwJAAkAgBkEASg0AAkBBASAGayIHQf8ASw0AIAVBMGogEiABIAZB/wBqIgYQrQIgBUEgaiACIAQgBhCtAiAFQRBqIBIgASAHEK4CIAUgAiAEIAcQrgIgBSkDICAFKQMQhCAFKQMwIAVBMGpBCGopAwCEQgBSrYQhEiAFQSBqQQhqKQMAIAVBEGpBCGopAwCEIQEgBUEIaikDACEEIAUpAwAhAgwCC0IAIQEMAgsgBq1CMIYgBEL///////8/g4QhBAsgBCALhCELAkAgElAgAUJ/VSABQoCAgICAgICAgH9RGw0AIAsgAkIBfCIBIAJUrXwhCwwBCwJAIBIgAUKAgICAgICAgIB/hYRCAFENACACIQEMAQsgCyACIAJCAYN8IgEgAlStfCELCyAAIAE3AwAgACALNwMIIAVB4ABqJAALBABBAAsEAEEAC+gKAgR/BH4jAEHwAGsiBSQAIARC////////////AIMhCQJAAkACQCABUCIGIAJC////////////AIMiCkKAgICAgIDAgIB/fEKAgICAgIDAgIB/VCAKUBsNACADQgBSIAlCgICAgICAwICAf3wiC0KAgICAgIDAgIB/ViALQoCAgICAgMCAgH9RGw0BCwJAIAYgCkKAgICAgIDA//8AVCAKQoCAgICAgMD//wBRGw0AIAJCgICAgICAIIQhBCABIQMMAgsCQCADUCAJQoCAgICAgMD//wBUIAlCgICAgICAwP//AFEbDQAgBEKAgICAgIAghCEEDAILAkAgASAKQoCAgICAgMD//wCFhEIAUg0AQoCAgICAgOD//wAgAiADIAGFIAQgAoVCgICAgICAgICAf4WEUCIGGyEEQgAgASAGGyEDDAILIAMgCUKAgICAgIDA//8AhYRQDQECQCABIAqEQgBSDQAgAyAJhEIAUg0CIAMgAYMhAyAEIAKDIQQMAgsgAyAJhFBFDQAgASEDIAIhBAwBCyADIAEgAyABViAJIApWIAkgClEbIgcbIQkgBCACIAcbIgtC////////P4MhCiACIAQgBxsiAkIwiKdB//8BcSEIAkAgC0IwiKdB//8BcSIGDQAgBUHgAGogCSAKIAkgCiAKUCIGG3kgBkEGdK18pyIGQXFqEK0CQRAgBmshBiAFQegAaikDACEKIAUpA2AhCQsgASADIAcbIQMgAkL///////8/gyEEAkAgCA0AIAVB0ABqIAMgBCADIAQgBFAiBxt5IAdBBnStfKciB0FxahCtAkEQIAdrIQggBUHYAGopAwAhBCAFKQNQIQMLIARCA4YgA0I9iIRCgICAgICAgASEIQEgCkIDhiAJQj2IhCEEIANCA4YhCiALIAKFIQMCQCAGIAhGDQACQCAGIAhrIgdB/wBNDQBCACEBQgEhCgwBCyAFQcAAaiAKIAFBgAEgB2sQrQIgBUEwaiAKIAEgBxCuAiAFKQMwIAUpA0AgBUHAAGpBCGopAwCEQgBSrYQhCiAFQTBqQQhqKQMAIQELIARCgICAgICAgASEIQwgCUIDhiEJAkACQCADQn9VDQBCACEDQgAhBCAJIAqFIAwgAYWEUA0CIAkgCn0hAiAMIAF9IAkgClStfSIEQv////////8DVg0BIAVBIGogAiAEIAIgBCAEUCIHG3kgB0EGdK18p0F0aiIHEK0CIAYgB2shBiAFQShqKQMAIQQgBSkDICECDAELIAEgDHwgCiAJfCICIApUrXwiBEKAgICAgICACINQDQAgAkIBiCAEQj+GhCAKQgGDhCECIAZBAWohBiAEQgGIIQQLIAtCgICAgICAgICAf4MhCgJAIAZB//8BSA0AIApCgICAgICAwP//AIQhBEIAIQMMAQtBACEHAkACQCAGQQBMDQAgBiEHDAELIAVBEGogAiAEIAZB/wBqEK0CIAUgAiAEQQEgBmsQrgIgBSkDACAFKQMQIAVBEGpBCGopAwCEQgBSrYQhAiAFQQhqKQMAIQQLIAJCA4ggBEI9hoQhAyAHrUIwhiAEQgOIQv///////z+DhCAKhCEEIAKnQQdxIQYCQAJAAkACQAJAENgEDgMAAQIDCyAEIAMgBkEES618IgogA1StfCEEAkAgBkEERg0AIAohAwwDCyAEIApCAYMiASAKfCIDIAFUrXwhBAwDCyAEIAMgCkIAUiAGQQBHca18IgogA1StfCEEIAohAwwBCyAEIAMgClAgBkEAR3GtfCIKIANUrXwhBCAKIQMLIAZFDQELENkEGgsgACADNwMAIAAgBDcDCCAFQfAAaiQAC44CAgJ/A34jAEEQayICJAACQAJAIAG9IgRC////////////AIMiBUKAgICAgICAeHxC/////////+//AFYNACAFQjyGIQYgBUIEiEKAgICAgICAgDx8IQUMAQsCQCAFQoCAgICAgID4/wBUDQAgBEI8hiEGIARCBIhCgICAgICAwP//AIQhBQwBCwJAIAVQRQ0AQgAhBkIAIQUMAQsgAiAFQgAgBKdnQSBqIAVCIIinZyAFQoCAgIAQVBsiA0ExahCtAiACQQhqKQMAQoCAgICAgMAAhUGM+AAgA2utQjCGhCEFIAIpAwAhBgsgACAGNwMAIAAgBSAEQoCAgICAgICAgH+DhDcDCCACQRBqJAAL4AECAX8CfkEBIQQCQCAAQgBSIAFC////////////AIMiBUKAgICAgIDA//8AViAFQoCAgICAgMD//wBRGw0AIAJCAFIgA0L///////////8AgyIGQoCAgICAgMD//wBWIAZCgICAgICAwP//AFEbDQACQCACIACEIAYgBYSEUEUNAEEADwsCQCADIAGDQgBTDQBBfyEEIAAgAlQgASADUyABIANRGw0BIAAgAoUgASADhYRCAFIPC0F/IQQgACACViABIANVIAEgA1EbDQAgACAChSABIAOFhEIAUiEECyAEC9gBAgF/An5BfyEEAkAgAEIAUiABQv///////////wCDIgVCgICAgICAwP//AFYgBUKAgICAgIDA//8AURsNACACQgBSIANC////////////AIMiBkKAgICAgIDA//8AViAGQoCAgICAgMD//wBRGw0AAkAgAiAAhCAGIAWEhFBFDQBBAA8LAkAgAyABg0IAUw0AIAAgAlQgASADUyABIANRGw0BIAAgAoUgASADhYRCAFIPCyAAIAJWIAEgA1UgASADURsNACAAIAKFIAEgA4WEQgBSIQQLIAQLrgEAAkACQCABQYAISA0AIABEAAAAAAAA4H+iIQACQCABQf8PTw0AIAFBgXhqIQEMAgsgAEQAAAAAAADgf6IhACABQf0XIAFB/RdIG0GCcGohAQwBCyABQYF4Sg0AIABEAAAAAAAAYAOiIQACQCABQbhwTQ0AIAFByQdqIQEMAQsgAEQAAAAAAABgA6IhACABQfBoIAFB8GhKG0GSD2ohAQsgACABQf8Haq1CNIa/ogs1ACAAIAE3AwAgACAEQjCIp0GAgAJxIAJCMIinQf//AXFyrUIwhiACQv///////z+DhDcDCAtyAgF/An4jAEEQayICJAACQAJAIAENAEIAIQNCACEEDAELIAIgAa1CACABZyIBQdEAahCtAiACQQhqKQMAQoCAgICAgMAAhUGegAEgAWutQjCGfCEEIAIpAwAhAwsgACADNwMAIAAgBDcDCCACQRBqJAALSAEBfyMAQRBrIgUkACAFIAEgAiADIARCgICAgICAgICAf4UQ2gQgBSkDACEEIAAgBUEIaikDADcDCCAAIAQ3AwAgBUEQaiQAC+cCAQF/IwBB0ABrIgQkAAJAAkAgA0GAgAFIDQAgBEEgaiABIAJCAEKAgICAgICA//8AENcEIARBIGpBCGopAwAhAiAEKQMgIQECQCADQf//AU8NACADQYGAf2ohAwwCCyAEQRBqIAEgAkIAQoCAgICAgID//wAQ1wQgA0H9/wIgA0H9/wJIG0GCgH5qIQMgBEEQakEIaikDACECIAQpAxAhAQwBCyADQYGAf0oNACAEQcAAaiABIAJCAEKAgICAgICAORDXBCAEQcAAakEIaikDACECIAQpA0AhAQJAIANB9IB+TQ0AIANBjf8AaiEDDAELIARBMGogASACQgBCgICAgICAgDkQ1wQgA0HogX0gA0HogX1KG0Ga/gFqIQMgBEEwakEIaikDACECIAQpAzAhAQsgBCABIAJCACADQf//AGqtQjCGENcEIAAgBEEIaikDADcDCCAAIAQpAwA3AwAgBEHQAGokAAt1AQF+IAAgBCABfiACIAN+fCADQiCIIgIgAUIgiCIEfnwgA0L/////D4MiAyABQv////8PgyIBfiIFQiCIIAMgBH58IgNCIIh8IANC/////w+DIAIgAX58IgFCIIh8NwMIIAAgAUIghiAFQv////8Pg4Q3AwAL5xACBX8PfiMAQdACayIFJAAgBEL///////8/gyEK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QfAAahCtAiAFQSBqIAMgDiAFKQNAIgIgBUHAAGpBCGopAwAiDxDjBCAFQTBqQQhqKQMAIAVBIGpBCGopAwBCAYYgBSkDICIBQj+IhH0gBSkDMCIEIAFCAYYiAVStfSENIAQgAX0hBAsgBUEQaiADIA5CA0IAEOMEIAUgAyAOQgVCABDjBCAPIAIgAkIBgyIBIAR8IgQgA1YgDSAEIAFUrXwiASAOViABIA5RG618IgMgAlStfCICIAMgAkKAgICAgIDA//8AVCAEIAUpAxBWIAEgBUEQakEIaikDACICViABIAJRG3GtfCICIANUrXwiAyACIANCgICAgICAwP//AFQgBCAFKQMAViABIAVBCGopAwAiBFYgASAEURtxrXwiASACVK18IAyEIQwLIAAgATcDACAAIAw3AwggBUHQAmokAAtLAgF+An8gAUL///////8/gyECAkACQCABQjCIp0H//wFxIgNB//8BRg0AQQQhBCADDQFBAkEDIAIgAIRQGw8LIAIgAIRQIQQLIAQL1QYCBH8DfiMAQYABayIFJAACQAJAAkAgAyAEQgBCABDcBEUNACADIAQQ5QQhBiACQjCIpyIHQf//AXEiCEH//wFGDQAgBg0BCyAFQRBqIAEgAiADIAQQ1wQgBSAFKQMQIgQgBUEQakEIaikDACIDIAQgAxDkBCAFQQhqKQMAIQIgBSkDACEEDAELAkAgASACQv///////////wCDIgkgAyAEQv///////////wCDIgoQ3ARBAEoNAAJAIAEgCSADIAoQ3ARFDQAgASEEDAILIAVB8ABqIAEgAkIAQgAQ1wQgBUH4AGopAwAhAiAFKQNwIQQMAQsgBEIwiKdB//8BcSEGAkACQCAIRQ0AIAEhBAwBCyAFQeAAaiABIAlCAEKAgICAgIDAu8AAENcEIAVB6ABqKQMAIglCMIinQYh/aiEIIAUpA2AhBAsCQCAGDQAgBUHQAGogAyAKQgBCgICAgICAwLvAABDXBCAFQdgAaikDACIKQjCIp0GIf2ohBiAFKQNQIQMLIApC////////P4NCgICAgICAwACEIQsgCUL///////8/g0KAgICAgIDAAIQhCQJAIAggBkwNAANAAkACQCAJIAt9IAQgA1StfSIKQgBTDQACQCAKIAQgA30iBIRCAFINACAFQSBqIAEgAkIAQgAQ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AQJAA0AgAiAETw0BIAItAAAgAUcNASACQQFqIQIMAAsACyAGIAIgAxDkBxoLAkAgB0GYAWogB0GQAWoQ7QJFDQAgBSAFKAIAQQJyNgIACyAHKAKYASECIAdBEGoQ9QkaIAgQqQYaIAdBoAFqJAAgAgtnAQJ/IwBBEGsiASQAIAAQvQMCQAJAIAAQvANFDQAgABCRBCECIAFBADoADyACIAFBD2oQmAQgAEEAEK4EDAELIAAQkgQhAiABQQA6AA4gAiABQQ5qEJgEIABBABCXBAsgAUEQaiQAC9MBAQR/IwBBEGsiAyQAIAAQxwMhBCAAEMgDIQUCQCABIAIQpgQiBkUNAAJAIAAgARDlBw0AAkAgBSAEayAGTw0AIAAgBSAGIARqIAVrIAQgBEEAQQAQwg0LIAAQuAMgBGohBQJAA0AgASACRg0BIAUgARCYBCABQQFqIQEgBUEBaiEFDAALAAsgA0EAOgAPIAUgA0EPahCYBCAAIAYgBGoQ5gcMAQsgACADIAEgAiAAEL8DEMIDIgEQzAMgARDHAxDKDRogARDADRoLIANBEGokACAACycBAX9BACECAkAgABDMAyABSw0AIAAQzAMgABDHA2ogAU8hAgsgAgscAAJAIAAQvANFDQAgACABEK4EDwsgACABEJcECxYAIAAgARCZDSIBQQRqIAIQ0AQaIAELBwAgABCdDQsLACAAQZTAARCtBQsRACAAIAEgASgCACgCLBECAAsRACAAIAEgASgCACgCIBECAAsRACAAIAEgASgCACgCHBECAAsPACAAIAAoAgAoAgwRAAALDwAgACAAKAIAKAIQEQAACxEAIAAgASABKAIAKAIUEQIACxEAIAAgASABKAIAKAIYEQIACw8AIAAgACgCACgCJBEAAAsLACAAQYzAARCtBQsRACAAIAEgASgCACgCLBECAAsRACAAIAEgASgCACgCIBECAAsRACAAIAEgASgCACgCHBECAAsPACAAIAAoAgAoAgwRAAALDwAgACAAKAIAKAIQEQAACxEAIAAgASABKAIAKAIUEQIACxEAIAAgASABKAIAKAIYEQIACw8AIAAgACgCACgCJBEAAAsSACAAIAI2AgQgACABOgAAIAALBwAgACgCAAsNACAAEP4HIAEQ/AdGCwcAIAAoAgALcwEBfyMAQSBrIgMkACADIAE2AhAg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EJ4NIgFBBGogAhDQBBogAQuyAgEBfyMAQRBrIgokAAJAAkAgAEUNACAKIAEQqggiARCrCCACIAooAgA2AAAgCiABEKwIIAggChCtCBogChDdDRogCiABEK4IIAcgChCtCBogChDdDRogAyABEK8INgIAIAQgARCwCDYCACAKIAEQsQggBSAKELEDGiAKEMANGiAKIAEQsgggBiAKEK0IGiAKEN0NGiABELMIIQEMAQsgCiABELQIIgEQtQggAiAKKAIANgAAIAogARC2CCAIIAoQrQgaIAoQ3Q0aIAogARC3CCAHIAoQrQgaIAoQ3Q0aIAMgARC4CDYCACAEIAEQuQg2AgAgCiABELoIIAUgChCxAxogChDADRogCiABELsIIAYgChCtCBogChDdDRogARC8CCEBCyAJIAE2AgAgCkEQaiQACxUAIAAgASgCABCiAyABKAIAEL0IGgsHACAAKAIACw0AIAAQtgYgAUECdGoLDgAgACABEL4INgIAIAALDAAgACABEL8IQQFzCwcAIAAoAgALEQAgACAAKAIAQQRqNgIAIAALEAAgABDACCABEL4Ia0ECdQsMACAAQQAgAWsQwggLCwAgACABIAIQwQgL5AEBBn8jAEEQayIDJAAgABDDCCgCACEEAkACQCACKAIAIAAQiwhrIgUQsQRBAXZPDQAgBUEBdCEFDAELELEEIQULIAVBBCAFGyEFIAEoAgAhBiAAEIsIIQcCQAJAIARB9gBHDQBBACEIDAELIAAQiwghCAsCQCAIIAUQpgIiCEUNAAJAIARB9gBGDQAgABDECBoLIANB9QA2AgQgACADQQhqIAggA0EEahDFBiIEEMUIGiAEEMgGGiABIAAQiwggBiAHa2o2AgAgAiAAEIsIIAVBfHFqNgIAIANBEGokAA8LEK0NAAsHACAAEJ8NC64CAQJ/IwBBwANrIgckACAHIAI2ArADIAcgATYCuAMgB0H2ADYCFCAHQRhqIAdBIGogB0EUahDFBiEIIAdBEGogBBDIBCAHQRBqEJsDIQEgB0EAOgAPAkAgB0G4A2ogAiADIAdBEGogBBDrAiAFIAdBD2ogASAIIAdBFGogB0GwA2oQighFDQAgBhCcCAJAIActAA9FDQAgBiABQS0QwwQQ6A0LIAFBMBDDBCEBIAgQiwghAiAHKAIUIgNBfGohBAJAA0Ag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ACAAIAFBxMABELkJELoJCwwAQfjMAUEBEM8JGgsQACAAIAFB7L8BELkJELoJCwwAQYjNAUEBENAJGgsQACAAIAFB9L8BELkJELoJCwwAQZjNAUEBENEJGgsQACAAIAFB/L8BELkJELoJCwwAQajNAUEBENIJGgsQACAAIAFBhMABELkJELoJCwwAQbjNAUEBENMJGgsQACAAIAFBzMABELkJELoJCwwAQcDNAUEBENQJGgsQACAAIAFB1MABELkJELoJCxcAIAAgATYCBCAAQfCcAUEIajYCACAACxQAIAAgARCXDCIBQQhqEJgMGiABCwIAC2cBAn8jAEEQayICJAACQCAAEJkMIAFPDQAgABCaDAALIAJBCGogABDnCSABEJsMIAAgAigCCCIBNgIEIAAgATYCACACKAIMIQMgABCcDCABIANBAnRqNgIAIABBABCdDCACQRBqJAALWwEDfyMAQRBrIgIkACACIAAgARCeDCIDKAIEIQEgAygCCCEEA0ACQCABIARHDQAgAxCfDBogAkEQaiQADwsgABDnCSABEKAMEKEMIAMgAUEEaiIBNgIEDAALAAsQACAAKAIEIAAoAgBrQQJ1CwwAIAAgACgCABC3DAszACAAIAAQqAwgABCoDCAAEOgJQQJ0aiAAEKgMIAFBAnRqIAAQqAwgABC1CUECdGoQqQwLAgALSgEBfyMAQSBrIgEkACABQQA2AgwgAUH3ADYCCCABIAEpAwg3AwAgACABQRBqIAEgABD3CRD4CSAAKAIEIQAgAUEgaiQAIABBf2oLeAECfyMAQRBrIgMkACABENcJIANBCGogARDbCSEEAkAgAEEIaiIBELUJIAJLDQAgASACQQFqEN4JCwJAIAEgAhDWCSgCAEUNACABIAIQ1gkoAgAQ3wkaCyAEEOAJIQAgASACENYJIAA2AgAgBBDcCRogA0EQaiQACxcAIAAgARDxCCIBQZz9AEEIajYCACABCxcAIAAgARDxCCIBQbz9AEEIajYCACABCxoAIAAgARDxCBCRCiIBQYD1AEEIajYCACABCxoAIAAgARDxCBClCiIBQZT2AEEIajYCACABCxoAIAAgARDxCBClCiIBQaj3AEEIajYCACABCxoAIAAgARDxCBClCiIBQZD5AEEIajYCACABCxoAIAAgARDxCBClCiIBQZz4AEEIajYC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gICAgHhxIAFB/////wdxcjYCCCAAEMgHIgAgACgCCEGAgICAeHI2AggLCABB1g0QGgALBwAgABC8CwsEACAACwoAIAEgAGtBAnULCAAQsQRBAnYLBAAgAAscAAJAIAAQvgsgAU8NABBPAAsgAUECdEEEELUECwcAIAAQxgsLCgAgAEEDakF8cQsHACAAEMQLCwQAIAALBAAgAAsEACAACxIAIAAgABC4AxC5AyABEMgLGgs4AQF/IwBBEGsiAyQAIAAgAhDmByAAIAIQygsgA0EAOgAPIAEgAmogA0EPahCYBCADQRBqJAAgAAsEACAACwIACwsAIAAgASACEMwLCw4AIAEgAkECdEEEEJwECxEAIAAQxwcoAghB/////wdxCwQAIAALYQEBfyMAQRBrIgIkACACIAA2AgwCQCAAIAFGDQADQCACIAFBf2oiATYCCCAAIAFPDQEgAkEMaiACQQhqENALIAIgAigCDEEBaiIANgIMIAIoAgghAQwACwALIAJBEGokAAsPACAAKAIAIAEoAgAQ0QsLCQAgACABEIwHC2EBAX8jAEEQayICJAAgAiAANgIMAkAgACABRg0AA0AgAiABQXxqIgE2AgggACABTw0BIAJBDGogAkEIahDTCyACIAIoAgxBBGoiADYCDCACKAIIIQEMAAsACyACQRBqJAALDwAgACgCACABKAIAENQLCwkAIAAgARDVCwscAQF/IAAoAgAhAiAAIAEoAgA2AgAgASACNgIACwoAIAAQxwcQ1wsLBAAgAAsLACAAIAEgAhDeCwsHACAAEOALC2wBAX8jAEEQayIEJAAgBCABNgIEIAQgAzYCCAJAA0AgASACRg0BIAEsAAAhAyAEQQhqEJQDIAMQlQMaIAQgAUEBaiIBNgIEIARBCGoQlgMaDAALAAsgACAEQQRqIARBCGoQ3wsaIARBEGokAAsJACAAIAEQ4QsLCQAgACABEOILCwwAIAAgASACEN8LGgs4AQF/IwBBEGsiAyQAIAMgARDnAzYCDCADIAIQ5wM2AgggACADQQxqIANBCGoQ4wsaIANBEGokAAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALBAAgAAsJACAAIAEQ6gMLBAAgAQsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCwAgACABIAIQ6gsLBwAgABDsCwtsAQF/IwBBEGsiBCQAIAQgATYCBCAEIAM2AggCQANAIAEgAkYNASABKAIAIQMgBEEIahClAyADEKYDGiAEIAFBBGoiATYCBCAEQQhqEKcDGgwACwALIAAgBEEEaiAEQQhqEOsLGiAEQRBqJAALCQAgACABEO0LCwkAIAAgARDuCwsMACAAIAEgAhDrCxoLOAEBfyMAQRBrIgMkACADIAEQ+gM2AgwgAyACEPoDNgIIIAAgA0EMaiADQQhqEO8LGiADQRBqJAALGAAgACABKAIANgIAIAAgAigCADYCBCAACwQAIAALCQAgACABEP0DCwQAIAELGAAgACABKAIANgIAIAAgAigCADYCBCAACxgAIAAQyAciAEIANwIAIABBCGpBADYCAAsEACAACwQAIAALDQAgAS0AACACLQAARgsRACAAIAAoAgAgAWo2AgAgAAsKACABIABrQQJ1CwwAIAAQsAsgAhD4Cwu/AQEDfyMAQRBrIgMkAAJAIAEgAhClCCIEIAAQswtLDQACQAJAIAQQtAtFDQAgACAEEKMIIAAQogghBQwBCyADQQhqIAAQqAggBBC1C0EBahC2CyADKAIIIgUgAygCDBC3CyAAIAUQuAsgACADKAIMELkLIAAgBBChCAsCQANAIAEgAkYNASAFIAEQoAggBUEEaiEFIAFBBGohAQwACwALIANBADYCBCAFIANBBGoQoAggA0EQaiQADwsgABC6CwALBAAgAAsNACABKAIAIAIoAgBGCxQAIAAgACgCACABQQJ0ajYCACAACwkAIAAgARD8CwsOACABEKgIGiAAEKgIGgsLACAAIAEgAhCADAsJACAAIAEQggwLDAAgACABIAIQgQwaCzgBAX8jAEEQayIDJAAgAyABEIMMNgIMIAMgAhCDDDYCCCAAIANBDGogA0EIahDyAxogA0EQaiQACxgAIAAgASgCADYCACAAIAIoAgA2AgQgAAsJACAAIAEQiAwLBwAgABCEDAsnAQF/IwBBEGsiASQAIAEgADYCCCABQQhqEIUMIQAgAUEQaiQAIAALBwAgABCGDAsKACAAKAIAEIcMCyoBAX8jAEEQayIBJAAgASAANgIIIAFBCGoQ/gcQ9AMhACABQRBqJAAgAAsJACAAIAEQiQwLMgEBfyMAQRBrIgIkACACIAA2AgggAkEIaiABIAJBCGoQhQxrEM8IIQAgAkEQaiQAIAALCwAgACABIAIQjQwLCQAgACABEI8MCwwAIAAgASACEI4MGgs4AQF/IwBBEGsiAyQAIAMgARCQDDYCDCADIAIQkAw2AgggACADQQxqIANBCGoQhQQaIANBEGokAAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCQAgACABEJUMCwcAIAAQkQwLJwEBfyMAQRBrIgEkACABIAA2AgggAUEIahCSDCEAIAFBEGokACAACwcAIAAQkwwLCgAgACgCABCUDAsqAQF/IwBBEGsiASQAIAEgADYCCCABQQhqEMAIEIcEIQAgAUEQaiQAIAALCQAgACABEJYMCzUBAX8jAEEQayICJAAgAiAANgIIIAJBCGogASACQQhqEJIMa0ECdRDeCCEAIAJBEGokACAACwsAIABBADYCACAACwcAIAAQogwLPQEBfyMAQRBrIgEkACABIAAQowwQpAw2AgwgARCAAzYCCCABQQxqIAFBCGoQ2AMoAgAhACABQRBqJAAgAAsIAEHxChAaAAsbACABIAJBABClDCEBIAAgAjYCBCAAIAE2AgALCgAgAEEIahCnDAszACAAIAAQqAwgABCoDCAAEOgJQQJ0aiAAEKgMIAAQ6AlBAnRqIAAQqAwgAUECdGoQqQwLJAAgACABNgIAIAAgASgCBCIBNgIEIAAgASACQQJ0ajYCCCAACxEAIAAoAgAgACgCBDYCBCAACwQAIAALCAAgARC2DBoLCwAgAEEAOgB4IAALCgAgAEEIahCrDAsHACAAEKoMC0YBAX8jAEEQayIDJAACQAJAIAFBHksNACAALQB4Qf8BcQ0AIABBAToAeAwBCyADQQhqEK0MIAEQrgwhAAsgA0EQaiQAIAALCgAgAEEIahCxDAsHACAAELIMCwoAIAAoAgAQoAwLAgALCABB/////wMLCgAgAEEIahCsDAsEACAACwcAIAAQrwwLHAACQCAAELAMIAFPDQAQTwALIAFBAnRBBBC1BAsEACAACwgAELEEQQJ2CwQAIAALBAAgAAsKACAAQQhqELQMCwcAIAAQtQwLBAAgAAsLACAAQQA2AgAgAAs0AQF/IAAoAgQhAgJAA0AgAiABRg0BIAAQ5wkgAkF8aiICEKAMELgMDAALAAsgACABNgIECwcAIAEQuQwLBwAgABC6DAsCAAthAQJ/IwBB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IAAoAgAgAEEIaigCACIBQQF1aiECIAAoAgQhAAJAIAFBAXFFDQAgAigCACAAaigCACEACyACIAARAwALBwAgACgCAAsWACAAIAEQgw0iAUEEaiACENAEGiABCwcAIAAQhA0LCgAgAEEEahDRBAsOACAAIAEoAgA2AgAgAAsEACAACwoAIAEgAGtBDG0LCwAgACABIAIQjQULBQAQiA0LCABBgICAgHgLBQAQiw0LBQAQjA0LDQBCgICAgICAgICAfwsNAEL///////////8ACwsAIAAgASACEIsFCwUAEI8NCwYAQf//AwsFABCRDQsEAEJ/CwwAIAAgARDaBRCUBQsMACAAIAEQ2gUQlQULPQIBfwF+IwBBEGsiAyQAIAMgASACENoFEJYFIAMpAwAhBCAAIANBCGopAwA3AwggACAENwMAIANBEGokAAsKACABIABrQQxtCw4AIAAgASgCADYCACAACwQAIAALBAAgAAsOACAAIAEoAgA2AgAgAAsHACAAEJwNCwoAIABBBGoQ0QQLBAAgAAsEACAACw4AIAAgASgCADYCACAACwQAIAALBAAgAAsEACAACwMAAAswAQF/AkACQCAAQQhqIgFBAhCkDUUNACABEOQJQX9HDQELIAAgACgCACgCEBEDAAsLFwACQCABQX9qDgUAAAAAAAALIAAoAgALBABBAAsHACAAEIQCCwcAIAAQhQILbQBB8M4BEKYNGgJAA0AgACgCAEEBRw0BQYjPAUHwzgEQqQ0aDAALAAsCQCAAKAIADQAgABCqDUHwzgEQpw0aIAEgAhEDAEHwzgEQpg0aIAAQqw1B8M4BEKcNGkGIzwEQrA0aDwtB8M4BEKcNGgsJACAAIAEQhgILCQAgAEEBNgIACwkAIABBfzYCAAsHACAAEIcCCwUAEAsACzMBAX8gAEEBIAAbIQECQANAIAEQpAIiAA0BAkAQpQ4iAEUNACAAEQkADAELCxALAAsgAAsHACAAEK4NCwcAIAAQpQILBwAgABCwDQs8AQJ/IAFBBCABQQRLGyECIABBASAAGyEAAkADQCACIAAQsw0iAw0BEKUOIgFFDQEgAREJAAwACwALIAMLMQEBfyMAQRBrIgIkACACQQA2AgwgAkEMaiAAIAEQqQIaIAIoAgwhASACQRBqJAAgAQsHACAAELUNCwcAIAAQpQILEAAg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B0kNAAsLIAEgBkH/AXFBAEc6ADUgASAIQf8BcUEARzoANAs+AAJAIAAgASgCCCAFELIORQ0AIAEgASACIAMgBBDBDg8LIAAoAggiACABIAIgAyAEIAUgACgCACgCFBEMAAshAAJAIAAgASgCCCAFELIORQ0AIAEgASACIAMgBBDBDgsLHgACQCAADQBBAA8LIABBtKEBQcSiAUEAELYOQQBHCwQAIAALDQAgABDMDhogABCwDQsFAEGfDAsVACAAELYNIgBB6KcBQQhqNgIAIAALDQAgABDMDhogABCwDQsFAEGlEAsVACAAEM8OIgBB/KcBQQhqNgIAIAALDQAgABDMDhogABCwDQsFAEGcDQscACAAQYCpAUEIajYCACAAQQRqENYOGiAAEMwOCysBAX8CQCAAELoNRQ0AIAAoAgAQ1w4iAUEIahDYDkF/Sg0AIAEQsA0LIAALBwAgAEF0agsVAQF/IAAgACgCAEF/aiIBNgIAIAELDQAgABDVDhogABCwDQsKACAAQQRqENsOCwcAIAAoAgALDQAgABDVDhogABCwDQsNACAAENUOGiAAELANCwQAIAALBgAgACQBCwQAIwELBAAjAAsGACAAJAALEgECfyMAIABrQXBxIgEkACABCxEAIAEgAiADIAQgBSAAERQACxEAIAEgAiADIAQgBSAAERMACxMAIAEgAiADIAQgBSAGIAARHgALFQAgASACIAMgBCAFIAYgByAAERkACw0AIAEgAiADIAARGwALGQAgACABIAIgA60gBK1CIIaEIAUgBhDkDgsZACAAIAEgAiADIAQgBa0gBq1CIIaEEOUOCyMAIAAgASACIAMgBCAFrSAGrUIghoQgB60gCK1CIIaEEOYOCyUAIAAgASACIAMgBCAFIAatIAetQiCGhCAIrSAJrUIghoQQ5w4LJQEBfiAAIAEgAq0gA61CIIaEIAQQ6A4hBSAFQiCIpxDfDiAFpwscACAAIAEgAiADpyADQiCIpyAEpyAEQiCIpxARCxMAIAAgAacgAUIgiKcgAiADEBILC9mjgYAAAgBBgAgLsKIBaW5maW5pdHkARmVicnVhcnkASmFudWFyeQBKdWx5AGE9cmVjdm9ubHkAYT1zZW5kb25seQBUaHVyc2RheQBUdWVzZGF5AFdlZG5lc2RheQBTYXR1cmRheQBTdW5kYXkATW9uZGF5AEZyaWRheQBNYXkAJW0vJWQvJXkAYT1ydGNwLW11eAAtKyAgIDBYMHgALTBYKzBYIDBYLTB4KzB4IDB4ACV4OiV4OiV4OiV4OiV4OiV4OiV4OiV4AF9fbmV4dF9wcmltZSBvdmVyZmxvdwBOb3YAYT1zZW5kcmVjdgBUaHUAQXVndXN0AHVuc2lnbmVkIHNob3J0AGFwdABmaW5nZXJwcmludAB1bnNpZ25lZCBpbnQAY3ByZXNlbnQAYWRkciB0eXBlIGNvbmZsaWN0AG9iamVjdABPY3QAZmxvYXQAU2F0AHVpbnQ2NF90AGE9c2V0dXA6YWN0cGFzcwBpY2Utb3B0aW9ucwBBcHIAdmVjdG9yAGZvcm1hdCBlcnJvcgA6IHBhcmFtIGVycm9yAE9jdG9iZXIATm92ZW1iZXIAU2VwdGVtYmVyAERlY2VtYmVyAHVuc2lnbmVkIGNoYXIAaW9zX2Jhc2U6OmNsZWFyAE1hcgBzZXR1cABncm91cABTZXAAZXh0bWFwAHJ0cG1hcAAlSTolTTolUyAlcABhdWRpbwB2aWRlbwB1bmtub3duAFN1bgBKdW4Ac3RkOjpleGNlcHRpb24AOiBubyBjb252ZXJzaW9uAE1vbgBuYW4ASmFuAHN0b3VsAEp1bABzdG9sAGJvb2wAc3RkOjpiYWRfZnVuY3Rpb25fY2FsbABBcHJpbABtc2xhYmVsAGVtc2NyaXB0ZW46OnZhbABGcmkAc3RvaQBiYWRfYXJyYXlfbmV3X2xlbmd0aABNYXJjaABBdWcAdW5zaWduZWQgbG9uZwBzdGQ6OndzdHJpbmcAYmFzaWNfc3RyaW5nAHN0ZDo6c3RyaW5nAHN0ZDo6dTE2c3RyaW5nAHN0ZDo6dTMyc3RyaW5nAGNvbmZpZwBpY2UtdWZyYWcAaW5mACUuMExmACVMZgBhPXJ0Y3AtcnNpemUAYT1pbmFjdGl2ZQBhPXNldHVwOmFjdGl2ZQBhPXNldHVwOnBhc3NpdmUAdHJ1ZQBUdWUAY2FuZGlkYXRlAGZhbHNlAEp1bmUAdW5rbm93biBsaW5lAGNuYW1lAGRvdWJsZQA6IG91dCBvZiByYW5nZQBpY2UtcHdkAHZvaWQAbWlkAGxldmVsLWFzeW1tZXRyeS1hbGxvd2VkAG1lZGlhIHR5cGUgbm90IHN1cHBvcnRlZABQUy1lbmFibGVkAFNCUi1lbmFibGVkAFdlZAAleDoleDoleDoleDoleDoleDolZC4lZC4lZC4lZABzdGQ6OmJhZF9hbGxvYwBEZWMAcnRjcC1mYgBGZWIAd2VicnRjOi8vZG9tYWluL2xpdmUveHh4eF9kNzE5NTZkOWNjOTNlNGE0NjdiMTFlMDZmZGFmMDM5YQBfACVhICViICVkICVIOiVNOiVTICVZAFBPU0lYACVIOiVNOiVTAGE9c3NyYy1ncm91cDpGRUMtRlIAU0RQAE5BTgBQTQBBTQBMQ19BTEwATEFORwBJTkYAYT1ncm91cDpCVU5ETEUAYT1zc3JjLWdyb3VwOkZJRABDAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4Adj0Acz0Abz0AbT0AaT0AYT0AYT1maW5nZXJwcmludDoAYT1pY2Utb3B0aW9uczoAYT1mbXRwOgBhPXJ0Y3A6AGE9ZXh0bWFwOgBhPXJ0cG1hcDoAYT1pY2UtdWZyYWc6AGE9aWNlLXB3ZDoAYT1taWQ6AGE9c3NyYzoAYT1ydGNwLWZiOgBjPUlOIElQNiA6OgAgSU4gSVA2IDo6ADAxMjM0NTY3ODkAQy5VVEYtOAAgSU4gSVA2IDo6MQAgSU4gSVA0IDEyNy4wLjAuMQA6MAA0ODAwMAAxMjgwMDAAMTYwMDAANjQwMDAAMzIwMDAAYz1JTiBJUDQgMC4wLjAuMAAgSU4gSVA0IDAuMC4wLjAAIGdlbmVyYXRpb24gMAB0PTAgMAAuAChudWxsKQBQdXJlIHZpcnR1YWwgZnVuY3Rpb24gY2FsbGVkIQAgcnBvcnQgAHR5cCBzcmZseCByYWRkciAALCBsaW5lIABhPW1zaWQtc2VtYW50aWM6IFdNUyAAYT1jYW5kaWRhdGU6Zm91bmRhdGlvbiAxIHVkcCAxMDAgACVzCgBNUDRBLUxBVE0ATVA0QS1BRFRTAGZsZXhmZWMtMDMAVlA4AEFWMQByZWQAcnR4AHVscGZlYwAAdwEAAAAAAIhYAQABAAAAAPoAAAIAAACAuwAAAwAAAESsAAAEAAAAAH0AAAUAAADAXQAABgAAACJWAAAHAAAAgD4AAAgAAADgLgAACQAAABErAAAKAAAAQB8AAAsAAAC2HAAADAAAAAAAAAANAAAAkF8BAA8AAAAAdwEAiFgBAAD6AACAuwAARKwAAAB9AADAXQAAIlYAAIA+AADgLgAAESsAAEAfAAC2HAAAAAAAAAAAAACQXwEANDIwMDFmADRkMDAxZgA2NDAwMWYAAAAAAAAAAAAAAABodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvcGxheW91dC1kZWxheQAAAAAAAGh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDEAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvbWV0YS1kYXRhLTAxAAAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L21ldGEtZGF0YS0wMgAAAAAAAABodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9tZXRhLWRhdGEtMDMAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvZGVjb2RpbmctdGltZXN0YW1wAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L3ZpZGVvLWNvbXBvc2l0aW9uLXRpbWUAAAAAAAAAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvdmlkZW8tZnJhbWUtdHlwZQAAAHVyaTp3ZWJydGM6cnRjOnJ0cC1oZHJleHQ6dmlkZW86Q29tcG9zaXRpb25UaW1lAHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6bWlkAAAAAAAAAAAAAAAAAHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6cnRwLXN0cmVhbS1pZAAAAHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6cmVwYWlyZWQtcnRwLXN0cmVhbS1pZAAAAAAAAAAAAAB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDp0b2Zmc2V0AAAAAAAAAAAAAAAAAAB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDpzc3JjLWF1ZGlvLWxldmVsAAAAAAB1cm46M2dwcDp2aWRlby1vcmllbnRhdGlvbgAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L3ZpZGVvLWNvbnRlbnQtdHlwZQBodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC92aWRlby10aW1pbmcAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvY29sb3Itc3BhY2UAdHJpY2tsZQByZW5vbWluYXRpb24AAABVRFAvVExTL1JUUC9TQVZQRgBuYWNrAG5hY2sgcGxpAGNjbSBmaXIAcnJ0cgB0cmFuc3BvcnQtY2MAZ29vZy1yZW1iAGJmcmFtZS1lbmFibGVkAEJGcmFtZS1lbmFibGVkADQyZTAxZgBzdGVyZW8Ac2N0cC1wb3J0AAAAAAAAAG1heC1tZXNzYWdlLXNpemUAVURQL0RUTFMvU0NUUABSVFAvQVZQRgB3ZWJydGM6Ly8AAAAAAAAAAAAAAAAAAABwYWNrZXRpemF0aW9uLW1vZGUAAAAAAAAAAAAAAAAAAHByb2ZpbGUtbGV2ZWwtaWQAdXNlaW5iYW5kZmVjAHVzZWR0eAAAAAAAAAAAAAAAAG1heGF2ZXJhZ2ViaXRyYXRlAG1pbnB0aW1lAAAAAAAAKBQAABYAAAAXAAAAGAAAABkAAAAaAAAATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjNBVkUxOFNlc3Npb25EZXNjcmlwdGlvbkVOU185YWxsb2NhdG9ySVMyX0VFRUUAAAAcUwAA2BMAAMhOAAAAAAAAnBQAABsAAAAcAAAAHQAAABkAAAAeAAAATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjNBVkUxNk1lZGlhRGVzY3JpcHRpb25FTlNfOWFsbG9jYXRvcklTMl9FRUVFABxTAABQFAAAyE4AAAAAAAAQFQAAHwAAACAAAAAhAAAAGQAAACIAAABOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlOM0FWRTE2Q29kZWNEZXNjcmlwdGlvbkVOU185YWxsb2NhdG9ySVMyX0VFRUUAHFMAAMQUAADITgAAAAAAAIQVAAAjAAAAJAAAACUAAAAZAAAAJgAAAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU4zQVZFMTZUcmFja0Rlc2NyaXB0aW9uRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQAcUwAAOBUAAMhOAAAAc2VuZHJlY3YAc2VuZG9ubHkAcmVjdm9ubHkAaW5hY3RpdmUASVA0AElQNgBhdWRpbwB2aWRlbwBhcHBsaWNhdGlvbgBhY3RpdmUAYWN0cGFzcwBwYXNzaXZlAAAAAABIFwAAOwAAADwAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAABDAAAATlN0M19fMjEwX19mdW5jdGlvbjZfX2Z1bmNJUEZiTlNfMTBzaGFyZWRfcHRySU4zQVZFMThTZXNzaW9uRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FTlM5X0lTR19FRVNGX0VFAE5TdDNfXzIxMF9fZnVuY3Rpb242X19iYXNlSUZiTlNfMTBzaGFyZWRfcHRySU4zQVZFMThTZXNzaW9uRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FRUUAAAD0UgAAshYAABxTAAAYFgAAQBcAAFBGYk5TdDNfXzIxMHNoYXJlZF9wdHJJTjNBVkUxOFNlc3Npb25EZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUUARmJOU3QzX18yMTBzaGFyZWRfcHRySU4zQVZFMThTZXNzaW9uRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FAADYUgAAyBcAANRTAABUFwAAAAAAADwYAAAAAAAArBkAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE5TdDNfXzIxMF9fZnVuY3Rpb242X19mdW5jSVBGYk5TXzEwc2hhcmVkX3B0cklOM0FWRTE2TWVkaWFEZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUVOUzlfSVNHX0VFU0ZfRUUATlN0M19fMjEwX19mdW5jdGlvbjZfX2Jhc2VJRmJOU18xMHNoYXJlZF9wdHJJTjNBVkUxNk1lZGlhRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FRUUAAAD0UgAAGBkAABxTAACAGAAApBkAAFBGYk5TdDNfXzIxMHNoYXJlZF9wdHJJTjNBVkUxNk1lZGlhRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FAEZiTlN0M19fMjEwc2hhcmVkX3B0cklOM0FWRTE2TWVkaWFEZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUUAANhSAAAqGgAA1FMAALgZAAAAAAAAnBoAAA0KAGF1ZGlvAHZpZGVvAGFwcGxpY2F0aW9uAGZsZXhmZWMtMDMAaWNlLWxpdGUAANUEAAAfBAAAKgQAADkHAABOU3QzX18yMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRQAA9FIAAPQaAABOU3QzX18yMTJiYXNpY19zdHJpbmdJaE5TXzExY2hhcl90cmFpdHNJaEVFTlNfOWFsbG9jYXRvckloRUVFRQAA9FIAADwbAABOU3QzX18yMTJiYXNpY19zdHJpbmdJd05TXzExY2hhcl90cmFpdHNJd0VFTlNfOWFsbG9jYXRvckl3RUVFRQAA9FIAAIQbAABOU3QzX18yMTJiYXNpY19zdHJpbmdJRHNOU18xMWNoYXJfdHJhaXRzSURzRUVOU185YWxsb2NhdG9ySURzRUVFRQAAAPRSAADMGwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURpTlNfMTFjaGFyX3RyYWl0c0lEaUVFTlNfOWFsbG9jYXRvcklEaUVFRUUAAAD0UgAAGBwAAE4xMGVtc2NyaXB0ZW4zdmFsRQAA9FIAAGQcAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ljRUUAAPRSAACAHAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJYUVFAAD0UgAAqBwAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWhFRQAA9FIAANAcAABOMTBl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ZQAAAGYAAABOU3QzX18yMTliYXNpY19vc3RyaW5nc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAAAcUwAADCQAAEQjAAAAAAAAhCQAAHIAAABzAAAATlN0M19fMjhpb3NfYmFzZUUAAAD0UgAAcCQAAAAAAADRdJ4AV529KoBwUg///z4nCgAAAGQAAADoAwAAECcAAKCGAQBAQg8AgJaYAADh9QUYAAAANQAAAHEAAABr////zvv//5K///8AAAAAAAAAAP////////////////////////////////////////////////////////////////8AAQIDBAUGBwgJ/////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj////////CgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAECBAcDBgUAAAAAAAAAAgAAwAMAAMAEAADABQAAwAYAAMAHAADACAAAwAkAAMAKAADACwAAwAwAAMANAADADgAAwA8AAMAQAADAEQAAwBIAAMATAADAFAAAwBUAAMAWAADAFwAAwBgAAMAZAADAGgAAwBsAAMAcAADAHQAAwB4AAMAfAADAAAAAswEAAMMCAADDAwAAwwQAAMMFAADDBgAAwwcAAMMIAADDCQAAwwoAAMMLAADDDAAAww0AANMOAADDDwAAwwAADLsBAAzDAgAMwwMADMMEAAzbAAAAAN4SBJUAAAAA////////////////wCYAABQAAABDLlVURi04AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1CYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMQ19DVFlQRQAAAABMQ19OVU1FUklDAABMQ19USU1FAAAAAABMQ19DT0xMQVRFAABMQ19NT05FVEFSWQBMQ19NRVNTQUdFUwCAKQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAACgAAAApAAAAKgAAACsAAAAsAAAALQAAAC4AAAAvAAAAMAAAADEAAAAyAAAAMwAAADQAAAA1AAAANgAAADcAAAA4AAAAOQAAADoAAAA7AAAAPAAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAATgAAAE8AAABQAAAAUQAAAFIAAABTAAAAVAAAAFUAAABWAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAEEAAABCAAAAQwAAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAABOAAAATwAAAFAAAABRAAAAUgAAAFMAAABUAAAAVQAAAFYAAABXAAAAWAAAAFkAAABaAAAAewAAAHwAAAB9AAAAfgAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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QgEAAEIBAABCAQAAQgEAAEIBAABCAQAAQgEAAEIBAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAKgEAACoBAAAqAQAAKgEAACoBAAAqAQAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAAAyAQAAMgEAADIBAAAyAQAAMgEAADIBAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAAIIAAACCAAAAggAAAIIAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnD0AAJQAAACVAAAAiQAAAJYAAACXAAAAmAAAAJkAAACaAAAAmwAAAJwAAAAAAAAAbD4AAJ0AAACeAAAAiQAAAJ8AAACgAAAA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";\nif (!pa(P)) {\n  var qa = P;\n  P = g.locateFile ? g.locateFile(qa, u) : u + qa;\n}\nfunction ra(a) {\n  var c = P;\n  try {\n    a: {\n      try {\n        if (c == P && x) {\n          var b = new Uint8Array(x);\n          break a;\n        }\n        if (pa(c)) {\n          try {\n            var d = sa(c.slice(37)), f = new Uint8Array(d.length);\n            for (c = 0; c < d.length; ++c) {\n              f[c] = d.charCodeAt(c);\n            }\n            var k = f;\n          } catch (m) {\n            throw Error("Converting base64 string to bytes failed.");\n          }\n          var h = k;\n        } else {\n          h = void 0;\n        }\n        if (h) {\n          b = h;\n          break a;\n        }\n        throw "sync fetching of the wasm failed: you can preload it to Module[\'wasmBinary\'] manually, or emcc.py will do that for you when generating HTML (but not JS)";\n      } catch (m) {\n        y(m);\n      }\n      b = void 0;\n    }\n    var l = new WebAssembly.Module(b);\n    var n = new WebAssembly.Instance(l, a);\n  } catch (m) {\n    throw a = m.toString(), v("failed to compile wasm module: " + a), (a.includes("imported Memory") || a.includes("memory import")) && v("Memory size incompatibility issues may be due to changing INITIAL_MEMORY at runtime to something too large. Use ALLOW_MEMORY_GROWTH to allow any size memory (and also make sure not to set INITIAL_MEMORY at runtime to something smaller than it was at compile time)."), m;\n  }\n  return [n, l];\n}\nfunction Q(a) {\n  for (; 0 < a.length;) {\n    a.shift()(g);\n  }\n}\nfunction ta(a) {\n  this.j = a - 24;\n  this.H = function(c) {\n    L[this.j + 4 >> 2] = c;\n  };\n  this.C = function(c) {\n    L[this.j + 8 >> 2] = c;\n  };\n  this.D = function() {\n    K[this.j >> 2] = 0;\n  };\n  this.B = function() {\n    H[this.j + 12 >> 0] = 0;\n  };\n  this.F = function() {\n    H[this.j + 13 >> 0] = 0;\n  };\n  this.u = function(c, b) {\n    this.v();\n    this.H(c);\n    this.C(b);\n    this.D();\n    this.B();\n    this.F();\n  };\n  this.v = function() {\n    L[this.j + 16 >> 2] = 0;\n  };\n}\nvar ua = 0;\nfunction va(a) {\n  switch(a) {\n    case 1:\n      return 0;\n    case 2:\n      return 1;\n    case 4:\n      return 2;\n    case 8:\n      return 3;\n    default:\n      throw new TypeError("Unknown type size: " + a);\n  }\n}\nvar wa = void 0;\nfunction R(a) {\n  for (var c = ""; C[a];) {\n    c += wa[C[a++]];\n  }\n  return c;\n}\nvar xa = {}, ya = {}, za = {};\nfunction Aa(a, c) {\n  if (void 0 === a) {\n    a = "_unknown";\n  } else {\n    a = a.replace(/[^a-zA-Z0-9_]/g, "$");\n    var b = a.charCodeAt(0);\n    a = 48 <= b && 57 >= b ? "_" + a : a;\n  }\n  return (new Function("body", "return function " + a + \'() {\\n    "use strict";    return body.apply(this, arguments);\\n};\\n\'))(c);\n}\nfunction Ba(a) {\n  var c = Error, b = Aa(a, function(d) {\n    this.name = a;\n    this.message = d;\n    d = Error(d).stack;\n    void 0 !== d && (this.stack = this.toString() + "\\n" + d.replace(/^Error(:[^\\n]*)?\\n/, ""));\n  });\n  b.prototype = Object.create(c.prototype);\n  b.prototype.constructor = b;\n  b.prototype.toString = function() {\n    return void 0 === this.message ? this.name : this.name + ": " + this.message;\n  };\n  return b;\n}\nvar Ca = void 0;\nfunction S(a) {\n  throw new Ca(a);\n}\nfunction T(a, c, b = {}) {\n  if (!("argPackAdvance" in c)) {\n    throw new TypeError("registerType registeredInstance requires argPackAdvance");\n  }\n  var d = c.name;\n  a || S(\'type "\' + d + \'" must have a positive integer typeid pointer\');\n  if (ya.hasOwnProperty(a)) {\n    if (b.A) {\n      return;\n    }\n    S("Cannot register type \'" + d + "\' twice");\n  }\n  ya[a] = c;\n  delete za[a];\n  xa.hasOwnProperty(a) && (c = xa[a], delete xa[a], c.forEach(f => f()));\n}\nvar Da = [], U = [{}, {value:void 0}, {value:null}, {value:!0}, {value:!1}], Ea = a => {\n  switch(a) {\n    case void 0:\n      return 1;\n    case null:\n      return 2;\n    case !0:\n      return 3;\n    case !1:\n      return 4;\n    default:\n      var c = Da.length ? Da.pop() : U.length;\n      U[c] = {G:1, value:a};\n      return c;\n  }\n};\nfunction Ga(a) {\n  return this.fromWireType(K[a >> 2]);\n}\nfunction Ha(a, c) {\n  switch(c) {\n    case 2:\n      return function(b) {\n        return this.fromWireType(ia[b >> 2]);\n      };\n    case 3:\n      return function(b) {\n        return this.fromWireType(ja[b >> 3]);\n      };\n    default:\n      throw new TypeError("Unknown float type: " + a);\n  }\n}\nfunction Ia(a, c, b) {\n  switch(c) {\n    case 0:\n      return b ? function(d) {\n        return H[d];\n      } : function(d) {\n        return C[d];\n      };\n    case 1:\n      return b ? function(d) {\n        return I[d >> 1];\n      } : function(d) {\n        return J[d >> 1];\n      };\n    case 2:\n      return b ? function(d) {\n        return K[d >> 2];\n      } : function(d) {\n        return L[d >> 2];\n      };\n    default:\n      throw new TypeError("Unknown integer type: " + a);\n  }\n}\nvar Ja = "undefined" != typeof TextDecoder ? new TextDecoder("utf-16le") : void 0;\nfunction Ka(a, c) {\n  var b = a >> 1;\n  for (var d = b + c / 2; !(b >= d) && J[b];) {\n    ++b;\n  }\n  b <<= 1;\n  if (32 < b - a && Ja) {\n    return Ja.decode(C.subarray(a, b));\n  }\n  b = "";\n  for (d = 0; !(d >= c / 2); ++d) {\n    var f = I[a + 2 * d >> 1];\n    if (0 == f) {\n      break;\n    }\n    b += String.fromCharCode(f);\n  }\n  return b;\n}\nfunction La(a, c, b) {\n  void 0 === b && (b = 2147483647);\n  if (2 > b) {\n    return 0;\n  }\n  b -= 2;\n  var d = c;\n  b = b < 2 * a.length ? b / 2 : a.length;\n  for (var f = 0; f < b; ++f) {\n    I[c >> 1] = a.charCodeAt(f), c += 2;\n  }\n  I[c >> 1] = 0;\n  return c - d;\n}\nfunction Ma(a) {\n  return 2 * a.length;\n}\nfunction Na(a, c) {\n  for (var b = 0, d = ""; !(b >= c / 4);) {\n    var f = K[a + 4 * b >> 2];\n    if (0 == f) {\n      break;\n    }\n    ++b;\n    65536 <= f ? (f -= 65536, d += String.fromCharCode(55296 | f >> 10, 56320 | f & 1023)) : d += String.fromCharCode(f);\n  }\n  return d;\n}\nfunction Oa(a, c, b) {\n  void 0 === b && (b = 2147483647);\n  if (4 > b) {\n    return 0;\n  }\n  var d = c;\n  b = d + b - 4;\n  for (var f = 0; f < a.length; ++f) {\n    var k = a.charCodeAt(f);\n    if (55296 <= k && 57343 >= k) {\n      var h = a.charCodeAt(++f);\n      k = 65536 + ((k & 1023) << 10) | h & 1023;\n    }\n    K[c >> 2] = k;\n    c += 4;\n    if (c + 4 > b) {\n      break;\n    }\n  }\n  K[c >> 2] = 0;\n  return c - d;\n}\nfunction Pa(a) {\n  for (var c = 0, b = 0; b < a.length; ++b) {\n    var d = a.charCodeAt(b);\n    55296 <= d && 57343 >= d && ++b;\n    c += 4;\n  }\n  return c;\n}\nvar Qa = {};\nfunction Ra() {\n  if (!Sa) {\n    var a = {USER:"web_user", LOGNAME:"web_user", PATH:"/", PWD:"/", HOME:"/home/web_user", LANG:("object" == typeof navigator && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8", _:ca || "./this.program"}, c;\n    for (c in Qa) {\n      void 0 === Qa[c] ? delete a[c] : a[c] = Qa[c];\n    }\n    var b = [];\n    for (c in a) {\n      b.push(c + "=" + a[c]);\n    }\n    Sa = b;\n  }\n  return Sa;\n}\nvar Sa, Ta = [null, [], []];\nfunction V(a) {\n  return 0 === a % 4 && (0 !== a % 100 || 0 === a % 400);\n}\nvar Ua = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], Va = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction Wa(a, c, b) {\n  b = Array(0 < b ? b : E(a) + 1);\n  a = D(a, b, 0, b.length);\n  c && (b.length = a);\n  return b;\n}\nfunction Xa(a, c, b, d) {\n  function f(e, p, r) {\n    for (e = "number" == typeof e ? e.toString() : e || ""; e.length < p;) {\n      e = r[0] + e;\n    }\n    return e;\n  }\n  function k(e, p) {\n    return f(e, p, "0");\n  }\n  function h(e, p) {\n    function r(Fa) {\n      return 0 > Fa ? -1 : 0 < Fa ? 1 : 0;\n    }\n    var F;\n    0 === (F = r(e.getFullYear() - p.getFullYear())) && 0 === (F = r(e.getMonth() - p.getMonth())) && (F = r(e.getDate() - p.getDate()));\n    return F;\n  }\n  function l(e) {\n    switch(e.getDay()) {\n      case 0:\n        return new Date(e.getFullYear() - 1, 11, 29);\n      case 1:\n        return e;\n      case 2:\n        return new Date(e.getFullYear(), 0, 3);\n      case 3:\n        return new Date(e.getFullYear(), 0, 2);\n      case 4:\n        return new Date(e.getFullYear(), 0, 1);\n      case 5:\n        return new Date(e.getFullYear() - 1, 11, 31);\n      case 6:\n        return new Date(e.getFullYear() - 1, 11, 30);\n    }\n  }\n  function n(e) {\n    var p = e.h;\n    for (e = new Date((new Date(e.i + 1900, 0, 1)).getTime()); 0 < p;) {\n      var r = e.getMonth(), F = (V(e.getFullYear()) ? Ua : Va)[r];\n      if (p > F - e.getDate()) {\n        p -= F - e.getDate() + 1, e.setDate(1), 11 > r ? e.setMonth(r + 1) : (e.setMonth(0), e.setFullYear(e.getFullYear() + 1));\n      } else {\n        e.setDate(e.getDate() + p);\n        break;\n      }\n    }\n    r = new Date(e.getFullYear() + 1, 0, 4);\n    p = l(new Date(e.getFullYear(), 0, 4));\n    r = l(r);\n    return 0 >= h(p, e) ? 0 >= h(r, e) ? e.getFullYear() + 1 : e.getFullYear() : e.getFullYear() - 1;\n  }\n  var m = K[d + 40 >> 2];\n  d = {K:K[d >> 2], J:K[d + 4 >> 2], m:K[d + 8 >> 2], s:K[d + 12 >> 2], o:K[d + 16 >> 2], i:K[d + 20 >> 2], g:K[d + 24 >> 2], h:K[d + 28 >> 2], N:K[d + 32 >> 2], I:K[d + 36 >> 2], L:m ? A(m) : ""};\n  b = A(b);\n  m = {"%c":"%a %b %d %H:%M:%S %Y", "%D":"%m/%d/%y", "%F":"%Y-%m-%d", "%h":"%b", "%r":"%I:%M:%S %p", "%R":"%H:%M", "%T":"%H:%M:%S", "%x":"%m/%d/%y", "%X":"%H:%M:%S", "%Ec":"%c", "%EC":"%C", "%Ex":"%m/%d/%y", "%EX":"%H:%M:%S", "%Ey":"%y", "%EY":"%Y", "%Od":"%d", "%Oe":"%e", "%OH":"%H", "%OI":"%I", "%Om":"%m", "%OM":"%M", "%OS":"%S", "%Ou":"%u", "%OU":"%U", "%OV":"%V", "%Ow":"%w", "%OW":"%W", "%Oy":"%y",};\n  for (var q in m) {\n    b = b.replace(new RegExp(q, "g"), m[q]);\n  }\n  var w = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), B = "January February March April May June July August September October November December".split(" ");\n  m = {"%a":function(e) {\n    return w[e.g].substring(0, 3);\n  }, "%A":function(e) {\n    return w[e.g];\n  }, "%b":function(e) {\n    return B[e.o].substring(0, 3);\n  }, "%B":function(e) {\n    return B[e.o];\n  }, "%C":function(e) {\n    return k((e.i + 1900) / 100 | 0, 2);\n  }, "%d":function(e) {\n    return k(e.s, 2);\n  }, "%e":function(e) {\n    return f(e.s, 2, " ");\n  }, "%g":function(e) {\n    return n(e).toString().substring(2);\n  }, "%G":function(e) {\n    return n(e);\n  }, "%H":function(e) {\n    return k(e.m, 2);\n  }, "%I":function(e) {\n    e = e.m;\n    0 == e ? e = 12 : 12 < e && (e -= 12);\n    return k(e, 2);\n  }, "%j":function(e) {\n    for (var p = 0, r = 0; r <= e.o - 1; p += (V(e.i + 1900) ? Ua : Va)[r++]) {\n    }\n    return k(e.s + p, 3);\n  }, "%m":function(e) {\n    return k(e.o + 1, 2);\n  }, "%M":function(e) {\n    return k(e.J, 2);\n  }, "%n":function() {\n    return "\\n";\n  }, "%p":function(e) {\n    return 0 <= e.m && 12 > e.m ? "AM" : "PM";\n  }, "%S":function(e) {\n    return k(e.K, 2);\n  }, "%t":function() {\n    return "\\t";\n  }, "%u":function(e) {\n    return e.g || 7;\n  }, "%U":function(e) {\n    return k(Math.floor((e.h + 7 - e.g) / 7), 2);\n  }, "%V":function(e) {\n    var p = Math.floor((e.h + 7 - (e.g + 6) % 7) / 7);\n    2 >= (e.g + 371 - e.h - 2) % 7 && p++;\n    if (p) {\n      53 == p && (r = (e.g + 371 - e.h) % 7, 4 == r || 3 == r && V(e.i) || (p = 1));\n    } else {\n      p = 52;\n      var r = (e.g + 7 - e.h - 1) % 7;\n      (4 == r || 5 == r && V(e.i % 400 - 1)) && p++;\n    }\n    return k(p, 2);\n  }, "%w":function(e) {\n    return e.g;\n  }, "%W":function(e) {\n    return k(Math.floor((e.h + 7 - (e.g + 6) % 7) / 7), 2);\n  }, "%y":function(e) {\n    return (e.i + 1900).toString().substring(2);\n  }, "%Y":function(e) {\n    return e.i + 1900;\n  }, "%z":function(e) {\n    e = e.I;\n    var p = 0 <= e;\n    e = Math.abs(e) / 60;\n    return (p ? "+" : "-") + String("0000" + (e / 60 * 100 + e % 60)).slice(-4);\n  }, "%Z":function(e) {\n    return e.L;\n  }, "%%":function() {\n    return "%";\n  }};\n  b = b.replace(/%%/g, "\\x00\\x00");\n  for (q in m) {\n    b.includes(q) && (b = b.replace(new RegExp(q, "g"), m[q](d)));\n  }\n  b = b.replace(/\\0\\0/g, "%");\n  q = Wa(b, !1);\n  if (q.length > c) {\n    return 0;\n  }\n  H.set(q, a);\n  return q.length - 1;\n}\nfor (var Ya = Array(256), W = 0; 256 > W; ++W) {\n  Ya[W] = String.fromCharCode(W);\n}\nwa = Ya;\nCa = g.BindingError = Ba("BindingError");\ng.InternalError = Ba("InternalError");\ng.count_emval_handles = function() {\n  for (var a = 0, c = 5; c < U.length; ++c) {\n    void 0 !== U[c] && ++a;\n  }\n  return a;\n};\ng.get_first_emval = function() {\n  for (var a = 5; a < U.length; ++a) {\n    if (void 0 !== U[a]) {\n      return U[a];\n    }\n  }\n  return null;\n};\nvar sa = "function" == typeof atob ? atob : function(a) {\n  var c = "", b = 0;\n  a = a.replace(/[^A-Za-z0-9\\+\\/=]/g, "");\n  do {\n    var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));\n    var f = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));\n    var k = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));\n    var h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));\n    d = d << 2 | f >> 4;\n    f = (f & 15) << 4 | k >> 2;\n    var l = (k & 3) << 6 | h;\n    c += String.fromCharCode(d);\n    64 !== k && (c += String.fromCharCode(f));\n    64 !== h && (c += String.fromCharCode(l));\n  } while (b < a.length);\n  return c;\n}, $a = {__cxa_throw:function(a, c, b) {\n  (new ta(a)).u(c, b);\n  ua++;\n  throw a;\n}, _embind_register_bigint:function() {\n}, _embind_register_bool:function(a, c, b, d, f) {\n  var k = va(b);\n  c = R(c);\n  T(a, {name:c, fromWireType:function(h) {\n    return !!h;\n  }, toWireType:function(h, l) {\n    return l ? d : f;\n  }, argPackAdvance:8, readValueFromPointer:function(h) {\n    if (1 === b) {\n      var l = H;\n    } else if (2 === b) {\n      l = I;\n    } else if (4 === b) {\n      l = K;\n    } else {\n      throw new TypeError("Unknown boolean type size: " + c);\n    }\n    return this.fromWireType(l[h >> k]);\n  }, l:null,});\n}, _embind_register_emval:function(a, c) {\n  c = R(c);\n  T(a, {name:c, fromWireType:function(b) {\n    b || S("Cannot use deleted val. handle = " + b);\n    var d = U[b].value;\n    4 < b && 0 === --U[b].G && (U[b] = void 0, Da.push(b));\n    return d;\n  }, toWireType:function(b, d) {\n    return Ea(d);\n  }, argPackAdvance:8, readValueFromPointer:Ga, l:null,});\n}, _embind_register_float:function(a, c, b) {\n  b = va(b);\n  c = R(c);\n  T(a, {name:c, fromWireType:function(d) {\n    return d;\n  }, toWireType:function(d, f) {\n    return f;\n  }, argPackAdvance:8, readValueFromPointer:Ha(c, b), l:null,});\n}, _embind_register_integer:function(a, c, b, d, f) {\n  c = R(c);\n  -1 === f && (f = 4294967295);\n  f = va(b);\n  var k = l => l;\n  if (0 === d) {\n    var h = 32 - 8 * b;\n    k = l => l << h >>> h;\n  }\n  b = c.includes("unsigned") ? function(l, n) {\n    return n >>> 0;\n  } : function(l, n) {\n    return n;\n  };\n  T(a, {name:c, fromWireType:k, toWireType:b, argPackAdvance:8, readValueFromPointer:Ia(c, f, 0 !== d), l:null,});\n}, _embind_register_memory_view:function(a, c, b) {\n  function d(k) {\n    k >>= 2;\n    var h = L;\n    return new f(G, h[k + 1], h[k]);\n  }\n  var f = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array,][c];\n  b = R(b);\n  T(a, {name:b, fromWireType:d, argPackAdvance:8, readValueFromPointer:d,}, {A:!0,});\n}, _embind_register_std_string:function(a, c) {\n  c = R(c);\n  var b = "std::string" === c;\n  T(a, {name:c, fromWireType:function(d) {\n    var f = L[d >> 2], k = d + 4;\n    if (b) {\n      for (var h = k, l = 0; l <= f; ++l) {\n        var n = k + l;\n        if (l == f || 0 == C[n]) {\n          h = A(h, n - h);\n          if (void 0 === m) {\n            var m = h;\n          } else {\n            m += String.fromCharCode(0), m += h;\n          }\n          h = n + 1;\n        }\n      }\n    } else {\n      m = Array(f);\n      for (l = 0; l < f; ++l) {\n        m[l] = String.fromCharCode(C[k + l]);\n      }\n      m = m.join("");\n    }\n    X(d);\n    return m;\n  }, toWireType:function(d, f) {\n    f instanceof ArrayBuffer && (f = new Uint8Array(f));\n    var k, h = "string" == typeof f;\n    h || f instanceof Uint8Array || f instanceof Uint8ClampedArray || f instanceof Int8Array || S("Cannot pass non-string to std::string");\n    b && h ? k = E(f) : k = f.length;\n    var l = Za(4 + k + 1), n = l + 4;\n    L[l >> 2] = k;\n    if (b && h) {\n      D(f, C, n, k + 1);\n    } else {\n      if (h) {\n        for (h = 0; h < k; ++h) {\n          var m = f.charCodeAt(h);\n          255 < m && (X(n), S("String has UTF-16 code units that do not fit in 8 bits"));\n          C[n + h] = m;\n        }\n      } else {\n        for (h = 0; h < k; ++h) {\n          C[n + h] = f[h];\n        }\n      }\n    }\n    null !== d && d.push(X, l);\n    return l;\n  }, argPackAdvance:8, readValueFromPointer:Ga, l:function(d) {\n    X(d);\n  },});\n}, _embind_register_std_wstring:function(a, c, b) {\n  b = R(b);\n  if (2 === c) {\n    var d = Ka;\n    var f = La;\n    var k = Ma;\n    var h = () => J;\n    var l = 1;\n  } else {\n    4 === c && (d = Na, f = Oa, k = Pa, h = () => L, l = 2);\n  }\n  T(a, {name:b, fromWireType:function(n) {\n    for (var m = L[n >> 2], q = h(), w, B = n + 4, e = 0; e <= m; ++e) {\n      var p = n + 4 + e * c;\n      if (e == m || 0 == q[p >> l]) {\n        B = d(B, p - B), void 0 === w ? w = B : (w += String.fromCharCode(0), w += B), B = p + c;\n      }\n    }\n    X(n);\n    return w;\n  }, toWireType:function(n, m) {\n    "string" != typeof m && S("Cannot pass non-string to C++ string type " + b);\n    var q = k(m), w = Za(4 + q + c);\n    L[w >> 2] = q >> l;\n    f(m, w + 4, q + c);\n    null !== n && n.push(X, w);\n    return w;\n  }, argPackAdvance:8, readValueFromPointer:Ga, l:function(n) {\n    X(n);\n  },});\n}, _embind_register_void:function(a, c) {\n  c = R(c);\n  T(a, {M:!0, name:c, argPackAdvance:0, fromWireType:function() {\n  }, toWireType:function() {\n  },});\n}, abort:function() {\n  y("");\n}, emscripten_memcpy_big:function(a, c, b) {\n  C.copyWithin(a, c, c + b);\n}, emscripten_resize_heap:function(a) {\n  var c = C.length;\n  a >>>= 0;\n  if (2147483648 < a) {\n    return !1;\n  }\n  for (var b = 1; 4 >= b; b *= 2) {\n    var d = c * (1 + 0.2 / b);\n    d = Math.min(d, a + 100663296);\n    var f = Math;\n    d = Math.max(a, d);\n    f = f.min.call(f, 2147483648, d + (65536 - d % 65536) % 65536);\n    a: {\n      try {\n        z.grow(f - G.byteLength + 65535 >>> 16);\n        ka();\n        var k = 1;\n        break a;\n      } catch (h) {\n      }\n      k = void 0;\n    }\n    if (k) {\n      return !0;\n    }\n  }\n  return !1;\n}, environ_get:function(a, c) {\n  var b = 0;\n  Ra().forEach(function(d, f) {\n    var k = c + b;\n    f = L[a + 4 * f >> 2] = k;\n    for (k = 0; k < d.length; ++k) {\n      H[f++ >> 0] = d.charCodeAt(k);\n    }\n    H[f >> 0] = 0;\n    b += d.length + 1;\n  });\n  return 0;\n}, environ_sizes_get:function(a, c) {\n  var b = Ra();\n  L[a >> 2] = b.length;\n  var d = 0;\n  b.forEach(function(f) {\n    d += f.length + 1;\n  });\n  L[c >> 2] = d;\n  return 0;\n}, fd_close:function() {\n  return 52;\n}, fd_seek:function() {\n  return 70;\n}, fd_write:function(a, c, b, d) {\n  for (var f = 0, k = 0; k < b; k++) {\n    var h = L[c >> 2], l = L[c + 4 >> 2];\n    c += 8;\n    for (var n = 0; n < l; n++) {\n      var m = C[h + n], q = Ta[a];\n      0 === m || 10 === m ? ((1 === a ? da : v)(ha(q, 0)), q.length = 0) : q.push(m);\n    }\n    f += l;\n  }\n  L[d >> 2] = f;\n  return 0;\n}, strftime_l:function(a, c, b, d) {\n  return Xa(a, c, b, d);\n}}, Y = function() {\n  function a(b) {\n    g.asm = b.exports;\n    z = g.asm.memory;\n    ka();\n    ma.unshift(g.asm.__wasm_call_ctors);\n    M--;\n    g.monitorRunDependencies && g.monitorRunDependencies(M);\n    0 == M && (null !== N && (clearInterval(N), N = null), O && (b = O, O = null, b()));\n  }\n  var c = {env:$a, wasi_snapshot_preview1:$a,};\n  M++;\n  g.monitorRunDependencies && g.monitorRunDependencies(M);\n  if (g.instantiateWasm) {\n    try {\n      return g.instantiateWasm(c, a);\n    } catch (b) {\n      v("Module.instantiateWasm callback failed with error: " + b), t(b);\n    }\n  }\n  c = ra(c);\n  a(c[0]);\n  return g.asm;\n}();\ng.___wasm_call_ctors = Y.__wasm_call_ctors;\ng._parseToMiniSdp = Y.parseToMiniSdp;\ng._getBuffer = Y.getBuffer;\ng._loadMiniSdpToSdp = Y.loadMiniSdpToSdp;\nvar Za = g._malloc = Y.malloc;\ng.___getTypeName = Y.__getTypeName;\ng.__embind_initialize_bindings = Y._embind_initialize_bindings;\ng.___errno_location = Y.__errno_location;\nvar X = g._free = Y.free, ab = g.stackSave = Y.stackSave, bb = g.stackRestore = Y.stackRestore, cb = g.stackAlloc = Y.stackAlloc;\ng.___cxa_is_pointer_type = Y.__cxa_is_pointer_type;\ng.dynCall_viijii = Y.dynCall_viijii;\ng.dynCall_iiiiij = Y.dynCall_iiiiij;\ng.dynCall_iiiiijj = Y.dynCall_iiiiijj;\ng.dynCall_iiiiiijj = Y.dynCall_iiiiiijj;\ng.dynCall_jiji = Y.dynCall_jiji;\ng.UTF8ToString = A;\ng.ccall = function(a, c, b, d) {\n  var f = {string:m => {\n    var q = 0;\n    if (null !== m && void 0 !== m && 0 !== m) {\n      var w = (m.length << 2) + 1;\n      q = cb(w);\n      D(m, C, q, w);\n    }\n    return q;\n  }, array:m => {\n    var q = cb(m.length);\n    H.set(m, q);\n    return q;\n  }};\n  a = g["_" + a];\n  var k = [], h = 0;\n  if (d) {\n    for (var l = 0; l < d.length; l++) {\n      var n = f[b[l]];\n      n ? (0 === h && (h = ab()), k[l] = n(d[l])) : k[l] = d[l];\n    }\n  }\n  b = a.apply(null, k);\n  return b = function(m) {\n    0 !== h && bb(h);\n    return "string" === c ? A(m) : "boolean" === c ? !!m : m;\n  }(b);\n};\ng.intArrayFromString = Wa;\ng.allocateUTF8 = function(a) {\n  var c = E(a) + 1, b = Za(c);\n  b && D(a, H, b, c);\n  return b;\n};\nvar Z;\nO = function db() {\n  Z || eb();\n  Z || (O = db);\n};\nfunction eb() {\n  function a() {\n    if (!Z && (Z = !0, g.calledRun = !0, !ea)) {\n      Q(ma);\n      aa(g);\n      if (g.onRuntimeInitialized) {\n        g.onRuntimeInitialized();\n      }\n      if (g.postRun) {\n        for ("function" == typeof g.postRun && (g.postRun = [g.postRun]); g.postRun.length;) {\n          var c = g.postRun.shift();\n          na.unshift(c);\n        }\n      }\n      Q(na);\n    }\n  }\n  if (!(0 < M)) {\n    if (g.preRun) {\n      for ("function" == typeof g.preRun && (g.preRun = [g.preRun]); g.preRun.length;) {\n        oa();\n      }\n    }\n    Q(la);\n    0 < M || (g.setStatus ? (g.setStatus("Running..."), setTimeout(function() {\n      setTimeout(function() {\n        g.setStatus("");\n      }, 1);\n      a();\n    }, 1)) : a());\n  }\n}\nif (g.preInit) {\n  for ("function" == typeof g.preInit && (g.preInit = [g.preInit]); 0 < g.preInit.length;) {\n    g.preInit.pop()();\n  }\n}\neb();\n\n\n\n  return Module\n}\n);\n})();\nif (typeof exports === \'object\' && typeof module === \'object\')\n  module.exports = Module;\nelse if (typeof define === \'function\' && define[\'amd\'])\n  define([], function() { return Module; });\nelse if (typeof exports === \'object\')\n  exports["Module"] = Module;\n;this._ModuleFn=Module;'],{type:"text/javascript"}));this.worker.postMessage({command:"init",val:i}),this.worker.onmessage=function(t){var r=t.data;r.eventId&&e.msgSuccessCallBack[r.eventId]instanceof Function&&(e.msgSuccessCallBack[r.eventId]({code:r.code,data:r.data}),delete e.msgSuccessCallBack[r.eventId])},this.worker.onmessageerror=function(e){console.error("Error receiving message from worker: ".concat(e))},this.worker.onerror=function(e){console.error(e)}}return e.prototype.messageHandler=function(e){var t=this;return new Promise((function(r){var i=Math.floor(10*Math.random());e.eventId="".concat(e.command,"_ \n        ").concat(Date.now().toString(16).slice(i,i+6)),t.worker.postMessage(e),t.msgSuccessCallBack[e.eventId]=function(e){r(e)}}))},e.prototype.parseToMiniSdp=function(e){return gg(this,void 0,void 0,(function(){var t=this;return ug(this,(function(r){return[2,new Promise((function(r,i){return gg(t,void 0,void 0,(function(){var t,A;return ug(this,(function(n){switch(n.label){case 0:return"string"==typeof e&&e?[4,this.messageHandler({command:"parseToMiniSdp",val:e})]:(i(Me),[2]);case 1:if(0===(t=n.sent()).code)r(t.data);else{switch(A=void 0,t.code){case-1:A=it;break;case-2:A=At;break;case-3:A=nt}i(A)}return[2]}}))}))}))]}))}))},e.prototype.loadMiniSdpToOriginSdp=function(e){return gg(this,void 0,void 0,(function(){var t=this;return ug(this,(function(r){return[2,new Promise((function(r,i){return gg(t,void 0,void 0,(function(){var t;return ug(this,(function(A){switch(A.label){case 0:return e instanceof Uint8Array?[4,this.messageHandler({command:"loadMiniSdpToOriginSdp",val:e})]:(i(Me),[2]);case 1:return 0==(t=A.sent()).code&&r(t.data),[2]}}))}))}))]}))}))},Object.defineProperty(e,"isSupported",{get:function(){return!(!window.WebAssembly||!window.Worker)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.worker.terminate()},e}();!function(e){e.SAVED_CHARGEINFO_REPORT="zc.bill.scir",e.CHARGEINFO_SAVING_LOCALSTORAGE="zc.bill.cisl",e.CHARGEINFO_GET_AND_REMOVE_LOCALSTORAGE="zc.bill.cigrl",e.START_CHARGE_INFO_TIMER="zc.bill.tm.scit"}(cg||(cg={}));var hg,dg=function(){function e(e,t){this.logger=e,this.stateCenter=t,this.chargeInfosInterval=6e4,this.reporting=!1}return Object.defineProperty(e.prototype,"streamCenter",{get:function(){return this.stateCenter.streamCenter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"streamReport",{get:function(){var e;return null===(e=this.streamCenter)||void 0===e?void 0:e.streamReport},enumerable:!1,configurable:!0}),e.prototype.isAllPlayingCdnAndL3=function(){var e=0,t=0,r=this.streamCenter.playerList;for(var i in r){var A=r[i];A.player.state==k&&(e++,0!==A.player.resourceMode&&t++)}return e==t&&0!==e},Object.defineProperty(e.prototype,"roomChargeInfos",{get:function(){this._roomChargeInfos||(this._roomChargeInfos={roomid:"",timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]});return this._roomChargeInfos.timestamp_begin=(new Date).getTime(),0!==this._roomChargeInfos.timestamp_end?(this._roomChargeInfos.timestamp_diff=this._roomChargeInfos.timestamp_begin-this._roomChargeInfos.timestamp_end,this._roomChargeInfos.timestamp_diff_flag=1):(this._roomChargeInfos.timestamp_diff=0,this._roomChargeInfos.timestamp_diff_flag=0),this._roomChargeInfos.timestamp_end=(new Date).getTime(),this._roomChargeInfos.infos=[{is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[],no_playing:1}],this._roomChargeInfos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldEnd",{get:function(){var e;return!!this.reporting&&(this.shouldReportRoomTime?0===(null===(e=this.stateCenter.rtm)||void 0===e?void 0:e.stateCenter.roomModulesList.filter((function(e){return!e.isLogout()||!e.isDisConnect()})).length):!this.streamCenter||!this.streamCenter.signalList||0===Object.keys(this.streamCenter.signalList).length)},enumerable:!1,configurable:!0}),e.prototype.report=function(){var e=this;this.streamCenter?this.isAllPlayingCdnAndL3()?this.logger.info("zc.bill.tm.r.0 not report"):this.getRoomIDList().forEach((function(t){var r,i=e.samplingChargeInfos(t);null===(r=e.streamReport)||void 0===r||r.uploadChargeInfos(i)})):this.logger.info("zc.bill.tm.r.0 no stream center")},Object.defineProperty(e.prototype,"shouldReportRoomTime",{get:function(){var e,t,r;return!(!(null===(e=this.stateCenter.rtm)||void 0===e?void 0:e.stateCenter.appConfig)||!(null===(t=this.stateCenter.rtm)||void 0===t?void 0:t.stateCenter.appConfig.speedlog_config)||1!==(null===(r=this.stateCenter.rtm)||void 0===r?void 0:r.stateCenter.appConfig.speedlog_config.charge_info_report_no_playing))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReporting",{get:function(){return this.reporting},enumerable:!1,configurable:!0}),e.prototype.startChargeInfoTimer=function(){var e=this;if(this.chargeInfosTimer&&(clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null,this.shouldEnd))return this.logger.info(cg.START_CHARGE_INFO_TIMER+" chargeinfos timer report ended"),void(this.reporting=!1);this.chargeInfosTimer=setTimeout((function(){e.report(),e.startChargeInfoTimer()}),this.chargeInfosInterval)},e.prototype.startChargeInfosUpload=function(){this.reporting||(this.reporting=!0,this.shouldReportRoomTime&&this.report(),this.startChargeInfoTimer(),this.logger.info("zsc.sciu.0 call"))},e.prototype.stopChargeInfosUpload=function(){this.logger.info("zsc.sciu.1 call"),this.chargeInfosTimer&&this.shouldEnd&&(this.logger.info("zsc.sciu.1 stop"),clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null,this.shouldReportRoomTime&&this.report(),this.reporting=!1,this.logger.info("zsc.sciu.1 chargeinfos timer report ended"))},e.prototype.destroy=function(){this.logger.info("zsc.ds.0 call"),this.chargeInfosTimer&&(clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null),this.reporting=!1},e.prototype.getRoomIDList=function(){var e,t=[];return null===(e=this.stateCenter.rtm)||void 0===e||e.stateCenter.roomModulesList.filter((function(e){t.push(e.roomID)})),t},e.prototype.samplingChargeInfos=function(e){return this.streamCenter?this.streamCenter.getChargeInfos(e):this.roomChargeInfos},e}(),pg=function(){function e(e,t){var r=this;this.logger=e,this.stateCenter=t,this.beforeunloadListener=function(){var e;if(r.billingTimer.isReporting){var t=[];null===(e=r.stateCenter.rtm)||void 0===e||e.stateCenter.roomModulesList.forEach((function(e){t.push(r.billingTimer.samplingChargeInfos(e.roomID))})),r.saveChargeInfosByLocalStorage(t)}},this.bindListener(),this.bindDestroyListener()}return Object.defineProperty(e.prototype,"billingTimer",{get:function(){return this.stateCenter.streamCenter.billingTimer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KEY",{get:function(){var e;return"z_cginfos_cache_".concat(null===(e=this.stateCenter.rtm)||void 0===e?void 0:e.stateCenter.appid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"streamReport",{get:function(){var e;return null===(e=this.stateCenter.streamCenter)||void 0===e?void 0:e.streamReport},enumerable:!1,configurable:!0}),e.prototype.bindListener=function(){window.addEventListener("beforeunload",this.beforeunloadListener)},e.prototype.offListener=function(){window.removeEventListener("beforeunload",this.beforeunloadListener)},e.prototype.bindDestroyListener=function(){var e=this;this.stateCenter.listenerList._engineDestroy.push((function(){e.offListener()}))},e.prototype.saveChargeInfosByLocalStorage=function(e){return this.logger.info(cg.CHARGEINFO_SAVING_LOCALSTORAGE+" call"),localStorage&&localStorage.setItem(this.KEY,JSON.stringify(e))},e.prototype.getAndRemoveChargeInfosFromLocalStorage=function(){this.logger.info(cg.CHARGEINFO_GET_AND_REMOVE_LOCALSTORAGE+" call");try{var e=localStorage.getItem(this.KEY);return localStorage.removeItem(this.KEY),e}catch(e){return null}},e.prototype.report=function(e){var t;null===(t=this.streamReport)||void 0===t||t.uploadChargeInfos(e)},e.prototype.checkAndReport=function(){this.logger.info(cg.SAVED_CHARGEINFO_REPORT+" call");var e=this.getAndRemoveChargeInfosFromLocalStorage();if(null!=e){var t=JSON.parse(e);this.report(t),this.logger.info(cg.SAVED_CHARGEINFO_REPORT+" reported")}},e}(),Cg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ig=function(){return Ig=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Ig.apply(this,arguments)};!function(e){e[e.NotReUse=0]="NotReUse",e[e.TheSameReUse=1]="TheSameReUse",e[e.DiffReUse=2]="DiffReUse",e[e.AllReUse=3]="AllReUse"}(hg||(hg={}));var fg=St,Eg=Yt,Qg=function(e){function t(t,r,i,A,n,o){var s,a,c=this;return(c=e.call(this)||this).logger=t,c.stateCenter=r,c.dataReport=i,c.rtm=A,c.acMgr=n,c.geo=o,c.testEnvironment=!1,c.playModule=null,c.heartbeatTimer=null,c.heartbeatInterval=1e4,c.qualityTimerInterval=3e3,c.qualityUploadInterval=3e3,c.previewStreamList=[],c.signalList={},c.chargeInfos={},c.soundLevelDelegate=!1,c.soundLevelInterval=1e3,c.enableInBackground=!1,c.isPeer=!0,c.probeList={},c.isMicEnabled=!0,c.isDataChannelEnabled=!1,c.targetQuality=ue.MiddleMinQuality,c.gwNode="",c.playerList={},c.stopedPlayerList={},c.publisherList={},c.playSuccessCallBackList={},c.playErrorCallBackList={},c.waitPublishList=[],c.waitPlayList=[],c.autoSwitchProtocol=!0,c.udpFailNum=0,c.maxUdpFailNum=2,c.qualityInterval=3e3,c.switchScore=60,c.defaultBadQualityTime=3e4,c.l3BadQualityTime=1e4,c.switchDetectResultScore=60,c.cdnBadQualityScore=60,c.l3BadQualityScore=60,c.multiPlaySwitchRate=.8,c.protocolBadQualityCount=3,c.protocolBadQualityTime=12e3,c.protocolQualityCacheExpiredTime=18e4,c.fallbackInhibitionTime=18e4,c.probeExpiredTime=3e4,c.minProbeInterval=15e3,c.l3DetectedTimestamp=0,c.l3DetectResult=0,c.isL3Fallback=!1,c.cdnProtocolBadTimestamp=0,c.l3ProtocolBadTimestamp=0,c.lastHandleCDNBadTimestamp=0,c.lastHandleL3BadTimestamp=0,c.cdnProtocolBadTime=0,c.l3ProtocolBadTime=0,c.probeStartedNum=3,c.cachedGwNodesList={},c.cachedGwNodesMode=hg.TheSameReUse,c.txQuality=-1,c.rxQuality=-1,c.isRegisterQualityPush=!1,c.netTimer=null,c.useCopyMusic=!1,c.lazyEndSignalHandler=(a={},{isLazyEnd:function(){return!0},startLazyEndTimer:function(e,t){a[e]&&clearTimeout(a[e].timer),a[e]={},a[e].callback=t,a[e].timer=setTimeout((function(){t(),delete a[e]}),9e4)},clearLazyEndTimer:function(e){a[e]&&(clearTimeout(a[e].timer),delete a[e])},endAll:function(){for(var e in a)clearTimeout(a[e].timer),a[e].callback(),delete a[e]},hasEndTask:function(e){return!!a[e]},end:function(e){a[e]&&(clearTimeout(a[e].timer),a[e].callback(),delete a[e])}}),c.miniSdpWorker=null,c.tryCountConnectInterval=3e3,c.checkMessageTimeout=function(){for(var e in c.signalList)c.signalList[e].signal&&c.signalList[e].signal.checkMessageTimeout()},c.getAllInUseUrl=function(){var e=[];for(var t in c.signalList)e.push(t);return e},c.onDisconnectHandle=function(e,t){if(c.logger.info("zsc.od.0 call"),c.signalList[e]){for(var r=c.signalList[e],i=0;i<r.publishConnectedList.length;i++){var A=c.publisherList[r.publishConnectedList[i]];A&&A.publisher&&A.publisher.onDisconnect(t)}for(i=0;i<r.playConnectedList.length;i++){var n=c.playerList[r.playConnectedList[i]];n&&n.player&&n.player.onDisconnect(t)}delete c.signalList[e],c.stopSignalHeartbeat(),c.billingTimer.stopChargeInfosUpload(),c.stopSoundLevel()}},c.onReconnectHandle=function(e){var t;for(var r in c.logger.info("zsc.orh.0 call"),c.publisherList){var i=c.publisherList[r].publisher,A=c.publisherList[r].retryStreamHandler;i.state==y||i.stateNego!==ce.iceConnected?!A.isOverTime&&A.publishStateHandle(_e,r,St.error.kPublishNetworkBrokenError):i.state==m&&A.stopMaxTime()}for(var r in c.playerList){var n=c.playerList[r],o=n.player;A=n.retryStreamHandler;(null===(t=o.signal)||void 0===t?void 0:t.server)===e&&(o.state==R||n.playMode!==he.CDN&&o.stateNego!==L.iceConnected?!A.isOverTime&&A.playStateHandle(De,r,Yt.error.kPlayNetworkBrokenError):o.state==k&&A.stopMaxTime())}},c.eventHandler={visibilitychange:function(){var e=!document.hidden;!c.enableInBackground&&c.soundLevelDelegate&&(e?(c.enableSoundLevelProcessor(!0),c.activeSoundLevel(),"suspended"===c.ac.state&&c.ac.resume()):(c.soundLevelTimer&&clearTimeout(c.soundLevelTimer),c.soundLevelTimer=null,c.enableSoundLevelProcessor(!1)))}},c.rtm._on("_roomStateUpdate",(function(e,t){for(var r in c.playerList){var i=c.playerList[r],A=i.cdnPlayer;i.room.roomID==e&&A&&i.player.state===k&&i.playMode==he.CDN&&("CONNECTED"==t?(A.canRetry=!0,A.retry()):"DISCONNECTED"===t&&c.stopPlayingStream(r))}})),document.addEventListener("visibilitychange",c.eventHandler.visibilitychange),null===(s=c.rtm.netAgent)||void 0===s||s.on("clientInfo",(function(e){if(c.stateCenter.accessClientIp&&(null==e?void 0:e.clientIP)&&c.stateCenter.accessClientIp!==e.clientIP){for(var t in c.logger.warn(no+" client ip changed "+c.stateCenter.accessClientIp+" "+e.clientIP),c.publisherList){var r=c.publisherList[t].publisher;r.resetGwNodes(),c.clearCachedGwNodesList(r,!0)}for(var t in c.playerList){var i=c.playerList[t].player;i.resetGwNodes(),c.clearCachedGwNodesList(i,!1)}}c.stateCenter.accessClientIp=e.clientIP,"number"==typeof(null==e?void 0:e.timeOffset)&&(c.stateCenter.clientTimeOffset=null==e?void 0:e.timeOffset),c.updateTimeOffsetInterval(),c.stateCenter.accessClientIp=e.clientIP})),c.streamReport=new sg(t,r,c),c}return Cg(t,e),Object.defineProperty(t.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"billingTimer",{get:function(){return this._billingTimer||(this._billingTimer=new dg(this.logger,this.stateCenter)),this._billingTimer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chargeInfosSaver",{get:function(){return this._chargeInfosSaver||(this._chargeInfosSaver=new pg(this.logger,this.stateCenter)),this._chargeInfosSaver},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraPreviewStream",{get:function(){return this.previewStreamList.find((function(e){return"camera"===e.previewType}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"microphonePreviews",{get:function(){return this.previewStreamList.filter((function(e){return"camera"===e.previewType&&e.micTrack}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldReportNoPlaying",{get:function(){return this.billingTimer.shouldReportRoomTime},enumerable:!1,configurable:!0}),t.prototype.initMiniSdpWorker=function(e){var t;e&&lg.isSupported?this.miniSdpWorker=this.miniSdpWorker||new lg:(null===(t=this.miniSdpWorker)||void 0===t||t.destroy(),this.miniSdpWorker=null)},t.prototype.onSignalDisconnected=function(e){},t.prototype.setQualityMonitorCycle=function(e){var t=this;return this.logger.debug("zsc.qmc.0 timeInterval "+e),0==Object.keys(this.publisherList).length?this.qualityTimerInterval=e:Object.keys(this.publisherList).forEach((function(r){t.publisherList[r].publisher.qualityTimeInterval=e,t.publisherList[r].publisher.qualityHandler.setPublishQualityTimer()})),!0},t.prototype.setSessionInfo=function(e,t,r){this.logger.debug("zsc.ssi.0 called"),this.appid=e,this.userid=t,this.testEnvironment=r},t.prototype.onPlayStateUpdate=function(e,t,r,i){},t.prototype.onPlayQualityUpdate=function(e,t){},t.prototype.onPublishStateUpdate=function(e,t,r){},t.prototype.onPublishQualityUpdate=function(e,t){},t.prototype.onUpdateHeartBeatIntervalHandle=function(e){e!=this.heartbeatInterval&&(this.logger.debug("zsc.uhb.0 update "+e),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatInterval=e,this.startSignalHeartbeat())},t.prototype.setPublishStateStart=function(e,t,r,i,A,n){var o,s,a=this;this.logger.info("zsc.pss.0 call "+t);var c=this.checkPreview(r);if(!c)return this.logger.error("zsc.pss.0 stream not found"),!1;if(this.publisherList[t])return this.logger.error("zsc.pss.0 publisher already exist"),this.stateCenter.reporter.spanSetAttributes({key:fg.event,par:t},{error:fg.error.kIsPublishing.code,message:fg.error.kIsPublishing.message}),!1;var g=new nc(t,this.logger,this.dataReport,this.stateCenter.engineConfig.publishQualityInterval||this.qualityTimerInterval,this.qualityUploadInterval,this,this.stateCenter,c);g.state=C,g.isPeer=this.isPeer,g.reportSeq=this.stateCenter.reportSeqList.startPublish[t],g.isExternal=!0,g.cachedGwNodesMode=this.cachedGwNodesMode,g.parentSpanKey=wt.event;var u=null===(o=null==c?void 0:c.videoTrack)||void 0===o?void 0:o.label,l="",h="",d=r.getAudioTracks()[0]&&r.getAudioTracks()[0].label;try{l=null===(s=null==c?void 0:c.videoTrack)||void 0===s?void 0:s.getSettings().deviceId,h=r.getAudioTracks()[0]&&r.getAudioTracks()[0].getSettings().deviceId}catch(e){this.logger.warn("zsc.pss.0 get device id failed. error: "+e)}var p=new Kc(this.logger,this.stateCenter,this,!0);return this.publisherList[t]={seq:0,room:e,localStream:r,publisher:g,serverUrls:[],ttl:0,isCenterNode:!0,streamID:t,publishOption:i,cameraLabel:u||"",microLabel:d||"",cameraDeviceId:l||"",microDeviceId:h||"",deviceStateCount:0,retryStreamHandler:p,retryDispatchHandler:new Wc(this.logger,this.stateCenter,this.rtm,this),isDataChannel:n,streamSid:A},g.onPublishStateUpdate=function(e,r,i,A,n,o){var s=a.publisherList[r];s?s.retryStreamHandler.publishStateHandle(e,s.streamID,i,A,n,o):a.logger.error("zsc.psuh.0 cannot find publish "+t)},g.onPublishQualityUpdate=function(e,r){var i=a.publisherList[e];i?(a.stateCenter.deviceStateOut&&0===r.audio.audioBitrate?(i.deviceStateCount++,i.deviceStateCount>=2&&(i.deviceStateCount=0,a.stateCenter.deviceStateOut=!1,a.logger.warn("zsc.pss.0 publish audio error by device"))):i.deviceStateCount=0,a.onPublishQualityUpdate(i.streamID,r)):a.logger.error("zsc.psuh.0 cannot find publish "+t)},!0},t.prototype.startPublishingStream=function(e,t){void 0===t&&(t=!1),this.logger.info("zsc.sps.0 call");var r=this.publisherList[e];if(!r)return this.logger.error("zsc.sps.0 publisher don't exist"),!1;if(!t){if(this.stateCenter.reporter.spanSetAttributes({key:fg.event,par:e},{urls:fg.urls(r.serverUrls),is_center:fg.is_center(r.isCenterNode)}),!r.serverUrls||0===r.serverUrls.length)return r.retryStreamHandler.publishStateHandle(_e,e,He),this.logger.info("zsc.sps.0 server don't have signal url"),!0;var i=r.serverUrls.indexOf(this.server);-1!==i&&(r.serverUrls.splice(i,1),r.serverUrls.unshift(this.server))}var A=r.retryStreamHandler;return A.invalid(),A.init(this.stateCenter.streamRetryTime),A.initStream(e,r.serverUrls),A.startMaxTime(),A.activePublish(0)},t.prototype.updateWaitingList=function(e,t,r,i,A){var n={streamID:r,success:i,error:A};t?e.publishWaitingList.push(n):e.playWaitingList.push(n)},t.prototype.publishStream=function(e){var t=this;this.logger.info("zsc.ps.0 ".concat(e," call"));var r=this.publisherList[e].publisher;if(r)if(this.logger.info("zsc.ps.0 ".concat(e," state ").concat(r.state)),r.state<=m&&r.state>=I)this.logger.warn("zsc.ps.0 ".concat(e," publisher is progress"));else{var i=null,A=null,n=this.publisherList[e].publishOption,o=this.checkPreview(this.publisherList[e].localStream);o?(A=o.videoInfo,(i=o.localStream)&&i.getTracks().forEach((function(e){YA(e,t.logger,"zsc.ps.0")})),this.stateCenter.reporter.spanSetAttributes({key:fg.event,par:e},{cap_w:fg.cap_w(o.videoInfo.width),cap_h:fg.cap_h(o.videoInfo.height),w:fg.w(o.videoInfo.width),h:fg.h(o.videoInfo.height),video_en_fps:fg.video_en_fps(o.videoInfo.frameRate),video_en_bps:fg.video_en_bps(1e3*o.videoInfo.bitRate)}),i?(this.logger.info("zsc.ps.0 call success"),this.setStreamGwNode(r,!0),r.startPublish(e,i,A,o.mediaStreamConfig,n)):this.logger.error("zsc.ps.0 no localStream found")):this.logger.error("zsc.ps.0 no preview found")}else this.logger.info("zsc.ps.0 publisher don't exist")},t.prototype.connectPublishServer=function(e,t){var r=this,i=this.publisherList[e];if(!i)return this.logger.error("zsc.cps.0 publisher don't exist"),!1;var A=Date.now();return this.stateCenter.reporter.createSpan(Ie.H,{key:i.publisher.parentSpanKey,par:e},{key:ii,par:e},ii,!0),this.connectWithReuseSignalServer(e,!0,t,(function(e,t,i){var n=r.publisherList[e];if(n){var o=n.publisher;if(o){var s=Date.now()-A;r.stateCenter.reporter.spanSetAttributes({key:o.parentSpanKey,par:e},{dispatch_consume:Kt.dispatch_consume(s)}),o.reportSpan.setAttributes({server_url:bt.server_url(i)}),r.stateCenter.reporter.spanSetAttributes({key:fg.event,par:e},{server_url:fg.server_url(i)}),r.stateCenter.reporter.spanEnd({key:ii,par:e},{result:0,server_url:Ai(i)}),r.logger.info("zsc.cps.0 update token success"),o.signal=t.signal,r.server=i,r.stateCenter.useNetAgent||r.startPublishingTask(e)}else r.logger.info("zsc.cps.1 check publisher don't exist")}else r.logger.info("zsc.cps.0 after connect publisher don't exist")}),(function(e,t){r.logger.error("zsc.cps.0 "+e+" connect fail "+JSON.stringify(t));var i=r.publisherList[e];if(i)if(i.publisher){var A,n=!1;t&&t.code===Ge.code?(A=Ig({},Ge),n=!0):((A=Ig({},Ye)).message=A.message+" "+t,1008===t&&(A=qe,n=!0),20010===t&&(n=!0,A=JSON.parse(JSON.stringify(Ve)))),r.stateCenter.reporter.spanEnd({key:ii,par:e},{result:t,error:A.code,message:A.message}),i.retryStreamHandler.publishStateHandle(_e,e,A,n)}else r.logger.info("zsc.cps.1 check publisher don't exist");else r.logger.info("zsc.cps.0 after connect publisher don't exist")}),(function(t,i){r.logger.info("zsc.cps.0 "+e+" connect complete");var A=r.publisherList[e];if(A){var n=A.publisher;n?(n.signal=i.signal,r.stateCenter.useNetAgent&&r.startPublishingTask(t)):r.logger.info("zsc.cps.1 check publisher don't exist")}else r.logger.info("zsc.cps.0 after connect publisher don't exist")})),!0},t.prototype.startPublishingTask=function(e){this.logger.info("zsc.spt.0 call "+e),this.publishStream(e),this.billingTimer.startChargeInfosUpload(),this.activeSoundLevel()},t.prototype.startPlayingTask=function(e,t){this.logger.info("zsc.spt.1 call "+e),this.playStream(e,t),this.billingTimer.startChargeInfosUpload(),this.activeSoundLevel()},t.prototype.stopPublishingStream=function(e,t){this.logger.info("zsc.sps.0.1 call "+e+" "+JSON.stringify(t));var r=this.publisherList[e];if(r){var i=r.retryStreamHandler;for(var A in i&&(i.stopMaxTime(),i.invalid()),this.signalList)this.signalList[A].publishWaitingList=this.signalList[A].publishWaitingList.filter((function(t){return t.streamID!==e}));delete this.publisherList[e],this.resetNetworkData(),r.publisher&&(r.publisher.stopPublish(t),delete r.publisher),this.removeStreamFromSignal(!0,e),this.stopSignalHeartbeat(),this.billingTimer.stopChargeInfosUpload(),this.stopSoundLevel(),this.logger.info("zsc.sps.0.1 call success")}else this.logger.warn("zsc.sps.0.1 publisher don't exist")},t.prototype.getSignalNodes=function(){var e;if(this.stateCenter.customUrl&&0!=this.stateCenter.customUrl.length)this.logger.info("zsc.gsn customUrl "+JSON.stringify(this.stateCenter.customUrl)),e=this.stateCenter.customUrl;else{var t=this.stateCenter.settingConfig.getSetting("signal_nodes",!0);t&&t instanceof Array&&t.length>0&&(e=t,this.logger.info("zsc.gsn setting config signal_nodes "+JSON.stringify(t)))}return e},t.prototype.isUseAgentByServerURL=function(e){return["unified_rtc","unified_l3"].includes(e)},t.prototype.createStreamSignal=function(e,t){var r=this.isUseAgentByServerURL(e),i=new _c(this.logger,this.stateCenter,this.rtm.netAgent,r);if(this.stateCenter.clientIP=this.rtm.netAgent.clientIP,i.setSessionInfo(this.appid,this.userid),r||(i.onUpdateHeartBeatInterval=this.onUpdateHeartBeatIntervalHandle.bind(this)),i.onDisconnect=this.onDisconnectHandle,i.onReConnect=this.onReconnectHandle,t){var A=this.publisherList[t]||this.playerList[t]||null,n=null==A?void 0:A.retryStreamHandler;if(this.stateCenter.streamConnectTime)i.tryConnectInterval=this.stateCenter.streamConnectTime;else if(n&&n.retryActiveCount){var s=n.retryActiveCount*(n.retryActiveCount-1)/2+2;i.tryConnectInterval=1e3*(s=s>12?12:s)}}else i.tryConnectInterval=1e3*this.stateCenter.defaultConnTime;return this.signalList[e]={signal:i,state:o.connecting,publishWaitingList:[],playWaitingList:[],publishConnectedList:[],playConnectedList:[],tokenInfo:null},i},t.prototype.onSignalConnSuccess=function(e,t,r){this.logger.info("zsc.crss.0 connected success "+t),e.state=o.connected,e.tokenInfo=r,e.publishWaitingList.forEach((function(r){r.success&&r.success(r.streamID,e,t),e&&e.publishConnectedList.push(r.streamID)})),e.playWaitingList.forEach((function(r){r.success&&r.success(r.streamID,e,t),e&&e.playConnectedList.push(r.streamID)})),e.publishWaitingList=[],e.playWaitingList=[],this.stateCenter.useNetAgent||null!=this.heartbeatTimer||this.startSignalHeartbeat()},t.prototype.onSignalConnFailed=function(e,t,r,i){this.logger.info("zsc.crss.0 connect failed "+r);for(var A=e.publishWaitingList,n=A.length-1;n>=0;n--){(s=A[n]).error&&s.error(s.streamID,t)}var o=e.playWaitingList;for(n=o.length-1;n>=0;n--){var s;(s=o[n]).error&&s.error(s.streamID,t)}delete this.signalList[i]},t.prototype.connectWithReuseSignalServer=function(e,t,r,i,A,n){var s=this;this.logger.info("zsc.crss.0 begin "+r),this.lazyEndSignalHandler.isLazyEnd()&&this.lazyEndSignalHandler.clearLazyEndTimer(r);var a=null;if(this.signalList[r])(a=this.signalList[r]).state==o.connected?(this.logger.info("zsc.crss.0 already connected "+r+" streamId: "+e),t?a.publishConnectedList.push(e):a.playConnectedList.push(e),n(e,a),i(e,a,r)):a.state==o.connecting&&(this.logger.info("zsc.crss.0 signal is connecting "+r+" streamId: "+e),n(e,a),this.updateWaitingList(a,t,e,i,A));else{this.logger.info("zsc.crss.0 new signal "+r+", streamId: "+e);var c=this.createStreamSignal(r,e);this.updateWaitingList(this.signalList[r],t,e,i,A);var g=this.publisherList[e]||this.playerList[e]||null,u=null==g?void 0:g.room.token,l=null==g?void 0:g.room.roomID;this.logger.info("zsc.crss.0 "+u),c.connectServer(l||this.stateCenter.roomList[0].roomID,u||this.stateCenter.roomList[0].token,r,(function(e,t,i){a=s.signalList[r],0!=e?s.onSignalConnFailed(a,e,t,r):(s.onSignalConnSuccess(a,t,i),s.billingTimer.startChargeInfosUpload(),s.activeSoundLevel())})),n(e,this.signalList[r])}},t.prototype.connectStreamSignal=function(e,t){var r=this;this.logger.info("zsc.cnss.0 call");var i,A=this.getSignalNodes();if(A?i=A[0]:this.stateCenter.useNetAgent&&(i="unified_rtc"),i&&this.isUseAgentByServerURL(i)&&!this.signalList[i]){this.logger.info("zsc.cnss.0 create signal");var n=this.createStreamSignal(i),o=t||this.rtm.getToken(e);n.connectServer(e||this.stateCenter.roomList[0].roomID,o||this.stateCenter.roomList[0].token,i,(function(e,t,A){var n=r.signalList[i];0!=e?(r.logger.info("zsc.cnss.0 signal conn fail"),r.onSignalConnFailed(n,e,t,i)):(r.logger.info("zsc.cnss.0 signal conn success"),r.onSignalConnSuccess(n,t,A),n&&0==n.publishConnectedList.length&&0==n.playConnectedList.length&&0==n.publishWaitingList.length&&0==n.playWaitingList.length&&(r.logger.info("zsc.cnss.0 no publishing and playing stream"),r.disconnectSignalURL(i,!0)))}))}this.logger.info("zsc.cnss.0 call success")},t.prototype.disconnectStreamSignal=function(){var e,t=this,r=this.getSignalNodes();r?e=r[0]:this.stateCenter.useNetAgent&&(e="unified_rtc"),!t.rtm.stateCenter.roomModulesList.some((function(e){return"DISCONNECTED"!==e.roomState}))&&this.disconnectSignalURL(e,!1)},t.prototype.disconnectSignalURL=function(e,t){var r=this;this.logger.info("zsc.dcsu.0 "+e+" "+t+" call");var i=this.signalList[e];if(null==i?void 0:i.signal){var A=i.signal;t&&this.lazyEndSignalHandler.isLazyEnd()?(this.logger.info("zsc.dcsu.0 lazy end"),this.lazyEndSignalHandler.startLazyEndTimer(e,(function(){r.logger.info("zsc.dcsu.0 lazy end start"),A&&A.disconnectServer(),r.stopSignalHeartbeat(),delete r.signalList[e],r.logger.info("zsc.dcsu.0 lazy end signal")}))):this.lazyEndSignalHandler.isLazyEnd()&&this.lazyEndSignalHandler.hasEndTask(e)?(this.logger.info("zsc.dcsu.0 has task to end"),this.lazyEndSignalHandler.end(e)):(this.logger.info("zsc.dcsu.0 direct disconnect"),A&&A.disconnectServer(),delete this.signalList[e]),this.logger.info("zsc.dcsu.0 call success")}else this.logger.info("zsc.dcsu.0 "+e+"  already disconnect.")},t.prototype.reConnectSignals=function(){var e=this;this.logger.info("zsc.rcs.0 call");var t=function(t){var i=r.signalList[t],A=i.signal;A&&i.state===o.connecting&&A.connectServer(A.roomID||r.stateCenter.roomList[0].roomID,A.token||r.stateCenter.roomList[0].token,t,(function(r,A,n){0!=r?e.onSignalConnFailed(i,r,A,t):e.onSignalConnSuccess(i,A,n)}))},r=this;for(var i in this.signalList)t(i)},t.prototype.setPlayStateStart=function(e,t,r,i){var A=this;if(this.logger.info("zsc.pss.1 call "+e),this.rtm.isDisConnect()&&this.stateCenter.networkState==P.offline)return this.logger.error("zsc.pss.1 network offline"),Eg.error.kPlayNetworkBrokenError;if(this.playerList[e])return this.logger.error("zsc.pss.1 player already exist"),this.stateCenter.reporter.spanEnd({key:Eg.event,par:e},{error:Eg.error.kIsPlaying.code,message:Eg.error.kIsPlaying.message}),Eg.error.kPlayRepeatedPullError;var n=this.getPlayRoom(e)||this.stateCenter.roomList[0];if(!n)return this.logger.error("zsc.pss.1 not login room"),this.stateCenter.reporter.spanEnd({key:Eg.event,par:e},{error:Eg.error.kPlayNoLoginError.code,message:Eg.error.kPlayNoLoginError.message}),Eg.error.kPlayNoLoginError;var o=new xc(e,this.logger,null,this.dataReport,this.stateCenter.engineConfig.playQualityInterval||this.qualityTimerInterval,this.qualityUploadInterval,this,this.ac,this.stateCenter);!n.streamList.find((function(t){return t.stream_id===e}))&&(o.streamInRoom=!1),t&&[0,1,2,3].includes(t.resourceMode)&&(o.resourceMode=t.resourceMode),o.state=v,o.isPeer=this.isPeer,o.reportSeq=this.stateCenter.reportSeqList.startPlay[e],o.isExternal=!0,o.cachedGwNodesMode=this.cachedGwNodesMode,o.parentSpanKey=Kt.event,o.beginTime=(new Date).getTime();var s=new Kc(this.logger,this.stateCenter,this,!1),a=he.CDN,c="cdn",g=(new Date).getTime();for(var u in this.playerList)if(this.playerList[u].playMode==he.L3){a=he.L3,c="l3";break}return this.cdnProtocolBadTimestamp&&this.cdnProtocolBadTimestamp+this.protocolQualityCacheExpiredTime>g&&0==this.l3ProtocolBadTimestamp&&(a=he.L3,c="l3"),this.stateCenter.reporter.spanSetAttributes({key:Eg.event,par:e},{resource_mode:Eg.resource_mode(o.resourceMode),src:Eg.src(o.resourceMode===de.DG?c:jA(o.resourceMode)),room_id:Eg.room_id(null==n?void 0:n.roomID),room_sid_string:Eg.room_sid_string(null==n?void 0:n.roomSessionID),is_multi:Eg.is_multi(this.stateCenter.isMultiRoom)}),this.playerList[e]={seq:0,room:n,player:o,signal:null,serverUrls:[],ttl:0,isCenterNode:!0,streamID:e,playOption:t,retryStreamHandler:s,retryDispatchHandler:new Wc(this.logger,this.stateCenter,this.rtm,this),isDataChannel:i,cdnPlayer:null==t?void 0:t.CDNPlayer,playMode:a,streamSid:r},o.onPlayStateUpdate=function(e,t,r,i,n,o){var a=A.playerList[t];a?s.playStateHandle(e,a.streamID,r,i,n,o):A.logger.error("zsc.pss.1 cannot find play "+t)},o.onPlayQualityUpdate=function(e,t){var r=A.playerList[e];r?A.onPlayQualityUpdate(r.streamID,t):A.logger.error("zsc.pss.1 cannot find play "+e)},o.onRemoteCameraStatusUpdate=function(e,t,r){var i=A.playerList[e];i?A.onRemoteCameraStatusUpdate(i.streamID,t,r):A.logger.error("zsc.pss.1 cannot find play "+e)},o.onRemoteMicStatusUpdate=function(e,t,r){var i=A.playerList[e];i?A.onRemoteMicStatusUpdate(i.streamID,t,r):A.logger.error("zsc.pss.1 cannot find play "+e)},!0},t.prototype.onRemoteMicStatusUpdate=function(e,t,r){},t.prototype.onRemoteCameraStatusUpdate=function(e,t,r){},t.prototype.startPlayingStream=function(e,t,r,i){var A;void 0===t&&(t=!1),this.logger.info("zsc.sps.1 start play called");var n=this.playerList[e];if((null===(A=n.playOption)||void 0===A?void 0:A.CDNVideo)&&n.player.firstPlay){var o=n.playOption.CDNVideo;n.player._CDNPlayerClone=o.cloneNode(),n.player.initPoster=(null==o?void 0:o.getAttribute("poster"))||"",n.player.initVideoStyle=(null==o?void 0:o.getAttribute("style"))||"",n.player.firstPlay=!1}if(i)return this.playCDN(e,this.playerList[e].playOption,this.playSuccessCallBackList[e],this.playErrorCallBackList[e]),!0;if(!n)return this.logger.error("zsc.sps.1 player don't exist"),!1;var s=n.player;-1==e.indexOf("zegoprobe-")&&n.playMode==he.L3&&this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:e},{key:Wr,par:e},Wr).setAttributes({tryidx:Zr(s.tryidx),biz_product:Xr(n.playOption.resourceMode==de.DG?1:0)});if(this.stateCenter.reporter.spanSetAttributes({key:Eg.event,par:e},{urls:Eg.urls(n.serverUrls),is_center:Eg.is_center(n.isCenterNode)}),!t){if(0==n.serverUrls.length)return n.retryStreamHandler.playStateHandle(De,e,He),this.logger.info("zsc.sps.1 server don't have signal url"),!1;var a=n.serverUrls.indexOf(this.server);-1!==a&&(n.serverUrls.splice(a,1),n.serverUrls.unshift(this.server))}var c=n.retryStreamHandler;return c.invalid(),c.init(this.stateCenter.streamRetryTime),c.initStream(e,n.serverUrls),c.startMaxTime(),c.activePull(0,r)},t.prototype.connectPlayServer=function(e,t,r){var i=this,A=this.playerList[e];if(!A)return this.logger.error("zsc.cps.1 player don't exist"),!1;this.stateCenter.reporter.createSpan(Ie.H,{key:A.player.parentSpanKey,par:e},{key:Oi,par:e},Oi,!0);var n=Date.now();return this.connectWithReuseSignalServer(e,!1,r,(function(e,r,A){var o=i.playerList[e];if(o){var s=o.player;if(s){s.reportSpan.setAttributes({server_url:jt.server_url(A)});var a=Date.now()-n;i.stateCenter.reporter.spanSetAttributes({key:s.parentSpanKey,par:e},{dispatch_consume:Kt.dispatch_consume(a)}),i.stateCenter.reporter.spanSetAttributes({key:Eg.event,par:e},{server_url:Eg.server_url(A)}),i.stateCenter.reporter.spanEnd({key:Oi,par:e},{result:0,server_url:A}),i.logger.info("zsc.cps.1 update token success"),s.signal=r.signal,i.server=A,i.stateCenter.useNetAgent||i.startPlayingTask(e,t)}else i.logger.error("zsc.cps.1 checkplayer don't exist")}else i.logger.error("zsc.cps.1 after connect player don't exist")}),(function(e,t){var A=i.playerList[e];if(A){var n=Ig({},Ye);n.message=n.message+" "+t,1008===t&&(n=qe),i.stateCenter.reporter.spanEnd({key:Oi,par:e},{result:t,error:n.code,message:n.message});var o=1008==t;20010===t&&(o=!0,n="unified_l3"===r?et:Xe),A.retryStreamHandler.playStateHandle(De,e,n,o)}else i.logger.error("zsc.cps.1 after connect player don't exist")}),(function(r,A){var n=i.playerList[r];if(n){var o=n.player;o?(o.signal=A.signal,i.stateCenter.useNetAgent&&i.startPlayingTask(e,t)):i.logger.error("zsc.cps.1 checkplayer don't exist")}else i.logger.error("zsc.cps.1 after connect player don't exist")})),!0},t.prototype.playStream=function(e,t){this.logger.info("zsc.ps.1 ".concat(e," call"));var r=this.playerList[e].player;r?(this.logger.info("zsc.ps.1 ".concat(e," state ").concat(r.state)),r.state<=k&&r.state>=_?this.logger.warn("zsc.ps.1 ".concat(e," player is progress")):(this.logger.info("zsc.ps.1 call success"),this.setStreamGwNode(r,!1),r.startPlay(e,t,this.playerList[e].playOption))):this.logger.warn("zsc.ps.1 player don't exist")},t.prototype.stopSignalHeartbeat=function(){this.logger.debug("zsc.ssh.1 call");var e=0;for(var t in this.signalList)e+=1;this.heartbeatTimer&&0==e&&(this.logger.info("zsc.ssh.1 stop"),clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)},t.prototype.removeStreamFromSignal=function(e,t){var r=this;this.logger.info("zsc.rsfs.0 call "+e+" "+t);var i=[],A=function(A){var o=n.signalList[A];if(e){for(var s=0;s<o.publishConnectedList.length;s++)if(o.publishConnectedList[s]===t){n.logger.debug("zsc.rsfs.0 found from publish"),o.publishConnectedList.splice(s,1);break}for(s=0;s<o.publishWaitingList.length;s++)if(o.publishWaitingList[s].streamID===t){n.logger.debug("zsc.rsfs.0 found from publish"),o.publishWaitingList.splice(s,1);break}}else{for(var a=0;a<o.playConnectedList.length;a++)if(o.playConnectedList[a]===t){n.logger.debug("zsc.rsfs.0 found from play"),o.playConnectedList.splice(a,1);break}for(a=0;a<o.playWaitingList.length;a++)if(o.playWaitingList[a].streamID===t){n.logger.debug("zsc.rsfs.0 found from play"),o.playWaitingList.splice(a,1);break}}var c=function(){for(var e=0;e<i.length;e++)delete r.signalList[i[e]],r.server==i[e]&&(r.server="")};0==o.publishConnectedList.length&&0==o.playConnectedList.length&&0==o.publishWaitingList.length&&0==o.playWaitingList.length&&(n.lazyEndSignalHandler.isLazyEnd()?(n.logger.info("zsc.rsfs.0 lazy end "),n.lazyEndSignalHandler.startLazyEndTimer(A,(function(){r.logger.info("zsc.rsfs.0 lazy end start"),o.signal.disconnectServer(),i.push(A),c(),r.stopSignalHeartbeat()}))):(o.signal.disconnectServer(),i.push(A))),c()},n=this;for(var o in this.signalList)A(o)},t.prototype.stopPlayingStream=function(e,t,r){var i=this.playerList[e];if(i){var A=i.retryStreamHandler,n=i.cdnPlayer;for(var o in A&&(A.stopMaxTime(),A.invalid()),this.signalList)this.signalList[o].playWaitingList=this.signalList[o].playWaitingList.filter((function(t){return t.streamID!==e}));if(i.playMode==he.CDN&&n&&(this.stateCenter.reporter.spanEnd({key:Kr,par:e}),n.stop()),-1==e.indexOf("zegoprobe-")&&i.playMode==he.L3&&this.stateCenter.reporter.spanEnd({key:Wr,par:e}),i.player.playStream&&oa.sourceDisConnect(i.player.playStream),delete this.playerList[e],this.resetNetworkData(),i.player){i.player.stopPlay(t,r);var s=i.player.rtcViewer;s&&s.stop()}this.removeStreamFromSignal(!1,e),this.stopSignalHeartbeat(),this.billingTimer.stopChargeInfosUpload(),this.stopSoundLevel(),delete this.playSuccessCallBackList[e],delete this.playErrorCallBackList[e],this.logger.debug("zsc.sps.1.1 call success")}else this.logger.info("zsc.sps.1.1 player don't exist")},t.prototype.reset=function(e,t,r){var i,A,n,o;for(var s in this.logger.info("zsc.rs call "+e+" "+t+" "+r),this.publisherList)if(this.publisherList[s].room.roomID==e||!e){0===t?this.publisherList[s].publisher.stopReason="Logout":1002031==t&&(this.publisherList[s].publisher.stopReason="ReachMaxAVRetryTime");var a=1002031==t?fg.error.kPublishRetryTimeoutError:{code:t||0,message:""};null===(A=null===(i=this.publisherList[s].room)||void 0===i?void 0:i.streamHandler)||void 0===A||A.onPublishStateUpdate(_e,s,a),r&&this.stateCenter.waitPublishStreamList[s]?this.stateCenter.waitPublishStreamList[s].retryStart=!0:r||delete this.stateCenter.waitPublishStreamList[s],this.stopPublishingStream(s,a),delete this.stateCenter.publishStreamList[s]}var c=function(i){g.playerList[i].player.stopReason=0===t?"Logout":"ReachMaxAVRetryTime";var A=g.playerList[i].room;if(r&&(null===(o=null===(n=g.playerList[i])||void 0===n?void 0:n.player)||void 0===o?void 0:o.state)<=k){var s=g.playerList[i],a=null==s?void 0:s.player;g.stopedPlayerList[i]={streamID:i,playStream:a.playStream,roomID:s.room.roomID,playOption:s.playOption,state:a.state,sucCallBack:(null==a?void 0:a.state)!==k?g.playSuccessCallBackList[i]:void 0,errCallBack:(null==a?void 0:a.state)!==k?g.playErrorCallBackList[i]:void 0}}if(A.roomID!=e||!A.streamList.find((function(e){return e.stream_id==i}))&&1!=g.stateCenter.roomList.length){if(A.roomID==e&&g.stateCenter.roomList.length>1){var c=g.stateCenter.roomList.find((function(t){return t.roomID!==e}));c?g.playerList[i].room=c:(g.stopPlayingStream(i),g.onPlayStateUpdate(De,i,Eg.error.kPlayRetryTimeoutError))}}else{var u=1002031==t?Eg.error.kPlayRetryTimeoutError:{code:t||0,message:""};g.onPlayStateUpdate(De,i,u),g.stopPlayingStream(i,u)}},g=this;for(var u in this.playerList)c(u);0==Object.keys(this.publisherList).length&&0==Object.keys(this.playerList).length&&(this.probeList={}),this.waitPublishList=[],this.waitPlayList=[],this.l3DetectedTimestamp=0,this.l3DetectResult=0,this.isL3Fallback=!1,this.cdnProtocolBadTimestamp=0,this.l3ProtocolBadTimestamp=0,this.lastHandleCDNBadTimestamp=0,this.lastHandleL3BadTimestamp=0,this.cdnProtocolBadTime=0,this.l3ProtocolBadTime=0,this.streamReport.resetReport(),this.logger.info("zsc.rs call success")},t.prototype.startSignalHeartbeat=function(){var e=this;this.logger.debug("zsc.ssh.0 call"),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatTimer=setTimeout((function(){e.checkSignalHeartbeat()}),this.heartbeatInterval)},t.prototype.checkSignalHeartbeat=function(){for(var e in this.logger.debug("zsc.csh.0 call"),this.signalList)this.signalList[e].signal&&this.signalList[e].signal.sendHeartbeat();this.heartbeatTimer&&this.startSignalHeartbeat()},t.prototype.getChargeInfos=function(e){this.logger.debug("zsc.cci.0 call"),this.chargeInfos[e]||(this.chargeInfos[e]={roomid:e,timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]});var t=this.chargeInfos[e],r={is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[]};for(var i in this.shouldReportNoPlaying&&(r.no_playing=1),t.timestamp_begin=(new Date).getTime(),this.publisherList)if(this.publisherList[i].room.roomID===e){this.publisherList[i].publisher.state===m&&(r.is_publishing=1);break}r.play_max_audio_bitrate=0;var A=function(t){if(n.playerList[t].room.roomID!==e)return"continue";var i={width:n.playerList[t].player.qualityHandler.lastPlayStats.frameWidth,height:n.playerList[t].player.qualityHandler.lastPlayStats.frameHeight};if(!i.height||!i.width){var A=n.playerList[t].player.playStream;i=A&&0!==A.getVideoTracks().length?A.getVideoTracks()[0].getSettings():void 0}var o={video_width:i&&i.width?i.width:0,video_height:i&&i.height?i.height:0,count:1};if(!r.play_stream_resolution_infos.find((function(e){return e.video_width==o.video_width&&e.video_height==o.video_height&&(e.count++,!0)}))&&r.play_stream_resolution_infos.push(o),0==o.video_width&&0==o.video_height){var s=1e3*n.playerList[t].player.qualityHandler.lastPlayStats.audioBitrate;s>r.play_max_audio_bitrate&&(r.play_max_audio_bitrate=Math.round(s))}},n=this;for(var o in this.playerList)A(o);return 0!==r.play_stream_resolution_infos.length&&this.shouldReportNoPlaying&&(r.no_playing=0),0!==t.timestamp_end?(t.timestamp_diff=t.timestamp_begin-t.timestamp_end,t.timestamp_diff_flag=1):(t.timestamp_diff=0,t.timestamp_diff_flag=0),t.timestamp_end=(new Date).getTime(),t.infos=[r],t},t.prototype.getPublisher=function(e){var t=null;if("string"==typeof e&&this.publisherList[e]&&this.publisherList[e].publisher)t=this.publisherList[e].publisher;else if(e instanceof MediaStream){var r=this.checkPublish(e);r&&(t=null==r?void 0:r.publisher)}return t},t.prototype.getPreviewer=function(e){var t,r=null;return"string"==typeof e&&this.publisherList[e]&&this.publisherList[e].publisher?r=null===(t=this.publisherList[e].publisher)||void 0===t?void 0:t.previewer:e instanceof MediaStream&&(r=this.checkPreview(e)),r},t.prototype.checkPlayer=function(e){var t=Object.values(this.playerList).find((function(t){return t.player.playStream===e}));return(null==t?void 0:t.player)||null},t.prototype.checkPreview=function(e){for(var t=0;t<this.previewStreamList.length;t++)if(this.previewStreamList[t].localStream===e||e&&!(e instanceof MediaStream)&&e.zegoStream&&this.previewStreamList[t].zegoCaptureStream==e.zegoStream)return this.previewStreamList[t];return null},t.prototype.checkPublish=function(e){for(var t in this.publisherList)if(this.publisherList[t].localStream==e)return this.publisherList[t];return null},t.prototype.getPublishList=function(e,t){var r;void 0===t&&(t=!0);var i=[],A=this.checkPreview(e);for(var n in t&&(null==A?void 0:A.zegoCaptureStream)&&(null===(r=A.zegoCaptureStream)||void 0===r?void 0:r.stream)&&(e=A.zegoCaptureStream.stream),this.publisherList)this.publisherList[n].localStream==e&&i.push(this.publisherList[n]);return i},t.prototype.removePreview=function(e){for(var t=0;t<this.previewStreamList.length;t++)if(this.previewStreamList[t]===e){this.previewStreamList.splice(t,1);break}},t.prototype.onPlayerStreamUrlUpdate=function(e,t,r){},t.prototype.getScreenConstrains=function(e){var t={};if("boolean"==typeof e&&e)t={audio:!1,video:{frameRate:d.frameRate},bitRate:this.stateCenter.settingConfig.getSetting("screen_video_bitrate")||d.bitRate};else if("object"==typeof e){switch(e.videoQuality){case 1:t={video:{frameRate:h.frameRate},bitRate:h.bitRate};break;case 3:t={video:{frameRate:p.frameRate},bitRate:p.bitRate};break;case 4:t={video:{frameRate:e.frameRate,width:e.width,height:e.height},bitRate:e.bitRate};break;case 2:t={video:{frameRate:d.frameRate},bitRate:d.bitRate};break;default:t={video:{frameRate:d.frameRate},bitRate:this.stateCenter.settingConfig.getSetting("screen_video_bitrate")||d.bitRate}}t.audio="boolean"==typeof e.audio&&e.audio,t=Ig(Ig(Ig({},e),t),{width:void 0,height:void 0,frameRate:void 0})}return t},t.prototype.createScreenPreviewer=function(e,t){var r=new ga(this.logger,this.stateCenter,this,"screen"),i=e.getVideoTracks()[0].getSettings();return this.previewStreamList.push(r),r.mediaStreamConfig=t,r.localStream=e,r.initMediaTrack(e),r.videoInfo={width:i.width,height:i.height,frameRate:i.frameRate||15,bitRate:(null==t?void 0:t.bitRate)||1e3,startBitrate:(null==t?void 0:t.startBitrate)||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:null==t?void 0:t.minBitrate,keyFrameInterval:null==t?void 0:t.keyFrameInterval},r.previewSuc=!0,r.previewType="screen",r.videoPreviewType="screen",r.audioPreviewType="screen",(null==t?void 0:t.videoOptimizationMode)&&this.setVideoTrackContentHint(e,null==t?void 0:t.videoOptimizationMode),r},t.prototype.createCompositingPreviewer=function(e,t,r){var i=new ga(this.logger,this.stateCenter,this,"compositing"),A=e.getVideoTracks()[0].getSettings();return this.previewStreamList.push(i),i.mediaStreamConfig=t,e.getAudioTracks().length>0&&(i.audioTrack=e.getAudioTracks()[0]),i.localStream=e,i.videoInfo={width:(null==t?void 0:t.width)||A.width,height:(null==t?void 0:t.height)||A.height,frameRate:(null==t?void 0:t.frameRate)||A.frameRate||15,bitRate:null==t?void 0:t.bitrate},i.previewSuc=!0,i.inputStreamOptions=r,i},t.prototype.setSoundLevelDelegate=function(e,t,r){void 0===r&&(r=!1),this.logger.info("zsc.ssd.0 call"),this.soundLevelDelegate=e,this.enableInBackground=r,t&&this.setSoundLevelInterval(t),this.enableSoundLevelProcessor(e),e?(this.logger.info("zsc.ssd.0 start getting sound"),this.activeSoundLevel()):(this.logger.info("zsc.ssd.0 stop getting sound"),this.soundLevelTimer&&clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null,this.soundLevelInterval=1e3)},t.prototype.setSoundLevelInterval=function(e){var t,r;if(e&&this.soundLevelDelegate){for(var i in this.soundLevelInterval=e,this.previewStreamList){null===(t=this.previewStreamList[i].soundMeterWorklet)||void 0===t||t.setInterval(e)}for(var i in this.playerList){null===(r=this.playerList[i].player.soundMeterWorklet)||void 0===r||r.setInterval(e)}}},t.prototype.enableSoundLevelProcessor=function(e){for(var t in this.previewStreamList){var r=this.previewStreamList[t];e?r.startSoundLevel():r.stopSoundLevel()}for(var t in this.playerList){var i=this.playerList[t].player;e?i.startSoundLevel():i.stopSoundLevel()}},Object.defineProperty(t.prototype,"hasRemoteStream",{get:function(){return Object.keys(this.signalList).length>0},enumerable:!1,configurable:!0}),t.prototype.activeSoundLevel=function(){!this.soundLevelTimer&&this.soundLevelDelegate&&this.startSoundLevel()},t.prototype.startSoundLevel=function(){var e=this;this.soundLevelTimer&&(clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null),this.soundLevelDelegate&&(this.hasRemoteStream&&this.checkSoundLevel(),this.checkMicSoundLevel(),this.soundLevelTimer=setTimeout((function(){e.startSoundLevel()}),this.soundLevelInterval))},t.prototype.checkSoundLevel=function(){this.logger.debug("zsc.csl.0 call");var e=[];for(var t in this.publisherList){var r=0,i=this.publisherList[t].publisher,A=i.previewer;A&&(r=A.soundLevel),e.push({streamID:this.getBackStreamId(i.streamId),soundLevel:r,type:"push"})}for(var t in this.playerList){var n=this.playerList[t].player;n.streamId&&!n.isProbe&&e.push({streamID:this.getBackStreamId(n.streamId),soundLevel:n.soundLevel,type:"pull"})}this.soundLevelDelegate&&e.length>0&&this.onSoundLevelUpdate(e)},t.prototype.checkMicSoundLevel=function(){if(this.microphonePreviews.length&&this.soundLevelDelegate){var e=this.microphonePreviews.reduce((function(e,t){return t.soundLevel>e?t.soundLevel:e}),0);this.onMicSoundLevelUpdate(e)}},t.prototype.getBackStreamId=function(e){return this.testEnvironment&&e?e.replace("zegotest-"+this.appid+"-",""):e},t.prototype.onSoundLevelUpdate=function(e){},t.prototype.onMicSoundLevelUpdate=function(e){},t.prototype.stopSoundLevel=function(){this.soundLevelTimer&&!this.hasRemoteStream&&0===this.previewStreamList.length&&(this.logger.info("zsc.ssl.0 stop"),clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null)},t.prototype.startNetProbe=function(e,t,r,i){var A=this,n=this.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},Ur);if(this.isPeer)if(i){var o="zegoprobe-"+(new Date).getTime();this.setPlayStateStart(o);var a=this.playerList[o]?this.playerList[o].player:null;if(!a)return;a.isProbe=!0,this.playerList[o].serverUrls=["unified_l3"],this.startPlayingStream(o,!0,(function(){})),this.playerList[o].player.isProbeByDG=!0,a.onCalNetQualityResult=function(e,t){A.logger.info("zc.ocnqr.0 l3 detect "+e+" "+t),A.stopPlayingStream(o),A.l3DetectResult=t,A.l3DetectedTimestamp=(new Date).getTime()}}else{var c=!0;r&&0==r.length&&t&&(c=!1,r=e?this.publisherList[t.streamId].serverUrls:this.playerList[t.streamId].serverUrls),r&&t&&r.forEach((function(i){if(!(A.probeList[i]&&A.probeList[i].timeStamp+9e5<(new Date).getTime()||t.probeState==s.probed)){var o="zegoprobe-"+(new Date).getTime();A.setPlayStateStart(o);var a=A.playerList[o]?A.playerList[o].player:null;a&&(a.isProbe=!0,c?(a.gwNode=i,a.signal=t.signal,a.startPlay(o,(function(){}))):A.connectPlayServer(o,(function(){}),i),a.onCalNetQualityResult=function(s,c){A.logger.info("zc.ocnqr.0 "+a.gwNode+" "+s+" "+c),A.probeList[i]={result:s,netQuality:c,timeStamp:(new Date).getTime()};var g=Object.keys(A.probeList),u=r&&r.every((function(e){return g.findIndex((function(t){return t===e}))>=0}));t.gwNode==i||t.signal.server==i?t.netQuality=c:A.handleCalNetQualityResult(e,s,c,t,i,u),A.stopPlayingStream(o),n.setAttributes({net_quality:xr(parseInt(t.netQuality+"")),node_list:Hr(r)}),n.end()})}}))}else this.stateCenter.reporter.setError(n,{code:-1,message:"not support peer"})},t.prototype.handleCalNetQualityResult=function(e,t,r,i,A,n){if(this.logger.info("zc.hcqr.0 "+i.netQuality+" probe "+r+" "+A),0===t){var o=this.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},qr.event),a=!1;r>Math.max(40,i.netQuality+20)&&i.probeState==s.tryProbe?(this.logger.info("zc.hcqr.0 "+i.streamId+" switch "+A),a=!0,this.retryStream(i,e,A),i.probeState=s.probed):(a=!1,i.probeState==s.tryProbe&&n&&(this.logger.info("zc.hcqr.0 "+i.streamId+" last "),i.isProbeDispatch||i.netProbeToReDispatch()));var c=qr;o.setAttributes({is_switch:c.is_switch(a),is_publish:c.is_publish(e),stream_id:c.stream_id(i.streamId),result:c.result(t),node:c.node(A),net_quality:c.net_quality(parseInt(i.netQuality+"")),probe_net_quality:c.probe_net_quality(parseInt(r+""))}),o.end()}},t.prototype.retryStream=function(e,t,r){if(t){var i=e,A=i.streamId,n=i.localStream,o=i.videoInfo,s=i.mediaStreamConfig,a=i.publishOption;0!=i.sessionId&&i.signal&&i.shouldSendCloseSession()&&(i.signal.sendCloseSession(this.stateCenter.getSeq(),i.sessionId,1),i.signal.removeSession(i.sessionId),i.closeSessionSignal=!0),i.resetPublish(),this.publisherList[A].isCenterNode?(i.gwNode=r,i.startPublish(A,n,o,s,a)):(i.isExternal=!1,this.connectPublishServer(A,r))}else{var c=e,g=(A=c.streamId,c.getRemoteStreamSuc),u=c.playOption;0!=c.sessionId&&c.signal&&c.shouldSendCloseSession()&&(c.signal.sendCloseSession(this.stateCenter.getSeq(),c.sessionId,1),c.signal.removeSession(c.sessionId),c.closeSessionSignal=!0),c.resetPlay(),this.onPlayStateUpdate(be,A,{code:$e.code,message:$e.message}),this.playerList[A].isCenterNode?(c.gwNode=r,c.startPlay(A,g,u)):(c.isExternal=!1,this.connectPlayServer(A,g,r))}},t.prototype.getRoomByStreamID=function(e){return this.publisherList[e]?this.publisherList[e].room:this.playerList[e]?this.playerList[e].room:void 0},t.prototype.setVideoTrackContentHint=function(e,t){if("string"==typeof t){var r=t.toLowerCase();if(["default","motion","detail","text"].includes(r)){var i=e.getVideoTracks()[0];i?"contentHint"in i?(this.logger.info("zc.svtch "+r),i.contentHint="default"==r?"":r):this.logger.warn("zc.svtch mediaStreamTrack contentHint attribute not supported"):this.logger.warn("zc.svtch video track no found")}else this.logger.warn("zc.svtch videoOptimizationMode wrong")}else this.logger.warn("zc.svtch videoOptimizationMode type wrong")},t.prototype.getPlayRoom=function(e){return this.stateCenter.roomList.find((function(t){return!!t.streamList.find((function(t){return t.stream_id==e}))}))},t.prototype.updateQuality=function(e,t){this.streamReport.updateQuality(e,t)},t.prototype.checkStreamReport=function(){this.streamReport.checkStreamReport()},t.prototype.stopToReport=function(e){this.streamReport.updateQuality(e,void 0,!0)},t.prototype.setIsPeer=function(e){this.isPeer=e,Object.values(this.publisherList).forEach((function(t){t.publisher.isPeer=e})),Object.values(this.playerList).forEach((function(t){t.player.isPeer=e}))},t.prototype.getCDNUrl=function(e,t){var r,i,A,n=((r={})[de.RTC]=1,r[de.CDN]=0,r[de.L3]=2,r[de.DG]=3,r),o=this.stateCenter.appConfig.media_config.play_config.resource_info;if(o.length){var s=o.find((function(e){return e.resource_type==n[t]}));if(s)for(var a=0;a<s.service_info.length;a++){var g=s.service_info[a],u=g.protocol,l=g.url_template.replace("{STREAM_NAME}",e);switch(u){case c.FLV:i=l;break;case c.HLS:A=l}}}return{flv:i,hls:A}},t.prototype.playCDN=function(e,t,r,i){var A,n=this;if(!t.CDNVideo)return this.logger.error("zsc.pc.1 cdn video no found"),i&&i(),!1;var o=this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:e},{key:Kr,par:e},Kr,!0),s="",a=null===(A=this.getPlayRoom(e))||void 0===A?void 0:A.streamList.find((function(t){return t.stream_id==e})),c=this.playerList[e],g=c.cdnPlayer,u=c.playOption.resourceMode;c.player.streamId=e,c.player.playOption=c.playOption,c.player.tryidx++,o.setAttributes({tryidx:Zr(c.player.tryidx),biz_product:Xr(u==de.DG?1:0)});var l=a||{},h=l.urls_flv,d=l.urls_flv_plus,p=l.urls_m3u8,C=l.urls_m3u8_plus;if(!(a&&(u!=de.CDN||h&&p)&&(u!=de.DG||d&&C))){if(!this.stateCenter.appConfig||!u)return this.logger.error("zsc.pss.1 stream info no found"),i&&i(),!1;var I=this.getCDNUrl(e,u),f=I.flv,E=I.hls;u==de.DG?(d=f?[f]:[],C=E?[E]:[]):(h=f?[f]:[],p=E?[E]:[])}if(!c||!g)return i&&i(),!1;u===de.DG&&(c.player.useResourceTypes.push("cdn"),c.player.useResourceTypes=Array.from(new Set(c.player.useResourceTypes)));var Q=u==de.DG?d:h,B=u==de.DG?C:p;if(g.isSupportFLV()&&(null==Q?void 0:Q.length)>0)s=Q[0],o.setAttributes({protocol:zr("flv")});else if(g.isSupportHLS()&&(null==B?void 0:B.length)>0)s=B[0],o.setAttributes({protocol:zr("hls")});else if(!c.cdnUrl)return this.logger.error("zsc.pc.1 can not find cdn urls"),i&&i(),!1;if((s=s.replace("http://","https://"))!==c.cdnUrl&&c.player.tryidx>1){var m=this.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:e},{key:""},$r);m.setAttributes({src:ti(s),last_src:ei(c.cdnUrl)}),m.end()}return c.cdnUrl=s||c.cdnUrl,o.setAttributes({url:jr(c.cdnUrl)}),c.playMode==he.CDN&&(g.play(c.cdnUrl,t.CDNVideo),t.CDNVideo.srcObject=null,this.onPlayStateUpdate(we,e,{code:0,message:"success"},{isCDN:!0}),g.onQualityUpdate=function(r,i){i<=n.cdnBadQualityScore?n.handleQualityBad(e,t.resourceMode,he.CDN):(c.qualityBadCount=0,n.cdnProtocolBadTimestamp=0,n.lastHandleCDNBadTimestamp=0)},g.onComplete=function(){if(c.playMode==he.CDN&&c.player.state==k)g.retry();else var e=c.player,t=e.initPoster,r=e.initVideoStyle,i=c.playOption.CDNVideo,A=setTimeout((function(){clearTimeout(A),i&&i.setAttribute("style",r),i&&i.setAttribute("poster",t)}),1e3)},g.onError=function(e){n.stateCenter.networkState==P.offline&&(g.canRetry=!1),o.setAttributes({stop_reason:Vr(e)})},g.onCanplay=function(){if(c.player.state!=k&&(c.player.state=k,0==c.player.firstFrameTime)){c.player.firstFrameTime=Date.now()-c.player.beginTime;var r=n.stateCenter.reporter.createSpan(Ie.H,{key:Yt.event,par:e},{key:""},Lr.event);r.setAttributes({fft_consumed:Lr.fft_consumed(c.player.firstFrameTime),biz_product:Lr.biz_product(t.resourceMode==de.DG?1:0)}),r.end()}},r&&r(),!0)},t.prototype.handleQualityBad=function(e,t,r){var i=this;if(this.logger.info("zsc.hqb.0 call ".concat(e," ").concat(t," ").concat(r)),t!==de.DG)return!1;this.fetchL3CDNCloudSetting();var A=(new Date).getTime(),n=0;for(var o in this.playerList)this.playerList[o].isQualityBad&&n++;r==he.CDN?(this.cdnProtocolBadTime=this.cdnProtocolBadTime+(0==this.lastHandleCDNBadTimestamp?this.qualityInterval:A-this.lastHandleCDNBadTimestamp),(n>=this.protocolBadQualityCount||this.cdnProtocolBadTime>=this.protocolBadQualityTime)&&(this.cdnProtocolBadTime=0,this.cdnProtocolBadTimestamp=(new Date).getTime())):r==he.L3&&(this.l3ProtocolBadTime=this.l3ProtocolBadTime+(0==this.lastHandleL3BadTimestamp?this.qualityInterval:A-this.lastHandleL3BadTimestamp),(n>=this.protocolBadQualityCount||this.l3ProtocolBadTime>=this.protocolBadQualityTime)&&(this.l3ProtocolBadTime=0,this.l3ProtocolBadTimestamp=(new Date).getTime()));var s=!1,a=this.playerList[e],c=a.qualityBadCount?a.qualityBadCount*this.qualityInterval:0;if((r==he.L3&&c>this.l3BadQualityTime||r==he.CDN&&this.isL3Fallback&&c>this.fallbackInhibitionTime||r==he.CDN&&!this.isL3Fallback&&c>this.defaultBadQualityTime)&&(s=!0),s){for(var g in a.isQualityBad=!0,n=0,this.playerList)this.playerList[g].isQualityBad&&n++;if(r==he.CDN&&(0==this.l3DetectedTimestamp||this.l3DetectedTimestamp+this.probeExpiredTime<A&&this.l3DetectedTimestamp+this.minProbeInterval<A)&&(this.l3DetectedTimestamp=(new Date).getTime(),this.startNetProbe(!1,void 0,void 0,!0)),n/Object.keys(this.playerList).filter((function(e){return!e.includes("zegoprobe")})).length>this.multiPlaySwitchRate){this.logger.error("zsc.hqb.0 low quality "+(0==r?"CDN":"L3"));var u=Object.keys(this.playerList).filter((function(e){return!e.includes("zegoprobe")}));return u.forEach((function(e,t){var A=i.playerList[e];r==he.L3?(i.stopPlayingStream(e,void 0,!0),i.playerList[e]=A,A.isQualityBad=!1,A.playMode=he.CDN,A.qualityBadCount=0,i.playCDN(e,A.playOption,i.playSuccessCallBackList[e],i.playErrorCallBackList[e])):i.l3DetectResult>i.switchDetectResultScore&&(A.qualityBadCount=0,i.l3DetectedTimestamp=0,t==u.length-1&&(i.l3DetectResult=0),i.cdnSwitchL3(A))})),r==he.L3&&(this.isL3Fallback=!0),!0}}return"number"==typeof a.qualityBadCount?a.qualityBadCount++:a.qualityBadCount=1,!1},t.prototype.cdnSwitchL3=function(e){var t,r=this,i=e.streamID,A=this.stateCenter.useNetAgent;if(e.playMode=he.L3,this.stopPlayingStream(i,void 0,!0),this.playerList[i]=e,e.isQualityBad=!1,(null===(t=e.playOption)||void 0===t?void 0:t.resourceMode)==de.DG&&(e.player.useResourceTypes.push("l3"),e.player.useResourceTypes=Array.from(new Set(e.player.useResourceTypes))),A)this.stateCenter.appConfig?(e.serverUrls=["unified_l3"],this.startPlayingStream(i,A,(function(t){var A;r.logger.info("zsc.cqi.1 switch l3 success");var n=e.player,o=n.initPoster,s=n.initVideoStyle,a=e.playOption.CDNVideo;if("safari"===r.stateCenter.browser&&a&&e.player._CDNPlayerClone){var c=a.parentElement;if(c){var g=document.createElement("style"),u=a.cloneNode(!0),l=Date.now().toString(16);g.innerText=".zego_cdn_video_".concat(l," .zego_clone_video_").concat(l,"{width:").concat(a.offsetWidth,"px;height:").concat(a.offsetHeight,"px;}")+".zego_cdn_video_".concat(l," .hide_").concat(l,"{display:none!important;width:0;height:0}"),document.head.append(g),u.classList.add("zego_clone_video_".concat(l)),u.id=e.streamID+"_clone",u.src="",u.srcObject=t,u.classList.add("hide_".concat(l)),a.before(u),c.classList.add("zego_cdn_video_".concat(l));var h=setTimeout((function(){clearTimeout(h),a.classList.add("hide_".concat(l)),u.classList.remove("hide_".concat(l))}),2e3),d=setTimeout((function(){var t;clearTimeout(d),e.playOption.CDNVideo=u,null===(t=e.cdnPlayer)||void 0===t||t.stop(),r.stateCenter.reporter.spanEnd({key:Kr,par:i}),c.classList.remove("zego_cdn_video_".concat(l)),a.classList.remove("zego_cdn_video_".concat(l)),u.classList.remove("zego_clone_video_".concat(l)),u.id=a.id,g.remove(),a.remove()}),4e3)}}else{null===(A=e.cdnPlayer)||void 0===A||A.stop(),r.stateCenter.reporter.spanEnd({key:Kr,par:i});var p=setTimeout((function(){clearTimeout(p),a&&a.setAttribute("style",s),a&&a.setAttribute("poster",o)}),1e3);t&&a&&(a.srcObject=t)}}))):this.waitPlayList.push(i);else{var n=this.playerList[i].retryDispatchHandler;n.stopMaxTime(),n.invalid(),n.initStream(i,e.playOption,!1),n.startMaxTime(),n.active(0)}},t.prototype.fetchL3CDNCloudSetting=function(){this.switchScore=this.stateCenter.settingConfig.getSetting("switch_score")||60,this.defaultBadQualityTime=this.stateCenter.settingConfig.getSetting("default_bad_quality_time")||3e4,this.l3BadQualityTime=this.stateCenter.settingConfig.getSetting("l3_bad_quality_time")||1e4,this.switchDetectResultScore=this.stateCenter.settingConfig.getSetting("switch_detect_result_score")||60,this.cdnBadQualityScore=this.stateCenter.settingConfig.getSetting("cdn_bad_quality_score")||60,this.l3BadQualityScore=this.stateCenter.settingConfig.getSetting("l3_bad_quality_score")||60,this.multiPlaySwitchRate=this.stateCenter.settingConfig.getSetting("multi_play_switch_rate")||.8,this.protocolBadQualityCount=this.stateCenter.settingConfig.getSetting("protocol_bad_quality_count")||3,this.protocolBadQualityTime=this.stateCenter.settingConfig.getSetting("protocol_bad_quality_time")||12e3,this.protocolQualityCacheExpiredTime=this.stateCenter.settingConfig.getSetting("protocol_quality_cache_expired_time\t")||18e4,this.fallbackInhibitionTime=this.stateCenter.settingConfig.getSetting("fallback_inhibition_time")||18e4,this.probeExpiredTime=this.stateCenter.settingConfig.getSetting("probe_expired_time")||3e4,this.minProbeInterval=this.stateCenter.settingConfig.getSetting("min_probe_interval")||15e3},t.prototype.setStreamGwNode=function(e,t){this.logger.info(jn+" call "+e.streamId),this.checkCachedNodesUse(e,t),e.gwNodesTTL&&e.gwNodesTTL<(new Date).getTime()&&(this.logger.info(jn+" call "+e.streamId+" ttl timeout, reset gw"),e.gwNode="",e.gwNodeList=[],e.gwNodesTTL=0),this.gwNode&&(e.gwNode=this.gwNode);var r=this.stateCenter.settingConfig.getSetting("gw_nodes");r&&r instanceof Array&&r.length>0&&(this.logger.info(Zn+" setting "+JSON.stringify(r)),e.gwNodeList=r,e.gwNode=e.gwNodeList[0]||e.gwNode),this.logger.info(jn+" end "+e.streamId+" "+e.gwNode)},t.prototype.getNodeIndex=function(e,t){var r="",i=t?"publish":"play",A="";switch(t||(0==e.resourceMode?A="_rtc":[2,3].includes(e.resourceMode)&&(A="_l3")),e.cachedGwNodesMode){case hg.NotReUse:break;case hg.TheSameReUse:r=i+"_"+e.streamId+A;break;case hg.DiffReUse:r=i;break;case hg.AllReUse:r="stream"}return r},t.prototype.checkCachedNodesUse=function(e,t){if(this.logger.info(Vn+" call "+e.streamId+" "+e.cachedGwNodesMode),e.isExternal)if(t&&e.isCustomCdn())this.logger.info(Vn+" call "+e.streamId+" custom cdn");else if(this.stateCenter.useNetAgent&&this.stateCenter.isMultiOuter)this.logger.info(Vn+" call "+e.streamId+" multi outer");else{var r=this.getNodeIndex(e,t);if(this.logger.info(Vn+" "+e.streamId+" "+r),r){var i=this.cachedGwNodesList[r];i&&i.gwNodesTTL>(new Date).getTime()&&(null==i?void 0:i.gwNodes.length)>0&&(this.logger.info(Vn+" "+e.streamId+" use cache gwnodes"),e.gwNodeList=i.gwNodes,e.gwNodesTTL=i.gwNodesTTL,e.gwNode=e.gwNodeList[0])}this.logger.info(Vn+" end "+e.streamId+" "+e.gwNode)}else this.logger.info(Vn+" "+e.streamId+" retry internal")},t.prototype.updateCachedGwNodesList=function(e,t,r,i){if(this.logger.info(Wn+" call "+e.streamId),0===i)this.setCachedGwNodesMode(hg.NotReUse);else if(i>0){var A=this.getNodeIndex(e,t);this.logger.info(Wn+" "+e.streamId+" nodeIndex "+A),A&&(this.cachedGwNodesList[A]={gwNodes:r,gwNodesTTL:(new Date).getTime()+1e3*i})}},t.prototype.clearCachedGwNodesList=function(e,t){var r=this.getNodeIndex(e,t);this.logger.info("zsc.ccgl "+e.streamId+" nodeIndex "+r),r&&delete this.cachedGwNodesList[r]},t.prototype.setCachedGwNodesMode=function(e){this.cachedGwNodesMode=e,Object.values(this.publisherList).forEach((function(t){t.publisher.cachedGwNodesMode=e})),Object.values(this.playerList).forEach((function(t){t.player.cachedGwNodesMode=e}))},t.prototype.updateTimeOffsetInterval=function(){var e,t,r=this;"number"==typeof(null===(e=this.rtm)||void 0===e?void 0:e.netAgent.timeOffset)&&(this.stateCenter.clientTimeOffset=null===(t=this.rtm)||void 0===t?void 0:t.netAgent.timeOffset),this.timeOffsetUpdateTimer=setTimeout((function(){r.updateTimeOffsetInterval()}),9e5)},t.prototype.changeRxQuality=function(e){this.rxQuality=e,this.startPublishNetWorkQuality()},t.prototype.changeTxQuality=function(e,t,r){this.txQuality=e,this.sendNetQuality(t,r),this.startPublishNetWorkQuality()},t.prototype.sendNetQuality=function(e,t){var r;this.logger.info("zc.sc.snq call");var i=sc.webrtc_cmd.WebrtcCmdReqMsg.encode({net_quality_grade:{rx_quality:this.rxQuality,tx_quality:this.txQuality}}).finish();null===(r=this.signalList[this.server])||void 0===r||r.signal.sendGWCmd(this.stateCenter.getSeq(),e,{peer_id:t,cmd_id:6},i,(function(e,t,r){var i=sc.webrtc_cmd.WebrtcCmdRspMsg.decode(r.body);un(i[Object.keys(i)[0]])}),(function(e){}))},t.prototype.startPublishNetWorkQuality=function(){var e=this;null===this.netTimer&&(this.netTimer=setInterval((function(){e.stateCenter.actionListener("networkQuality","",e.txQuality,e.rxQuality)}),3e3))},t.prototype.resetNetworkData=function(){Object.keys(this.playerList).length<1&&(this.rxQuality=-1),Object.keys(this.publisherList).length<1&&(this.txQuality=-1),Object.keys(this.playerList).length<1&&Object.keys(this.publisherList).length<1&&(clearInterval(this.netTimer),this.netTimer=null)},t.prototype.getCloudSoundInterval=function(){var e=this.stateCenter.settingConfig.getSetting("sound_sample_interval");return e&&(e<100&&(e=100),e>3e3&&(e=3e3),this.logger.info("zc.gsl setting sound_sample_interval "+e)),e},t.prototype.createSoundLevel=function(e,t,r,i,A){void 0===r&&(r=this.soundLevelInterval),void 0===A&&(A=function(e){});var n=new oa(this.logger,this.stateCenter,r,i),o=n.getSrcSource(e,t);return n.initAudioWorklet(e,o),n.onSoundLevelUpdate=function(e){A(e)},{mic:o,soundMeter:n}},t.prototype.destroy=function(){var e;this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.soundLevelTimer&&clearTimeout(this.soundLevelTimer),this.timeOffsetUpdateTimer&&clearTimeout(this.timeOffsetUpdateTimer),this.netTimer&&clearInterval(this.netTimer),null===(e=this._billingTimer)||void 0===e||e.destroy(),document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange)},t}(oc),Bg=__webpack_require__(5515),mg=function(){function e(e){this.v=e}return e.prototype.takeStreamSnapshot=function(e){return this.v.takeStreamSnapshot(e)},e.prototype.play=function(e,t){return this.v.play(e,t)},e.prototype.stop=function(){return this.v.stop()},e.prototype.resume=function(){this.v.resume()},e.prototype.setAudioMuted=function(e){return this.v.setAudioMuted(e)},e.prototype.setVideoMuted=function(e){return this.v.setVideoMuted(e)},e.prototype.useAudioOutputDevice=function(e){return this.v.useAudioOut(e)},e.prototype.setVolume=function(e){return this.v.setVolume(e)},e.prototype.on=function(e,t){return this.v.on(e,t)},e.prototype.off=function(e,t){return this.v.off(e,t)},e}(),yg=function(){function e(){this.defaultSetting={publish_video_codec:"H264",camera_video_bitrate:800,screen_video_bitrate:1500,custom_video_bitrate:0,l3_play_buffer_ms:500,AEC:!0,AGC:!0,ANS:!0,resource_mode:0,bitrate_mode:"default",auto_to_tcp:!1,udp_max_fail_num:2,probe_started_num:3,udp_or_tcp:"udp",hardware_encode:!1,camera_hard_encode:!1,custom_hard_encode:!1,bg_fps_stat:0,camera_width:720,camera_height:480,camera_framerate:15,camera_audio_bitrate:48,open_mini_sdp:!1,sound_level_api_type:Qe.useAnalyzer,sound_sample_interval:200},this.userChangedKey={},this.setting=JSON.parse(JSON.stringify(this.defaultSetting))}return e.prototype.setSetting=function(e,t){var r=Array.isArray(t)&&t.length>0;for(var i in e)for(var A in e[i])if(!A.endsWith("_ctrlmode")){if(r&&-1==t.indexOf(A))continue;var n=e[i][A+"_ctrlmode"];1===n?this.userChangedKey[A]||(this.setting[A]=e[i][A]):2===n?this.setting[A]=e[i][A]:this.defaultSetting[A]&&(this.setting[A]=this.defaultSetting[A]),"number"==typeof n&&(this.setting[A+"_ctrlmode"]=e[i][A+"_ctrlmode"])}},e.prototype.getSetting=function(e,t){return void 0===t&&(t=!1),t?2==this.setting[e+"_ctrlmode"]?this.setting[e]:void 0:this.setting[e]},e.prototype.setUserValue=function(e,t){2!==this.setting[e+"_ctrlmode"]&&(this.userChangedKey[e]=!0,this.setting[e]=t)},e}(),vg=function(){return vg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},vg.apply(this,arguments)},_g=function(){function e(e,t,r){this.rtmStateCenter=e,this.rtcStateCenter=t,this.streamCenter=r,this._initTime=Date.now()}return Object.defineProperty(e.prototype,"appid",{get:function(){return this.rtcStateCenter.appid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"device_id",{get:function(){return this.rtmStateCenter.deviceID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"product",{get:function(){return this.rtmStateCenter.roomServer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sdk_version",{get:function(){return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sys_info",{get:function(){return navigator.userAgent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"report_version",{get:function(){return this.rtcStateCenter.sdkVerNum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"browser",{get:function(){return this.rtcStateCenter.browser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id_name",{get:function(){return this.rtmStateCenter.idName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nick_name",{get:function(){return this.rtmStateCenter.nickName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"use_na",{get:function(){return this.rtcStateCenter.useNetAgent?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userid",{get:function(){return this.rtmStateCenter.userid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"network_state",{get:function(){return this.rtcStateCenter.networkState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"init_time",{get:function(){return this._initTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"net_type",{get:function(){var e;return(null===(e=navigator.connection)||void 0===e?void 0:e.effectiveType)||"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"room_server",{get:function(){return this.rtmStateCenter.roomServer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"device_infos",{get:function(){return this.rtcStateCenter.deviceInfos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"room_list",{get:function(){var e=this,t={};return this.rtcStateCenter.roomList.forEach((function(r){var i,A,n,o=e.rtmStateCenter.roomModulesList.find((function(e){return e.roomID===r.roomID})),s={roomSessionID:r.roomSessionID,sessionID:r.sessionID,streamList:r.streamList,token:r.token,role:e.rtmStateCenter.role,roomCreateFlag:e.rtmStateCenter.roomCreateFlag,loginTime:null==o?void 0:o.loginTime,heartbeatInterval:null===(i=null==o?void 0:o.heartBeatHandler)||void 0===i?void 0:i.heartbeatInterval,roomExtraInfos:null===(A=null==o?void 0:o.messageHandler)||void 0===A?void 0:A.transSeqMap,roomRetryTime:null===(n=null==o?void 0:o.roomTryHandler)||void 0===n?void 0:n.RETRY_MAX_TIME};t[r.roomID]=s})),t},enumerable:!1,configurable:!0}),e.prototype.getRoomList=function(e,t){var r=this;return this.room_id_list.slice(e,t).map((function(e){return vg({roomID:e},r.room_list[e])}))},Object.defineProperty(e.prototype,"room_id_list",{get:function(){return this.rtcStateCenter.roomList.map((function(e){return e.roomID}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roomListSize",{get:function(){return this.room_id_list.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLoginState",{get:function(){var e,t=this.rtmStateCenter.roomModulesList[0],r=t.runState,i=t.lastRunState;return r===M.logout?e=O.logout:r===M.login?e=O.login:i===M.logout?e=O.trylogin:i===M.login&&(e=O.reconnect),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"publishStreamList",{get:function(){return Object.keys(this.streamCenter.publisherList)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"publishList",{get:function(){var e=this,t={};return this.publishStreamList.forEach((function(r){var i,A,n,o=e.streamCenter.publisherList[r],s=null==o?void 0:o.publisher,a=null==s?void 0:s.publishStat;t[r]={streamSid:null==o?void 0:o.streamSid,roomID:null===(i=null==o?void 0:o.room)||void 0===i?void 0:i.roomID,roomSessionID:null===(A=null==o?void 0:o.room)||void 0===A?void 0:A.roomSessionID,cameraLabel:null==o?void 0:o.cameraLabel,microLabel:null==o?void 0:o.microLabel,cameraStatus:null==s?void 0:s.camera_status,micStatus:null==s?void 0:s.mic_status,sessionId:null==s?void 0:s.sessionId,publishBeginTime:null==s?void 0:s.reportPublishStateTime,serverUrl:null===(n=null==s?void 0:s.signal)||void 0===n?void 0:n.server,gwNode:null==s?void 0:s.gwNode,proto:"webrtc",frameWidth:null==a?void 0:a.frameWidth,frameHeight:null==a?void 0:a.frameHeight,rtt:null==a?void 0:a.currentRoundTripTime,videoPacketsLostRate:null==a?void 0:a.videoPacketsLostRate,audioPacketsLostRate:null==a?void 0:a.audioPacketsLostRate,videoTargetBitrate:null==a?void 0:a.videoTargetBitrate,videoBitrate:null==a?void 0:a.videoBitrate,audioTargetBitrate:null==a?void 0:a.audioTargetBitrate,audioBitrate:null==a?void 0:a.audioBitrate,videoTargetFPS:null==a?void 0:a.videoTargetFPS,videoFPS:null==a?void 0:a.videoFPS,audioFPS:null==a?void 0:a.audioFPS,videoCodecName:null==a?void 0:a.videoCodecName,audioCodecName:null==a?void 0:a.audioCodecName}})),t},enumerable:!1,configurable:!0}),e.prototype.getPublishList=function(e,t){var r=this;return this.publishStreamList.slice(e,t).map((function(e){return vg({streamID:e},r.publishList[e])}))},Object.defineProperty(e.prototype,"publishListSize",{get:function(){return this.publishStreamList.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playStreamList",{get:function(){return Object.keys(this.streamCenter.playerList)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playList",{get:function(){var e=this,t={};return this.playStreamList.forEach((function(r){var i,A,n,o=e.streamCenter.playerList[r],s=null==o?void 0:o.player,a=null==s?void 0:s.playStat;t[r]={streamSid:null==o?void 0:o.streamSid,roomID:null===(i=null==o?void 0:o.room)||void 0===i?void 0:i.roomID,roomSessionID:null===(A=null==o?void 0:o.room)||void 0===A?void 0:A.roomSessionID,cameraStatus:null==s?void 0:s.cameraStatus,micStatus:null==s?void 0:s.micStatus,sessionId:null==s?void 0:s.sessionId,playBeginTime:null==s?void 0:s.reportPlayStateTime,serverUrl:null===(n=null==s?void 0:s.signal)||void 0===n?void 0:n.server,gwNode:null==s?void 0:s.gwNode,proto:"webrtc",frameWidth:null==a?void 0:a.frameWidth,frameHeight:null==a?void 0:a.frameHeight,rtt:null==a?void 0:a.currentRoundTripTime,videoPacketsLostRate:null==a?void 0:a.videoPacketsLostRate,audioPacketsLostRate:null==a?void 0:a.audioPacketsLostRate,videoBitrate:null==a?void 0:a.videoBitrate,audioBitrate:null==a?void 0:a.audioBitrate,videoFPS:null==a?void 0:a.videoFPS,audioFPS:null==a?void 0:a.audioFPS,videoCodecName:null==a?void 0:a.videoCodecName,audioCodecName:null==a?void 0:a.audioCodecName,peerToPeerDelay:null==a?void 0:a.peerToPeerDelay,firstFrameTime:null==a?void 0:a.firstFrameTime,videoJitter:null==a?void 0:a.videoJitter,audioJitter:null==a?void 0:a.audioJitter}})),t},enumerable:!1,configurable:!0}),e.prototype.getPlayList=function(e,t){var r=this;return this.playStreamList.slice(e,t).map((function(e){return vg({streamID:e},r.playList[e])}))},Object.defineProperty(e.prototype,"playListSize",{get:function(){return this.playStreamList.length},enumerable:!1,configurable:!0}),e}(),Sg="zc.ac.mer",wg=function(){function e(e,t,r){var i=this;this.logger=e,this.ac=t,this.audio=r,this.error=!1,this.effectMode=1,this.eventHandler={volumechange:function(e){var t=e.target;t&&i.localOutPutNode&&(t.muted||t.paused?(i.logger.info(Sg+" local audio muted disconnect"),i.localOutPutNode.disconnect()):(i.logger.info(Sg+" local audio is connected"),i.localOutPutNode.connect(i.ac.destination)))}},this.logger.info(Sg+" create audio renderer"),this.error=!this.init(),this.error||(r.addEventListener("volumechange",this.eventHandler.volumechange),r.addEventListener("pause",this.eventHandler.volumechange),r.addEventListener("play",this.eventHandler.volumechange))}return e.prototype.init=function(){var e=this.ac;try{var t=navigator.userAgent.match(/iPhone\sOS\s(\d+)_(\d+)_?(\d+)?/);if(t&&17==+t[1]&&0==+t[2]&&+t[3]<4)throw" iOS 17 not suppot createMediaElementSource.";"anonymous"!==this.audio.crossOrigin&&this.logger.info(Sg+" Media element does not support cross-origin. Maybe no sound can be played"),this.srcNode=e.createMediaElementSource(this.audio),(this.localOutPutNode=e.createGain()).connect(e.destination),"suspended"===this.ac.state&&this.ac.resume()}catch(e){return this.logger.warn(Sg+" create src failed."+e),!1}return!0},e.prototype.getMixNode=function(){var e=this.mixOutputNode;return e||(e=this.mixOutputNode=this.ac.createGain()),this.setVoiceChangeNode(this.effectMode,this.voiceChangerNode,!0),{mixOutputNode:e}},Object.defineProperty(e.prototype,"effectOnLocal",{get:function(){return[zs.Local,zs.All].includes(this.effectMode)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"effectOnMix",{get:function(){return[zs.Publish,zs.All].includes(this.effectMode)},enumerable:!1,configurable:!0}),e.prototype.setVoiceChangeNode=function(e,t,r){if(void 0===r&&(r=!1),this.localOutPutNode&&this.srcNode&&(r||this.voiceChangerNode!==t||this.effectMode!==e)){this.effectMode=e,this.srcNode.disconnect();var i=this,A=i.mixOutputNode,n=i.effectOnLocal,o=i.effectOnMix;if(this.logger.info(Sg+" set voice changer render. ".concat(JSON.stringify({mode:e,node:!!t,force:r,effectOnLocal:n,effectOnMix:o}))),t)t.disconnect(),this.srcNode.connect(t),n?t.connect(this.localOutPutNode):this.srcNode.connect(this.localOutPutNode),A&&(o?t.connect(A):this.srcNode.connect(A)),this.voiceChangerNode=t;else{var s=this.srcNode;s.connect(this.localOutPutNode),this.mixOutputNode&&s.connect(this.mixOutputNode),this.voiceChangerNode=void 0}}},e.prototype.destroy=function(){var e;null===(e=this.localOutPutNode)||void 0===e||e.connect(this.ac.destination),this.audio.removeEventListener("volumechange",this.eventHandler.volumechange),this.audio.removeEventListener("pause",this.eventHandler.volumechange),this.audio.removeEventListener("play",this.eventHandler.volumechange)},e}(),Dg=function(){function e(e){var t=this;this.logger=e,this.isResuming=!1,this.elementNodeMap=new Map,this.eventHandler={resumeAudioContext:function(e){var r=t.ac.state;"running"===r||t.isResuming?t.offCheckAudioContextListener():(t.logger.info("zc.ac.rs call "+r+", "+e.type),t.isResuming=!0,t.ac.resume().then((function(){t.isResuming=!1,t.logger.info("zc.ac.rs end "+t.ac.state+", "+e.type)})))}},this.id=Date.now();var r=window.AudioContext||window.webkitAudioContext;this.ac=new r,this.logger.info("zc.ac.0 ".concat(this.id," ").concat(this.ac.state,", ").concat(this.ac.sampleRate)),this.ac.addEventListener("statechange",(function(){var e,r=null===(e=t.ac)||void 0===e?void 0:e.state;t.logger.info("zc.ac.sc ".concat(t.id," ").concat(r)),"running"!==r&&t.checkAudioContext()})),this.checkAudioContext()}return e.create=function(t){return e.mgr?e.mgr.logger=t:e.mgr=new e(t),e.mgr},e.prototype.getMediaElementRenderer=function(e){var t=this.elementNodeMap.get(e);return t||((t=new wg(this.logger,this.ac,e)).error?null:(this.elementNodeMap.set(e,t),t))},e.prototype.checkAudioContext=function(){(this.logger.info("zc.ac.cac call"),this.ac&&"suspended"===this.ac.state)&&window.addEventListener("mousedown",this.eventHandler.resumeAudioContext)},e.prototype.offCheckAudioContextListener=function(){this.logger.info("zc.ac.ocac call"),window.removeEventListener("mousedown",this.eventHandler.resumeAudioContext)},e.prototype.destroy=function(){this.offCheckAudioContextListener()},e}(),bg=function(){return bg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},bg.apply(this,arguments)},kg=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Rg=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ng=function(){function e(t,r,A,n,o,s){void 0===o&&(o=0),void 0===s&&(s=Ce.Default);var a=this;this.recordedBlobs=[],this.mediaRecorder=null,e.isInstantiated=!0,this.logger=t,this.dataReport=r,this.acMgr=Dg.create(this.logger),this.stateCenter=new ts(this.logger,this.dataReport),this.stateCenter.clientType="webrtc",this.stateCenter.settingConfig=new yg,this.RTM=n,this.stateCenter.appid=n.getAppID(),this.streamCenter=new Qg(this.logger,this.stateCenter,this.dataReport,this.RTM,this.acMgr,{type:e.geoFenceType,areaList:e.geoFenceAreaList}),this.stateCenter.browser=Bg.browserDetails.browser,this.stateCenter.browserInfo=function(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];return/trident/i.test(r[1])?{name:"IE",version:(e=/\brv[ :]+([\d\.]+)/g.exec(t)||[])[1]||""}:"Chrome"===r[1]&&null!=(e=t.match(/\bOPR|Edge\/([\d\.]+)/))?{name:"Opera",version:e[1]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/([\d+\.]+)/i))&&r.splice(1,1,e[1]),{name:r[0],version:r[1]})}(),this.getSDKVersionNum(),this.RTM.cloudSetting.setEnvVariable("sdk_version",i),this.initTracer(A),this.rtcModules=new Oa(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.RTM,this.ac,this),this.RTM.cloudSetting.getSettingCache("rtc").then((function(e){var t,r;a.logger.info(ln+" streamConfig "+JSON.stringify(e));var i=a.stateCenter.reporter.createSpan(Ie.H,{key:vt},{key:""},Jr);(i.setAttributes({files:Yr([{name:"rtc",content:JSON.stringify(null==e?void 0:e.setting),versions:JSON.stringify(null==e?void 0:e.versions),code:0,message:""}])}),i.end(),a.stateCenter.settingConfig.setSetting(null==e?void 0:e.setting),null===(t=null==e?void 0:e.setting)||void 0===t?void 0:t.open_mini_sdp)&&(null===(r=a.streamCenter)||void 0===r||r.initMiniSdpWorker(e.setting.open_mini_sdp.open_mini_sdp))})).catch((function(e){a.logger.warn(ln+" streamConfig "+JSON.stringify(e))})),this.stateCenter.rtm=this.RTM,this.stateCenter.streamCenter=this.streamCenter,[3,4,5,6,7,8].includes(s)?(this.stateCenter.scenario=s,[4,5,8].includes(s)?this.enableVideoHardwareEncoder(!0):this.enableVideoHardwareEncoder(!1),this.logger.info(Zo+" "+s+"  success")):(this.stateCenter.scenario=Ce.Default,this.logger.error(Zo+" "+s+"  please use valid scenario"))}return Object.defineProperty(e.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),e.setGeoFence=function(t,r){if(e.isInstantiated)throw Le;e.geoFenceType=t,e.geoFenceAreaList=r},e.setEngineOptions=function(t){e.engineOptions=t,t.geoFenceType&&(e.geoFenceType=t.geoFenceType),t.geoFenceAreaList&&(e.geoFenceAreaList=t.geoFenceAreaList)},e.prototype.destroyEngineHandler=function(){var e=this;this.logger.info(hn+" call");var t=function(){return!e.RTM.stateCenter.roomModulesList.some((function(e){return!(e.isLogout()||"DISCONNECTED"===e.roomState)}))},r=function(){e.RTM.destroyRTM();for(var t=0,r=e.streamCenter.previewStreamList;t<r.length;t++){var i=r[t];i.localStream&&e.destroyStream(i.localStream)}e.RTM.netAgent.destroy(),e.stateCenter.actionListener("_engineDestroy"),e.acMgr.destroy(),e.streamCenter.destroy(),e.stateCenter.destroy(),e.logger.info(hn+" call success"),e.logger.destroy()};t()?r():(this.RTM.stateCenter.onListener("_roomStateUpdate",(function(e,i){"DISCONNECTED"===i&&t()&&r()})),this.RTM.logoutRoom())},e.prototype.mutePublishStreamVideo=function(e,t,r){return!1},e.prototype.mutePublishStreamAudio=function(e,t){return!1},e.prototype.mutePlayStreamVideo=function(e,t){return new Promise((function(e,t){console.error("should install advanced module"),e(!1)}))},e.prototype.mutePlayStreamAudio=function(e,t){return new Promise((function(e,t){console.error("should install advanced module"),e(!1)}))},e.prototype.muteMicrophone=function(e){return!1},e.prototype.isMicrophoneMuted=function(){return!this.streamCenter.isMicEnabled},e.prototype.setAudioOutput=function(e,t){return this.logger.info("zc.sao call"),"string"!=typeof t?(this.logger.error("audiooutput is not string"),!1):this.rtcModules.playModule.setStreamAudioOutput(e,t)},e.prototype.setCustomSignalUrl=function(e){if(this.logger.info(Bn+" call: "+e),e&&0!=e.length){var t=!0;e.forEach((function(e){return 0!=e.indexOf("wss://")&&(t=!1)})),t?this.stateCenter.customUrl=e:this.logger.error(Bn+" url is not correct")}else this.logger.error(Bn+" param error")},e.prototype.setGWNode=function(e){"string"==typeof e&&e.length>0&&(this.streamCenter.gwNode=e)},e.prototype.setQualityMonitorCycle=function(e){return"number"==typeof e&&e>=1e3?(this.streamCenter.setQualityMonitorCycle(e),!0):(this.logger.error("zc.sqmc.0 time must be number and bigger than 1000"),!1)},e.prototype.startPlayingStream=function(e,t,r){return this.logger.info(In+" call by user"),this.rtcModules.playModule.startPlayingStream(e,t,r)},e.prototype.stopPlayingStream=function(e){this.logger.info(En+" call by user"),this.rtcModules.playModule.stopPlayingStream(e)},e.prototype.setPlayAccelerate=function(e){this.stateCenter.playAccelerate=e},e.prototype.setTurnOverTcpOnly=function(e){this.logger.info("zc.stoto call "+e),"boolean"==typeof e?this.stateCenter.turnOverTcpOnly=e:this.logger.error("zc.p.stoto.0 param must be param")},e.prototype.createStream=function(e){return this.rtcModules.publishModule.createStream(e)},e.prototype.createZegoStream=function(e){return this.rtcModules.publishModule.createZegoStream(e)},e.prototype.setRoomScenario=function(e){return[3,4,5,6,7,8].includes(e)?(this.logger.info(Wo+" "+e+" called"),this.stateCenter.roomList.length?(this.logger.error(Wo+" "+JSON.stringify(rt)),!1):([Ce.StandardVideoCall,Ce.HighVideoCall,Ce.Broadcast].includes(e)?this.enableVideoHardwareEncoder(!0):this.enableVideoHardwareEncoder(!1),this.stateCenter.scenario=e,this.logger.info(Wo+" "+e+" called success"),!0)):(this.logger.error(Wo+" "+e+" please use valid scenario"),!1)},e.prototype.destroyStream=function(e){this.rtcModules.publishModule.destroyStream(e)},e.prototype.startPublishingStream=function(e,t,r,i){return this.logger.info(Cn+" call by user"),this.rtcModules.publishModule.startPublishingStream(e,t,r,i)},e.prototype.updatePublishingStream=function(e,t){return this.logger.info(es+" call by user"),this.rtcModules.publishModule.updatePublishingStream(e,t)},e.prototype.activateSEIInsert=function(e){return console.error("should install advanced module"),!1},e.prototype.setSEIConfig=function(e){this.logger.info("zc.ssc "+JSON.stringify(e)),this.stateCenter.seiConfig=bg(bg({},this.stateCenter.seiConfig),e),this.stateCenter.player265ReceiverList.forEach((function(e){e.sendMsg({type:"SEIConfigUpdate"})}))},e.prototype.sendSEI=function(e,t){return this.rtcModules.publishModule.sendSEI(e,t)},e.prototype.stopPublishingStream=function(e){return this.logger.info(fn+" call by user"),this.rtcModules.publishModule.stopPublishingStream(e,void 0,!0)},e.prototype.setVideoConfig=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setVideoConfig(e,t):new Promise((function(e,t){console.error("should install advanced module"),e({errorCode:-1,extendedData:"should install advanced module"})}))},e.prototype.setAudioConfig=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setAudioConfig(e,t):new Promise((function(e,t){console.error("should install advanced module"),e({errorCode:-1,extendedData:"should install advanced module"})}))},e.prototype.replaceTrack=function(e,t,r){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.replaceTrack(e,t,r):new Promise((function(e,t){console.error("should install advanced module"),e({errorCode:-1,extendedData:"should install advanced module"})}))},e.prototype.preloadEffect=function(e,t,r){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.preloadEffect(e,t,r):console.error("")},e.prototype.getEffectDuration=function(e){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getEffectDuration(e):(console.error(""),0)},e.prototype.getEffectCurrentProgress=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getEffectProgress(e,t):(console.error(""),0)},e.prototype.seekAudioEffect=function(e,t,r){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.seekAudioEffect(e,t,r):(console.error(""),!1)},e.prototype.playEffect=function(e,t,r){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.playEffect(e,t,r):console.error("")},e.prototype.pauseEffect=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.pauseEffect(e,t):(console.error(""),!1)},e.prototype.resumeEffect=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.resumeEffect(e,t):(console.error(""),!1)},e.prototype.stopEffect=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopEffect(e,t):(console.error(""),!1)},e.prototype.unloadEffect=function(e){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.unloadEffect(e):(console.error(""),!1)},e.prototype.setEffectVolume=function(e,t,r,i){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.setEffectVolume(e,t,r,i):(console.error(""),!1)},e.prototype.startMixingAudio=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.startMixingAudio(e,t):(console.error(""),!1)},e.prototype.stopMixingAudio=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopMixingAudio(e,t):(console.error(""),!1)},e.prototype.mixingBuffer=function(e,t,r,i){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.mixingBuffer(e,t,r,i):console.error("")},e.prototype.stopMixingBuffer=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopMixingBuffer(e,t):(console.error(""),!1)},e.prototype.setMixingAudioVolume=function(e,t,r){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.setMixingAudioVolume(e,t,r):(console.error(""),!1)},e.prototype.checkSystemRequirements=function(t,r){var i=this,A=navigator&&navigator.mediaDevices&&(e.screenShotReady||"getDisplayMedia"in navigator.mediaDevices);return this.logger.info("zc.csr call"+navigator.userAgent),new Promise((function(e){var n=i.stateCenter.reporter.createSpan(Ie.H,{key:vt},{key:""},cr),o=r||"all",s=function(t){n.setAttributes({capability:gr(t)}),n.end();var r=i.stateCenter.checkList.indexOf(o);i.stateCenter.checkList.splice(r,1),e(t)};return["webRTC","customCapture","camera","microphone","screenSharing","H264","VP8","all"].includes(o)&&[0,1].includes(t)?i.stateCenter.checkList.includes(o)||i.stateCenter.checkList.includes("all")?s({result:!1,errInfo:{extendedDate:"The last test of the same type has not returned a result "}}):(i.stateCenter.checkList.push(o),void sn(A,s,t,r,i.stateCenter.customUa)):s({result:!1,errInfo:{extendedDate:"param error"}})}))},e.prototype.enumDevices=function(e,t){return kg(this,void 0,void 0,(function(){var r,i,A,n,o,s,a,c,g,u,l,h,d,p=this;return Rg(this,(function(C){switch(C.label){case 0:return this.logger.info("zc.ed.0 call"),r=function(){return new Promise((function(e,r){var i=p.stateCenter.reporter.createSpan(Ie.H,{key:It},{key:""},ir);p.rtcModules.publishModule.recordDevices((function(r){var A=[],n=!0,o=!0;r.cameras.forEach((function(e){""===e.deviceID&&(n=!1),A.push({device:e.deviceID,device_name:e.deviceName,type:0})})),r.microphones.forEach((function(e){""===e.deviceID&&(o=!1),A.push({device:e.deviceID,device_name:e.deviceName,type:1})})),r.speakers.forEach((function(e){return A.push({device:e.deviceID,device_name:e.deviceName,type:2})})),i.setAttributes({dev_list:nr(A),dev_kind:or(t||"all")}),i.end(),e({devices:r,enableCamera:n,enableMic:o})}),(function(e){p.stateCenter.reporter.setError(i,e),r(e)}))}))},[4,r()];case 1:return i=C.sent(),A=i.enableCamera,n=i.enableMic,o=i.devices,e?(this.logger.info("zc.ed.0 check permission"),s={video:!0,audio:!0},"videoinput"===t?s.audio=!1:"audioinput"!==t&&"audiooutput"!==t||(s.video=!1),c=s.audio&&!n,(a=s.video&&!A)||c?(this.logger.info("zc.ed.0 need to get device permission. needCamera: ".concat(a,", needMic: ").concat(c)),[4,ZA(s).catch((function(){}))]):[3,4]):[3,4];case 2:return(g=C.sent())&&g.getTracks().forEach((function(e){e.stop()})),[4,r()];case 3:u=C.sent(),l=u.devices,h=u.enableCamera,d=u.enableMic,s.video&&!h&&this.logger.warn("zc.ed.0 get video device permission failed."),s.audio&&!d&&this.logger.warn("zc.ed.0 get audio device permission failed."),o=l,C.label=4;case 4:return[2,o]}}))}))},e.prototype.getCameras=function(){return kg(this,void 0,void 0,(function(){return Rg(this,(function(e){switch(e.label){case 0:return[4,this.enumDevices(!0,"videoinput")];case 1:return[2,e.sent().cameras]}}))}))},e.prototype.getMicrophones=function(){return kg(this,void 0,void 0,(function(){return Rg(this,(function(e){switch(e.label){case 0:return[4,this.enumDevices(!0,"audioinput")];case 1:return[2,e.sent().microphones]}}))}))},e.prototype.getSpeakers=function(){return kg(this,void 0,void 0,(function(){return Rg(this,(function(e){switch(e.label){case 0:return[4,this.enumDevices(!0,"audiooutput")];case 1:return[2,e.sent().speakers]}}))}))},e.prototype.getAudioInfo=function(e,t,r){},e.prototype.getSoundLevel=function(e,t,r){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getSoundLevel(e,t,r):console.error("")},e.prototype.stopSoundLevel=function(e){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopSoundLevel(e):console.error("")},e.prototype.handleDataAvailable=function(t){t.data&&t.data.size>0&&e.recordedBlobs.push(t.data)},e.prototype.startRecord=function(e){var t=this,r=this.streamCenter.checkPreview(e);if(!r)throw"start record failed. stream is not from zego.";var i=e.clone(),A=i.getAudioTracks();A.length>0&&r.hasEmptyAudioTrack&&A.forEach((function(e){i.removeTrack(e)})),this.recordedBlobs=[];var n={mimeType:"video/webm;codecs=vp9"};console.log("MediaRecorder",MediaRecorder),MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:"video/webm;codecs=vp8,opus"},MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:"video/webm"},MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:""}))));try{this.mediaRecorder=new MediaRecorder(i,n)}catch(e){return void this.logger.error("zc.mdrcd Exception while creating ZegoMediaRecorder:",e)}this.mediaRecorder.onstop=function(e){t.logger.warn("zc.mdrcd Recorder stopped: "+e)},this.mediaRecorder.ondataavailable=this.handleDataAvailable.bind(this),this.mediaRecorder.start(10)},e.prototype.stopRecord=function(){this.mediaRecorder?this.mediaRecorder.stop():this.logger.warn("zc.mdrcd please invoke startRecord first")},e.prototype.resumeRecord=function(){this.mediaRecorder?this.mediaRecorder.resume():this.logger.warn("zc.mdrcd please invoke startRecord first")},e.prototype.pauseRecord=function(){this.mediaRecorder?this.mediaRecorder.pause():this.logger.warn("zc.mdrcd please invoke startRecord first")},e.prototype.saveRecord=function(e){if(this.mediaRecorder&&this.recordedBlobs){var t=new Blob(this.recordedBlobs,{type:"video/webm"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.style.display="none",i.href=r,i.download=e+".webm",document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)}),100)}else this.logger.warn("please invoke startRecord first")},e.prototype.useVideoDevice=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useVideoDevice(e,t):new Promise((function(e,t){e({errorCode:-1,extendedData:"should install advanced module"})}))},e.prototype.useAudioDevice=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useAudioDevice(e,t):(console.error("should use advanced module first"),new Promise((function(e,t){e({errorCode:-1,extendedData:"should install advanced module"})})))},e.prototype.getElectronScreenSources=function(){return this.rtcModules.publishModule.getElectronScreenSources()},e.prototype.setSoundLevelDelegate=function(e,t,r){this.logger.info("zc.ssd.0 call"),"boolean"==typeof e?t&&(!this.stateCenter.checkInteger(t)||t<100||t>3e3)?this.logger.error("zc.ssd.0 soundLevel interval must be integer number which is between 100 and 3000"):this.streamCenter.setSoundLevelDelegate(e,t,r):this.logger.error("zc.ssd.0 param 1 must be boolean")},e.prototype.on=function(e,t){return this.rtcModules.bindListener(e,t)},e.prototype.off=function(e,t){return this.rtcModules.deleteListener(e,t)},e.prototype.getVersion=function(){return i},e.prototype.setStreamExtraInfo=function(e,t){return this.rtcModules.streamCommon.setStreamExtraInfo(e,t)},e.prototype.addPublishCdnUrl=function(e,t){return this.logger.info("zg.cm.apu call "+e+" "+t),this.rtcModules.streamCDNModule?this.rtcModules.streamCDNModule.publishTarget({type:"addpush",streamID:e,pushUrl:t}):new Promise((function(e,t){console.error("should install advanced module"),e({errorCode:-1,extendedData:"should install advanced module"})}))},e.prototype.removePublishCdnUrl=function(e,t){return this.logger.info("zg.cm.apu call "+e+" "+t),this.rtcModules.streamCDNModule?this.rtcModules.streamCDNModule.publishTarget({type:"delpush",streamID:e,pushUrl:t}):new Promise((function(e,t){console.error("should install advanced module"),e({errorCode:-1,extendedData:"should install advanced module"})}))},e.prototype.startMixerTask=function(e){return new Promise((function(e,t){console.error(""),t()}))},e.prototype.setMixerTaskConfig=function(e){return new Promise((function(e,t){console.error(""),t()}))},e.prototype.stopMixerTask=function(e){return new Promise((function(e,t){console.error(""),t()}))},e.prototype.setCaptureVolume=function(e,t){return this.rtcModules.publishModule.setCaptureVolume(e,t)},e.use=function(t){switch(t.type){case"AudioMix":t.install(Oa,nc);break;case"MixStream":t.install(e,As,Oa);break;case"StreamCDN":t.install(e,Oa,As);break;case"Advance":t.install(e,Oa,As,ga,wa,va,nc,_c);break;case"BeautyEffect":case"VoiceChanger":t.install(e,ga);break;case"RangeAudio":case"DataChannel":case"AiDenoise":case"BackgroundProcess":case"CopyrightedMusic":case"StreamCompositor":t.install(e)}},e.prototype.createRangeAudioInstance=function(){throw new Error("should use range audio module")},e.prototype.createCopyrightedMusic=function(){throw new Error("should use copyrighted music module")},e.prototype.destroyCopyrightedMusic=function(){throw new Error("should use copyrighted music module")},e.prototype.createRealTimeSequentialDataManager=function(e){throw new Error("should use datachannel module")},e.prototype.destroyRealTimeSequentialDataManager=function(e){throw new Error("should use datachannel module")},e.prototype.enableDataChannel=function(e){"boolean"==typeof e&&(this.streamCenter.isDataChannelEnabled=e)},e.prototype.addTrack=function(e,t){return new Promise((function(e,t){throw new Error("use advanced module first")}))},e.prototype.removeTrack=function(e,t){return new Promise((function(e,t){throw new Error("use advanced module first")}))},e.prototype.setBeautyEffect=function(e,t,r){return new Promise((function(e,t){console.error("should install video effect module and advanced module"),e({errorCode:-1,extendedData:"should install video effect module and advanced module"})}))},e.prototype.setLowlightEnhance=function(e,t){return new Promise((function(e,t){console.error("should install video effect module and advanced module"),e({errorCode:-1,extendedData:"should install video effect module and advanced module"})}))},e.prototype.getPublishingStreamQuality=function(e){return this.rtcModules.publishModule.getStreamStats(e)},e.prototype.getPlayingStreamQuality=function(e){return this.rtcModules.playModule.getStreamStats(e)},e.prototype.checkAudioTrackIsActive=function(e){var t=this;return this.logger.info("zc.caia.0 call"),new Promise((function(r,i){if(e=XA(e,t.logger),!t.checkTrackParam(e,1))return t.logger.info("zc.caia.0 param active: false"),r(!1);var A=0;try{var n=0,o=t.streamCenter.createSoundLevel(t.ac,e,50,50,(function(e){e*=100;var i=!1;n>=4?(s.destroy(),(e>0||A>0)&&(i=!0),t.logger.info("zc.caia.0 active: "+i),r(i)):A=Math.max(e,A),n++})),s=o.soundMeter;s&&o.mic||(t.logger.error("zc.cvia.1 checkVideoTrackIsActive not supported"),r(!1))}catch(e){t.logger.error("zc.cvia.1 "+e),r(!1)}}))},e.prototype.checkVideoTrackIsActive=function(e){var t=this;this.logger.info("zc.cvia.0 call");var r=this;return new Promise((function(i,A){if(e=XA(e,t.logger),!t.checkTrackParam(e,0))return t.logger.info("zc.cvia.1 param active: false"),i(!1);var n=VA(1,1),o=WA(160,120).getContext("2d");o&&(null==o?void 0:o.drawImage)&&(null==o?void 0:o.getImageData)||(r.logger.error("zc.cvia.1 checkVideoTrackIsActive not supported"),i(!1)),n.style.position="fixed",n.style.left="-1000px",n.style.opacity="0.01",document.body.appendChild(n),n.srcObject=e;var s=null;function a(){o=null;try{n.pause(),n.remove(),n.srcObject=null}catch(e){}}function c(){n.play();var e=setTimeout((function(){clearTimeout(e),e=null,n.removeEventListener("canplay",c),null==o||o.drawImage(n,0,0,160,120);var t=setTimeout((function(){clearTimeout(t),t=null;var e=null==o?void 0:o.getImageData(0,0,160,120),A=(null==e?void 0:e.data)&&Math.floor(e.data.length/3);if(A){for(var n=3;n<A;n+=4)if(0!==e.data[n-1]||0!==e.data[n-2]||0!==e.data[n-3])return r.logger.info("zc.cvia.0 active: true"),i(!0),void a();a(),r.logger.info("zc.cvia.1 active: false"),i(!1)}}),20)}),200)}n.addEventListener("canplay",c),s=setTimeout((function(){clearTimeout(s),n.removeEventListener("canplay",c),a(),i(!1)}),1e3)}))},e.prototype.checkTrackParam=function(e,t){var r,i=this;if(this.logger.info("zc.ctp.0 call type:"+t),!(e instanceof MediaStream))return this.logger.error("zc.ctp.1 param 1 must be MediaStream"),!1;var A=this.streamCenter.checkPreview(e),n=Object.keys(this.streamCenter.playerList).find((function(t){var r,A;return(null===(A=null===(r=i.streamCenter.playerList[t])||void 0===r?void 0:r.player)||void 0===A?void 0:A.playStream)===e}));if(!A&&!n)return this.logger.error("zc.ctp.1 stream is not from zego"),!1;var o=e[0==t?"getVideoTracks":"getAudioTracks"]()[0];return o?"live"!==o.readyState||!o.enabled||o.muted?(this.logger.info("zc.ctp.0 type:".concat(t," state:").concat(o.readyState," enabled:").concat(o.enabled," muted:").concat(o.muted)),!1):!n||0===(null===(r=this.streamCenter.playerList[n])||void 0===r?void 0:r.player.micStatus):(this.logger.error("zc.cvia.1 the stream has not track"),!1)},e.prototype.setDummyCaptureImagePath=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setDummyCaptureImagePath(e,t):new Promise((function(e,t){console.error("should install advanced module"),e(!1)}))},e.prototype.setAccess=function(e){this.RTM.setAccess(e),this.stateCenter.useNetAgent=this.RTM.getSettingUnify(!0),this.RTM.setAccess(this.stateCenter.useNetAgent),this.stateCenter.useNetAgent=this.RTM.isUseNetAgent},e.prototype.setTestPackageSize=function(e){this.RTM.setTestPackageSize(!0),this.stateCenter.testNetPackageSize=e},e.prototype.setAudioOutputDevice=function(e,t){return kg(this,void 0,void 0,(function(){var r;return Rg(this,(function(i){switch(i.label){case 0:return(r=null==e?void 0:e.setSinkId)?(e.setsinkid&&(e.setsinkid.enabled=!0),[4,r.call(e,t)]):[3,2];case 1:return i.sent(),[2,!0];case 2:throw Error("Browser not support set audio output.")}}))}))},e.prototype.enableCameraCapturing=function(e,t){return void 0===t&&(t=!0),kg(this,void 0,void 0,(function(){return Rg(this,(function(e){return console.error("should use advanced module first"),[2,!1]}))}))},e.prototype.enableDualStream=function(e){this.rtcModules.advancedModule?this.rtcModules.advancedModule.enableDualStream(e):console.error("use advance module first")},e.prototype.setLowStreamParameter=function(e,t){this.rtcModules.advancedModule?this.rtcModules.advancedModule.setLowStreamParameter(e,t):console.error("use advance module first")},e.prototype.setRemoteDefaultVideoStreamType=function(e){this.logger.info("zc.srdvs call"),[0,1,2].includes(e)?this.stateCenter.streamType=e:this.logger.error("zc.srdvs streamType must be number 0 or 1 or 2")},e.prototype.enableVideoHardwareEncoder=function(e){if("boolean"==typeof e){var t=this.stateCenter.settingConfig;t.setUserValue("hardware_encode",e),t.setUserValue("camera_hard_encode",e),t.setUserValue("custom_hard_encode",e)}},e.prototype.createLocalViewer=function(e){var t=this.streamCenter.checkPreview(e),r=null==t?void 0:t.getViewer();if(!r)throw Error("create viewer failed.");return new mg(r)},e.prototype.createRemoteViewer=function(e){var t=this.streamCenter.checkPlayer(e),r=null==t?void 0:t.getViewer();if(!r)throw Error("create viewer failed.");return new mg(r)},e.prototype.createStreamCompositor=function(){throw new Error("should use stream compositor module")},e.prototype.enableAiDenoise=function(e,t){return new Promise((function(e,t){console.error("should install ai denoise module and advanced module"),t({errorCode:Ue,extendedData:"should install ai denoise module and advanced module"})}))},e.prototype.setVoiceChangerPreset=function(e,t){return new Promise((function(e,t){console.error("should install voice changer module and advanced module"),t({errorCode:Ue,extendedData:"should install voice changer module and advanced module"})}))},e.prototype.enableLiveAudioEffect=function(e,t,r){return new Promise((function(e,t){console.error("should install voice changer module and advanced module"),t({errorCode:Ue,extendedData:"should install voice changer module and advanced module"})}))},e.prototype.loadBackgroundBlurModule=function(){return new Promise((function(e,t){console.error("should install blur background module and advanced module"),e({errorCode:-1,extendedData:"should install blur background module and advanced module"})}))},e.prototype.initBackgroundModule=function(e,t){return new Promise((function(e,t){console.error("should install blur background module and advanced module"),e({errorCode:-1,extendedData:"should install blur background module and advanced module"})}))},e.prototype.setBackgroundBlurOptions=function(e,t){throw console.error("should install blur background module and advanced module"),new Error("should install blur background module and advanced module")},e.prototype.setVirtualBackgroundOptions=function(e,t){throw console.error("should install blur background module and advanced module"),new Error("should install blur background module and advanced module")},e.prototype.setTransparentBackgroundOptions=function(e){throw console.error("should install blur background module and advanced module"),new Error("should install blur background module and advanced module")},e.prototype.enableBackgroundProcess=function(e,t,r){return new Promise((function(e,t){console.error("should install blur background module and advanced module"),e({errorCode:-1,extendedData:"should install blur background module and advanced module"})}))},e.prototype.enableAutoSwitchDevice=function(e){if(this.rtcModules.advancedModule)return this.rtcModules.advancedModule.enableAutoSwitchDevice(e);throw new Error("should use advanced module first")},e.prototype.getSDKVersionNum=function(){var e=this.getReporterVersion(n.SDKProject_ZegoWebRTC,i);this.stateCenter.sdkVerNum=e},e.prototype.initTracer=function(e){this.stateCenter.reporter=e;var t=new _g(this.RTM.stateCenter,this.stateCenter,this.streamCenter);this.stateCenter.reporter.setCommonStates(t),this.stateCenter.reporter.setResource({sdk_version:i,report_version:this.stateCenter.sdkVerNum})},e.prototype.getReporterVersion=function(e,t){var r=t.split(".").map((function(e){return parseInt(e)}));return e<<28|r[0]<<20|r[1]<<8|r[2]},e.prototype.setEngineConfig=function(e){this.stateCenter.engineConfig=bg(bg({},this.stateCenter.engineConfig),e),this.checkQualityInterval(),this.stateCenter.actionListener("_engineConfigUpdate",this.stateCenter.engineConfig),e.adaptCustomUA&&(this.stateCenter.customUa=navigator.userAgent.includes("iOS"),this.logger.info("zc.sec.0 custom ua ".concat(navigator.userAgent)))},e.prototype.checkQualityInterval=function(){var e=this.stateCenter.engineConfig,t=e.publishQualityInterval,r=e.playQualityInterval;"number"==typeof t&&0!==t&&t<x&&(this.stateCenter.engineConfig.publishQualityInterval=x),"number"==typeof r&&0!==r&&r<x&&(this.stateCenter.engineConfig.playQualityInterval=x)},e.prototype.inject=function(e,t){var r=this;if("ZegoExpressPlayer"!==e)throw new Error("You are not authorized to use 'inject' method!");t({appid:this.stateCenter.appid,logger:this.logger,validateToken:function(e,t){return kg(r,void 0,void 0,(function(){return Rg(this,(function(r){switch(r.label){case 0:return this.stateCenter.player265Validated?[2,!0]:[4,this.RTM.fetchAppConfigByTargetToken(e,t)];case 1:return r.sent()&&(this.stateCenter.player265Validated=!0),[2,!!this.stateCenter.player265Validated]}}))}))},isLogin:function(){return r.stateCenter.rtm&&r.stateCenter.rtm.stateCenter.roomModulesList.some((function(e){return e.isLogin()}))},seiConfig:function(){return r.stateCenter.seiConfig},addReceiver:function(e){r.stateCenter.player265ReceiverList.push(e)},removeReceiver:function(e){r.stateCenter.player265ReceiverList=r.stateCenter.player265ReceiverList.filter((function(t){return t!=e}))}})},e.prototype.setStreamAlignmentProperty=function(e,t){return kg(this,void 0,void 0,(function(){var r,i,A,n;return Rg(this,(function(o){switch(o.label){case 0:return this.logger.info((r="zc.ssap")+" call. "+((i="string"==typeof e)?e:null==e?void 0:e.id)+" alignment: ".concat(t)),A=null,(A=i?this.streamCenter.publisherList[e]:this.streamCenter.checkPublish(e))&&6===A.publisher.state?[4,A.publisher.setStreamAlignmentProperty(t)]:(this.logger.error(r+" failed.  setStreamAlignmentProperty failed, stream not published."),[2,!1]);case 1:return n=o.sent(),this.logger.info(r+" end. "+n),[2,n]}}))}))},e.prototype.destroyEngine=function(){if(this.stateCenter.engineDestroy)throw new Error("ZegoExpressEngine has been destroyed.");this.destroyEngineHandler(),this.stateCenter.engineDestroy=!0},e.prototype.uploadLog=function(){return this.RTM.uploadLog()},e.screenShotReady=!1,e.isInstantiated=!1,e}();window.addEventListener("message",(function(e){var t=e.data.type,r=e.origin;r!==window.location.origin&&console.warn("ScreenStream: you should discard foreign event from origin:",r),"SS_PING"===t&&(Ng.screenShotReady=!0)}));var Tg,Lg=function(){return Lg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Lg.apply(this,arguments)},Mg=function(){function e(e,t){this.zegoWebRTC=e,this.stream=t}return e.prototype.start=function(e,t,r,i){this.zegoWebRTC.playEffect(Lg({stream:this.stream,effectID:e},t||{}),r,i)},e.prototype.stop=function(e){return this.zegoWebRTC.stopEffect(this.stream,e)},e.prototype.pause=function(e){return this.zegoWebRTC.pauseEffect(this.stream,e)},e.prototype.resume=function(e){return this.zegoWebRTC.resumeEffect(this.stream,e)},e.prototype.setVolume=function(e,t,r){return this.zegoWebRTC.setEffectVolume(this.stream,t,e,r)},e.prototype.getTotalDuration=function(e){return this.zegoWebRTC.getEffectDuration(e)},e.prototype.getCurrentProgress=function(e){return this.zegoWebRTC.getEffectCurrentProgress(this.stream,e)},e.prototype.seekTo=function(e,t){return this.zegoWebRTC.seekAudioEffect(this.stream,e,t)},e}(),Og=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Pg=function(e){function t(t,i,A){var n=this;return r.ZegoExpressWebRTMEngine.version="3.0.0",(n=e.call(this,t,i,0,arguments[2])||this).zegoWebRTC=new Ng(n.logger,n.dataReport,n.reporter,n.zegoWebRTM,0,null==A?void 0:A.scenario),n}return Og(t,e),t.prototype.setEngineConfig=function(e){this.zegoWebRTC.setEngineConfig(e)},t.setEngineOptions=function(e){r.ZegoExpressWebRTMEngine.setEngineOptions(e),Ng.setEngineOptions(e)},t.setGeoFence=function(e,t){Ng.setGeoFence(e,t),r.ZegoExpressWebRTMEngine.setGeoFence(e,t)},t.prototype.setRoomScenario=function(e){return this.zegoWebRTC.setRoomScenario(e)},t.prototype.setSEIConfig=function(e){this.zegoWebRTC.setSEIConfig(e)},t.use=function(e){r.ZegoExpressWebRTMEngine.use(e),Ng.use(e)},t.prototype.checkSystemRequirements=function(e,t){return void 0===t&&(t=0),this.zegoWebRTC.checkSystemRequirements(t,e)},t.prototype.off=function(e,t){return this.zegoWebRTM.stateCenter.listenerList[e]?this.zegoWebRTM.off(e,t):!!this.zegoWebRTC.stateCenter.listenerList[e]&&this.zegoWebRTC.off(e,t)},t.prototype.on=function(e,t){return this.zegoWebRTM.stateCenter.listenerList[e]?this.zegoWebRTM.on(e,t):!!this.zegoWebRTC.stateCenter.listenerList[e]&&this.zegoWebRTC.on(e,t)},t.prototype.createStream=function(e){return this.zegoWebRTC.createStream(e)},t.prototype.createZegoStream=function(e){return this.zegoWebRTC.createZegoStream(e)},t.prototype.getPublishingStreamQuality=function(e){return this.zegoWebRTC.getPublishingStreamQuality(e)},t.prototype.getElectronScreenSources=function(){return this.zegoWebRTC.getElectronScreenSources()},t.prototype.destroyStream=function(e){return this.zegoWebRTC.destroyStream(e)},t.prototype.startPublishingStream=function(e,t,r){return this.zegoWebRTC.startPublishingStream(e,t,r)},t.prototype.updatePublishingStream=function(e,t){return this.zegoWebRTC.updatePublishingStream(e,t)},t.prototype.stopPublishingStream=function(e){return this.zegoWebRTC.stopPublishingStream(e)},t.prototype.sendSEI=function(e,t){return this.zegoWebRTC.sendSEI(e,t)},t.prototype.setVideoConfig=function(e,t){return this.zegoWebRTC.setVideoConfig(e,t)},t.prototype.setAudioConfig=function(e,t){return this.zegoWebRTC.setAudioConfig(e,t)},t.prototype.replaceTrack=function(e,t){return this.zegoWebRTC.replaceTrack(e,t)},t.prototype.addTrack=function(e,t){return this.zegoWebRTC.addTrack(e,t)},t.prototype.removeTrack=function(e,t){return this.zegoWebRTC.removeTrack(e,t)},t.prototype.setCaptureVolume=function(e,t){return this.zegoWebRTC.setCaptureVolume(e,t)},t.prototype.setDummyCaptureImagePath=function(e,t){return this.zegoWebRTC.setDummyCaptureImagePath(e,t)},t.prototype.setStreamExtraInfo=function(e,t){return this.zegoWebRTC.setStreamExtraInfo(e,t)},t.prototype.enableVideoCaptureDevice=function(e,t){return this.zegoWebRTC.enableCameraCapturing(e,t)},t.prototype.addPublishCdnUrl=function(e,t){return 3===arguments.length?this.zegoWebRTC.addPublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.addPublishCdnUrl(e,t)},t.prototype.removePublishCdnUrl=function(e,t){return 3===arguments.length?this.zegoWebRTC.removePublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.removePublishCdnUrl(e,t)},t.prototype.mutePublishStreamVideo=function(e,t,r){return this.zegoWebRTC.mutePublishStreamVideo(e,t,r)},t.prototype.mutePublishStreamAudio=function(e,t){return this.zegoWebRTC.mutePublishStreamAudio(e,t)},t.prototype.setEffectsBeauty=function(e,t,r){return this.zegoWebRTC.setBeautyEffect(e,t,r)},t.prototype.setLowlightEnhancement=function(e,t){return this.zegoWebRTC.setLowlightEnhance(e,t)},t.prototype.enableDualStream=function(e){return this.zegoWebRTC.enableDualStream(e)},t.prototype.setLowStreamParameter=function(e,t){return this.zegoWebRTC.setLowStreamParameter(e,t)},t.prototype.enableHardwareEncoder=function(e){this.zegoWebRTC.enableVideoHardwareEncoder(e)},t.prototype.enableAutoSwitchDevice=function(e){return this.zegoWebRTC.enableAutoSwitchDevice(e)},t.prototype.initBackgroundModule=function(e,t){return this.zegoWebRTC.initBackgroundModule(e,t)},t.prototype.setBackgroundBlurOptions=function(e,t){return this.zegoWebRTC.setBackgroundBlurOptions(e,t)},t.prototype.setTransparentBackgroundOptions=function(e){return this.zegoWebRTC.setTransparentBackgroundOptions(e)},t.prototype.setVirtualBackgroundOptions=function(e,t){return this.zegoWebRTC.setVirtualBackgroundOptions(e,t)},t.prototype.enableBackgroundProcess=function(e,t,r){return this.zegoWebRTC.enableBackgroundProcess(e,t,r)},t.prototype.setVoiceChangerPreset=function(e,t){return this.zegoWebRTC.setVoiceChangerPreset(t,{voiceChanger:e})},t.prototype.setVoiceChangerParam=function(e,t){return this.zegoWebRTC.setVoiceChangerPreset(e,{voiceParam:t})},t.prototype.setReverbPreset=function(e,t){return this.zegoWebRTC.setVoiceChangerPreset(e,{reverb:t})},t.prototype.enableVirtualStereo=function(e,t,r){return this.zegoWebRTC.setVoiceChangerPreset(e,{stereo:{enable:t,angle:r}})},t.prototype.enableLiveAudioEffect=function(e,t,r){return this.zegoWebRTC.enableLiveAudioEffect(e,t,r)},t.prototype.enableAiDenoise=function(e,t){return this.zegoWebRTC.enableAiDenoise(e,t)},t.prototype.startPlayingStream=function(e,t){return this.zegoWebRTC.startPlayingStream(e,t)},t.prototype.stopPlayingStream=function(e){return this.zegoWebRTC.stopPlayingStream(e)},t.prototype.mutePlayStreamVideo=function(e,t){return this.zegoWebRTC.mutePlayStreamVideo(e,t)},t.prototype.mutePlayStreamAudio=function(e,t){return this.zegoWebRTC.mutePlayStreamAudio(e,t)},t.prototype.getPlayingStreamQuality=function(e){return this.zegoWebRTC.getPlayingStreamQuality(e)},t.prototype.createLocalStreamView=function(e){return this.zegoWebRTC.createLocalViewer(e)},t.prototype.createRemoteStreamView=function(e){return this.zegoWebRTC.createRemoteViewer(e)},t.prototype.startMixerTask=function(e){return this.zegoWebRTC.startMixerTask(e)},t.prototype.stopMixerTask=function(e){return this.zegoWebRTC.stopMixerTask(e)},t.prototype.setMixerTaskConfig=function(e){return this.zegoWebRTC.setMixerTaskConfig(e)},t.prototype.startMixingAudio=function(e,t){return this.zegoWebRTC.startMixingAudio(e,t)},t.prototype.stopMixingAudio=function(e,t){return this.zegoWebRTC.stopMixingAudio(e,t)},t.prototype.setMixingAudioVolume=function(e,t,r){return this.zegoWebRTC.setMixingAudioVolume(e,t,r)},t.prototype.createAudioEffectPlayer=function(e){if(e instanceof MediaStream||e.getTracks)return new Mg(this.zegoWebRTC,e);throw Error("Param localStream is not instance of MediaStream or ZegoLocalStream.")},t.prototype.loadAudioEffect=function(e,t){var r=this;return new Promise((function(i,A){r.zegoWebRTC.preloadEffect(e,t,(function(t){t&&A(t),i(e)}))}))},t.prototype.unloadAudioEffect=function(e){return this.zegoWebRTC.unloadEffect(e)},t.prototype.enumDevices=function(){return this.zegoWebRTC.enumDevices()},t.prototype.getCameras=function(){return this.zegoWebRTC.getCameras()},t.prototype.getMicrophones=function(){return this.zegoWebRTC.getMicrophones()},t.prototype.getSpeakers=function(){return this.zegoWebRTC.getSpeakers()},t.prototype.useVideoDevice=function(e,t){return this.zegoWebRTC.useVideoDevice(e,t)},t.prototype.useAudioDevice=function(e,t){return this.zegoWebRTC.useAudioDevice(e,t)},t.prototype.useAudioOutputDevice=function(e,t){return this.zegoWebRTC.setAudioOutputDevice(e,t)},t.prototype.setSoundLevelDelegate=function(e,t,r){return this.zegoWebRTC.setSoundLevelDelegate(e,t,null==r?void 0:r.enableInBackground)},t.prototype.isMicrophoneMuted=function(){return this.zegoWebRTC.isMicrophoneMuted()},t.prototype.muteMicrophone=function(e){return this.zegoWebRTC.muteMicrophone(e)},t.prototype.createRangeAudioInstance=function(){return this.zegoWebRTC.createRangeAudioInstance()},t.prototype.createRealTimeSequentialDataManager=function(e){return this.zegoWebRTC.createRealTimeSequentialDataManager(e)},t.prototype.destroyRealTimeSequentialDataManager=function(e){this.zegoWebRTC.destroyRealTimeSequentialDataManager(e)},t.prototype.createCopyrightedMusic=function(){return this.zegoWebRTC.createCopyrightedMusic()},t.prototype.checkVideoTrackIsActive=function(e){return this.zegoWebRTC.checkVideoTrackIsActive(e)},t.prototype.checkAudioTrackIsActive=function(e){return this.zegoWebRTC.checkAudioTrackIsActive(e)},t.prototype.destroyCopyrightedMusic=function(){return this.zegoWebRTC.destroyCopyrightedMusic()},t.prototype.getNetworkTimeInfo=function(){return this.zegoWebRTC.RTM.getNetworkInfo()},t.prototype.setStreamAlignmentProperty=function(e,t){return this.zegoWebRTC.setStreamAlignmentProperty(e,t)},t.prototype.destroyEngine=function(){return this.zegoWebRTC.destroyEngine()},t.prototype.uploadLog=function(){return this.zegoWebRTC.uploadLog()},t.prototype.createStreamCompositor=function(){return this.zegoWebRTC.createStreamCompositor()},t}(r.ZegoExpressWebRTMEngine),Fg=__webpack_require__(3126),Gg=__webpack_require__.n(Fg),Ug=__webpack_require__(9869),xg=__webpack_require__.n(Ug),Hg="zc.svc",qg="zc.sac",Jg="zc.rp",Yg="zc.es",Kg="zc.asi",zg="zc.mpsv.0",jg="zc.mpsa.0",Vg="zc.mm",Wg="zc.mpsv.1",Zg="zc.mpsa.1",Xg="zc.ht",$g={code:1100001,message:"input param error."},eu={code:1103044,message:"stream is not from zego"},tu=1103047,ru="track is not found",iu={code:1103048,message:"device is not found"},Au=1103029,nu={code:1103045,message:"video is false"},ou={code:1103046,message:"audio is false"},su={code:1000018,message:"local stream wrong"},au=1103063,cu="only stream which have one track and kind no exist can add track",gu=1103068,uu="update sdp fail",lu=1103069,hu="publisher state wrong",du=1103070,pu="not support handle track",Cu=1103071,Iu=1103072,fu="/sdk/init",Eu="stream",Qu="/sdk/start_publish",Bu="/sdk/start_play",mu={event:"/sdk/set_video_config",error:{kParamError:$g,kLocalStreamError:su},video_params:lt,video_conf:lt},yu="/sdk/set_audio_config",vu={kParamError:$g,kLocalStreamError:su},_u=lt,Su=lt,wu="/sdk/api/publish_video_en_size",Du=pt,bu=pt,ku="/sdk/api/publish_video_en_bps",Ru=pt,Nu="/sdk/api/publish_video_en_fps",Tu=pt,Lu="/sdk/replace_track",Mu={kParamError:$g},Ou=ht,Pu="/device/api/video_c",Fu={kParamError:$g,kDevicesNoFoundError:iu,kLocalStreamError:su},Gu=ht,Uu=ht,xu="/device/api/audio_c",Hu={kParamError:$g,kDevicesNoFoundError:iu,kLocalStreamError:su},qu=ht,Ju=ht,Yu={event:"/sdk/play_content_changed",webrtc_sid:pt,video_activate:Ct,audio_activate:Ct,video_layer:pt},Ku="/sdk/mute_publish_video",zu=pt,ju=Ct,Vu="/sdk/mute_publish_audio",Wu=pt,Zu="/device/enable_mic",Xu=Ct,$u=lt,el="/device/enable_camera",tl=Ct,rl=lt,il="/sdk/mute_play_video",Al=pt,nl="/sdk/mute_play_audio",ol=pt,sl="/active/sei",al=pt,cl=pt,gl=function(){return gl=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},gl.apply(this,arguments)},ul=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},ll=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};!function(e){e[e.I=0]="I",e[e.H=10]="H",e[e.M=100]="M",e[e.L=1e3]="L"}(Tg||(Tg={}));var hl,dl=function(){function e(e,t,r,i){this.logger=e,this.dataReport=t,this.streamCenter=r,this.stateCenter=i,this.screenShotReady=!1}return e.prototype.setVideoConfig=function(e,t){var r=this;return this.logger.info(Hg+" call"),new Promise((function(i,A){var n=XA(e,r.logger),o=mu.error,s=o.kLocalStreamError,a=o.kParamError,c=r.getSpan(n,mu.event),g=gl({},t);t.width&&(g.width=JSON.stringify(t.width)),t.height&&(g.height=JSON.stringify(t.height)),t.frameRate&&(g.frameRate=JSON.stringify(t.frameRate)),c.setAttributes({video_params:mu.video_params(g)});var u,l,h=function(e){r.stateCenter.reporter.setError(c,s,e)};if(!(n instanceof MediaStream))return r.logger.error(Hg+" localStream not found"),h("localStream not found"),void A({errorCode:a.code,extendedData:a.message+" localStream no found"});if(!t||"object"!=typeof t||0==Object.keys(t).length)return r.logger.error(Hg+" constraints wrong"),h("constraints wrong"),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"});if(t.width&&"number"==typeof t.width&&!r.stateCenter.checkValidNumber(t.width,0,7680))return r.logger.error(Hg+" constraints width integer number, range[0, 7680]"),h("constraints width integer number, range[1, 7680]"),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"});if(t.width&&"object"==typeof t.width){if(!(l=TA(t.width,"width",0,7680)).result)return r.logger.error(Hg+" constraints width: "+l.message),h("constraints width: "+l.message),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"})}else if(t.width&&"number"!=typeof t.width&&"object"!=typeof t.width)return r.logger.error(Hg+" constraints width must be a number or an object. "),h("constraints width must be a number or an object."),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"});if(t.height&&"number"==typeof t.height&&!r.stateCenter.checkValidNumber(t.height,0,4320))return r.logger.error(Hg+" constraints height integer number, range[0, 4320]"),h(" constraints height integer number, range[0, 4320]"),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"});if(t.height&&"object"==typeof t.height){if(!(l=TA(t.height,"height",0,4320)).result)return r.logger.error(Hg+" constraints height: "+l.message),h("constraints height: "+l.message),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"})}else if(t.height&&"number"!=typeof t.height&&"object"!=typeof t.height)return r.logger.error(Hg+" constraints height must be a number or an object. "),h(" constraints height must be a number or an object."),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"});if(t.maxBitrate&&"number"!=typeof t.maxBitrate)return r.logger.error(Hg+(u=" constraints maxBitrate is not a number")),h(u),void A({errorCode:a.code,extendedData:a.message+u});if(void 0!==t.frameRate&&"number"!=typeof t.frameRate&&"object"!=typeof t.frameRate)return r.logger.error(Hg+(u=" constraints frameRate is not a number or an object")),h(u),void A({errorCode:a.code,extendedData:a.message+u});if("number"==typeof t.frameRate&&!(t.frameRate>0&&t.frameRate%1==0))return r.logger.error(Hg+" constraints frameRate must be positive integer number"),h("constraints frameRate must be positive integer number"),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"});if(t.frameRate&&"object"==typeof t.frameRate&&!(l=TA(t.frameRate,"frameRate")).result)return r.logger.error(Hg+" constraints frameRate: "+l.message),h("constraints frameRate: "+l.message),void A({errorCode:a.code,extendedData:a.message+" constraints wrong"});r.setPublishStreamConstraints(n,t,c,(function(e){c.setAttributes({error:e.errorCode,message:e.extendedData}),c.end(),i(e)}))}))},e.prototype.setAudioConfig=function(e,t){var r=this;return this.logger.info(qg+" call"),new Promise((function(i){var A=XA(e,r.logger),n=r.getSpan(A,yu);if(n.setAttributes({audio_params:_u(t)}),!(A instanceof MediaStream))return r.logger.error(qg+" localStream not found"),r.stateCenter.reporter.setError(n,vu.kLocalStreamError),void i({errorCode:vu.kParamError.code,extendedData:vu.kParamError.message+" localStream no found"});if(!t||"object"!=typeof t||0==Object.keys(t).length||void 0!==t.AEC&&"boolean"!=typeof t.AEC||void 0!==t.AGC&&"boolean"!=typeof t.AGC||void 0!==t.ANS&&"boolean"!=typeof t.ANS)return r.logger.error(qg+" constraints wrong"),r.stateCenter.reporter.setError(n,vu.kParamError," constraints wrong"),void i({errorCode:vu.kParamError.code,extendedData:vu.kParamError.message+" constraints wrong"});r.setPublishStreamConstraints(A,t,n,(function(e){n.end(),i(e)}))}))},e.prototype.enableStream=function(e,t){if(this.logger.info(Yg+" call"),"boolean"!=typeof t.video&&"boolean"!=typeof t.audio)return this.logger.error(Yg+" option error"),!1;var r=!0,i=!0;return"boolean"==typeof t.video&&(r=this.enableCamera(e,t.video,t.retain)),"boolean"==typeof t.audio&&(i=this.enableMicrophone(e,t.audio)),r&&i},e.prototype.enableMicrophoneOnly=function(e){if(this.logger.info("zc.emo call"),"boolean"!=typeof e)return!1;for(var t=0;t<this.streamCenter.previewStreamList.length;t++){if(!this.streamCenter.previewStreamList[t].enableMicrophoneOnly(e,this.streamCenter))return this.logger.error("zsc.emo.0 previewer ".concat(t," change mic mute state failed")),!1;0}return this.streamCenter.isMicEnabled=e,!0},e.prototype.replaceTrack=function(e,t,r){return ul(this,void 0,void 0,(function(){var i,A,n,o;return ll(this,(function(s){return i=this.getSpan(e,Lu),A=Mu.kParamError,e instanceof MediaStream?t&&t instanceof MediaStreamTrack?(n={id:t.id,muted:t.muted,enabled:t.enabled,kind:t.kind,readyState:t.readyState,label:t.label},this.logger.info(Jg+" call. ".concat(e.id," track: ")+JSON.stringify(n)),o=this._replaceTrack(e,t,r),i.setAttributes({track_kind:Ou(t.kind)}),i.end(),[2,o]):(this.logger.error(Jg+" mediastream track no found"),this.stateCenter.reporter.setError(i,A,"mediastream track no found"),[2,{errorCode:A.code,extendedData:A.message+" mediastream track no found"}]):(this.logger.error(Jg+" localStream not found"),this.stateCenter.reporter.setError(i,A,"localStream not found"),[2,{errorCode:A.code,extendedData:A.message+" localStream no found"}])}))}))},e.prototype.setPublishStreamConstraints=function(e,t,r,i){var A,n,o=this;this.logger.info("zsc.spsc.0 constraints",JSON.stringify(t));var s=this.streamCenter.checkPreview(e);if(!s)return this.logger.error("zsc.spsc.0 preview no found"),void(i&&i({errorCode:eu.code,extendedData:eu.message}));var a=s.videoTrack,c=s.audioTrack,g=null==a?void 0:a.getSettings(),u=!1,l=!1;if(a&&(t.width||t.height||t.frameRate||t.videoQuality)&&(t.videoQuality||(s.mediaStreamConfig.videoQuality=4),u=!0),void 0===t.ANS&&void 0===t.AGC&&void 0===t.AEC||(l=!0),u&&!a)return this.logger.error("zsc.spsc.0 video track not found"),void(i&&i({errorCode:tu,extendedData:ru}));if(t.video=!0,l&&(!c||s.hasEmptyAudioTrack))return this.logger.error("zsc.spsc.0 audio track not found"),void(i&&i({errorCode:tu,extendedData:ru}));t.audio=!0;var h,d=JSON.parse(JSON.stringify(s.mediaStreamConfig)),p=Object.assign(s.mediaStreamConfig,t);t.maxBitrate&&(p.bitRate=t.maxBitrate),"screen"==s.previewType?(h=this.streamCenter.getScreenConstrains(p)).bitRate!==d.bitRate&&(t.maxBitrate=h.bitRate):h=s.getMediaStreamConstraints(p,!0),this.logger.info("zsc.spsc.0 applyConstraints ",JSON.stringify(h));var C=[];if(u&&a){var I={};Object.keys(h.video).forEach((function(e){I[e]=JSON.stringify(h.video[e])})),r.setAttributes({video_conf:mu.video_conf(I)}),C.push(a.applyConstraints(gl(gl({},h.video),{deviceId:void 0})))}var f=!0;l&&(f=(null==c?void 0:c.enabled)||!1,r.setAttributes({audio_conf:Su(h.audio)}),null==c||c.stop(),C.push(navigator.mediaDevices.getUserMedia({video:!1,audio:h.audio})));var E=(null===(A=h.video)||void 0===A?void 0:A.maxBitrate)||(null===(n=h.video)||void 0===n?void 0:n.bitRate)||t.maxBitrate,Q=this.streamCenter.getPublishList(e);Q.forEach((function(e){var t,r=null==e?void 0:e.publisher,i=(null===(t=null==r?void 0:r.peerConnection)||void 0===t?void 0:t.getSenders())||[];if(r.videoInfo.bitRate=E,s.videoInfo.bitRate=E,i.length>0&&E){var A=i.filter((function(e){return e.track&&"video"===e.track.kind}));A||o.logger.error("zsc.spsc.0 video sender no found");var n=A.length>1?A[1]:A[0]?A[0]:null;if(n){var a=n.getParameters();a.encodings||(a.encodings=[{}]),a.encodings[0].maxBitrate=1e3*E,C.push(n.setParameters(a))}else o.logger.error("zsc.spsc.0 video sender no found")}else E&&(s.videoInfo.bitRate=E)})),C.length>0?Promise.all(C).then((function(e){var t,r,A=e[1];if(l){var n=(r=u?e[1]:e[0]).getVideoTracks()[0];null==n||n.stop();var a=r.getAudioTracks()[0];a.enabled=f,A=JSON.stringify(a.getSettings()),s.replacePreviewTrack(a),s.updateZegoStreamCaptureTrack(a);var c=a;s.insertableaudio&&s.localStream&&(c=s.localStream.getAudioTracks()[0]),s.gainNode||s.audioNodeQueue||s.onAudioTrackChange(c)}if(E){var d=s.videoInfo.bitRate!==E;s.videoInfo.bitRate=E,Q.forEach((function(e){var t=null==e?void 0:e.publisher;t&&(d&&o.enVideoSpan(e.streamID,ku,{bitrate:Ru(E)}),t.videoInfo.bitRate=E)}))}if(null===(t=null==h?void 0:h.video)||void 0===t?void 0:t.frameRate){var p=h.video.frameRate;s.videoInfo.frameRate=p,Q.forEach((function(e){var t=null==e?void 0:e.publisher;t&&(t.videoInfo.frameRate=p)}))}Q.forEach((function(e){var t,r,i=null===(r=null===(t=e.localStream)||void 0===t?void 0:t.getVideoTracks()[0])||void 0===r?void 0:r.getSettings();(null==g?void 0:g.width)===(null==i?void 0:i.width)&&(null==g?void 0:g.height)===(null==i?void 0:i.height)||o.enVideoSpan(e.streamID,wu,{w:Du(null==i?void 0:i.width),h:bu(null==i?void 0:i.height)}),(null==g?void 0:g.frameRate)!==(null==i?void 0:i.frameRate)&&o.enVideoSpan(e.streamID,Nu,{fps:Tu(null==i?void 0:i.frameRate)})})),o.logger.info("zsc.spsc.0 set constraints success",A),i&&i({errorCode:0,extendedData:""})})).catch((function(t){return ul(o,void 0,void 0,(function(){var r,A,n,o,a=this;return ll(this,(function(c){switch(c.label){case 0:return this.logger.error("zsc.spsc.0 fail reason ",t.name,t.toString()),l?(r=s.getMediaStreamConstraints(d),this.logger.info("zsc.spsc.0 oldMediaStreamConstraints ",JSON.stringify(r)),[4,navigator.mediaDevices.getUserMedia({video:!1,audio:r.audio}).catch((function(e){a.logger.error("zsc.spsc.0.1 setbackup fail "+e.name)}))]):[3,2];case 1:(A=c.sent())&&(A.getTracks().forEach((function(e){YA(e,a.logger,"zsc.spsc.0.1")})),null==(n=e.getVideoTracks()[0])||n.stop(),o=A.getAudioTracks()[0],s.replacePreviewTrack(o),s.updateZegoStreamCaptureTrack(o),s.gainNode||s.onAudioTrackChange(o)),this.logger.info("zsc.spsc.0.1 setbackup suc "),c.label=2;case 2:return i&&i({errorCode:Au,extendedData:"".concat(t.name," ").concat(t.constraint?"constraint:"+t.constraint:"")}),[2]}}))}))})):(this.logger.warn("zsc.spsc.0 constaints is no changes"),i&&i({errorCode:Au,extendedData:"constraints is no changes"}))},e.prototype.useVideoDevice=function(e,t){var r=this;return this.logger.info("zc.uvd.0 call"),new Promise((function(i){var A=XA(e,r.logger),n=r.getSpan(A,Pu);if(n.setAttributes({device:Gu(t)}),!(A instanceof MediaStream))return r.logger.error("zc.uvd.0 localStream not found"),r.stateCenter.reporter.setError(n,Fu.kLocalStreamError),void i({errorCode:Fu.kParamError.code,extendedData:Fu.kParamError.message});if("string"!=typeof t)return r.logger.error("zc.uvd.0 deviceID must be string"),r.stateCenter.reporter.setError(n,Fu.kParamError," deviceID must be string"),void i({errorCode:Fu.kParamError.code,extendedData:Fu.kParamError.message});var o=function(e){n.setAttributes({error:e.errorCode,message:e.extendedData}),n.end(),r.streamCenter.getPublishList(A).forEach((function(e){var t,r;e.cameraLabel=(null===(r=null===(t=e.publisher.previewer)||void 0===t?void 0:t.videoTrack)||void 0===r?void 0:r.label)||e.cameraLabel})),i(e)};r.stateCenter.getDevices((function(e){var i=e.cameras.find((function(e){return e.deviceID==t}));if(!i)return r.logger.error("zc.uvd.0 device is not found"),void o({errorCode:Fu.kDevicesNoFoundError.code,extendedData:Fu.kDevicesNoFoundError.message});n.setAttributes({device_name:Uu(null==i?void 0:i.deviceName)}),r.switchDevice("video",A,t,o)}),(function(e){r.logger.warn("zc.uvd.0 getDevices err:",e),r.switchDevice("video",A,t,o)}))}))},e.prototype.useAudioDevice=function(e,t){var r=this;return this.logger.info("zc.uad.1 call"),new Promise((function(i){var A=XA(e,r.logger),n=r.getSpan(A,xu);n.setAttributes({device:qu(t)});var o=function(e,t){r.logger.error("zc.uad.1 "+t);var A=e;A.message=A.message+(t?" "+t:""),r.stateCenter.reporter.setError(n,e,t),i({errorCode:A.code,extendedData:A.message})},s=function(e){n.setAttributes({error:e.errorCode,message:e.extendedData}),n.end(),r.streamCenter.getPublishList(A).forEach((function(e){var t;e.microLabel=(null===(t=A.getAudioTracks()[0])||void 0===t?void 0:t.label)||e.microLabel}));var t=r.streamCenter.checkPreview(A);0===e.errorCode&&t&&(t.hasMicTrack=!0),i(e)};A instanceof MediaStream?"string"==typeof t?r.stateCenter.getDevices((function(e){var i=e.microphones.find((function(e){return e.deviceID==t}));if(!i)return r.logger.error("zc.uad.1 device is not found"),void s({errorCode:Hu.kDevicesNoFoundError.code,extendedData:Hu.kDevicesNoFoundError.message});n.setAttributes({device_name:Ju(null==i?void 0:i.deviceName)}),r.switchDevice("audio",A,t,s)}),(function(e){r.logger.warn("zc.uad.1 getDevices err:",e),r.switchDevice("audio",A,t,s)})):o(Hu.kParamError,"deviceID must be string"):o(Hu.kLocalStreamError,"localStream not found")}))},e.prototype.enableDualStream=function(e){this.logger.info("zsc.eds call");var t=XA(e,this.logger),r=this.streamCenter.checkPreview(t);r?(null==r?void 0:r.lowStream)?this.logger.error("zsc.eds low stream already exists"):navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"custom"==r.previewType?this.logger.error("zsc.eds can not support firefox"):this.streamCenter.checkPublish(t)?this.logger.error("zsc.eds is publishing"):(r.enableDualStream=!0,r.createLowStream()):this.logger.error("zsc.eds preview no found")},e.prototype.setLowStreamParameter=function(e,t){var r=XA(e,this.logger),i=this.streamCenter.checkPreview(r);if(i){var A=i.videoInfo,n=[];for(var o in t)isNaN(+t[o])&&n.push(o);if(n.length)throw new Error('param "'.concat(n.join(","),' type error"'));t.width&&A.width&&t.width>A.width?this.logger.error("zsc.slsp.0 low stream width can not larger than high stream"):t.height&&A.height&&t.height>A.height?this.logger.error("zsc.slsp.0 low stream height can not larger than high stream"):t.frameRate&&A.frameRate&&t.frameRate>A.frameRate||t.height&&A.bitRate&&t.bitRate>A.bitRate||(i.lowStreamConfig=Object.assign(i.lowStreamConfig,t))}else this.logger.error("zsc.slsp.0 preview no found")},e.prototype.handleTrack=function(e,t,r,i,A){var n,o,s,a;return ul(this,void 0,void 0,(function(){var c,g,u,l,h,d,p,C,I,f,E,Q,B,m,y,v,_,S,w,D,b,k,R,N=this;return ll(this,(function(T){switch(T.label){case 0:if(this.logger.info(Xg+" call. ms id: ".concat(null==t?void 0:t.id,", kind: ").concat(null==r?void 0:r.kind,", track id: ").concat(null==r?void 0:r.id)),c="ADD"===e,g={errorCode:0,extendedData:""},!(t instanceof MediaStream))return this.logger.error(Xg+" stream wrong"),A({errorCode:$g.code,extendedData:$g.message}),[2];if(!(r instanceof MediaStreamTrack))return this.logger.error(Xg+" parameter 2 type error"),A({errorCode:$g.code,extendedData:$g.message}),[2];if(!(u=this.streamCenter.checkPreview(t)))return this.logger.error(Xg+" stream no found"),A&&A({errorCode:eu.code,extendedData:eu.message}),[2];if("video"===r.kind){if(null===(n=u.videoEffect)||void 0===n?void 0:n.enabled)return this.logger.error(Xg+" need to disable video beauty effect first"),A&&A({errorCode:Cu,extendedData:"need to disable video beauty effect before add or remove track"}),[2];if(u.enableDualStream)return this.logger.error(Xg+" "+(l=" can not add/remove track while dual stream enabled.")),A&&A({errorCode:Cu,extendedData:l}),[2];if(u.isBackgroundBlur)return this.logger.error(Xg+" need to disable background process first"),A&&A({errorCode:Iu,extendedData:"need to disable video background process before add or remove track"}),[2]}return u.streamFromCanvas&&"video"===r.kind?(this.logger.error(Xg+" browser not support"),A&&A({errorCode:du,extendedData:pu}),[2]):(h="audio"===r.kind&&this.stateCenter.engineConfig.keepAudioTrack&&u.hasEmptyAudioTrack,d=t.getTracks().length>=2||t.getTracks().find((function(e){return e.kind==r.kind})),c&&d&&!h?(this.logger.error(Xg+" only stream which have one track and kind no exist can add track"),A&&A({errorCode:au,extendedData:cu}),[2]):"REMOVE"==e&&(t.getTracks().length<=1||"video"===r.kind&&u.hasEmptyAudioTrack||!t.getTracks().find((function(e){return e.kind===r.kind})))?(this.logger.error(Xg+" can not remove track"),A({errorCode:du,extendedData:pu}),[2]):!(p=this.streamCenter.checkPublish(t))||5===p.publisher.stateNego&&1!=p.publisher.isUpdateSDP?(C=function(e){var t=N.streamCenter.previewStreamList.find((function(t){return t.originVideoTrack===e||t.originAudioTrack===e}));if(t=t||N.streamCenter.previewStreamList.find((function(t){return t.localStream.getTracks().find((function(t){return t==e}))})),t)return N.logger.info(Xg+" video info: ".concat(JSON.stringify(t.videoInfo))),t;N.logger.warn(Xg+" ".concat(e.kind," track is not created by sdk"))},this.stateCenter.engineConfig.keepAudioTrack&&"audio"===r.kind?(c?((R=null===(o=C(r))||void 0===o?void 0:o.videoInfo)&&u.updateAudioInfo(R),this._replaceTrack(t,r,!1,!0),u.hasEmptyAudioTrack=!1):((I=u.getEmptyAudioTrack())&&this._replaceTrack(t,I,!1,!0),u.hasEmptyAudioTrack=!0),this.logger.info(Xg+" end"),i(g),[2]):(f=u.rtcViewer,E=u,Q="video"==r.kind?"videoTrack":"audioTrack",c&&(B=C(r))&&("video"===r.kind?(E.updateMediaStreamConstraints(B.mediaStreamConfig,"video"),u.mediaStreamConfig.video=!0):E.updateMediaStreamConstraints(B.mediaStreamConfig,"audio")),p?(m=p.publisher,(y=p.publisher.peerConnection)?(m.isUpdateSDP=!0,"ADD"===e,m.sideMediaConfig.isSEIStart&&"video"===r.kind?(this.logger.info(Xg+" replace sei blank track."),!0,v=void 0,c?[4,m.replacePublishedTrack(r,!1,{handleTrack:e})]:[3,2]):[3,5]):(this.logger.error(Xg+" pc has not created."),[2])):[3,17])):(this.logger.error(Xg+" publish state wrong. "+"".concat(p.publisher.stateNego)),A&&A({errorCode:lu,extendedData:hu}),[2]));case 1:return v=T.sent(),m.handleSEIVideoTrack("add"),[3,4];case 2:return m.handleSEIVideoTrack("remove"),[4,m.replacePublishedTrack(m.sideMediaConfig.track,!1,{handleTrack:e})];case 3:v=T.sent(),T.label=4;case 4:return 0===(null==v?void 0:v.errorCode)||this.logger.warn(Xg+" enable sei but not found video sender. error: ".concat(JSON.stringify(v))),[3,12];case 5:return"audio"!==r.kind?[3,10]:(m.isUpdateSDP=!1,c?(E.replacePreviewTrack(r),_=E.audioNodeQueue?null===(a=null===(s=E.audioNodeQueue)||void 0===s?void 0:s.destinationNode)||void 0===a?void 0:a.stream.getAudioTracks()[0]:r,[4,y.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}))]):[3,7]);case 6:return(S=T.sent())?S.replaceTrack(_):y.addTrack(_,t),this.logger.info(Xg+" add audio track. "),[3,9];case 7:return t.removeTrack(r),E[Q]=null,f&&f.setTrack(!1,null),[4,y.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}))];case 8:(S=T.sent())&&S.replaceTrack(null),this.logger.info(Xg+" remove audio track. "),T.label=9;case 9:return this.logger.info(Xg+" end"),i(g),[2];case 10:return[4,y.getSenders().find((function(e){return e.track&&e.track.kind==r.kind||null===e.track}))];case 11:if(S=T.sent(),c)S?(S.replaceTrack(r),this.logger.info(Xg+" sender replace track "+r.kind)):(y.addTrack(r,t),this.logger.info(Xg+" pc add track "+r.kind));else{if(!S)return this.logger.error(Xg+" sender no found"),A&&A({errorCode:tu,extendedData:ru}),[2];try{S.replaceTrack(null),this.logger.info(Xg+" sender replace null.")}catch(e){this.logger.error(Xg+" "+e),A&&A({errorCode:gu,extendedData:uu+" "+e})}}T.label=12;case 12:w=E.updateVideoInfo(R=c?null==B?void 0:B.videoInfo:{}),D={},T.label=13;case 13:return T.trys.push([13,15,,16]),[4,y.createOffer(D)];case 14:return b=T.sent(),m.onCreateOfferSuccess(b,!0,gl(gl({},w),{bitRate:c?w.bitRate:50}),(function(n){return ul(N,void 0,void 0,(function(){return ll(this,(function(o){return 0!==n?A&&A({errorCode:gu,extendedData:uu}):("ADD"==e?(t.addTrack(r),E[Q]=r,f&&f.setTrack("video"==r.kind,r,"safari"===this.stateCenter.browser),"video"==r.kind&&1==r.enabled?m.sendStreamStatus(0,m.mic_status,!0):1==r.enabled&&m.sendStreamStatus(m.camera_status,0,!0),this.logger.info(Xg+" add track completely")):("video"==r.kind?m.sendStreamStatus(2,m.mic_status,!0):m.sendStreamStatus(m.camera_status,2,!0),t.removeTrack(r),E[Q]=null,f&&f.setTrack("video"==r.kind,null),this.logger.info(Xg+" remove track completely")),u.mediaStreamConfig.video="ADD"==e,i(g),this.logger.info(Xg+" end")),[2]}))}))})),[3,16];case 15:return k=T.sent(),this.logger.error(Xg+" "+k),A&&A({errorCode:We.code,extendedData:We.message+" "+k}),[3,16];case 16:return[3,18];case 17:c?((R=null==B?void 0:B.videoInfo)&&("video"===r.kind?(E.updateVideoInfo(R),u.mediaStreamConfig.video=!0):E.updateAudioInfo(R)),t.addTrack(r),E[Q]=r,f&&f.setTrack("video"==r.kind,r)):(t.removeTrack(r),E[Q]=null,"video"===r.kind&&(u.mediaStreamConfig.video=!1),f&&f.setTrack("video"==r.kind,null)),this.logger.info(Xg+" end"),i(g),T.label=18;case 18:return[2]}}))}))},e.prototype.switchDevice=function(e,t,r,i){var A=this,n=this.streamCenter.checkPreview(t),o="audio"===e;if(!n)return this.logger.error("zsc.sd.0 preview no found"),void(i&&i({errorCode:eu.code,extendedData:eu.message}));if("video"===e&&0==n.mediaStreamConfig.video)return this.logger.error("zsc.sd.0 camera can not be changed when video is false"),void(i&&i({errorCode:nu.code,extendedData:nu.message}));if(o&&0==n.mediaStreamConfig.audio)return this.logger.error("zsc.sd.0 microphone can not be changed when audio is false"),void(i&&i({errorCode:ou.code,extendedData:ou.message}));n.mediaStreamConfig.videoInput!==r&&delete n.mediaStreamConfig.facingMode;var s,a={};"video"===e?(a.videoInput=r,s=n.videoTrack):(a.audio=!0,a.audioInput=r,s=n.audioTrack),"firefox"===this.stateCenter.browser&&(null==s||s.stop());var c=gl(gl({},n.mediaStreamConfig),a);o&&"default"===r&&(this.logger.warn("zsc.sd.0 stop preview audio track"),n.audioTrack&&n.audioTrack.stop());var g=n.getMediaStreamConstraints(c);if(g.audio){var u=this.stateCenter.settingConfig.getSetting("AEC",!0),l=this.stateCenter.settingConfig.getSetting("AGC",!0),h=this.stateCenter.settingConfig.getSetting("ANS",!0);"boolean"==typeof u&&(this.logger.info("zsc.sd.0 setting AEC "+u),g.audio.echoCancellation=u),"boolean"==typeof l&&(this.logger.info("zsc.sd.0 setting AGC "+l),g.audio.autoGainControl=l),"boolean"==typeof h&&(this.logger.info("zsc.sd.0 setting ANS "+h),g.audio.noiseSuppression=h)}var d=function(r,i){i.getTracks().forEach((function(r){if(r.kind===e){var i="video"===e,o=i?"videoTrack":"audioTrack",s=n[o];s&&(r.enabled=s.enabled),i&&n.lowStream&&n.lowStream.getTracks().forEach((function(e){return e.stop()}));var a=A.streamCenter.getPublishList(t);a.length>0&&(!n.muteImage||r.enabled||!i)?a.map((function(e){return e.publisher})).forEach((function(e){e.replacePublishedTrack(r,!1,{isCamera:!0})})):n&&n.muteImage&&!r.enabled&&i?n[o]=r:n&&n.replacePreviewTrack(r,!1,{isCamera:!0}),s&&s.stop(),n.updateZegoStreamCaptureTrack(r)}})),n.restartSoundLevel()};o?g.video=!1:g.audio=!1,navigator.mediaDevices.getUserMedia(g).then((function(t){Object.assign(n.mediaStreamConfig,a),d(0,t),A.logger.info("zsc.sd.0 switch "+e+" device success"),i&&i({errorCode:0,extendedData:""})}),(function(t){var r,o;"video"==e?null===(r=n.videoTrack)||void 0===r||r.stop():null===(o=n.audioTrack)||void 0===o||o.stop(),A.logger.warn("zsc.sd.0 switch "+e+" device failed, stop last device and retry. ",t+""),navigator.mediaDevices.getUserMedia(g).then((function(t){Object.assign(n.mediaStreamConfig,a),d(0,t),A.logger.info("zsc.sd.0 swtich "+e+" device success"),i&&i({errorCode:0,extendedData:""})}),(function(t){A.logger.warn("zsc.sd.0 swtich "+e+" device failed and recover last device. ",t+"");var r=n.getMediaStreamConstraints(n.mediaStreamConfig),o=nu;"audio"===e&&(o=ou),navigator.mediaDevices.getUserMedia(r).then((function(r){d(0,r),A.logger.info("zsc.sd.0 recover last "+e+" device success"),i&&i({errorCode:o.code,extendedData:o.message+" "+JSON.stringify(t)})}),(function(t){A.logger.error("zsc.sd.0 swtich "+e+" device and recover failed, please recreate stream. ",t+""),i&&i({errorCode:o.code,extendedData:o.message+" "+JSON.stringify(t)})}))}))}))},e.prototype._replaceTrack=function(e,t,r,i){void 0===i&&(i=!1);var A=this.streamCenter.checkPreview(e),n=this.streamCenter.getPublishList(e,!1);if(!A)return this.logger.error("zc.rt.0 preview no found"),{errorCode:eu.code,extendedData:eu.message};if(A.streamFromCanvas&&"video"===t.kind)return this.logger.error("zc.rt.0 browser not support"),{errorCode:du,extendedData:pu};var o=e.getTracks().find((function(e){return e.kind===t.kind})),s="audio"===t.kind,a={errorCode:tu,extendedData:ru};if(!i&&!o)return this.logger.error("zc.rt.0 track no found"),a;if(!i&&s&&A.hasEmptyAudioTrack&&(this.logger.warn("zc.rt.0 replace empty audio track"),!this.stateCenter.engineConfig.allowReplaceEmptyTrack))return a;if(i&&s&&!A.mediaStreamConfig.audio){var c=A.mediaStreamConfig;A.mediaStreamConfig.audio=!0;var g=t.getSettings(),u=g||{},l=u.deviceId,h=u.echoCancellation,d=u.noiseSuppression,p=u.autoGainControl,C=u.channelCount;this.logger.info("zc.rt.0 add audio: "+JSON.stringify(g)),l&&(c.audioInput=l),C&&(c.channelCount=C),h&&(c.AEC=h),d&&(c.ANS=d),p&&(c.AGC=p)}var I=this.streamCenter.soundLevelDelegate&&s;if(n.length){var f=null;return I&&A.stopSoundLevel(),n.forEach((function(e){var i;f=null===(i=e.publisher)||void 0===i?void 0:i.replacePublishedTrack(t,!1,{isTrackProcessedFromOriginalStream:r})})),I&&A.startSoundLevel(),f}return I&&A.stopSoundLevel(),A.replacePreviewTrack(t,!1,{isTrackProcessedFromOriginalStream:r}),I&&A.startSoundLevel(),{errorCode:0,extendedData:""}},e.prototype.enableMicrophone=function(e,t){var r=this.streamCenter.checkPreview(e);return r?r.enableMicrophone(t,this.streamCenter):(this.logger.error("zsc.em.0 no preview"),!1)},e.prototype.enableCamera=function(e,t,r){var i=this.streamCenter.checkPreview(e);return i?i.enableCamera(t,this.streamCenter,r):(this.logger.error("zsc.ec.0 no preview"),!1)},e.prototype.setDummyCaptureImagePath=function(e,t){var r=this;return new Promise((function(i,A){var n=XA(t,r.logger),o=r.streamCenter.checkPreview(n);if(!o)return r.logger.error("zc.sdcp.0 preview no found"),void i(!1);if("string"!=typeof e)return r.logger.error("zc.sdcp.0 filePath type error"),void i(!1);var s=new Image;s.src=e,s.crossOrigin="anonymous",s.onload=function(){o.loadImgTimer&&clearTimeout(o.loadImgTimer),o.loadImgTimer=void 0,r.logger.info("zc.sdcp.0 load file path success"),o.muteImage=s,i(!0)},o.loadImgTimer=setTimeout((function(){r.logger.error("zc.sdcp.0 load img timeout"),i(!1)}),5e3)}))},e.prototype.enableAutoSwitchDevice=function(e){this.logger.info("zc.easw call. "+JSON.stringify(e)),this.stateCenter.autoSwitchDeviceSetting=gl({},e)},e.prototype.getSpan=function(e,t){var r=this.streamCenter.checkPublish(e);return this.stateCenter.reporter.createSpan(Tg.H,r?{key:Qu,par:r.streamID}:{key:Eu},{key:""},t)},e.prototype.enVideoSpan=function(e,t,r){var i=this.stateCenter.reporter.createSpan(Tg.H,{key:Qu,par:e},{key:""},t);i.setAttributes(r),i.end()},e}(),pl=function(){function e(e,t){var r=t.type,i=t.channels,A=void 0===i?1:i,n=t.bufferSize,o=void 0===n?0:n,s=t.sampleBit,a=void 0===s?16:s,c=t.sampleRate,g=void 0===c?44100:c,u=this;this.instant=0,this.slow=0,this.clip=0,this.context=e,this.type=r,this.channels=A,this.bufferSize=o,this.sampleBit=a,this.sampleRate=g,this.script=e.createScriptProcessor(o,A,A);(new Date).getTime();this.script.addEventListener("audioprocess",(function(e){var t,i=e.inputBuffer.getChannelData(0),A=0,n=0;for(t=0;t<i.length;++t)A+=i[t]*i[t],Math.abs(i[t])>.99&&(n+=1);if(u.instant=Math.sqrt(A/i.length),u.slow=.95*u.slow+.05*u.instant,u.clip=n/i.length,"pcm"===r||"wav"===r){for(var o=[],s=0;s<u.channels;s++)o.push(e.inputBuffer.getChannelData(s));u.recorderBuffer(o)}})),"pcm"!==r&&"wav"!==r||this.initRecorderBuffer(r)}return e.prototype.connectToSource=function(e,t){try{this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==t&&t(null)}catch(e){console.error(e),void 0!==t&&t(e)}return this},e.prototype.recorderBuffer=function(e){this.worker.postMessage({command:"record",val:e})},e.prototype.initRecorderBuffer=function(e){var t=this;this.worker=this.inlineWorker((function(){var e,t,r,i,A,n,o=[];function s(e,t,r){for(var i=0;i<r.length;i++,t+=2){var A=Math.max(-1,Math.min(1,r[i]));e.setInt16(t,A<0?32768*A:32767*A,!0)}}function a(e,t,r){for(var i=0;i<r.length;i++,t++){var A=Math.max(-1,Math.min(1,r[i])),n=A<0?128*A:127*A;e.setInt8(t,n+=128)}}function c(e,t,r){for(var i=0;i<r.length;i++)e.setUint8(t+i,r.charCodeAt(i))}function g(e,t){for(var r=new Float32Array(t.length/e),i=0,A=0;i<r.length;)r[i]=t[A],A+=e,i++;return r}function u(e,t,r){for(var i=new Float32Array(t*e.length),A=0,n=0;n<r[0].length;n++)i.set(r[0][n],A),A+=r[0][n].length;return i}function l(e,t){for(var r=new Float32Array(e.length+t.length),i=0;i<e.length+t.length;i+=2)r[i]=e[i/2>>0],r[i+1]=t[i/2>>0];return r}function h(t){var r,i;if(1==e)r=u(o[0],A,o),1!=t&&(i=g(t,r));else if(2==e){var n=u(o[0],A,o),s=u(o[1],A,o);1!=t?i=l(g(t,n),g(t,s)):r=l(n,s)}return 1!=t?i:r}function d(e){var r=function(e,r){var i;8==r?i=e.length:16==r&&(i=e.length,i*=2);var A=new ArrayBuffer(i),n=new DataView(A);return 8==r?a(n,0,e):16==t&&s(n,0,e),n}(h(e),t);self.postMessage({command:"exportPcmLive",val:r})}function p(i){var A=function(i,A){var n;8==A?n=i.length:16==t&&(n=i.length,n*=2);var o=new ArrayBuffer(n+44),g=new DataView(o),u=r,l=t,h=e;return c(g,0,"RIFF"),g.setUint32(4,36+n,!0),c(g,8,"WAVE"),c(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,h,!0),g.setUint32(24,u,!0),g.setUint32(28,u*h*(l/8),!0),g.setUint16(32,h*(l/8),!0),g.setUint16(34,l,!0),c(g,36,"data"),g.setUint32(40,n,!0),8==t?a(g,44,i):16==t&&s(g,44,i),g}(h(i),t);self.postMessage({command:"exportWav",val:A})}this.onmessage=function(s){switch(s.data.command){case"init":e=(a=s.data.val).sampleChannel,t=a.sampleBit,r=a.sampleRate,i=a.oldSampleRate,A=a.bufferSize,n=a.type;break;case"record":!function(t){for(var A=0;A<e;A++)o[A]||(o[A]=[]),o[A].push(t[A]);var s=Math.round(i/r);"pcm"===n?d(s):"wav"===n&&p(s),o=[]}(s.data.val)}var a}})),this.worker.postMessage({command:"init",val:{sampleChannel:this.channels,sampleBit:this.sampleBit,sampleRate:this.sampleRate,oldSampleRate:this.context.sampleRate,bufferSize:this.bufferSize,type:e}}),this.worker.onmessage=function(e){switch(e.data.command){case"exportPcmLive":t.onReceiveBuffer(e.data.val);break;case"exportWav":t.onReceiveWav(e.data.val)}}},e.prototype.onReceiveBuffer=function(e){},e.prototype.onReceiveWav=function(e){},e.prototype.writeString=function(e,t,r){for(var i=0;i<r.length;i++)e.setUint8(t+i,r.charCodeAt(i))},e.prototype.writeBuffer=function(e,t,r){for(var i=0;i<r.byteLength;i++)e.setUint8(t+i,r[i])},e.prototype.concatenation=function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].buffer.byteLength;var i=new Uint8Array(t),A=0;for(r=0;r<e.length;++r)i.set(new Uint8Array(e[r].buffer),A),A+=e[r].buffer.byteLength;return i},e.prototype.encodeWave=function(e){var t=this.concatenation(e),r=t.byteLength,i=new ArrayBuffer(r+44),A=new DataView(i),n=this.sampleRate,o=this.sampleBit,s=this.channels;return this.writeString(A,0,"RIFF"),A.setUint32(4,36+r,!0),this.writeString(A,8,"WAVE"),this.writeString(A,12,"fmt "),A.setUint32(16,16,!0),A.setUint16(20,1,!0),A.setUint16(22,s,!0),A.setUint32(24,n,!0),A.setUint32(28,n*s*(o/8),!0),A.setUint16(32,s*(o/8),!0),A.setUint16(34,o,!0),this.writeString(A,36,"data"),A.setUint32(40,r,!0),this.writeBuffer(A,44,t),A},e.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},e.prototype.inlineWorker=function(e){if(Worker&&e){var t=e.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],r=URL.createObjectURL(new window.Blob([t],{type:"text/javascript"}));return new Worker(r)}return null},e}(),Cl=function(){return Cl=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},Cl.apply(this,arguments)},Il=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},fl=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};!function(e){e[e.I=0]="I",e[e.H=10]="H",e[e.M=100]="M",e[e.L=1e3]="L"}(hl||(hl={}));function El(e,t){return e&&"live"===e.readyState?!0===e.enabled?0:"video"===e.kind&&"firefox"===t?2:20:2}var Ql,Bl,ml,yl={mutePublishStreamVideo:function(e,t,r){var i=XA(e,this.logger);this.logger.info(zg+" call. "+(null==i?void 0:i.id)+" mute: ".concat(t,", retain: ").concat(r));var A=this.rtcModules.advancedModule.getSpan(i,Ku);if("boolean"!=typeof t||void 0!==r&&"boolean"!=typeof r)return this.logger.error(zg+" option error"),!1;var n=this.rtcModules.advancedModule.enableStream(i,{video:!t,retain:r});return A.setAttributes({mute_type:zu(t?1:0),retain:ju(r)}),A.end(),this.logger.info(zg+" end"),n},mutePublishStreamAudio:function(e,t){var r=XA(e,this.logger);this.logger.info(jg+" call. "+(null==r?void 0:r.id)+" mute: ".concat(t));var i=this.rtcModules.advancedModule.getSpan(r,Vu);if("boolean"!=typeof t)return this.logger.error(jg+" option error"),!1;var A=this.rtcModules.advancedModule.enableStream(r,{audio:!t});return i.setAttributes({mute_type:Wu(t?1:0)}),i.end(),this.logger.info(jg+" end"),A},mutePlayStreamVideo:function(e,t){this.logger.info(Wg+" call "+e+" "+t);var r=this.stateCenter.reporter.createSpan(hl.H,{key:Bu,par:e},{key:""},il);r.setAttributes({mute_type:Al(t?1:0)});var i=this.rtcModules.playModule.mutePlayStream(e,"video",t);return r.end(),this.logger.info(Wg+" end"),i},mutePlayStreamAudio:function(e,t){this.logger.info(Zg+" call "+e+" "+t);var r=this.stateCenter.reporter.createSpan(hl.H,{key:Bu,par:e},{key:""},nl);r.setAttributes({mute_type:ol(t?1:0)});var i=this.rtcModules.playModule.mutePlayStream(e,"audio",t);return r.end(),this.logger.info(Zg+"end"),i},muteMicrophone:function(e){this.logger.info(Vg+" call");var t=this.stateCenter.reporter.createSpan(hl.H,{key:fu},{key:""},Zu);if("boolean"!=typeof e)return this.logger.error(Vg+" option error"),this.stateCenter.reporter.setError(t,$g),!1;var r=this.rtcModules.advancedModule.enableMicrophoneOnly(!e),i=Object.keys(this.streamCenter.publisherList).map((function(e){return{stream_id:e}}));return t.setAttributes({enable:Xu(!e),stream_list:$u(i)}),t.end(),this.logger.info(Vg+" end"),r},activateSEIInsert:function(e){var t=e.stream,r=e.action,i=e.infoType,A=this.rtcModules.advancedModule.getSpan(e.stream,sl);A.setAttributes({action:al(e.action),info_type:cl(e.infoType)});var n=this.rtcModules.publishModule.activateSEIInsert(t,r,i);return A.end(),n},getAudioInfo:function(e,t,r){if(!e)return this.logger.error("localStream is empty!"),!1;var i=Cl({},r);return new pl(this.ac,i).connectToSource(e,(function(e){t(e)}))},handleDataAvailable:function(e){e.data&&e.data.size>0&&this.recordedBlobs.push(e.data)},addTrack:function(e,t){var r=this;return new Promise((function(i,A){var n={id:t.id,muted:t.muted,enabled:t.enabled,kind:t.kind,readyState:t.readyState,label:t.label};r.logger.info("zc.at"+" call. ".concat(null==e?void 0:e.id," track: ")+JSON.stringify(n)),r.rtcModules.advancedModule.handleTrack("ADD",e,t,i,A)}))},removeTrack:function(e,t){var r=this;return new Promise((function(i,A){r.logger.info("zc.rt call"),r.rtcModules.advancedModule.handleTrack("REMOVE",e,t,i,A)}))},enableCameraCapturing:function(e,t){return void 0===t&&(t=!0),Il(this,void 0,void 0,(function(){var r,i,A,n,o;return fl(this,(function(s){return r=this.stateCenter.reporter.createSpan(hl.H,{key:fu},{key:""},el),i=XA(e,this.logger),(A=this.streamCenter.checkPreview(i))?(n=this.streamCenter.getPublishList(i),o=n.map((function(e){return{stream_id:e.streamID}})),r.setAttributes({enable:tl(t),stream_list:rl(o)}),r.end(),[2,A.enableCameraCapturing(t)]):(this.logger.error("zsc.ecc no preview"),this.stateCenter.reporter.setError(r,eu),[2,!1])}))}))}},vl={},_l={enableCamera:function(e,t,r){var i;return Il(this,void 0,void 0,(function(){var A,n,o,s,a,c,g,u,l,h,d,p,C,I,f,E=this;return fl(this,(function(Q){switch(Q.label){case 0:return this.localStream&&0!=this.localStream.getVideoTracks().length?(A=this.videoTrack,s=this.lowStream,!e&&this.muteImage?(a=WA(this.muteImage.width,this.muteImage.height),c=a.getContext("2d"),this.muteImageAnID=setInterval((function(){c.drawImage(E.muteImage,0,0)}),100),n=a.captureStream().getVideoTracks()[0],this.localStream.removeTrack(this.localStream.getVideoTracks()[0]),this.localStream.addTrack(n),this.rtcViewer&&this.rtcViewer.setVideo(n),s&&(o=n.clone())):e&&this.muteImage&&(this.isVideoNodeQueueEnabled?this.replacePreviewTrack(this.videoNodeQueue.getDestinationTrack(),!0):this.replacePreviewTrack(this.videoTrack,!1)),g=this.stateCenter.browser,r&&!e||!A?r&&!e&&((null===(i=this.videoEffect)||void 0===i?void 0:i.enabled)||this.isVideoNodeQueueEnabled?this.logger.warn("zp.ec.2 Unable to keep the preview screen when beauty is turned on"):(C=this.cloneVideoTrack,this.cloneVideoTrack=this.videoTrack.clone(),this.cloneVideoTrack.enabled=!0,this.replacePreviewTrack(this.cloneVideoTrack,!1,{retainTrack:!0}),C&&C.stop())):(A.enabled=e,"chrome"===g&&e&&void 0!==typeof A.getSettings().width&&A.getSettings().width>0&&navigator.userAgent&&(u=0,(l=(navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/)||[])[1])&&(u=parseInt(l.split(",")[0])),u&&u>=87&&u<92&&(h=A.getSettings().width-1,d=A.getSettings().height-1,p=A.getSettings().frameRate,A.applyConstraints({width:h,height:d,frameRate:p}).then((function(){A.applyConstraints({width:E.videoInfo.width,height:E.videoInfo.height,frameRate:p})}))))),A&&(A.enabled=e),this.isVideoNodeQueueEnabled?(this.videoNodeQueue.getDestinationTrack().enabled=e,!e?[4,this.videoNodeQueue.replaceNewSourceByTrack(null,!1)]:[3,2]):[3,5]):(this.logger.error("zp.ec.2 video track no found"),[2,!1]);case 1:Q.sent(),Q.label=2;case 2:return e&&A?[4,this.videoNodeQueue.replaceNewSourceByTrack(A,!1)]:[3,4];case 3:Q.sent(),Q.label=4;case 4:Q.label=5;case 5:return null==s||s.getVideoTracks().forEach((function(t){t.enabled=e})),I=t.checkPreview(this.localStream),(f=t.getPublishList(this.localStream).map((function(e){return e.publisher}))).length&&f.forEach((function(t){var r,i=null===(r=t.peerConnection)||void 0===r?void 0:r.getSenders().filter((function(e){var t;return"video"===(null===(t=e.track)||void 0===t?void 0:t.kind)}));i&&i.forEach((function(t,r){!e&&E.muteImage?i.length>1&&0===r&&o?null==t||t.replaceTrack(o):n&&(null==t||t.replaceTrack(n)):e&&(E.isVideoNodeQueueEnabled?t.track!==E.videoNodeQueue.getDestinationTrack()&&(null==t||t.replaceTrack(E.videoNodeQueue.getDestinationTrack())):t.track===E.videoTrack||(null==I?void 0:I.streamFromCanvas)||(i.length>1&&0===r?null==t||t.replaceTrack(s.getVideoTracks()[0]):null==t||t.replaceTrack(E.videoTrack)),E.muteImageAnID&&clearInterval(E.muteImageAnID))}));var A=E.muteImage&&!e?0:El(E.videoTrack,g);t.sendStreamStatus(A,t.mic_status)})),this.isVideoEnabled=e,this.logger.info("zp.ec.2 call success"),[2,!0]}}))}))},enableMicrophone:function(e,t){if(!this.localStream)return this.logger.error("zp.em.2 no localStream"),!1;this.localStream.getAudioTracks().forEach((function(t){t.enabled=e})),this.audioTrack&&(this.audioTrack.enabled=e&&t.isMicEnabled);var r=t.getPublishList(this.localStream).map((function(e){return e.publisher}));return r.length&&r.forEach((function(r){r.signal&&r.sendStreamStatus(r.camera_status,e&&t.isMicEnabled?0:2)})),this.isAudioEnabled=e,this.logger.debug("zp.em.2 call success. "+e),!0},syncTrackState:function(e,t){t.enabled=e.enabled},replacePreviewTrack:function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r={}),Il(this,void 0,void 0,(function(){var i,A,n,o,s;return fl(this,(function(a){return this.logger.info("zsc.rpt.0 call"),e&&e.kind&&this.localStream?(i=!0===(null==r?void 0:r.retainTrack),A="audio"===e.kind?"audioTrack":"videoTrack",this.syncAudioState&&"audioTrack"===A&&this.audioTrack&&!this.isOriginEmptyTrack()?this.syncTrackState(this.audioTrack,e):"videoTrack"===A&&e.videoTrack&&this.syncTrackState(this.videoTrack,e),"audio"===e.kind&&this.insertableaudio&&this.insertableaudio.track.id!==e.id&&(e=this.insertableaudio.getInsertableStreamTrack(e)),i||"video"!==e.kind||t||!this._videoNodeQueue?"audio"===e.kind&&this.audioNodeQueue&&!r.isTrackProcessedFromOriginalStream?((n=new MediaStream).addTrack(e),o=this.ac.createMediaStreamSource(n),this.audioNodeQueue.replaceSource(o)):"audio"!==e.kind||this.audioNodeQueue||!this.destNode||r.isTrackProcessedFromOriginalStream?(this.logger.info("zsc.rpt.0 replace local track"),(s=this.localStream.getTracks().find((function(t){return t.kind===e.kind})))!==e&&(s&&this.localStream.removeTrack(s),this.localStream.addTrack(e)),this.localStream.addTrack(e),this.rtcViewer&&(this.rtcViewer.setTrack("video"===e.kind,e),"safari"===this.stateCenter.browser&&this.rtcViewer.resume(!0)),!i&&"video"===e.kind&&this.enableDualStream&&this.createLowStream()):(this.createSrcNode(e,!0).connect(this.destNode),this.logger.info("zsc.rpt.0 replace audio track with audio mix.")):(this.logger.info("zsc.rpt.0 videoNodeQueue replaceNewSource"),this._videoNodeQueue.replaceNewSourceByTrack(e)),t||i||r.isTrackProcessedFromOriginalStream||(this[A]=e,"REMOVE"===r.handleTrack&&"video"===e.kind&&(this.localStream.removeTrack(e),this.rtcViewer&&this.rtcViewer.setTrack(!0,null),this[A]=null)),this.streamCenter.soundLevelDelegate&&this.soundMeterWorklet&&(this.mic=this.soundMeterWorklet.replaceSrcSource(this.ac,this.localStream)),"audio"===e.kind&&this.streamCompositor&&this.streamCompositor.replaceSource(this.localStream),r.isCamera&&("audio"===e.kind?this.audioPreviewType="camera":this.videoPreviewType="camera"),this.logger.info("zsc.rpt.0 end"),[2]):[2]}))}))},enableCameraCapturing:function(e){var t,r;return Il(this,void 0,void 0,(function(){var i,A,n,o,s,a,c,g,u,l,h,d=this;return fl(this,(function(p){switch(p.label){case 0:return this.localStream&&this.videoTrack&&"camera"===this.previewType?(i=this.lowStream,A=this.streamCenter.getPublishList(this.localStream).map((function(e){return e.publisher})),e?"live"!==this.videoTrack.readyState?[3,1]:(this.logger.warn("zp.ecc camera is already capturing"),[3,12]):[3,13]):(this.logger.error("zp.ecc not camera stream"),[2,!1]);case 1:n=this.getMediaStreamConstraints(Cl(Cl({},this.mediaStreamConfig),{audio:!1})),p.label=2;case 2:return p.trys.push([2,11,,12]),[4,navigator.mediaDevices.getUserMedia(n)];case 3:return(o=p.sent()).getTracks().forEach((function(e){return YA(e,d.logger,"zsc.ecc")})),(s=o.getVideoTracks()[0]).enabled=this.isVideoEnabled,!1===s.enabled&&this.logger.warn("zp.ecc video is not enabled"),!this.muteImage||this.isVideoEnabled?[3,4]:(this.videoTrack=s,s.enabled=!this.isVideoEnabled,[3,10]);case 4:if(!A.length)return[3,9];a=0,p.label=5;case 5:return a<A.length?[4,A[a].replacePublishedTrack(s)]:[3,8];case 6:if(0!==(null==(c=p.sent())?void 0:c.errorCode))throw c;p.label=7;case 7:return a++,[3,5];case 8:return[3,10];case 9:this.replacePreviewTrack(s),p.label=10;case 10:return this.updateZegoStreamCaptureTrack(s),[3,12];case 11:return g=p.sent(),this.logger.error("zsc.ecc resume camera capturing failed. "+JSON.stringify(g)),[2,!1];case 12:return[3,18];case 13:return u=this.videoTrack.enabled,l=this.stateCenter.browser,this.stateCenter.engineConfig.previewClearLastFrame?"safari"===l?[3,15]:(this.videoTrack.enabled=!1,null==i||(i.getVideoTracks()[0].enabled=!1),[4,new Promise((function(e){setTimeout((function(){e(void 0)}),200)}))]):[3,16];case 14:p.sent(),p.label=15;case 15:return this.videoTrack.stop(),null===(t=null==i?void 0:i.getVideoTracks()[0])||void 0===t||t.stop(),this.stopCanvasStreamTrack(),this.videoTrack.enabled=u,[3,17];case 16:this.videoTrack.stop(),null===(r=null==i?void 0:i.getVideoTracks()[0])||void 0===r||r.stop(),this.stopCanvasStreamTrack(),p.label=17;case 17:A.length&&(h=this.muteImage&&!this.isVideoEnabled?0:El(this.videoTrack,l),A.forEach((function(e){e.sendStreamStatus(h,e.mic_status)}))),p.label=18;case 18:return[2,!0]}}))}))}},Sl={mutePlayStream:function(e,t,r){var i=this;return this.logger.info("zsc.mps.0 call "+t+" "+r),new Promise((function(A,n){if("string"!=typeof e||""==e)return i.logger.error("zsc.mps.0 streamID must be string and not empty"),void n(!1);if("boolean"!=typeof r)return i.logger.error("zsc.mps.0 mute must be boolean"),void n(!1);var o=i.streamCenter.playerList[e];if(!o)return i.logger.error("zsc.mps.0 player not found"),void n(!1);if("video"===t){if(o.playOption&&!1===o.playOption.video||o.player&&0!==o.player.cameraStatus)return i.logger.error("zsc.mps.0 stream no contain video"),void n(!1);o.player.signal.ActivatePlayVideoStream(i.stateCenter.getSeq(),o.player.sessionId,r,(function(){var t,n,s,a;i.logger.info("zsc.mps.0 suc"),o.player.playMediaStatus.video=!r;var c=Yu,g=i.stateCenter.reporter.createSpan(hl.H,{key:Bu,par:e},{key:""},c.event);g.setAttributes({webrtc_sid:c.webrtc_sid(o.player.sessionId),video_activate:c.video_activate(!!o.player.playMediaStatus.video),audio_activate:c.audio_activate(!!o.player.playMediaStatus.audio),video_layer:c.video_layer(2===(null===(n=null===(t=o.player)||void 0===t?void 0:t.playOption)||void 0===n?void 0:n.streamType)?-1:null===(a=null===(s=o.player)||void 0===s?void 0:s.playOption)||void 0===a?void 0:a.streamType)}),g.end(),A(!0)}),(function(){i.logger.error("zsc.mps.0 fail"),n(!1)}))}else if("audio"===t){if(o.playOption&&!1===o.playOption.audio||o.player&&0!==o.player.micStatus)return i.logger.error("zsc.mps.0 stream no contain audio"),void n(!1);o.player.signal.ActivatePlayAudioStream(i.stateCenter.getSeq(),o.player.sessionId,r,(function(){i.logger.info("zsc.mps.0 suc"),o.player.playMediaStatus.audio=!r;var t=Yu,n=i.stateCenter.reporter.createSpan(hl.H,{key:Bu,par:e},{key:""},t.event);n.setAttributes({webrtc_sid:t.webrtc_sid(o.player.sessionId),video_activate:t.video_activate(!!o.player.playMediaStatus.video),audio_activate:t.audio_activate(!!o.player.playMediaStatus.audio)}),n.end(),A(!0)}),(function(){i.logger.error("zsc.mps.0 fail"),n(!1)}))}else n(!1)}))},setStreamAudioOutput:function(e,t){var r=this;return!(null==t||0==t.length||!e)&&(this.logger.debug("zsc.ssao.0 device "+t),e?"undefined"!==e.sinkId?(e.setSinkId(t).then((function(){r.logger.info("zsc.ssao.0 success device: "+t)})).catch((function(e){r.logger.info("zsc.ssao.0 "+e.name)})),!0):(this.logger.error("zsc.ssao.0 browser does not suppport"),!1):(this.logger.error("zsc.ssao.0 no localVideo"),!1))}},wl={activateSEIInsert:function(e,t,r){void 0===r&&(r=0);var i=this.streamCenter.checkPreview(e);return i?0!==t&&1!==t?(this.logger.error(Kg+" value of action should be 0 or 1"),!1):(i.activatesSEIConfig={action:t,infoType:r},this.streamCenter.getPublishList(e).map((function(e){return e.publisher})).forEach((function(e){e.activateSEIInsert(t,r)})),!0):(this.logger.error(Kg+" stream is not created"),!1)}},Dl={activateSEIInsert:function(e,t){var r=this;return new Promise((function(i,A){return r.signal?(r.signal&&r.signal.activateSEIInsert(r.stateCenter.getSeq(),r.sessionId,r.peerID,e,t,(function(e,t,A){var n=!1;0===A.result?(r.logger.info(Kg+" called success"),n=!0):1===A.result?(r.logger.error(Kg+" "+A.peer_id+" invalid param."),n=!1):2===A.result&&(r.logger.error(Kg+" peer not exist"),n=!1),i(n)}),(function(e){1===e&&r.logger.error(Kg+" request timeout")})),!1):i(!1)}))},replacePublishedTrack:function(e,t,r){var i;return void 0===t&&(t=!1),void 0===r&&(r={}),Il(this,void 0,void 0,(function(){var A,n,o,s,a,c,g,u;return fl(this,(function(l){switch(l.label){case 0:return null==(A=this.previewer)?void 0:A.videoEffect,o=A["".concat(n=e.kind,"Track")],s=null===(i=this.peerConnection)||void 0===i?void 0:i.getSenders().filter((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.kind)===n})),a=this.stateCenter.browser,o||r.handleTrack?(c=0,g=0,"video"===n?(c=El(t?o:e,a),g=this.mic_status):"audio"===n&&(g=El(e,a),c=this.camera_status),[4,A.replacePreviewTrack(e,t,r)]):[3,2];case 1:return l.sent(),u=e,"audio"==e.kind&&A.insertableaudio&&(u=A.localStream.getAudioTracks()[0]),s?(s.forEach((function(e,r){var i=!1;if(("video"!==n||!t&&A.isVideoNodeQueueEnabled)&&("audio"!==n||"audio"===n&&A.destNode)||(i=!0),i)if("video"==n&&A.lowStream&&s.length>1&&0==r)e.replaceTrack(A.lowStream.getVideoTracks()[0]);else if("video"==n&&A.streamFromCanvas){if(!A.streamFromCanvasTrack){var o=A.getStreamThroughCanvas(A.localStream);A.streamFromCanvasTrack=o.getVideoTracks()[0]}e.replaceTrack(A.streamFromCanvas?A.streamFromCanvasTrack:u)}else e.replaceTrack(u)})),this.sendStreamStatus(c,g)):this.logger.info("zc.rt.1 replace remote track will work after stream published"),this.logger.info("zc.rt.1 replace remote track success"),[2,{errorCode:0,extendedData:""}];case 2:return this.logger.error("zc.rt.1 publisher track no found"),[2,{errorCode:tu,extendedData:ru}]}}))}))}},bl={activateSEIInsert:function(e,t,r,i,A,n,o){this.logger.info(Kg+" call "+t);var s="ActivateSEIInsertReq",a=this.webrtcCenterSvr.getBodyData(s,{peer_id:r,action:i,info_type:A});this.sendMessageWithCallback(s,e,t,a,n,o)}},kl={type:"Advance",install:function(e,t,r,i,A,n,o,s){for(var a in Object.defineProperty(t.prototype,"initAdvance",{value:function(){this.advancedModule=new dl(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),yl)Object.defineProperty(e.prototype,a,{value:yl[a],writable:!1});for(var a in vl)Object.defineProperty(r.prototype,a,{value:vl[a],writable:!1});for(var a in _l)Object.defineProperty(i.prototype,a,{value:_l[a],writable:!1});for(var a in Sl)Object.defineProperty(A.prototype,a,{value:Sl[a],writable:!1});for(var a in wl)Object.defineProperty(n.prototype,a,{value:wl[a],writable:!1});for(var a in Dl)Object.defineProperty(o.prototype,a,{value:Dl[a],writable:!1});for(var a in bl)Object.defineProperty(s.prototype,a,{value:bl[a],writable:!1})}},Rl={code:1000055,message:"cdn url is invalid"},Nl={code:1103052,message:"publisher cdn push error"},Tl={code:1100999,message:"unknown server error"};Ql=__webpack_require__(1054).proto_media,Bl=__webpack_require__(4799),ml=__webpack_require__(4255),Bl.util.Long=ml,Bl.configure();var Ll,Ml=function(){function e(){}return e.prototype.encodeRelayPublishCdnReq=function(e){var t=Ql.RelayPublishCdnRequest.create(e);return Ql.RelayPublishCdnRequest.encode(t).finish()},e.prototype.decodeRelayPublishCdnRsp=function(e){return Ql.RelayPublishCdnResponse.decode(e)},e}();!function(e){e[e.I=0]="I",e[e.H=10]="H",e[e.M=100]="M",e[e.L=1e3]="L"}(Ll||(Ll={}));var Ol,Pl,Fl,Gl={},Ul={_sendCDNPublishByAccessHub:function(e,t,r,i){var A=this;this.mediaProtoBuf||(this.mediaProtoBuf=new Ml);var n="addpush"===t.type?1:2,o={request_seq:this.stateCenter.cdnSeq++,request_cmd:n,streamid:e,cdn_server:t.pushUrl};this.logger.info("zb.sh.scpba "+JSON.stringify(o));var s=this.mediaProtoBuf.encodeRelayPublishCdnReq(o),a=function(e,t){try{var r=A.mediaProtoBuf.decodeRelayPublishCdnRsp(e),i=(null==r?void 0:r.response)||{};return{code:i.code,msg:i.message}}catch(e){return{code:-1}}};this.sendHttpPBRequest({interfaceID:6,resID:this.stateCenter.appid+"/"+e},s,(function(e,n){A.logger.info("zb.sh.pt receive message");var o=a(e),s=o.code,c=o.msg;s&&0!=s?(A.logger.error("zb.sh.pt "+t.type+" error code: "+s+" "+c),i(5004===s?Rl:Tl," cmd: ".concat(t.type," ").concat(s," ").concat(c))):(A.logger.info("zb.sh.pt "+t.type+" success"),r&&r({errorCode:0,extendedData:""}))}),(function(e,r,n){var o="";if(n)i&&i(n,o);else{if(n=uA.kUnknownServerError,200===e)A.logger.info("zb.sh.pt error: "),n=uA.kUnknownServerError,o="cmd: ".concat(t.type);else{var s="";if("string"==typeof r)s=r;else{var c=a(r);s=c.code+" "+c.msg}o="request media server fail, error: "+e+" "+s}A.logger.error("zb.sh.pt "+o),i&&i(n,o)}}))},_publishTarget:function(e,t,r){this.logger.info("zb.sh.ptcall");var i=e.streamID;this.stateCenter.testEnvironment&&(i="zegotest-"+this.stateCenter.appid+"-"+e.streamID),this.stateCenter.useNetAgent?this._sendCDNPublishByAccessHub(i,e,t,r):this._sendCDNPublishByAccessSvr(i,e,t,r)}},xl=function(){function e(e,t,r,i){this.logger=e,this.dataReport=t,this.streamCenter=r,this.stateCenter=i,this.screenShotReady=!1}return e.prototype.publishTarget=function(e){var t=this,r="";switch(e.type){case"addpush":r=lA;break;case"delpush":case"clearpush":r=hA}var i=this.stateCenter.reporter.createSpan(Ll.H,{key:St.event,par:e.streamID},{key:""},r);return i.setAttributes({url:dA(e.pushUrl)}),new Promise((function(r,A){var n=function(e,r){t.logger.error("zb.pt "+(r||e.message)),t.stateCenter.reporter.setError(i,e,r),A({errorCode:e.code,extendedData:e.message+(r?" "+r:"")})};if(-1==["addpush","delpush","clearpush"].indexOf(e.type))return t.logger.error("zb.sh.pt cdn push type error"),void n(Nl,"type error");if(e.streamID&&"string"==typeof e.streamID)if(e.pushUrl&&"string"==typeof e.pushUrl)if(t.stateCenter.publishStreamList[e.streamID]){var o=t.streamCenter.getRoomByStreamID(e.streamID);if(o){o.streamHandler._publishTarget(e,(function(e){i.end(),r(e)}),n)}else n(uA.kNoLoginError)}else n(uA.kPublishStreamNoFoundError);else n(uA.kParamError,"push url error");else n(uA.kParamError,"stream id type error")}))},e}(),Hl={type:"StreamCDN",install:function(e,t,r){for(var i in Object.defineProperty(t.prototype,"initStreamCDN",{value:function(){this.streamCDNModule=new xl(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),Gl)Object.defineProperty(e.prototype,i,{value:Gl[i],writable:!1});for(var i in Ul)Object.defineProperty(r.prototype,i,{value:Ul[i],writable:!1})}},ql="zc.pe.0",Jl="zc.pe.1",Yl="zc.aep",Kl="zc.sev",zl="zc.sma.0",jl="zc.sma.1",Vl="zc.mb",Wl="zc.smb",Zl="zc.p.0.pe.0",Xl="zc.p.0.pe.1",$l="zc.p.0.re",eh="zc.p.0.se",th="zc.p.0.sma.0",rh="zc.smav",ih="zc.p.0.mb",Ah="zc.p.0.smav",nh=1103057,oh="decode audio data fail",sh=function(){function e(e,t,r,i,A){this.logger=e,this.ac=t,this.localStream=r,this.destination=i,this.rtcViewer=A,this.audioBufferList=[],this.replace=!1,this.effectEndedCallBack=null,this.effectEndedListener=null,this.startTimes=0,this.startOffset=0,this.pauseTimes=0,this.resumeOffset=0,this.paused=!1,this.isMixAudio=!1,this.isMixingBuffer=!1,this.loop=!1}return e.prototype.playEffect=function(e,t,r,i,A){var n=this;!0!==this.isMixAudio?this.audioBuffer?(this.startOffset=e||0,this.loop=t||!1,this.replace=r||!1,this.effectEndedCallBack=A,this.mixEffect(this.audioBuffer,(function(){n.buffSource.loop=!!t,e?n.buffSource.start(0,e/1e3):n.buffSource.start(0),n.startTimes=Date.now(),n.effectEndedListener=n.effectEndedHandler.bind(n),n.buffSource.addEventListener("ended",n.effectEndedListener),i&&i()}))):this.logger.error("amu.pe.1 no audio buffer found"):this.logger.warn("amu.pe.1 audio is mixing")},e.prototype.stopMixingBuffer=function(){return this.isMixingBuffer=!1,this.stopMixingAudio()},e.prototype.playRealTimeEffect=function(e){var t=this;this.mixEffect(e,(function(){t.buffSource&&t.buffSource.start(0),t.buffSource&&t.buffSource.addEventListener("ended",(function(){t.audioBufferList.shift(),t.audioBufferList.length>0&&t.isMixAudio&&t.playRealTimeEffect(t.audioBufferList[0])}))}))},e.prototype.pauseEffect=function(){this.audioBufferList.length>0?this.logger.error("amu.pe.0 real time buffer can not be paused"):(this.stopMixingAudio(!0),this.resumeOffset=(this.pauseTimes-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration),this.paused=!0)},e.prototype.resumeEffect=function(){return this.audioBufferList.length>0?(this.logger.error("amu.pe.0 real time buffer can not be resume"),!1):(this.playEffect(this.resumeOffset,this.loop,this.replace,void 0,this.effectEndedCallBack),this.startOffset=this.resumeOffset,this.paused=!1,!0)},e.prototype.mixEffect=function(e,t){this.localStream?(this.ac.resume(),this.gainNode=this.ac.createGain(),this.delayNode=this.ac.createDelay(1),this.delayNode.delayTime.value=0,this.buffSource=this.ac.createBufferSource(),this.buffSource.buffer=e,this.buffSource.connect(this.gainNode),this.gainNode.connect(this.ac.destination),this.replaceTrack()&&t()):this.logger.error("amu.me.0 localStream can not be found")},e.prototype.replaceTrack=function(){if(!this.destination)return!1;this.gainNode.connect(this.delayNode),this.delayNode.connect(this.destination);var e=this.destination.stream.getAudioTracks()[0],t=this.localStream.getTracks();return this.micTrack=this.localStream.getAudioTracks()[0],this.micTrack!==e&&(this.micTrack?t.includes(this.micTrack)&&this.localStream.removeTrack(this.micTrack):this.logger.warn("amu.rt.0 origin track not fonud"),t.includes(e)||(this.localStream.addTrack(e),this.rtcViewer&&this.rtcViewer.setAudio(e))),this.isMixAudio=!0,!0},e.prototype.effectEndedHandler=function(){this.stopMixingAudio(),this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null},e.prototype.stopMixingAudio=function(e){return void 0===e&&(e=!1),this.paused?(this.logger.info("amu.sma.1 audioEffect is paused"),!e&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):this.isMixAudio?this.localStream?(this.buffSource&&(this.buffSource.removeEventListener("ended",this.effectEndedListener),this.buffSource.stop(),this.pauseTimes=Date.now(),this.buffSource.disconnect(this.gainNode),this.buffSource=null),this.gainNode.disconnect(),this.delayNode.disconnect(),this.isMixAudio=!1,this.audioBufferList=[],!e&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):(this.logger.error("amu.sma.1 localStream can not be found"),!1):(this.logger.warn("amu.sma.1 no mixing audio found"),!0)},e.prototype.getProcess=function(){var e=Date.now();return this.paused&&(e=this.pauseTimes),(e-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration)},e.prototype.seekTo=function(e){void 0===e&&(e=0),this.startOffset=e,this.paused?this.resumeOffset=e:(this.stopMixingAudio(!0),this.playEffect(e,this.loop,this.replace,void 0,this.effectEndedCallBack))},e.prototype.mixingBuffer=function(e,t){var r=this;!0!==this.isMixAudio||0!=this.audioBufferList.length||0!=this.isMixingBuffer?(this.ac.resume(),this.ac.decodeAudioData(e,(function(e){r.audioBufferList.push(e),1==r.audioBufferList.length&&r.playRealTimeEffect(r.audioBufferList[0]),r.isMixingBuffer=!0,t&&t()}),(function(e){r.logger.error("amu.mb.0 "+e),t&&t({code:nh,message:oh+" "+e})}))):this.logger.error("amu.mb.0 audio is mixing")},e.prototype.setMixingAudioVolume=function(e){return this.gainNode?(console.error("ktv setVolume",e),this.gainNode.gain.value=e,!0):(this.logger.error("amu.sma.2 no mixing audio found"),!1)},e.prototype.setDelay=function(e){return this.delayNode?(this.logger.info("amu.sma.2 set delay: "+e),this.delayNode.delayTime.value=e,!0):(this.logger.warn("amu.sma.2 no mixing audio found"),!1)},e}(),ah=function(){function e(e,t,r,i,A,n,o){void 0===o&&(o=1);var s=this;this.logger=e,this.acMgr=t,this.localStream=r,this.browser=i,this.destination=A,this.rtcViewer=n,this.volumeFactor=o,this.isMixAudio=!1,this.maxDelay=1,this.audioCurrentTimer=null,this.audioResumedTimer=null,this.audioEl=null,this.eventHandler={volumechange:function(e){var t=e.target;t&&s.audioNode&&s.isMediaElSrc&&(t.muted||t.paused?(s.logger.info("amu.sma.0 ".concat(s.id," audio muted disconnect")),s.audioNode.disconnect()):(s.logger.info("amu.sma.0 ".concat(s.id," audio is connected")),s.audioNode.connect(s.gainNode)))},canplay:function(e){var t=e.target;t&&!s.isMediaElSrc&&s.isMixAudio&&(s.logger.info("amu.sma.1 ".concat(s.id," canplay, remixing audio")),s.stopMixingAudio(),s.startMixingAudio(t))}},this.isMediaElSrc=!1,this.volume=1,this.delay=0,this.id=Date.now()%1e5+Math.floor(10*Math.random()),e.info("amu.sma.0 ".concat(this.id," init audio mix"))}return Object.defineProperty(e.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),e.prototype.startMixingAudio=function(e){if(this.isMixAudio)return this.logger.error("amu.sma.0 audio is mixing"),!1;if(!this.localStream)return this.logger.error("amu.sma.0 localStream can not be found"),!1;var t;e.captureStream=e.captureStream||e.mozCaptureStream||e.webkitCaptureStream,this.isMixAudio=!0,this.gainNode||(this.gainNode=this.ac.createGain(),this.setMixingAudioVolume()),this.delayNode||(this.delayNode=this.ac.createDelay(this.maxDelay),this.logger.info("amu.sma.1 ".concat(this.id," init set delay: ")+this.delay),this.delayNode.delayTime.value=this.delay);var r="safari"===this.browser;this.isMediaElSrc=!0;try{var i=this.acMgr.getMediaElementRenderer(e);if(!i)return!1;this.audioNode=i.getMixNode().mixOutputNode,this.audioEl=e}catch(e){t=e}e.addEventListener("volumechange",this.eventHandler.volumechange),e.addEventListener("pause",this.eventHandler.volumechange),e.addEventListener("play",this.eventHandler.volumechange);var A=this.getBrowserInfo(),n=!1;return r&&"10.15.6"===(null==A?void 0:A.sysVer)&&"13.1.2"===(null==A?void 0:A.ver)&&(n=!0),n&&(this.audioResumedTimer=setInterval((function(){e.currentTime=e.currentTime+.45}),6e3)),t?(this.logger.info("amu.sma.1 ".concat(this.id," create source failed: ")+t),!0):(this.audioNode.connect(this.gainNode),this.logger.info("amu.sma.1 ".concat(this.id," mix audio success.")),this.replaceTrack())},e.prototype.getBrowserInfo=function(){var e,t={},r=navigator.userAgent.toLowerCase();e=(r.match(/x [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),t.sysVer=e;var i=r.match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return i&&(t.browser=i[1].replace(/version/,"'safari"),t.ver=i[2]),t},e.prototype.replaceTrack=function(){if(!this.destination)return!1;this.gainNode.connect(this.delayNode),this.delayNode.connect(this.destination);var e=this.destination.stream.getAudioTracks()[0],t=this.localStream.getTracks();return this.micTrack=this.localStream.getAudioTracks()[0],this.micTrack!==e&&(this.micTrack?t.includes(this.micTrack)&&this.localStream.removeTrack(this.micTrack):this.logger.warn("amu.rt.1 origin track not fonud"),t.includes(e)||(this.localStream.addTrack(e),this.rtcViewer&&this.rtcViewer.setAudio(e))),!0},e.prototype.stopMixingAudio=function(){return this.isMixAudio?this.localStream?(this.audioEl&&(this.audioEl.removeEventListener("volumechange",this.eventHandler.volumechange),this.audioEl.removeEventListener("pause",this.eventHandler.volumechange),this.audioEl.removeEventListener("play",this.eventHandler.volumechange),this.audioEl.removeEventListener("canplay",this.eventHandler.canplay),this.audioEl=null),this.audioNode&&(this.audioNode.disconnect(),this.audioNode=null,this.audioCurrentTimer&&(clearInterval(this.audioCurrentTimer),this.audioCurrentTimer=null),this.audioResumedTimer&&(clearInterval(this.audioResumedTimer),this.audioResumedTimer=null)),this.gainNode.disconnect(),this.delayNode.disconnect(),this.isMixAudio=!1,this.logger.info("amu.sma.1 ".concat(this.id," stop mix audio success.")),!0):(this.logger.error("amu.sma.1 localStream can not be found"),!1):(this.logger.warn("amu.sma.1 no mixing audio found"),!0)},e.prototype.setMixingAudioVolume=function(e,t){if(void 0===e?e=this.volume:this.volume=e,void 0===t?t=this.volumeFactor:this.volumeFactor=t,!this.gainNode)return this.logger.error("amu.sma.2 no mixing audio found"),!1;var r=e*this.volumeFactor;return this.logger.info("amu.sma.2 "+this.id+" set volume: "+r),this.gainNode.gain.value=r,!0},e.prototype.setDelay=function(e){return this.delayNode?(e/=1e3,!isNaN(e)&&(e>this.maxDelay&&(e=this.maxDelay),e<0&&(e=0),this.logger.info("amu.sma.1 ".concat(this.id," set delay: ")+e),this.delayNode.delayTime.value=e,this.delay=e,!0)):(this.logger.warn("amu.sma.1 no mixing audio found"),!1)},e}(),ch=function(){function e(e){this.previewer=e,this.audioDestNode=void 0,this.audioMixList=[],this.arrayBufferMap={},this.effectList=[],this.volumeFactor=1}return Object.defineProperty(e.prototype,"delay",{get:function(){return this.previewer.stateCenter.engineConfig.mixingAudioDelay+this.previewer.stateCenter.engineConfig.baseMixingAudioDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this.previewer.logger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localStream",{get:function(){return this.previewer.localStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"streamCenter",{get:function(){return this.previewer.streamCenter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"acMgr",{get:function(){return this.previewer.acMgr},enumerable:!1,configurable:!0}),e.prototype.startMixingAudio=function(e){var t=this;if(this.logger.info(th+" call"),!this.localStream)return this.logger.error(th+" localStream not found"),!1;var r=!0;return e.forEach((function(e){if(t.audioMixList.find((function(t){return t.media==e})))t.logger.warn(th+" mix audio already exist");else if(t.localStream){t.streamCenter.soundLevelDelegate&&t.previewer.stopSoundLevel();var i=t.createDestNode(),A=new ah(t.logger,t.acMgr,t.localStream,t.previewer.stateCenter.browser,i,t.previewer.rtcViewer,t.volumeFactor);t.audioMixList.push({audioMix:A,media:e}),A.startMixingAudio(e)||(r=!1),A.setDelay(t.delay),t.streamCenter.soundLevelDelegate&&t.previewer.startSoundLevel()}})),r},e.prototype.stopMixingAudio=function(e){var t=this;return this.logger.info("zc.p.0.sma.1 call"),e?e.forEach((function(e){for(var r=0;r<t.audioMixList.length;r++)if(t.audioMixList[r].media==e){t.audioMixList[r].audioMix.stopMixingAudio()&&t.audioMixList.splice(r--,1);break}})):(this.audioMixList.forEach((function(e){return e.audioMix.stopMixingAudio()})),this.audioMixList=[]),!0},e.prototype.setVolumeFactor=function(e){this.logger.info(Ah+" set factor: "+e),isNaN(e)&&this.logger.error(Ah+" set factor failed"),this.volumeFactor=e,this.audioMixList.forEach((function(t){t.audioMix.setMixingAudioVolume(void 0,e)}))},e.prototype.setMixingAudioVolume=function(e,t){this.logger.info(Ah+" call");var r=this.audioMixList.find((function(e){return e.media===t}));return r?(r.audioMix.setMixingAudioVolume(e),this.logger.info(Ah+" call success"),!0):(this.logger.error(Ah+" audio is not mixing"),!1)},e.prototype.playEffect=function(e,t,r,i){var A=this;if(this.logger.info(Zl+" call"),this.localStream)if(this.effectList.find((function(r){return r.effectID==e.effectID&&r.audioBuffer==t})))this.logger.warn(Zl+" effect already exist ");else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var n=this.createDestNode(),o=new sh(this.logger,this.ac,this.localStream,n,this.previewer.rtcViewer);o.audioBuffer=t;var s={processor:o,effectID:e.effectID,audioBuffer:t};this.effectList.push(s);o.playEffect(e.playTime,e.loop,!1,(function(){r&&r()}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];A.effectList=A.effectList.filter((function(e){return e!==s})),i&&i.apply(void 0,e)})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(Zl+" play effect "+e.effectID+" success")}else this.logger.warn(Zl+" stream not found")},e.prototype.pauseEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),t.processor.pauseEffect(),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(Xl+" pause "+e+" success");else{if(void 0!==e)return this.logger.error(Xl+" effect not found"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach((function(e){return e.processor.pauseEffect()})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},e.prototype.resumeEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t){this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var r=t.processor.resumeEffect();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info($l+" resume "+e+" success"),r}return void 0===e?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach((function(e){return e.processor.resumeEffect()})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error($l+" no effect found"),!1)},e.prototype.stopEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),t.processor.stopMixingAudio(),this.effectList=this.effectList.filter((function(e){return e!==t})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(eh+" pause "+e+" success");else{if(void 0!==e)return this.logger.error(eh+" effect not found"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach((function(e){return e.processor.stopMixingAudio()})),this.effectList=[],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},e.prototype.setEffectVolume=function(e,t,r){var i=this.effectList.find((function(e){return e.effectID==t}));if(i)i.processor.setMixingAudioVolume(e),i.processor.setDelay(r||1e-7),this.logger.info("zp.sev.0 set volume "+t+" success");else{if(void 0!==t)return this.logger.error("zp.sev.0 effect not found"),!1;this.effectList.forEach((function(t){return t.processor.setMixingAudioVolume(e)}))}return!0},e.prototype.mixingBuffer=function(e,t,r){var i=this;if(this.logger.info(ih+" call"),this.localStream)if(this.arrayBufferMap[e])this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[e].mixingBuffer(t,(function(){i.streamCenter.soundLevelDelegate&&i.previewer.startSoundLevel(),r&&r()}));else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var A=this.createDestNode(),n=new sh(this.logger,this.ac,this.localStream,A,this.previewer.rtcViewer);this.arrayBufferMap[e]=n,n.mixingBuffer(t,(function(){i.streamCenter.soundLevelDelegate&&i.previewer.startSoundLevel(),r&&r()}))}},e.prototype.stopMixingBuffer=function(e){if(e&&this.arrayBufferMap[e])return this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[e].stopMixingBuffer(),delete this.arrayBufferMap[e],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0;if(void 0===e){for(var t in this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap)this.arrayBufferMap[t].stopMixingBuffer();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0}return this.logger.warn(ih+" arrayBuffer no found"),!1},e.prototype.getEffectProgress=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));return t?t.processor.getProcess():(this.logger.error(Yl+"  effect not found"),0)},e.prototype.seekAudioEffect=function(e,t){var r=this.effectList.find((function(t){return t.effectID==e}));return r?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),r.processor.seekTo(t),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error(Yl+" effect not found"),!1)},e.prototype.stopAudioManager=function(){this.stopMixingAudio(),this.stopMixingBuffer(),this.stopEffect()},e.prototype.createDestNode=function(){var e=null,t=this.previewer.createDestNode(this.localStream);return this.previewer.audioNodeQueue||((e=this.previewer.createSrcNode()).disconnect(),e.connect(t)),t},e.prototype.setMixingDelay=function(e){this.audioMixList.forEach((function(t){t.audioMix.setDelay(e)}))},e}(),gh=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},uh=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},lh=function(){function e(e,t,r,i,A,n){var o=this;this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.ac=A,this.rtcModules=n,this.buffer=null,this.blank=null,this.mixingDelay=0,"safari"==this.stateCenter.browser&&null==this.blank&&null==this.buffer&&(this.buffer=this.ac.createBuffer(1,1,this.ac.sampleRate),this.blank=this.ac.createBufferSource(),this.blank.buffer=this.buffer,this.blank.connect(this.ac.destination),this.blank.start()),this.rtcModules.bindListener("_engineConfigUpdate",(function(e){var t=e.mixingAudioDelay+e.baseMixingAudioDelay;isNaN(t)||t===o.mixingDelay||(o.logger.info("zc.am.mdu delay update:"+t+", origin:"+o.mixingDelay),o.mixingDelay=t,o.streamCenter.previewStreamList.forEach((function(e){e.audioMixManager&&e.audioMixManager.setMixingDelay(t)})))}))}return e.prototype.preloadEffect=function(e,t,r){if(this.checkPreviewer(ql,{effectID:e},{effectID:!0}))if(t&&"string"==typeof t){if(this.stateCenter.audioEffectBuffer[e])return this.logger.warn(ql+" audio buffer already exists"),void(r&&r());this.logger.info(ql+" start preload effect"),this._preloadEffect(this.ac,e,t,r)}else this.logger.error(ql+" params error")},e.prototype.checkPreviewer=function(e,t,r){void 0===t&&(t={});var i=!!(null==r?void 0:r.effectID),A=!!(null==r?void 0:r.previewer),n=t.effectID,o=t.streamID;if((!!(null==r?void 0:r.streamID)||o)&&"string"!=typeof o&&!(o instanceof MediaStream))return this.logger.error(e+" stream type error"),!1;if(i&&!n)return this.logger.error(e+" effectID required"),!1;if(n&&"string"!=typeof n)return this.logger.error(e+" effectID type error"),!1;if(A){var s=this.streamCenter.getPreviewer(o);return s||(this.logger.error("string"==typeof o?e+" "+o+" stream is not publishing":e+" stream doesn't exist"),!1)}return!0},e.prototype.getEffectDuration=function(e){if(!this.checkPreviewer(Yl,{effectID:e},{effectID:!0}))return 0;var t=this.stateCenter.audioEffectBuffer[e];return t?t.duration?Math.floor(1e3*t.duration):0:(this.logger.error(Yl+" effect not found"),0)},e.prototype.getEffectProgress=function(e,t){var r=this.checkPreviewer(Yl,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});return"boolean"==typeof r?0:this.getAudioManager(r).getEffectProgress(t)},e.prototype.seekAudioEffect=function(e,t,r){if(r<0)return this.logger.error(Yl+" param time error "),!1;var i=this.checkPreviewer(Yl,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});return"boolean"!=typeof i&&this.getAudioManager(i).seekAudioEffect(t,r)},e.prototype.playEffect=function(e,t,r){return gh(this,void 0,void 0,(function(){var i,A,n,o,s=this;return uh(this,(function(a){switch(a.label){case 0:return i=XA(e.stream,this.logger)||e.streamID,A=e.path,this.checkPreviewer(Jl,{streamID:i,effectID:n=e.effectID},{streamID:!0,effectID:!0})?(o=this.stateCenter.audioEffectBuffer[n],A?o?(this.logger.warn(Jl+" audio effect already exists"),[3,3]):[3,1]:[3,4]):[2];case 1:return[4,new Promise((function(e,t){s.preloadEffect(n,A,(function(r){r?(s.logger.error(Jl+" preload audio effect failed"),t(r)):e(void 0)}))}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!o)return this.logger.error(Jl+" audio effect doesn't exists"),[2];a.label=5;case 5:return this._playEffect(e,t,r),[2]}}))}))},e.prototype.pauseEffect=function(e,t){var r="string"==typeof e?e:XA(e,this.logger);return this._pauseEffect(r,t)},e.prototype.resumeEffect=function(e,t){var r="string"==typeof e?e:XA(e,this.logger);return this._resumeEffect(r,t)},e.prototype.stopEffect=function(e,t){var r="string"==typeof e?e:XA(e,this.logger);return this._stopEffect(r,t)},e.prototype.unloadEffect=function(e){return!!this.checkPreviewer("zc.ue",{effectID:e},{effectID:!0})&&(delete this.stateCenter.audioEffectBuffer[e],!0)},e.prototype.setEffectVolume=function(e,t,r,i){if("number"!=typeof t||t<0||t>200)return this.logger.error(Kl+" volume must be a number between 0 and 200"),!1;var A="string"==typeof e?e:XA(e,this.logger),n=this.checkPreviewer(Kl,{streamID:A,effectID:r},{streamID:!0,previewer:!0});return"boolean"!=typeof n&&this.getAudioManager(n).setEffectVolume(t/100,r,i)},e.prototype.startMixingAudio=function(e,t){var r="string"==typeof e?e:XA(e,this.logger);return this.logger.info(zl+" call "+r),r?t?(this.logger.info(zl+" end "+r),Array.isArray(t)&&0!==t.length&&t.every((function(e){return e instanceof HTMLMediaElement}))?this._startMixingAudio(r,t):(this.logger.error(zl+" audio list param type error"),!1)):(this.logger.error(zl+" no audio"),!1):(this.logger.error(zl+" stream not found"),!1)},e.prototype.stopMixingAudio=function(e,t){var r="string"==typeof e?e:XA(e,this.logger);return r?Array.isArray(t)&&0!==t.length||void 0===t?this._stopMixingAudio(r,t):(this.logger.error(jl+" audio param type error"),!1):(this.logger.error(jl+" stream not found"),!1)},e.prototype.mixingBuffer=function(e,t,r,i){var A="string"==typeof e?e:XA(e,this.logger);this.logger.info(Vl+" call streamID: "+JSON.stringify(A)+" sourceID:"+t),A?t&&"string"==typeof t?(this._mixingBuffer(A,t,r,i),this.logger.info(Vl+" end")):this.logger.error(Vl+" param source id format error"):this.logger.error(Vl+" param streamid format error")},e.prototype.stopMixingBuffer=function(e,t){var r="string"==typeof e?e:XA(e,this.logger);return this._stopMixingBuffer(r,t)},e.prototype.setMixingAudioVolume=function(e,t,r){if(this.logger.info(rh+" call"),!e)return this.logger.error(rh+" stream not found"),!1;if("number"!=typeof t||t<0||t>200)return this.logger.error(rh+" volume must be a number between 0 and 200"),!1;if(!(r&&r instanceof HTMLMediaElement))return this.logger.error(rh+" no audio"),!1;var i="string"==typeof e?e:XA(e,this.logger);return this._setMixingAudioVolume(i,t,r)},e.prototype.getSoundLevel=function(e,t,r){this.logger.info("zc.gsl call");var i=this.streamCenter.getCloudSoundInterval();try{var A=this.streamCenter.createSoundLevel(this.ac,e,this.streamCenter.soundLevelInterval,i,(function(e){t(e)}));this.stateCenter.audioStreamList[e.id]={mic:A.mic,script:A.soundMeter}}catch(e){r(e)}this.logger.info("zc.gsl call success")},e.prototype.stopSoundLevel=function(e){this.logger.info("zc.ssl call");var t=this.stateCenter.audioStreamList[e.id];t.mic.disconnect(),t.script.destroy(),delete this.stateCenter.audioStreamList[e.id]},e.prototype._preloadEffect=function(e,t,r,i){var A=this,n=new XMLHttpRequest;n.open("GET",r,!0),n.setRequestHeader("Range","none"),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||304==n.status){e.decodeAudioData(n.response,(function(e){A.logger.info("zc.pe.0 effect '".concat(t,"' preload success")),A.stateCenter.audioEffectBuffer[t]=e,i&&i()}),(function(e){A.logger.error("zc.pe.0 effect '".concat(t,"' preload fail. ")+e),i&&i(e)}))}else{var r=n.statusText;A.logger.error("zc.pe.0 effect '".concat(t,"' preload fail.")+r),i&&i(r)}},n.send()},e.prototype._playEffect=function(e,t,r){var i=XA(e.stream,this.logger)||e.streamID,A=this.stateCenter.audioEffectBuffer[e.effectID];if(A){var n=this.checkPreviewer(Jl,{streamID:i,effectID:e.effectID},{streamID:!0,effectID:!0,previewer:!0});"boolean"!=typeof n&&this.getAudioManager(n).playEffect(e,A,t,r)}else this.logger.error(Jl+" no audio buffer found")},e.prototype._pauseEffect=function(e,t){var r=this.checkPreviewer("zc.pe.2",{streamID:e,effectID:t},{streamID:!0,previewer:!0});return"boolean"!=typeof r&&this.getAudioManager(r).pauseEffect(t)},e.prototype._resumeEffect=function(e,t){var r=this.checkPreviewer("zc.re",{streamID:e,effectID:t},{streamID:!0,previewer:!0});return"boolean"!=typeof r&&this.getAudioManager(r).resumeEffect(t)},e.prototype._stopEffect=function(e,t){var r=this.checkPreviewer("zc.se",{streamID:e,effectID:t},{streamID:!0,previewer:!0});return"boolean"!=typeof r&&this.getAudioManager(r).stopEffect(t)},e.prototype._setMixingAudioVolume=function(e,t,r){var i=this.streamCenter.getPreviewer(e);return i?this.getAudioManager(i).setMixingAudioVolume(t/100,r):(this.logger.error("zc.sma.2 publisher doesn't exist"),!1)},e.prototype._startMixingAudio=function(e,t){var r=this.streamCenter.getPreviewer(e);return r?this.getAudioManager(r).startMixingAudio(t):(this.logger.error("string"==typeof e?"zc.sma.0 "+e+" stream is not publishing":"zc.sma.0 stream doesn't exist"),!1)},e.prototype._stopMixingAudio=function(e,t){var r=this.streamCenter.getPreviewer(e);return r?this.getAudioManager(r).stopMixingAudio(t):(this.logger.error("zc.sma.0 stream doesn't exist"),!1)},e.prototype._mixingBuffer=function(e,t,r,i){var A=this.checkPreviewer(Wl,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});"boolean"!=typeof A&&(r instanceof ArrayBuffer?this.getAudioManager(A).mixingBuffer(t,r,i):this.logger.error("zc.mb.0 array buffer not found"))},e.prototype._stopMixingBuffer=function(e,t){var r=this.checkPreviewer(Wl,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});return"boolean"!=typeof r&&this.getAudioManager(r).stopMixingBuffer(t)},e.prototype.getAudioManager=function(e){var t=e.audioMixManager;return t||(t=new ch(e),1===this.stateCenter.engineConfig.choirRole&&t.setVolumeFactor(.6),e.audioMixManager=t),t},e}(),hh={type:"AudioMix",install:function(e){Object.defineProperty(e.prototype,"initAudioMix",{value:function(){this.audioMixModule=new lh(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.ac,this)}})}},dh={NOT_LOGIN:{code:1000002,message:"not login room"},INPUT_PARAM:{code:1100001,message:"input param error."},TIMEOUT:{code:1100002,message:"network timeout."},MIXER_NO_SERVICES:{code:1005e3,message:"no mix stream service"},MIXER_TASK_ID_NULL:{code:1005001,message:"mixer task is null"},MIXER_TASK_ID_TOO_LONG:{code:1005002,message:"task ID is too long"},MIXER_TASK_ID_INVALID_CHARACTER:{code:1005003,message:"task ID contains illegal characters"},MIXER_NO_OUTPUT_TARGET:{code:1005005,message:"task configuration does not specify output"},MIXER_OUTPUT_TARGET_INVALID:{code:1005006,message:"stream output target is incorrect"},MIXER_START_REQUEST_ERROR:{code:1005010,message:"start mixer task fail, possibly due to network reasons"},MIXER_STOP_REQUEST_ERROR:{code:1005011,message:"stop mixer task fail, possibly due to network reasons"},MIXER_NOT_OWNER_STOP_MIXER:{code:1005012,message:" maxed task must be stopped by the start user of the task"},MIXER_INPUTLIST_NULL:{code:1005020,message:"Mixed stream task input list is null"},MIXER_OUTPUTLIST_NULL:{code:1005021,message:"Mixed stream task output list is null"},MIXER_VIDEO_CONFIG_INVALID:{code:1005023,message:"invalid mixed stream task video configuration"},MIXER_EXCEED_MAX_INPUT_COUNT:{code:1005025,message:"more than the maximum number of input streams"},MIXER_INPUT_STREAM_NOT_EXISTS:{code:1005026,message:"Input stream does not exist"},MIXER_INPUT_PARAMETERS_ERROR:{code:1005027,message:"mix stream input parameters are wrong"},MIXER_INPUT_LABEL_TOO_LONG:{code:1005028,message:"Input stream label text is too long"},MIXER_EXCEED_MAX_OUTPUT_COUNT:{code:1005030,message:"more than the maximum number of output streams"},MIXER_INPUT_IMAGE_URL_TOO_LONG:{code:1005034,message:"Input stream image url too long"},MIXER_INPUT_IMAGE_FORMAT_WRONG:{code:1005035,message:"Input stream image format wrong"},MIXER_INPUT_IMAGE_GET_FAIL:{code:1005036,message:"Input stream image get fail"},MIXER_AUTHENTICATION_FAILED:{code:1005050,message:"mixed stream authentication failed"},MIXER_WATERMARK_NULL:{code:1005061,mag:"input watermark is null"},MIXER_WATERMARK_PARAMETERS_ERROR:{code:1005062,message:"input watermark parameter is wrong"},MIXER_WATERMARK_URL_INVALID:{code:1005063,message:"illegal input watermark URL"},MIXER_BACKGROUND_IMAGE_URL_INVALID:{code:1005067,message:"illegal input background image URL"},MIXER_REPEAT_INPUT:{code:1005099,message:"mix stream input repeat"},MIXER_INNER_ERROR:{code:1005099,message:"mixer internal error"}};Ol=__webpack_require__(8413).Z.proto_mixstream,Pl=__webpack_require__(4799),Fl=__webpack_require__(4255),Pl.util.Long=Fl,Pl.configure();var ph,Ch,Ih=function(){function e(){}return e.prototype.encodeMixStreamStartReq=function(e){var t=Ol.MixStreamStartRequest.create(e);return Ol.MixStreamStartRequest.encode(t).finish()},e.prototype.decodeMixStreamStartRsp=function(e){return Ol.MixStreamStartResponse.decode(e)},e.prototype.encodeMixStreamStopReq=function(e){var t=Ol.MixStreamStopRequest.create(e);return Ol.MixStreamStopRequest.encode(t).finish()},e.prototype.decodeMixStreamStopRsp=function(e){return Ol.MixStreamStopResponse.decode(e)},e}(),fh="/sdk/init",Eh={event:"/mix/start_mix",error:{kParamError:dh.INPUT_PARAM,kTaskIDNullError:dh.MIXER_TASK_ID_NULL,kTaskIDToLongError:dh.MIXER_TASK_ID_TOO_LONG,kTaskIDInvalidCharacterError:dh.MIXER_TASK_ID_INVALID_CHARACTER,kInputListNullError:dh.MIXER_INPUTLIST_NULL,kOutputListNullError:dh.MIXER_OUTPUTLIST_NULL,kOutputTargetInvalidError:dh.MIXER_OUTPUT_TARGET_INVALID,kOutputNoTargetError:dh.MIXER_NO_OUTPUT_TARGET,kRequestError:dh.MIXER_START_REQUEST_ERROR,kInternalError:dh.MIXER_INNER_ERROR,kInputLabelTextTooLong:dh.MIXER_INPUT_LABEL_TOO_LONG,kInputImageURLTooLong:dh.MIXER_INPUT_IMAGE_URL_TOO_LONG,kInputImageFormatWrong:dh.MIXER_INPUT_IMAGE_FORMAT_WRONG,kMixerWatermarkURLInvalid:dh.MIXER_WATERMARK_URL_INVALID,kNoLoginError:dh.NOT_LOGIN},mix_stream_conf:lt,stop_reason:ht},Qh={event:"/mix/stop_mix",error:{kParamError:dh.INPUT_PARAM,kTaskIDNullError:dh.MIXER_TASK_ID_NULL,kRequestError:dh.MIXER_STOP_REQUEST_ERROR,kInternalError:dh.MIXER_INNER_ERROR,kNoLoginError:dh.NOT_LOGIN}},Bh={event:"/mix/config_mix",error:{kParamError:dh.INPUT_PARAM,kVideoConfigInvalidError:dh.MIXER_VIDEO_CONFIG_INVALID,kBackgroundImageUrlInvalidError:dh.MIXER_BACKGROUND_IMAGE_URL_INVALID,kNoLoginError:dh.NOT_LOGIN},mix_params:lt},mh=function(){return mh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},mh.apply(this,arguments)},yh="3.0.0",vh=1e4;function _h(e,t){var r,i="",A=dh;return t.errorCode<2e9&&t.errorCode>1e9?(i=function(e){var t={1:"MIXER_START_REQUEST_ERROR",2:"MIXER_START_REQUEST_ERROR",3:"MIXER_AUTHENTICATION_FAILED",141:"MIXER_INPUT_IMAGE_FORMAT_WRONG",142:"MIXER_INPUT_IMAGE_GET_FAIL",150:"MIXER_INPUT_STREAM_NOT_EXISTS",151:"MIXER_START_REQUEST_ERROR",152:"MIXER_STOP_REQUEST_ERROR",153:"MIXER_INPUT_PARAMETERS_ERROR",154:"MIXER_EXCEED_MAX_OUTPUT_COUNT",155:"MIXER_INPUT_PARAMETERS_ERROR",156:"MIXER_VIDEO_CONFIG_INVALID",157:"MIXER_NO_SERVICES",158:"MIXER_EXCEED_MAX_INPUT_COUNT",159:"MIXER_START_REQUEST_ERROR",160:"MIXER_NOT_OWNER_STOPMIXER",170:"MIXER_WATERMARK_PARAMETERS_ERROR",171:"MIXER_WATERMARK_NULL",175:"MIXER_REPEAT_INPUT",179:"MIXER_INPUT_LABEL_TOO_LONG",190:"MIXER_START_REQUEST_ERROR"},r="MIXER_INNER_ERROR";return e>1e9&&t[e-1e9]&&(r=t[e-1e9]),r}(t.errorCode-vh),r=A[i]):t.errorCode<1e6&&(r=e.decodeServerError(t.errorCode,t.extendedData),i=e.getLiveRoomError(t.errorCode,this.stateCenter.useNetAgent)),{reportErr:r,actualError:A[i]}}ph=__webpack_require__(4255),function(e){e[e.I=0]="I",e[e.H=10]="H",e[e.M=100]="M",e[e.L=1e3]="L"}(Ch||(Ch={}));var Sh={},wh={startMixerTask:function(e){var t=this;return new Promise((function(r,i){var A,n,o,s,a,c,g,u,l,h,d,p=t.stateCenter.reporter.createSpan(Ch.H,{key:fh},{key:Eh.event,par:e.taskID},Eh.event,!0),C={errorCode:dh.MIXER_INPUT_PARAMETERS_ERROR.code,extendedData:dh.MIXER_INPUT_PARAMETERS_ERROR.message};if(!!(null==e?void 0:e.inputList.find((function(e){return null==e.streamID&&(C.extendedData=C.extendedData+". streamID should be of string type",!0)}))))return t.stateCenter.reporter.setError(p,dh.MIXER_INPUT_PARAMETERS_ERROR),void i(C);e.outputConfig&&e.outputConfig.outputFps&&(e.outputConfig.outputFPS=e.outputConfig.outputFps);var I=function(r){var A=_h(t.stateCenter,r),n=A.reportErr,o=A.actualError;1005026===r.errorCode&&p.setAttributes({stop_reason:"UnmatchStreamId"}),t.stateCenter.reporter.setError(p,n||r),t.stateCenter.reporter.spanEnd({key:Eh.event,par:e.taskID}),o&&(r.errorCode=null==o?void 0:o.code,r.extendedData=(null==o?void 0:o.message)||""),i(r)},f=t.stateCenter.roomList[0];if(f){var E,Q=[];if(!e.noTaskID&&!e.taskID)return t.logger.error("zb.sh.ums no taskId found"),void I({errorCode:Eh.error.kTaskIDNullError.code,extendedData:Eh.error.kTaskIDNullError.message});if(!e.noTaskID&&"string"!=typeof e.taskID)return t.logger.error("zb.rh.lg taskId must be string"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(!e.noTaskID&&e.taskID.length>256)return t.logger.error("zb.sh.ums taskId is too long"),void I({errorCode:Eh.error.kTaskIDToLongError.code,extendedData:Eh.error.kTaskIDToLongError.message});if(!e.noTaskID&&!t.stateCenter.checkIllegalCharacters(e.taskID))return t.logger.error("zb.sh.ums task ID contains illegal characters"),void I({errorCode:Eh.error.kTaskIDInvalidCharacterError.code,extendedData:Eh.error.kTaskIDInvalidCharacterError.message});if(!e.inputList||0==e.inputList.length)return t.logger.error("zb.sh.ums input list wrong"),void I({errorCode:Eh.error.kInputListNullError.code,extendedData:Eh.error.kInputListNullError.message});e.inputList.forEach((function(e){"AUDIO"===e.contentType&&(!e.layout&&(e.layout={top:0,left:0,bottom:0,right:0}),e.layout.top=0,e.layout.left=0,e.layout.bottom=1,e.layout.right=1)}));for(var B=0;B<e.inputList.length;B++){var m=e.inputList[B],y={errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message};if("object"!=typeof m.layout)return t.logger.error("zb.sh.ums input layout must be object"),void I(y);if(!(t.stateCenter.checkInteger(m.layout.top,!1)&&t.stateCenter.checkInteger(m.layout.bottom,!1)&&t.stateCenter.checkInteger(m.layout.left,!1)&&t.stateCenter.checkInteger(m.layout.right,!1)))return t.logger.error("zb.sh.ums topleftbottomright must be integer number"),void I(y);if(void 0!==m.renderMode&&![0,1].includes(m.renderMode))return t.logger.error("zb.sh.ums render_mode is wrong"),void I(y);if(void 0!==m.imageInfo){if("string"!=typeof m.imageInfo.url)return t.logger.error("zb.sh.ums image url is require string"),void I(y);if(m.imageInfo.url.length>1024)return t.logger.error("zb.sh.ums input image url length too long"),void I({errorCode:Eh.error.kInputImageURLTooLong.code,extendedData:Eh.error.kInputImageURLTooLong.message})}if(void 0!==m.label){if("string"!=typeof(null===(A=m.label)||void 0===A?void 0:A.text)||(null===(n=m.label)||void 0===n?void 0:n.text.length)>=300)return t.logger.error("zb.sh.ums input label text is not string or too long"),void I({errorCode:Eh.error.kInputLabelTextTooLong.code,extendedData:Eh.error.kInputLabelTextTooLong.message});if(void 0!==(null===(o=m.label)||void 0===o?void 0:o.left)&&!t.stateCenter.checkInteger(null===(s=m.label)||void 0===s?void 0:s.left,!1)||void 0!==(null===(a=m.label)||void 0===a?void 0:a.top)&&!t.stateCenter.checkInteger(null===(c=m.label)||void 0===c?void 0:c.top,!1))return t.logger.error("zb.sh.ums input label left and top should be integer"),void I(y)}if(void 0!==m.cornerRadius&&!t.stateCenter.checkInteger(m.cornerRadius,!1))return t.logger.error("zb.sh.ums cornerRadius is wrong"),void I(y);if(void 0!==m.soundLevelID&&!t.stateCenter.checkInteger(m.soundLevelID,!1))return t.logger.error("zb.sh.ums soundLevelID is wrong"),void I(y)}if(!e.outputList||0==e.outputList.length)return t.logger.error("zb.sh.ums no output list found"),void I({errorCode:Eh.error.kOutputListNullError.code,extendedData:Eh.error.kOutputListNullError.message});if(e.outputList.some((function(e){return"string"==typeof e&&!t.stateCenter.isUrl(e)&&!t.stateCenter.checkIllegalCharacters(e)||"object"==typeof e&&e.target&&!t.stateCenter.isUrl(e.target)&&!t.stateCenter.checkIllegalCharacters(e.target)})))return t.logger.error("zb.sh.ums stream output target is incorrect"),void I({errorCode:Eh.error.kOutputTargetInvalidError.code,extendedData:Eh.error.kOutputTargetInvalidError.message});if(!((E=e.inputList.every((function(e){return"AUDIO"===e.contentType})))||e.outputConfig&&"object"==typeof e.outputConfig))return t.logger.error("zb.sh.ums no output config found"),void I({errorCode:Eh.error.kOutputNoTargetError.code,extendedData:Eh.error.kOutputNoTargetError.message});if(E&&(e.outputConfig=mh(mh({},e.outputConfig||{}),{outputBitrate:.001,outputFPS:1,outputWidth:1,outputHeight:1})),!(E||e.outputConfig.outputBitrate&&t.stateCenter.checkInteger(e.outputConfig.outputBitrate)))return t.logger.error("zb.sh.ums bitrate param is required and must be integer number"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(!e.outputConfig.outputFPS||!t.stateCenter.checkInteger(e.outputConfig.outputFPS))return t.logger.error("zb.sh.ums fps param is required and must be integer number"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(!e.outputConfig.outputWidth||!t.stateCenter.checkInteger(e.outputConfig.outputWidth))return t.logger.error("zb.sh.ums width param is required and must be integer number"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(!e.outputConfig.outputHeight||!t.stateCenter.checkInteger(e.outputConfig.outputHeight))return t.logger.error("zb.sh.ums height param is required and must be integer number"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(void 0!==e.outputConfig.outputAudioCodecID&&!t.stateCenter.checkInteger(e.outputConfig.outputAudioCodecID,!1))return t.logger.error("zb.sh.ums AudioCodecID param must be integer number"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(void 0!==e.outputConfig.outputAudioBitrate&&!t.stateCenter.checkInteger(e.outputConfig.outputAudioBitrate))return t.logger.error("zb.sh.ums AudioBitrate param must be integer number"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(void 0!==e.outputConfig.outputAudioChannels&&!t.stateCenter.checkInteger(e.outputConfig.outputAudioChannels,!1))return t.logger.error("zb.sh.ums AudioChannels param must be integer number"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(void 0!==e.watermark&&"string"!=typeof(null===(g=e.watermark)||void 0===g?void 0:g.imageURL))return t.logger.error("zb.sh.ums watermark image type error"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});if(void 0!==e.enableSoundLevel&&"boolean"!=typeof e.enableSoundLevel)return t.logger.error("zb.sh.ums enableSoundLevel is not bool"),void I({errorCode:Eh.error.kParamError.code,extendedData:Eh.error.kParamError.message});for(B=0;B<e.inputList.length;B++){var v=e.inputList[B],_=v.streamID;t.stateCenter.testEnvironment&&(_="zegotest-"+t.stateCenter.appid+"-"+v.streamID),Q.push({stream_id:_,content_control:"AUDIO"===v.contentType?1:0,top:null===(u=v.layout)||void 0===u?void 0:u.top,left:null===(l=v.layout)||void 0===l?void 0:l.left,bottom:null===(h=v.layout)||void 0===h?void 0:h.bottom,right:null===(d=v.layout)||void 0===d?void 0:d.right,render_mode:v.renderMode,image:v.imageInfo,label:v.label})}var S=[];e.outputList.forEach((function(e){var t="";"string"==typeof e?t=e:"object"==typeof e&&e.target&&(t=e.target);var r=0;(t.startsWith("rtmp://")||t.startsWith("https://")&&t.endsWith(".flv")||t.startsWith("https://")&&t.endsWith(".m3u8"))&&(r=1),S.push({target:t,is_url:r?"true":"false"})}));var w=e.outputConfig;t.stateCenter.reporter.spanSetAttributes({key:Eh.event,par:e.taskID},{mix_stream_conf:Eh.mix_stream_conf({fps:w.outputFPS,bitrate:w.outputBitrate,w:w.outputWidth,h:w.outputHeight,stream_cnt:Q.length,mix_task_id:e.taskID,input_stream_list:Q,output_target_list:S})}),f.streamHandler.updateMixStream(e,Sh,(function(i){t.stateCenter.reporter.spanEnd({key:Eh.event,par:e.taskID}),r(i)}),I)}else I({errorCode:Eh.error.kNoLoginError.code,extendedData:Eh.error.kNoLoginError.message})}))},setMixerTaskConfig:function(e){var t=this;return new Promise((function(r,i){var A,n=t.stateCenter.reporter.createSpan(Ch.H,{key:fh},{key:""},Bh.event),o={},s=function(e){t.stateCenter.reporter.setError(n,e),i(e)};if(e&&e.videoCodec){var a=e.videoCodec.toLowerCase();if(-1==["vp8","h264"].indexOf(a))return t.logger.error("zb.sh.ums param videoCode error"),s({errorCode:Bh.error.kVideoConfigInvalidError.code,extendedData:Bh.error.kVideoConfigInvalidError.message}),!1;o.videoCodec=a}if(e.backgroundColor){if(!t.stateCenter.checkInteger(e.backgroundColor))return t.logger.error("zb.sh.ums param backgroundColor must be integer number"),s({errorCode:Bh.error.kParamError.code,extendedData:Bh.error.kParamError.message}),!1;o.backgroundColor=e.backgroundColor}if(e.backgroundImage){if("string"!=typeof e.backgroundImage)return t.logger.error("zb.sh.ums param outputBgImage error"),s({errorCode:Bh.error.kParamError.code,extendedData:Bh.error.kParamError.message}),!1;if(!e.backgroundImage.startsWith("preset-id://")||!e.backgroundImage.endsWith(".jpg")&&!e.backgroundImage.endsWith(".png"))return t.logger.error("zb.sh.ums illegal input background image URL"),s({errorCode:Bh.error.kBackgroundImageUrlInvalidError.code,extendedData:Bh.error.kBackgroundImageUrlInvalidError.message}),!1;o.backgroundImage=e.backgroundImage}if(e&&e.userData){if(!(e.userData instanceof Uint8Array))return t.logger.error("zb.sh.ums param userData required Uint8Array"),s({errorCode:Bh.error.kParamError.code,extendedData:Bh.error.kParamError.message}),!1;if(e.userData.byteLength>1e3)return t.logger.error("zb.sh.ums param userData should shorter than 1000"),s({errorCode:Bh.error.kParamError.code,extendedData:Bh.error.kParamError.message}),!1;o.userData=e.userData}e.extraParams&&(o.extraParams||(o.extraParams=[]),(A=o.extraParams).push.apply(A,e.extraParams)),Sh=o,n.setAttributes({mix_params:Bh.mix_params(e)}),t.stateCenter.roomList[0]?(n.end(),r({errorCode:0,extendedData:""})):s({errorCode:Bh.error.kNoLoginError.code,extendedData:Bh.error.kNoLoginError.message})}))},stopMixerTask:function(e){var t=this;return new Promise((function(r,i){var A=t.stateCenter.reporter.createSpan(Ch.H,{key:fh},{key:""},Qh.event);if(!e||"string"!=typeof e||e.length>256||!t.stateCenter.checkIllegalCharacters(e))return t.logger.error("zb.rh.lg taskID must be string less 256"),t.stateCenter.reporter.setError(A,Qh.error.kParamError," param taskID error"),void i({errorCode:Qh.error.kParamError.code,extendedData:Qh.error.kParamError.message+" param taskID error"});A.setAttributes({mix_task_id:e});var n=function(e){var r=_h(t.stateCenter,e),n=r.actualError;t.stateCenter.reporter.setError(A,r.reportErr||e),n&&(e.errorCode=null==n?void 0:n.code,e.extendedData=(null==n?void 0:n.message)||""),i(e)},o=t.stateCenter.roomList[0];o?o.streamHandler.stopMixStream(e,(function(e){A.end(),r(e)}),n):n({errorCode:Qh.error.kNoLoginError.code,extendedData:Qh.error.kNoLoginError.message})}))}},Dh={_sendMixStopReqByAccessHub:function(e,t,r){var i=this;this.mixStreamProtoBuf||(this.mixStreamProtoBuf=new Ih),e.timestamp=ph.fromInt(Math.ceil((new Date).getTime()/1e3)),this.logger.info("zb.sh.smseba.1 req "+JSON.stringify(e));var A=this.mixStreamProtoBuf.encodeMixStreamStopReq(e),n=function(t,r){try{var A=i.mixStreamProtoBuf.decodeMixStreamStopRsp(t);un(A),i.logger.info("zb.sh.smseba.1 rsp "+JSON.stringify(e));var n=(null==A?void 0:A.common_response)||{};return{code:n.code,msg:n.message}}catch(e){return{code:-1}}};this.sendHttpPBRequest({interfaceID:16},A,(function(e,i){var A=n(e),o=A.code,s=A.msg;0!=o&&null!=o||"function"!=typeof t?r&&r({errorCode:o,extendedData:s||""}):t({errorCode:o,extendedData:s})}),(function(e,t,A){var o="";if(A)return A==dh.TIMEOUT&&(A=Eh.error.kRequestError),A.code&&20010===A.code&&(A=JSON.parse(JSON.stringify(dh.MIXER_NO_SERVICES))),void(r&&r(A,o));A=Eh.error.kInternalError;var s="";if("string"==typeof t)s=t;else{var a=n(t);s=a.code+" "+a.msg}i.logger.error("zb.sh.pt "+(o="request media server fail, error: "+e+" "+s)),r&&r(A,o)}))},stopMixStream:function(e,t,r,i,A){this.logger.info("zb.sh.sms call");var n=this.getStopMixStreamParams(e,i,A),o=n.req_body;this.stateCenter.useNetAgent?this._sendMixStopReqByAccessHub(n.mixStopReq,t,r):this._sendMixStopReqByAccessSvr(o,t,r)},_sendMixStartReqByAccessHub:function(e,t,r,i){var A=this;this.mixStreamProtoBuf||(this.mixStreamProtoBuf=new Ih),e.timestamp=ph.fromInt(Math.ceil((new Date).getTime()/1e3)),this.logger.info("zb.sh.smseba.0 req "+JSON.stringify(e));var n=this.mixStreamProtoBuf.encodeMixStreamStartReq(e),o=function(e,t){try{var r=A.mixStreamProtoBuf.decodeMixStreamStartRsp(e);un(r),A.logger.info("zb.sh.smseba.0 rsp "+JSON.stringify(r));var i=r.common_response;return{code:i.code,msg:i.message,data:r.data,errStreamList:r.error_streamid_list}}catch(e){return{code:-1}}};this.sendHttpPBRequest({interfaceID:15},n,(function(e,n){var s=o(e),a=s.code,c=s.errStreamList;if(void 0===a||0==a){var g=s.data.play_infos.map((function(e){var r={rtmpURL:"",hlsURL:"",flvURL:""},i=e.stream_alias||"";return A.stateCenter.testEnvironment&&i&&i.startsWith(t)&&(i=i.slice(t.length)),r.streamID=i,e.rtmp_url&&e.rtmp_url.length>0&&(r.rtmpURL=e.rtmp_url),e.hls_url&&e.hls_url.length>0&&(r.hlsURL=e.hls_url),e.hdl_url&&e.hdl_url.length>0&&(r.flvURL=e.hdl_url),r}));if(r)r({errorCode:0,extendedData:JSON.stringify({mixerOutputList:g})})}else{var u="",l=a+1e9;if(1000000150==l&&c){var h=c.map((function(e){return A.stateCenter.testEnvironment&&e.startsWith(t)?e.slice(t.length):e}))||[];h.length>0&&(A.logger.debug("zb.sh.ums not exist streams: "+h),u=h.join(","))}i&&i({errorCode:A.stateCenter.getServerError(vh+l).code,extendedData:u})}}),(function(e,t,r){var n="";if(r)return r==dh.TIMEOUT&&(r=Eh.error.kRequestError),r.code&&20010===r.code&&(r=JSON.parse(JSON.stringify(dh.MIXER_NO_SERVICES))),void(i&&i(r,n));r=Eh.error.kInternalError;var s="";if("string"==typeof t)s=t;else{var a=o(t);s=a.code+" "+a.msg}A.logger.error("zb.sh.pt "+(n="request media server fail, error: "+e+" "+s)),i&&i(r,n)}))},getStartMixStreamParams:function(e,t){var r,i,A=this,n={request_seq:this.stateCenter.getSeq(),mix_protocol_version:1,task_id:e.taskID,room_id:this.roomID,mix_stream_common:{},input_stream:[],advance_config:[],output_stream:[]};e.outputConfig.singleStreamPassThrough&&"boolean"==typeof e.outputConfig.singleStreamPassThrough&&(n.mix_stream_common.single_stream_pass_through=e.outputConfig.singleStreamPassThrough?1:0);var o=t;return o&&(o.videoCodec&&(null===(r=n.advance_config)||void 0===r||r.push({key:"video_encode",value:o.videoCodec})),o.backgroundColor&&(n.mix_stream_common.output_bg_color=o.backgroundColor),o.backgroundImage&&(n.mix_stream_common.output_bg_image=o.backgroundImage),o.userData&&(n.mix_stream_common.user_data=this.stateCenter.uint8arrayToBase64(o.userData)),o.extraParams&&(null===(i=n.advance_config)||void 0===i||i.push.apply(i,o.extraParams))),void 0!==e.enableSoundLevel&&(n.mix_stream_common.with_sound_level=e.enableSoundLevel?1:0),e.inputList.forEach((function(e,t){var r,i,o,s,a,c,g,u,l,h,d,p,C,I,f,E,Q,B,m,y,v=e.streamID;A.stateCenter.testEnvironment&&(v="zegotest-"+A.stateCenter.appid+"-"+e.streamID);var _={stream_input_common:{stream_id:v,content_control:"AUDIO"===e.contentType?1:0,layer_rect:{layer:t,top:null===(r=e.layout)||void 0===r?void 0:r.top,left:null===(i=e.layout)||void 0===i?void 0:i.left,bottom:null===(o=e.layout)||void 0===o?void 0:o.bottom,right:null===(s=e.layout)||void 0===s?void 0:s.right}},volume:100,audio_h_angle:-1,render_mode:e.renderMode,corner_radius:e.cornerRadius};if(null===(a=e.label)||void 0===a?void 0:a.text){var S={font_type:(null===(g=null===(c=e.label)||void 0===c?void 0:c.font)||void 0===g?void 0:g.type)||0,font_size:(null===(l=null===(u=e.label)||void 0===u?void 0:u.font)||void 0===l?void 0:l.size)||24,font_color:(null===(d=null===(h=e.label)||void 0===h?void 0:h.font)||void 0===d?void 0:d.color)||16777215,font_transparency:(null===(C=null===(p=e.label)||void 0===p?void 0:p.font)||void 0===C?void 0:C.transparency)||0};S.font_border_color=(null===(f=null===(I=e.label)||void 0===I?void 0:I.font)||void 0===f?void 0:f.border)?null===(Q=null===(E=e.label)||void 0===E?void 0:E.font)||void 0===Q?void 0:Q.borderColor:-1;var w={text:null===(B=e.label)||void 0===B?void 0:B.text,text_left:(null===(m=e.label)||void 0===m?void 0:m.left)||0,text_top:(null===(y=e.label)||void 0===y?void 0:y.top)||0,font:S};_.label=w}e.imageInfo&&(_.image=e.imageInfo),e.soundLevelID&&(_.stream_input_common.sound_level_id=e.soundLevelID),n.input_stream.push(_)})),e.outputList.forEach((function(t){var r,i,s="";if("string"==typeof t?s=t:"object"==typeof t&&t.target?s=t.target:A.logger.error("zb.sh.ums output target required"),A.stateCenter.isUrl(s))r=1,i=s;else{r=0,i=A.stateCenter.testEnvironment?"zegotest-"+A.stateCenter.appid+"-"+s:s}var a={is_url:r,target:i,video_bitrate:1e3*e.outputConfig.outputBitrate,video_fps:e.outputConfig.outputFPS,video_width:e.outputConfig.outputWidth,video_height:e.outputConfig.outputHeight,output_quality:23};e.outputConfig.outputAudioCodecID&&(a.audio_enc_id=e.outputConfig.outputAudioCodecID),"vp8"===o.videoCodec?a.audio_enc_id=3:"h264"===o.videoCodec&&(a.audio_enc_id=0),e.outputConfig.outputAudioBitrate&&(a.audio_bitrate=1e3*e.outputConfig.outputAudioBitrate),n.output_stream.push({output_stream_common:a})})),e.watermark&&(n.water_mark={image:e.watermark.imageURL,layout_rect:e.watermark.layout}),isNaN(e.streamAlignmentMode)||(n.alignment_type=e.streamAlignmentMode),n.audio_channel_cnt=e.outputConfig.outputAudioChannels?e.outputConfig.outputAudioChannels:1,{mixStartReq:n}},_sendMixStartReqByAccessSvr:function(e,t,r,i){var A,n=this,o={task_id:e.task_id,id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:yh,bypass:e.mix_stream_common.single_stream_pass_through,timestamp:Math.ceil((new Date).getTime()/1e3),session_secret:(new Date).getTime()+"",ver:0,seq:this.stateCenter.getSeq()};e.mix_stream_common.output_bg_color&&(o.output_bg_color=e.mix_stream_common.output_bg_color),e.mix_stream_common.output_bg_image&&(o.output_bg_image=e.mix_stream_common.output_bg_image),e.mix_stream_common.user_data&&(o.userdata=e.mix_stream_common.user_data),e.advance_config&&(null===(A=e.advance_config)||void 0===A?void 0:A.length)>0&&(o.extra_params=e.advance_config),o.MixInput=e.input_stream.map((function(e){return{stream_id:e.stream_input_common.stream_id,content_control:e.stream_input_common.content_control,rect:{layer:e.stream_input_common.layer_rect.layer,top:e.stream_input_common.layer_rect.top,left:e.stream_input_common.layer_rect.left,bottom:e.stream_input_common.layer_rect.bottom,right:e.stream_input_common.layer_rect.right,corner_radius:e.corner_radius},render_mode:e.render_mode}})),o.MixOutput=e.output_stream.map((function(t){var r={};return t.output_stream_common.is_url?r.mixurl=t.output_stream_common.target:r.stream_id=t.output_stream_common.target,r.bitrate=t.output_stream_common.video_bitrate,r.fps=t.output_stream_common.video_fps,r.width=t.output_stream_common.video_width,r.height=t.output_stream_common.video_height,void 0!==t.output_stream_common.audio_enc_id&&(r.audio_enc_id=t.output_stream_common.audio_enc_id),t.output_stream_common.audio_bitrate&&(r.audio_bitrate=t.output_stream_common.audio_bitrate),void 0!==e.audio_channel_cnt&&(r.audio_channel_cnt=e.audio_channel_cnt),r.testenv=n.stateCenter.testEnvironment?1:0,r})),e.water_mark&&(o.watermark={image:e.water_mark.image,rect:e.water_mark.layout_rect});var s={channel:"zeus",cmd:"start_mix",req_body:JSON.stringify(o)};this.sendBizChannelRequest(s,(function(e,A,o){if(n.logger.debug("zb.sh.ums receive message"),0!=o.length){for(var s=JSON.parse(o),a=[],c=0;c<s.play.length;c++){var g={rtmpURL:"",hlsURL:"",flvURL:""},u=s.play[c].stream_alias||"";n.stateCenter.testEnvironment&&u&&u.startsWith(t)&&(u=u.slice(t.length)),g.streamID=u,s.play[c].rtmp_url&&s.play[c].rtmp_url.length>0&&(g.rtmpURL=s.play[c].rtmp_url),s.play[c].hls_url&&s.play[c].hls_url.length>0&&(g.hlsURL=s.play[c].hls_url),s.play[c].hdl_url&&s.play[c].hdl_url.length>0&&(g.flvURL=s.play[c].hdl_url),a.push(g)}if(r)r({errorCode:0,extendedData:JSON.stringify({mixerOutputList:a})})}else i&&i({errorCode:n.stateCenter.getServerError(10001).code,extendedData:""})}),(function(e,r,A){if("number"==typeof e){n.logger.debug("zb.sh.ums error: "+e);var o=[];if(1000000150==e&&0!=A.length)for(var s=JSON.parse(A),a=0;a<s.non_exist_streams.length;a++){var c=s.non_exist_streams[a];n.stateCenter.testEnvironment&&c.startsWith(t)?o.push(c.slice(t.length)):o.push(c)}i&&i({errorCode:n.stateCenter.getServerError(vh+e).code,extendedData:""})}else{n.logger.debug("zb.sh.ums error code "+e.code);var g=void 0;g=e==dh.TIMEOUT?Eh.error.kRequestError:Eh.error.kInternalError,i&&i({errorCode:g.code,extendedData:g.message})}}))},updateMixStream:function(e,t,r,i){this.logger.info("zb.sh.ums call"),this.logger.info("zb.sh.ums send command");var A=this.getStartMixStreamParams(e,t).mixStartReq,n="zegotest-"+this.stateCenter.appid+"-";return this.stateCenter.useNetAgent?this._sendMixStartReqByAccessHub(A,n,r,i):this._sendMixStartReqByAccessSvr(A,n,r,i),!0},_sendMixStopReqByAccessSvr:function(e,t,r){var i=this,A={channel:"zeus",cmd:"stop_mix",req_body:JSON.stringify(e)};this.sendBizChannelRequest(A,(function(){t&&t({errorCode:0,extendedData:""})}),(function(e){if("number"==typeof e)r&&r({errorCode:i.stateCenter.getServerError(vh+e).code,extendedData:""});else{i.logger.error("zb.sh.sms stop mix fail "+JSON.stringify(e));var t=void 0;t=e==dh.TIMEOUT?Qh.error.kRequestError:Qh.error.kInternalError,r&&r({errorCode:t.code,extendedData:t.message})}}))},getStopMixStreamParams:function(e,t,r){var i={id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:yh},A={request_seq:this.stateCenter.getSeq(),room_id:this.roomID};if("string"==typeof e&&(i.task_id=e,A.task_id=e),null!=t){var n=void 0;i.stream_id=n=this.stateCenter.testEnvironment?"zegotest-"+this.stateCenter.appid+"-"+t:t,A.is_url=0,A.target=n}else null!=r&&(i.mixurl=r,A.is_url=1,A.target=r);return{req_body:i,mixStopReq:A}}},bh={type:"MixStream",install:function(e,t){for(var r in wh)Object.defineProperty(e.prototype,r,{value:wh[r],writable:!1});for(var r in Dh)Object.defineProperty(t.prototype,r,{value:Dh[r],writable:!1})}},kh=function(){function e(){}return e.generateEls=function(e){if(void 0===e&&(e=30),this.elements.length>=e)this.elements.forEach((function(e){e.dom.play().catch((function(e){}))}));else{var t=Array(e-this.elements.length).fill(0).map((function(e,t){var r=document.createElement("audio");return r.muted=!0,r.setAttribute("autoplay","autoplay"),r.setAttribute("playsInline","playsInline"),r.id="audio"+t,{dom:r,id:t,used:!1}}));this.elements=this.elements.concat(t)}},e.useAudioEl=function(){0===this.elements.length&&this.generateEls();var e=this.elements.find((function(e){return!e.used}));return e&&(e.used=!0),e},e.stopUsingAudioEl=function(e){var t=this.elements[e];t&&(t.dom.onpause=null,t.dom.onerror=null,t.dom.muted=!0,t.used=!1)},e.elements=[],e}(),Rh=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Nh=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Th="zc.ra.3",Lh=function(){function e(e,t){this.streamID=e,this.logger=t,this.rtcConn=null,this.loopbackConn=null,this.destStream=new MediaStream,this.onError=null}return e.prototype.bindStream=function(e,t){var r,i;return Rh(this,void 0,void 0,(function(){var A,n,o,s,a,c,g=this;return Nh(this,(function(u){switch(u.label){case 0:return t&&(this.streamID=t),A=["completed","connected"],this.rtcConn&&this.loopbackConn&&A.includes(this.rtcConn.connectionState)?(n=null===(r=this.rtcConn)||void 0===r?void 0:r.getSenders().find((function(e){var t;return"audio"===(null===(t=e.track)||void 0===t?void 0:t.kind)})),e.getTracks().forEach((function(e){"audio"===e.kind&&(null==n||n.replaceTrack(e))})),[3,10]):[3,1];case 1:this.rtcConn=new RTCPeerConnection,this.loopbackConn=new RTCPeerConnection,o={offerVideo:!0,offerAudio:!0,offerToReceiveAudio:!1,offerToReceiveVideo:!1},this.rtcConn.onicecandidateerror=function(e){g.logger.warn(Th+" ".concat(g.streamID," loopback in ice error: ").concat(JSON.stringify(e)))},this.loopbackConn.onicecandidateerror=function(e){g.logger.warn(Th+" ".concat(g.streamID," loopback out ice error: ").concat(JSON.stringify(e)))},this.rtcConn.onicecandidate=function(e){var t,r=e.candidate;r&&(g.logger.info(Th+" ".concat(g.streamID," loopback add out candidate: ").concat(r)),null===(t=g.loopbackConn)||void 0===t||t.addIceCandidate(new RTCIceCandidate(r)))},this.loopbackConn.onicecandidate=function(e){var t,r=e.candidate;r&&(g.logger.info(Th+" ".concat(g.streamID," loopback add in candidate: ").concat(r)),null===(t=g.rtcConn)||void 0===t||t.addIceCandidate(new RTCIceCandidate(r)))},window.setTimeout((function(){g.rtcConn&&g.loopbackConn&&(A.includes(g.rtcConn.iceConnectionState)&&A.includes(g.loopbackConn.iceConnectionState)?g.logger.info(Th+" ".concat(g.streamID," loopback connect ok.")):(g.logger.warn(Th+" ".concat(g.streamID," loopback connect failed. in state: ").concat(g.rtcConn.iceConnectionState,", out state: ").concat(g.loopbackConn.iceConnectionState)),g.close(),g.onError&&g.onError("time out")))}),2e3),this.loopbackConn.ontrack=function(e){var t=e.track;g.logger.info(Th+" ".concat(g.streamID," loopback receive track")),g.replaceTrack(t)},e.getTracks().find((function(t){var r;if("audio"===t.kind)return null===(r=g.rtcConn)||void 0===r||r.addTrack(t,e),!0})),u.label=2;case 2:return u.trys.push([2,9,,10]),[4,this.rtcConn.createOffer(o)];case 3:return s=u.sent(),[4,this.rtcConn.setLocalDescription(s)];case 4:return u.sent(),[4,this.loopbackConn.setRemoteDescription(s)];case 5:return u.sent(),[4,this.loopbackConn.createAnswer()];case 6:return(a=u.sent()).sdp=null===(i=a.sdp)||void 0===i?void 0:i.replace(/useinbandfec=/,"stereo=1;useinbandfec="),[4,this.loopbackConn.setLocalDescription(a)];case 7:return u.sent(),[4,this.rtcConn.setRemoteDescription(a)];case 8:return u.sent(),this.logger.info(Th+" ".concat(this.streamID," loopback set sdp completed.")),[3,10];case 9:return c=u.sent(),this.logger.error(Th+" ".concat(this.streamID," loopback connect failed.").concat(c)),this.close(),this.onError&&this.onError("connect failed"),this.onError=null,[3,10];case 10:return[2,this.destStream]}}))}))},e.prototype.replaceTrack=function(e){var t=this;"audio"===e.kind&&(this.destStream.getTracks().forEach((function(e){t.destStream.removeTrack(e)})),this.destStream.addTrack(e))},e.prototype.close=function(){var e=this,t=this.rtcConn,r=this.loopbackConn;this.destStream.getTracks().forEach((function(t){e.destStream.removeTrack(t)})),null==t||t.close(),null==r||r.close(),this.rtcConn=null,this.loopbackConn=null},e}();var Mh=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Oh=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Ph="zc.ra.5";function Fh(){return!!navigator.userAgent.toLowerCase().includes("mobile")}var Gh=function(){function e(e,t){this.logger=e,this.userID="base"+(new Date).getTime(),this.isHide=!1,this.distance=null,this.maxDistance=1e3,this.position=null,this.speaker="",this.audioEl=null,this.sourceNode=null,this.isPlaying=!1,this.config={needLoopback:!0,useGain:!0,playOnAudioContext:!1,useWebAudio:!0},this.volume=1,this.gainNode=null,this.isSpatial=!1,this.panner=null,this.audioCtx=t.audioCtx,this.isSpatial=t.isSpatial,this.setMaxDistance("number"==typeof t.maxDistance?t.maxDistance:1e5),this.destNode=this.audioCtx.createMediaStreamDestination(),this.setVolume(t.volume),this.setSpeaker(t.speaker).catch((function(e){})),this.inBackground(t.isHide)}return e.prototype.setPosition=function(e){this.logger.info(Ph+" ".concat(this.userID," set position: ")+e),this.position=e,this.panner&&(void 0!==this.panner.positionX?(this.panner.positionX.value=e[1],this.panner.positionY.value=e[2],this.panner.positionZ.value=-e[0]):this.panner.setPosition(e[1],e[2],-e[0]))},e.prototype.getDistanceFromListener=function(e){return this.distance=function(e,t){if(!t||!e)return null;var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]];return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2))}(this.position,e.position),this.distance},e.prototype.setMaxDistance=function(e){this.maxDistance=e,this.panner&&(e<10&&(e=10),this.panner.maxDistance=2.6*e)},e.prototype.setVolume=function(e){isNaN(e)||(this.volume=e,this.gainNode&&(this.gainNode.gain.value=this.volume))},e.prototype.setSpeaker=function(e){var t;return Mh(this,void 0,void 0,(function(){var r,i,A;return Oh(this,(function(n){switch(n.label){case 0:if("string"!=typeof e)return[2];if(this.speaker=e,!(r=null===(t=this.audioEl)||void 0===t?void 0:t.dom))return[3,10];if(!(i=r.setSinkId))return[3,8];n.label=1;case 1:return n.trys.push([1,6,,7]),this.config.playOnAudioContext?[3,3]:[4,i.call(r,e||"")];case 2:return n.sent(),[3,5];case 3:return[4,i.call(r,"")];case 4:n.sent(),n.label=5;case 5:return this.logger.info(Ph+" ".concat(this.userID," set speaker success. id: ").concat(e,".")),[3,7];case 6:throw A=n.sent(),this.logger.error(Ph+" ".concat(this.userID," set speaker failed. id: ").concat(e,"  error: ").concat(A,".")),A;case 7:return[3,9];case 8:throw"setting speaker not support.";case 9:return[3,11];case 10:this.logger.info(Ph+" ".concat(this.userID," no element for set speaker.")),n.label=11;case 11:return[2]}}))}))},e.prototype.initPanner=function(){if(!this.panner){var e=function(e,t,r){var i=r||[0,0,0],A=e.createPanner(),n=e.createGain();return A.panningModel="HRTF",A.distanceModel="linear",A.refDistance=1,A.maxDistance=2.6*t||1,A.rolloffFactor=1,A.coneOuterGain=.4,void 0!==A.positionX?(A.positionX.value=i[1],A.positionY.value=i[2],A.positionZ.value=-i[0]):A.setPosition(i[1],i[2],-i[0]),{panner:A,gainNode:n}}(this.audioCtx,this.maxDistance,this.position),t=e.gainNode;this.panner=e.panner,this.gainNode=t,t.gain.value=this.volume}},e.prototype.changeRenderConfig=function(e,t,r,i){var A,n,o,s,a;return void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===i&&(i=!0),Mh(this,void 0,void 0,(function(){var c,g,u,l,h,d,p,C,I,f,E,Q,B,m=this;return Oh(this,(function(y){switch(y.label){case 0:return t||this.isSpatial!==e?(this.isSpatial=e,c=navigator.userAgent.toLowerCase(),g=c.match(/chrome\/(\d*)/),u=g&&c.includes("mobile"),[4,Cd()]):[2];case 1:return l=y.sent(),h="Windows"===l.platform&&l.majorPlatformVersion>=13,d=this.isHide&&(h||u),p="running"!==this.audioCtx.state,i&&(d||p)&&(this.logger.warn("".concat(Ph," ").concat(this.userID," stop web audio. system: ").concat(l.platform," ").concat(l.majorPlatformVersion)),i=!1),this.config.useWebAudio=i,C=c.includes("safari")&&!c.includes("chrome"),I=c.includes("micromessenger")&&new RegExp(/(iphone|ipad|ipod|ios)/i).test(c),i||this.stream||(r=!0),this.config.playOnAudioContext=r,this.initPanner(),this.isPlaying&&this.sourceNode?(this.lastNode&&this.lastNode.disconnect(),f=this.sourceNode,this.sourceNode.disconnect(),null===(A=this.panner)||void 0===A||A.disconnect(),null===(n=this.gainNode)||void 0===n||n.disconnect(),this.gainNode?(i&&(this.config.useGain&&(f=this.sourceNode.connect(this.gainNode)),this.panner&&e&&(f=f.connect(this.panner))),f.connect(r?this.audioCtx.destination:this.destNode),this.lastNode=f,this.position&&this.setPosition(this.position),this.logger.info(Ph+" '".concat(this.userID,"' play ").concat(e?"3d":"normal"," stream on ").concat(r?"audio ctx":"element")),(E=null===(o=this.audioEl)||void 0===o?void 0:o.dom)?(E.onpause=function(){m.logger.warn(Ph+" ".concat(m.streamID," audio paused"))},E.onerror=function(e){m.logger.warn(Ph+" ".concat(m.streamID," audio error, ").concat(e))},r?(this.stream&&E.srcObject!==this.stream&&(E.srcObject=this.stream,E.muted=!0,E.oncanplay=function(){E.play().then((function(){m.logger.info(Ph+" ".concat(m.userID," ctx autoplay success.")),m.checkPlayStatus()})).catch((function(e){m.logger.warn(Ph+" ".concat(m.userID," ctx autoplay failed."))}))}),[3,6]):[3,2]):[3,6]):[3,6]):[3,6];case 2:return Q=this.destNode.stream,(B=this.config.needLoopback&&!I&&!C)&&this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null),i||!this.stream?[3,3]:(this.logger.info("".concat(Ph," ").concat(this.userID," stop audio api")),this.sourceNode.disconnect(),null===(s=this.panner)||void 0===s||s.disconnect(),null===(a=this.gainNode)||void 0===a||a.disconnect(),Q=this.stream,[3,5]);case 3:return B&&Q?(this.loopbackConn=this.loopbackConn||new Lh(this.streamID||"",this.logger),this.loopbackConn.onError=function(e){m.logger.warn(Ph+" ".concat(m.userID," loopback failed! ").concat(e)),m.changeRenderConfig(m.isSpatial,!0,!0)},[4,this.loopbackConn.bindStream(Q,this.streamID||void 0)]):[3,5];case 4:return Q=y.sent(),[3,5];case 5:E.muted=!0,E.srcObject=Q,this.setSpeaker(this.speaker).catch((function(e){})),E.oncanplay=function(){if(E){E.muted=!1;var e=function(e){m.logger.error(Ph+" ".concat(m.userID," autoplay failed. error: ").concat(e)),m.changeRenderConfig(m.isSpatial,!0,!0)};E.play().then((function(){(null==E?void 0:E.paused)?e("audio paused"):(m.logger.info(Ph+" ".concat(m.userID," element autoplay success.")),m.checkPlayStatus())})).catch((function(t){e(t)}))}},y.label=6;case 6:return[2]}}))}))},e.prototype.checkPlayStatus=function(){var e=this;setTimeout((function(){var t;if(e.isPlaying){var r=null===(t=e.audioEl)||void 0===t?void 0:t.dom,i=e.audioCtx.state;!r||r.paused||r.muted&&!e.config.playOnAudioContext||"running"!==i?(e.logger.warn("".concat(Ph," ").concat(e.userID," play detection is abnormal. audio ctx:").concat(i,", paused:").concat(null==r?void 0:r.paused,", muted:").concat(null==r?void 0:r.muted)),"running"!==i&&(e.audioCtx.resume(),setTimeout((function(){e.logger.warn("".concat(Ph," ").concat(e.userID," play resume. audio ctx:").concat(i,", paused:").concat(null==r?void 0:r.paused,", muted:").concat(null==r?void 0:r.muted))}),1e3))):e.logger.info("".concat(Ph," ").concat(e.userID," play detection is fine"))}}),2e3)},e.prototype.inBackground=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.isHide!==e&&(this.isHide=e,e||this.config.useWebAudio||this.changeRenderConfig(this.isSpatial,!0))},e}(),Uh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),xh=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Hh=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},qh="zc.ra.1",Jh=function(e){function t(t,r,i){var A=e.call(this,t,i)||this;return A.logger=t,A.audioTrack=null,A.zegoRTC=i.zegoRTC,A.userID=r.userID,A.teamID=r.teamID,A.raMode=void 0!==r.raMode?r.raMode:Fs.World,r.position&&(A.position=r.position),A}return Uh(t,e),Object.defineProperty(t.prototype,"sendMode",{get:function(){return void 0!==this._sendMode?this._sendMode:this.raMode===Fs.World?Gs.All:Gs.Team},set:function(e){this._sendMode=e},enumerable:!1,configurable:!0}),t.prototype.checkTrackChanged=function(){var e;if(this.stream){var t=this.stream.getAudioTracks()[0];t&&t!==this.audioTrack&&(this.logger.info(qh+" retry play success, render stream."),null===(e=this.sourceNode)||void 0===e||e.disconnect(),this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream),this.changeRenderConfig(this.isSpatial,!0),this.audioTrack=t)}},t.prototype.startPlayingAudio=function(e){var t,r;return xh(this,void 0,void 0,(function(){var i,A,n;return Hh(this,(function(o){switch(o.label){case 0:if(!this.streamID)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),e&&this.logger.info(qh+" ".concat(this.streamID," ")+e),this.isPlaying=!0,i=this,[4,this.zegoRTC.startPlayingStream(this.streamID)];case 2:return i.stream=o.sent(),this.audioTrack=this.stream.getAudioTracks()[0],[3,4];case 3:if(A=o.sent(),this.isPlaying=!1,1103049===A.code)return[2];throw A;case 4:return this.audioEl=this.audioEl||kh.useAudioEl()||null,this.logger.info(qh+" ".concat(this.streamID," start using audio el ").concat(null===(t=this.audioEl)||void 0===t?void 0:t.id)),(n=null===(r=this.audioEl)||void 0===r?void 0:r.dom)||(this.logger.error(qh+" not enough audio elements"),n=document.createElement("audio"),this.audioEl={id:-1,dom:n,used:!0},n.setAttribute("autoplay","autoplay")),n.muted=!0,this.stream&&(this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream)),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,6];case 5:o.sent(),o.label=6;case 6:return"suspended"===this.audioCtx.state&&this.audioCtx.resume(),[2]}}))}))},t.prototype.stopPlayingAudio=function(e){this.isPlaying&&this.streamID?(this.logger.info(qh+" ".concat(this.streamID," ")+e),this.zegoRTC.stopPlayingStream(this.streamID),this.isPlaying=!1):this.streamID&&this.logger.info(qh+" ".concat(this.streamID," not playing, ")+e),this.stream=void 0,this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=null);var t=this.audioEl,r=null==t?void 0:t.dom;r&&(r.srcObject=null,r.parentNode&&r.parentNode.removeChild(r));var i=(null==t?void 0:t.id)||-1;t&&i>=0&&(kh.stopUsingAudioEl(i),this.logger.info(qh+" ".concat(this.streamID," stop using audio el ").concat(i))),this.audioEl=null,this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null)},t.prototype.isSpeakInTeam=function(e){var t=![this.teamID,e].includes(void 0)&&""!==this.teamID&&this.teamID===e,r=[Gs.Team,Gs.All].includes(this.sendMode);return t&&r},t}(Gh),Yh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Kh=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},zh=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},jh="zc.ra.4",Vh=function(e){function t(t,r,i){var A=e.call(this,t,i)||this;return A.logger=t,A.media=r.media,A.position=r.position||null,A.createSource(),A.userID="custom"+(new Date).getTime(),A.config={needLoopback:!1,useGain:!1,playOnAudioContext:!1,useWebAudio:!0},A}return Yh(t,e),t.prototype.createSource=function(){var e=this;if(Fh())return this.logger.info("".concat(Fh()," ").concat(this.userID," not create src.")),void(this.changeRenderConfig=function(){return Kh(e,void 0,void 0,(function(){return zh(this,(function(e){return[2]}))}))});this.media&&(this.logger.info(jh+" create el source."),this.sourceNode||(this.sourceNode=this.audioCtx.createMediaElementSource(this.media)),null!==this.distance&&this.distance<this.maxDistance&&this.startPlayingAudio("in range"))},t.prototype.startPlayingAudio=function(e){var t,r;return Kh(this,void 0,void 0,(function(){var i;return zh(this,(function(A){switch(A.label){case 0:return this.isPlaying?(this.logger.info(jh+" ".concat(this.userID," is already playing")),[2]):(e&&this.logger.info(jh+" vocal ".concat(this.userID," play for ").concat(e)),this.isPlaying=!0,Fh()?(this.media.muted=!1,[2]):(this.audioEl=this.audioEl||kh.useAudioEl()||null,this.logger.info(jh+" ".concat(this.userID," start using audio el ").concat(null===(t=this.audioEl)||void 0===t?void 0:t.id)),(i=null===(r=this.audioEl)||void 0===r?void 0:r.dom)||(this.logger.error(jh+" ".concat(this.userID," not enough audio elements")),i=document.createElement("audio"),this.audioEl={id:-1,dom:i,used:!0},i.setAttribute("autoplay","autoplay")),i.muted=!0,i.setAttribute("autoplay","autoplay"),i.setAttribute("id","zg-audio-source-"+this.userID),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,2]));case 1:A.sent(),A.label=2;case 2:return"suspended"===this.audioCtx.state&&this.audioCtx.resume(),[2]}}))}))},t.prototype.stopPlayingAudio=function(e){if(void 0===e&&(e=""),this.isPlaying&&(this.logger.info(jh+" vocal ".concat(this.userID," stop for ")+e),this.isPlaying=!1),Fh())this.media.muted=!0;else{this.sourceNode&&this.sourceNode.disconnect();var t=this.audioEl,r=null==t?void 0:t.dom;r&&(r.srcObject=null,r.parentNode&&r.parentNode.removeChild(r));var i=(null==t?void 0:t.id)||-1;t&&i>=0&&(kh.stopUsingAudioEl(i),this.logger.info(jh+" ".concat(this.userID," stop using audio el ").concat(i))),this.audioEl=null}},t.prototype.checkIfCanPlay=function(e){var t=this.distance=this.getDistanceFromListener(e);null===t||t>this.maxDistance||0===this.maxDistance?this.stopPlayingAudio("out of range. ".concat(t," > ").concat(this.maxDistance)):this.startPlayingAudio("in range")},t}(Gh),Wh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Zh=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Xh=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},$h="zc.ra.4",ed=function(e){function t(t,r,i){var A=e.call(this,t,i)||this;return A.logger=t,A.streamView=r.streamView,A.position=r.position||null,A.createSource(),A.userID="stream"+(new Date).getTime(),A.config={needLoopback:!1,useGain:!1,playOnAudioContext:!1,useWebAudio:!0},A.streamView.on("_trackChange",(function(e,t){"audio"===e&&(t?A.createSource(!0):A.logger.error("".concat($h," ").concat(A.userID," audio track lost")))})),A}return Wh(t,e),t.prototype.createSource=function(e){var t=this;if(void 0===e&&(e=!1),Fh())return this.logger.info("".concat($h," ").concat(this.userID," not create src.")),this.changeRenderConfig=function(){return Zh(t,void 0,void 0,(function(){return Xh(this,(function(e){return[2]}))}))},!1;if(!this.streamView)return!1;if(this.logger.info($h+" create view source. trackChanged: "+e),!this.sourceNode||e){var r=this.streamView.v.getAudioNodeAndStopRender();if(!r)return this.logger.error($h+" create view source failed."),!1;this.sourceNode&&this.sourceNode.disconnect(),this.sourceNode=r,this.changeRenderConfig(this.isSpatial,!0)}return null!==this.distance&&this.distance<this.maxDistance&&this.startPlayingAudio("in range"),!0},t.prototype.startPlayingAudio=function(e){var t,r;return Zh(this,void 0,void 0,(function(){var i;return Xh(this,(function(A){switch(A.label){case 0:return this.isPlaying?(this.logger.info($h+" ".concat(this.userID," is already playing")),[2]):(e&&this.logger.info($h+" vocal ".concat(this.userID," play for ").concat(e)),this.isPlaying=!0,Fh()?(this.streamView.setAudioMuted(!1),[2]):(this.audioEl=this.audioEl||kh.useAudioEl()||null,this.logger.info($h+" ".concat(this.userID," start using audio el ").concat(null===(t=this.audioEl)||void 0===t?void 0:t.id)),(i=null===(r=this.audioEl)||void 0===r?void 0:r.dom)||(this.logger.error($h+" ".concat(this.userID," not enough audio elements")),i=document.createElement("audio"),this.audioEl={id:-1,dom:i,used:!0},i.setAttribute("autoplay","autoplay")),i.muted=!0,i.setAttribute("autoplay","autoplay"),i.setAttribute("id","zg-audio-source-"+this.userID),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,2]));case 1:A.sent(),A.label=2;case 2:return"suspended"===this.audioCtx.state&&this.audioCtx.resume(),[2]}}))}))},t.prototype.stopPlayingAudio=function(e){if(void 0===e&&(e=""),this.isPlaying&&(this.logger.info($h+" vocal ".concat(this.userID," stop for ")+e),this.isPlaying=!1),Fh())this.streamView.setAudioMuted(!0);else{this.sourceNode&&this.sourceNode.disconnect();var t=this.audioEl,r=null==t?void 0:t.dom;r&&(r.srcObject=null,r.parentNode&&r.parentNode.removeChild(r));var i=(null==t?void 0:t.id)||-1;t&&i>=0&&(kh.stopUsingAudioEl(i),this.logger.info($h+" ".concat(this.userID," stop using audio el ").concat(i))),this.audioEl=null}},t.prototype.checkIfCanPlay=function(e){var t=this.distance=this.getDistanceFromListener(e);null===t||t>this.maxDistance||0===this.maxDistance?this.stopPlayingAudio("out of range. ".concat(t," > ").concat(this.maxDistance)):this.startPlayingAudio("in range")},t}(Gh),td=function(){function e(){this.handlerListMap={}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.addEventHandler=function(e,t){if(this.handlerListMap[e]||(this.handlerListMap[e]=[]),"function"!=typeof t)throw new Error("Params callBack is not a Function");return-1==this.handlerListMap[e].indexOf(t)&&this.handlerListMap[e].push(t),!0},e.prototype.removeEventHandler=function(e,t){return!!this.handlerListMap[e]&&(this.handlerListMap[e]=t?this.handlerListMap[e].filter((function(e){return e!==t})):[],!0)},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.handlerListMap[e]&&this.handlerListMap[e].forEach((function(r){try{setTimeout((function(){r.apply(void 0,t)}),0)}catch(t){console.error('Fail to execute callback of event "'.concat(e,'" : ').concat(t))}}))},e.prototype.reset=function(){this.handlerListMap={}},e}(),rd=td,id=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Ad=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};var nd,od=function(){function e(e,t){var r=this;this.raMode=Fs.World,this.recvRange=null,this.position=null,this.forwardAxis=[1,0,0],this.upAxis=[0,0,1],this.audioStream=null,this.enableMic=!1,this.isPublishing=!1,this.streamID=null,this.isDenoise=!1,this.voiceChanger=null,this.voiceParam=null,this.isUpdated=!0,this.zegoRTC=t,this.audioCtx=e,this.audioListener=this.audioCtx.listener,this.eventHandler=rd.getInstance(),this.zegoRTC.on("publisherStateUpdate",(function(e){var t=e.state,i=e.errorCode,A=e.extendedData,n=e.streamID.match(/(.*)_(.*)/);if(3===(null==n?void 0:n.length)){if(r.userID!==n[1])return;"NO_PUBLISH"===t?(r.isPublishing=!1,r.stopPublishingStream()):(r.isPublishing=!0,r.isUpdated||(r.logger.info(qh+" resend stream info"),r.updateSteamExtraInfo())),r.eventHandler.emit("microphoneStateUpdate",{NO_PUBLISH:Ps.Off,PUBLISH_REQUESTING:Ps.TurningOn,PUBLISHING:Ps.On}[t],i,A)}}))}return Object.defineProperty(e.prototype,"recvMode",{get:function(){return void 0!==this._recvMode?this._recvMode:[Fs.World,Fs.SecretTeam].includes(this.raMode)?Us.All:Us.Team},set:function(e){this._recvMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sendMode",{get:function(){return void 0!==this._sendMode?this._sendMode:this.raMode===Fs.World?Gs.All:Gs.Team},set:function(e){this._sendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this.zegoRTC.logger},enumerable:!1,configurable:!0}),e.getInstance=function(t,r){return e.instance||(e.instance=new e(t,r)),e.instance},e.prototype.updateSelfPosition=function(e,t,r){this.position=e,this.forwardAxis=t,Array.isArray(r)&&(this.upAxis=r),this.updateListenerEffect()},e.prototype.updateListenerEffect=function(){this.position&&(this.audioListener.positionX?(this.audioListener.positionX.value=this.position[1],this.audioListener.positionY.value=this.position[2],this.audioListener.positionZ.value=-this.position[0]):this.audioListener.setPosition(this.position[1],this.position[2],-this.position[0]),this.audioListener.forwardX?(this.audioListener.forwardX.value=this.forwardAxis[1],this.audioListener.forwardY.value=this.forwardAxis[2],this.audioListener.forwardZ.value=-this.forwardAxis[0],this.audioListener.upX.value=this.upAxis[1],this.audioListener.upY.value=this.upAxis[2],this.audioListener.upZ.value=-this.upAxis[0]):this.audioListener.setOrientation(this.forwardAxis[1],this.forwardAxis[2],-this.forwardAxis[0],this.upAxis[1],this.upAxis[2],-this.upAxis[0]))},e.prototype.startPublishingStream=function(){var e=this;this.enableMic?this.logger.warn(qh+" mic is already enabled"):(this.enableMic=!0,this.zegoRTC.createStream({camera:{video:!1,audio:!0,audioInput:this.micID||void 0,audioBitrate:30}}).then((function(t){return id(e,void 0,void 0,(function(){return Ad(this,(function(e){if(!this.userID)throw this.zegoRTC.destroyStream(t),this.enableMic=!1,Error("Enable mic failed. Please log in room first.");return this.audioStream&&this.audioStream!==t&&this.zegoRTC.destroyStream(this.audioStream),this.audioStream=t,this.isDenoise&&this.enableDenoise(this.isDenoise),null!==this.voiceChanger&&this.setVoiceChangerPreset({voiceChanger:this.voiceChanger}),null!==this.voiceParam&&this.setVoiceChangerPreset({voiceParam:this.voiceParam}),this.streamID=this.userID+"_"+Date.now(),this.zegoRTC.startPublishingStream(this.streamID,t,{extraInfo:JSON.stringify(this.getExtraInfo())}),[2]}))}))})).catch((function(t){throw e.audioStream=null,e.enableMic=!1,t})))},e.prototype.stopPublishingStream=function(){this.isPublishing&&this.streamID&&this.zegoRTC.stopPublishingStream(this.streamID),this.isPublishing=!1,this.audioStream&&(this.zegoRTC.destroyStream(this.audioStream),this.audioStream=null),this.enableMic=!1},e.prototype.setCustomMode=function(e,t){var r=!1,i=!1,A=!1;return t!==this.recvMode&&(this.recvMode=t,A=!0),e!==this.sendMode&&(this.sendMode=e,r=!0,i=!0),r&&this.updateSteamExtraInfo(),{sendChange:i,recvChange:A}},e.prototype.setNormalMode=function(e){this.raMode=e,this.updateSteamExtraInfo()},e.prototype.setTeamID=function(e){this.teamID=e,this.updateSteamExtraInfo()},e.prototype.updateSteamExtraInfo=function(){var e=this;this.streamID&&this.isPublishing&&(this.isUpdated=!1,this.logger.info(qh+" update stream info"),this.zegoRTC.setStreamExtraInfo(this.streamID,JSON.stringify(this.getExtraInfo())).then((function(t){0===t.errorCode&&(e.logger.info(qh+" update stream info success"),e.isUpdated=!0)})))},e.prototype.getExtraInfo=function(){var e,t={range_audio_team_id:this.teamID||"",range_audio_mode:(e=this.raMode,{0:1,1:2,2:3}[e]),r_a_s_flag:1};return void 0===this._sendMode&&this.raMode!==Fs.World||(t.r_a_speak=this.sendMode),t},e.prototype.reset=function(){this.audioStream&&this.stopPublishingStream(),this.userID=void 0,this.streamID=null},e.prototype.enableDenoise=function(e){var t=this;return this.audioStream&&this.zegoRTC.enableAiDenoise(this.audioStream,e).catch((function(e){t.isDenoise=!1;var r=e||{};t.eventHandler.emit("aiDenoiseError",r.errorCode,r.extendedData)})),this.isDenoise=e,!0},e.prototype.setVoiceChangerPreset=function(e){var t=this;return this.audioStream&&this.zegoRTC.setVoiceChangerPreset(this.audioStream,e).catch((function(e){t.voiceChanger=null;var r=e||{};t.eventHandler.emit("voiceChangerError",r.errorCode,r.extendedData)})),"voiceChanger"in e&&void 0!==e.voiceChanger?(this.voiceChanger=e.voiceChanger,this.voiceParam=null):"voiceParam"in e&&void 0!==e.voiceParam&&(this.voiceParam=e.voiceParam,this.voiceChanger=null),!0},e}(),sd=function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||(i||(i=Array.prototype.slice.call(t,0,A)),i[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))},ad="zc.ra.2",cd=function(){function e(e,t){this.logger=e,this.isEnable=!1,this.interval=100,this.timer=null,this.audioSourceList=[],this.hasChanged=!1,this.userChanged=!1,this.updateUserInterval=1e3,this.updateUserTimer=null,this.audioSourceUpdate=!1,this.maxPlayingQuantity=20,this.allAudioSourceList=[],this.audioSourceWithinRangeList=[],this.localUserList=[],this.rangeListener=t}return e.getInstance=function(t,r){return e.instance||(e.instance=new e(t,r)),e.instance},e.prototype.setAudioSourceUpdate=function(e){this.audioSourceUpdate=e},e.prototype.setListener=function(e){this.rangeListener=e,this.hasChanged=!0,this.userChanged=!0},e.prototype.setAudioSourceList=function(e){this.audioSourceList=e,this.logger.info("".concat(ad," set src list: [").concat(e.map((function(e){return e.userID})).join(","),"]")),this.hasChanged=!0},e.prototype.setAllAudioSourceList=function(e){e&&(this.allAudioSourceList=e),this.userChanged=!0},e.prototype.startPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.hasChanged=!0,this.playAudioTask()},e.prototype.playAudioTask=function(){var e=this;this.hasChanged&&(this.hasChanged=!1,this.handlePlayAudioTask()),this.timer=window.setTimeout((function(){e.playAudioTask()}),this.interval)},e.prototype.handlePlayAudioTask=function(){var e=this;if(this.isEnable){this.logger.info("".concat(ad," handler task start"));var t=sd([],this.audioSourceList,!0),r=0,i=this.rangeListener.recvMode;if([Us.Team,Us.All].includes(i)){var A=this.getTeamAudioSourceGroup();t=A.otherList,A.teamList.forEach((function(t){r<e.maxPlayingQuantity&&(t.isPlaying||t.startPlayingAudio("play for team"),r++)}))}var n=[Us.World,Us.All].includes(i);n&&(t.forEach((function(t){t.distance=t.getDistanceFromListener(e.rangeListener)})),t.sort((function(e,t){return null===e.distance?1:null===t.distance||e.distance<t.distance?-1:e.distance>t.distance?1:0}))),t.forEach((function(t){var i=[Gs.All,Gs.World].includes(t.sendMode)&&null!==t.distance&&(null===e.rangeListener.recvRange||t.distance<=e.rangeListener.recvRange);if(n&&r<e.maxPlayingQuantity&&i)t.isPlaying||t.startPlayingAudio("play for range"),r++;else{var A="stop for mode or range. mode: ".concat(t.sendMode,", range: ").concat(t.distance," > ").concat(e.rangeListener.recvRange);t.stopPlayingAudio(A)}})),this.logger.info(ad+" playing quantity: ".concat(r,"."))}else this.stopPlayingAudioStream()},e.prototype.startCheckUserInRange=function(){this.logger.info(ad+" start user check"),this.updateUserTimer&&(clearTimeout(this.updateUserTimer),this.updateUserTimer=null),this.userChanged=!0,this.userCheckTask()},e.prototype.stopCheckUserInRange=function(){this.logger.info(ad+" stop user check"),this.updateUserTimer&&(clearTimeout(this.updateUserTimer),this.updateUserTimer=null)},e.prototype.userCheckTask=function(){var e=this;this.userChanged&&(this.userChanged=!1,this.handleUserCheckTask()),this.updateUserTimer=window.setTimeout((function(){e.userCheckTask()}),this.updateUserInterval)},e.prototype.handleUserCheckTask=function(){var e=this;if(this.audioSourceUpdate){var t=[];this.allAudioSourceList.forEach((function(r){r.distance=r.getDistanceFromListener(e.rangeListener);var i=null!==r.distance&&(null===e.rangeListener.recvRange||r.distance<=e.rangeListener.recvRange),A=!!e.localUserList.find((function(e){return e.userID===r.userID}));i&&A&&t.push({userID:r.userID,position:r.position})})),this.checkAudioSourceListDiff(t,this.audioSourceWithinRangeList)&&this.rangeListener.eventHandler.emit("audioSourceWithinRangeUpdate",t),this.audioSourceWithinRangeList=t}},e.prototype.getTeamAudioSourceGroup=function(){var e=this,t=[],r=[];return this.audioSourceList.forEach((function(i){i.isSpeakInTeam(e.rangeListener.teamID)?t.push(i):r.push(i)})),{teamList:t,otherList:r}},e.prototype.stopPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null);this.audioSourceList.forEach((function(e){e.stopPlayingAudio("stop for all stream")}))},e.prototype.setLocalUserList=function(e){this.localUserList=e,this.userChanged=!0},e.prototype.checkAudioSourceListDiff=function(e,t){for(var r,i=0;i<e.length;i++){r=!1;for(var A=0;A<t.length;A++)if(e[i].userID===t[A].userID){r=!0;break}if(!r)return!0}for(var n=0;n<t.length;n++){r=!1;for(var o=0;o<e.length;o++)if(t[n].userID===e[o].userID){r=!0;break}if(!r)return!0}return!1},e}();function gd(e){return!isNaN(Number(e))&&""!==e&&Number.MAX_SAFE_INTEGER>=Number(e)&&Number(e)>=-Number.MAX_SAFE_INTEGER}function ud(e){if(Array.isArray(e)){for(var t=0;t<3;t++){if(!gd(e[t]))return!1}return!0}return!1}!function(e){e[e.Normal=0]="Normal",e[e.Custom=1]="Custom"}(nd||(nd={}));var ld=function(){return ld=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},ld.apply(this,arguments)},hd=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},dd=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},pd=function(e,t,r){if(r||2===arguments.length)for(var i,A=0,n=t.length;A<n;A++)!i&&A in t||(i||(i=Array.prototype.slice.call(t,0,A)),i[A]=t[A]);return e.concat(i||Array.prototype.slice.call(t))};function Cd(){var e;return hd(this,void 0,void 0,(function(){var t,r,i;return dd(this,(function(A){switch(A.label){case 0:return(t=null===navigator||void 0===navigator?void 0:navigator.userAgentData)?[4,t.getHighEntropyValues(["platformVersion"]).catch((function(){}))]:[2,{platform:"",majorPlatformVersion:0}];case 1:return r=A.sent()||{},i=parseInt(null===(e=r.platformVersion)||void 0===e?void 0:e.split(".")[0]),[2,{platform:r.platform,majorPlatformVersion:i}]}}))}))}var Id="zc.ra.0";var fd=function(){function e(e,t){var r=this;this.logger=t,this.isSpatial=!1,this.audioSourceList=[],this.audioSourceUpdate=!1,this.localUserList=[],this.speakingUserIdList=[],this.vocalSourceMap=new Map,this.volume=1,this.speaker="",this._audioCtx=null,this.supportSpeakerSet=!1,this.isHide=!1,this.eventHandler={visibilitychange:function(){return hd(r,void 0,void 0,(function(){var e,t,r,i,A,n,o,s=this;return dd(this,(function(a){switch(a.label){case 0:return pd(pd([],this.vocalSourceList,!0),this.audioSourceList,!0).forEach((function(e){e.inBackground(document.hidden),s.isHide=document.hidden})),e=function(){pd(pd([],s.vocalSourceList,!0),s.audioSourceList,!0).forEach((function(e){e.changeRenderConfig(s.isOpen3D(e),!0,!1,!1)}))},document.hidden?(t=navigator.userAgent.toLowerCase(),r=t.match(/chrome\/(\d*)/),i=r&&t.includes("mobile"),[4,Cd()]):[3,2];case 1:return A=a.sent(),n="Windows"===A.platform&&A.majorPlatformVersion>=13,i||n?(this.logger.warn("".concat(Id," mobile chrome hide page and stop web audio.")),e(),[2]):("running"!==(o=this.audioCtx.state)?(this.logger.info("".concat(Id," hidden ctx: ").concat(o,", resume ctx")),this.audioCtx.resume(),setTimeout((function(){var t=s.audioCtx.state;s.isHide&&("running"===t?s.logger.info("".concat(Id," hidden ctx: ").concat(t,".")):(s.logger.warn("".concat(Id," hidden ctx: ").concat(t,", ctx resume failed. stop web audio.")),e()))}),2e3)):this.logger.info("".concat(Id," hidden ctx: ").concat(o,".")),[3,3]);case 2:this.audioCtx.resume(),this.audioSourceList.forEach((function(e){var t,r;e.isPlaying&&(null===(t=e.audioEl)||void 0===t||t.dom.pause(),null===(r=e.audioEl)||void 0===r||r.dom.play().catch((function(){s.logger.warn("".concat(Id," show page and  ").concat(e.userID," replay failed."))})))})),a.label=3;case 3:return[2]}}))}))}},this.zegoRTC=e,document.addEventListener("visibilitychange",this.eventHandler.visibilitychange,!1),this.zegoRTC.on("roomStreamUpdate",(function(e,t,i){var A=i.map((function(e){var t=r.getStreamInfo(e.extraInfo,e.streamID),i=t.isRangeAudioStream,A=t.teamID,n=t.raMode,o=t.sendMode;return ld(ld({},e),{isRangeAudioStream:i,teamID:A,raMode:n,sendMode:o})})).filter((function(e){return e.isRangeAudioStream})),n=A.map((function(e){return e.user.userID}));"DELETE"===t?r.speakingUserIdList=r.speakingUserIdList.filter((function(e){var t=!n.includes(e);if(!t){var i=r.audioSourceMap[e];if(i){i.stopPlayingAudio("stop for stream delete")}}return t})):"ADD"===t&&(r.speakingUserIdList=r.speakingUserIdList.concat(n),A.forEach((function(e){var t=e.user.userID,i=r.audioSourceMap[t],A=e.teamID,n=e.raMode,o=e.sendMode;if(i)i.streamID!==e.streamID&&(i.stopPlayingAudio("stop for old stream"),i.streamID=e.streamID),void 0!==n&&(i.raMode=n),A!==i.teamID&&(i.teamID=A),i.changeRenderConfig(r.isOpen3D(i));else{var s=new Jh(r.logger,{userID:t,teamID:A,raMode:n,sendMode:o},{audioCtx:r.audioCtx,zegoRTC:r.zegoRTC,isSpatial:r.isSpatial,maxDistance:r.rangeListener.recvRange,volume:r.volume,speaker:r.speaker,isHide:r.isHide});s.streamID=e.streamID,r.audioSourceList.push(s),r.playStreamHandler.hasChanged=!0}}))),r.playStreamHandler.setAudioSourceList(r.speakingAudioSourceList)})),this.zegoRTC.on("playerStateUpdate",(function(e){var t=r.audioSourceList.find((function(t){return t.streamID===e.streamID}));t&&("NO_PLAY"===e.state?t.isPlaying=!1:("PLAYING"===e.state&&t.checkTrackChanged(),t.isPlaying=!0))})),this.zegoRTC.on("streamExtraInfoUpdate",(function(e,t){r.logger.info(Id+" recv extra info: "+JSON.stringify(t));var i=!1;t.forEach((function(e){var t=r.audioSourceMap[e.user.userID];if(t&&t.streamID){var A=r.getStreamInfo(e.extraInfo,e.streamID),n=A.teamID,o=A.raMode,s=A.sendMode;n!==t.teamID&&(t.teamID=n,i=!0),void 0!==o&&(t.raMode=o,i=!0),t.sendMode!==s&&(t.sendMode=s,i=!0),r.playStreamHandler.hasChanged=!0}})),i&&r.enableSpatializer(r.isSpatial)})),this.zegoRTC.RTM._on("_roomStateUpdate",(function(e,t){"CONNECTED"===t?(r.roomID=e,r.rangeListener.userID=r.zegoRTC.RTM.getUserID(),r.playStreamHandler.hasChanged=!0,r.playStreamHandler.userChanged=!0):"DISCONNECTED"===t&&(r.roomID=void 0,r.rangeListener.reset(),r.enableSpeaker(!1),r.audioSourceList=[],r.playStreamHandler.setAudioSourceList([]),r.localUserList=[],r.playStreamHandler.setLocalUserList([]))})),this.zegoRTC.RTM.on("roomUserUpdate",(function(e,t,i){var A;r.logger.info(Id+" roomUserUpdate: ",e,t,JSON.stringify(i)),"ADD"===t?(A=r.localUserList).push.apply(A,i):"DELETE"===t&&i.forEach((function(e){r.localUserList=r.localUserList.filter((function(t){return t.userID!==e.userID}))})),r.playStreamHandler.setLocalUserList(r.localUserList)})),this.zegoRTC.on("publishQualityUpdate",(function(e,t){var i=e.match(/(.*)_(.*)/);if(3===(null==i?void 0:i.length)){var A=i[1];if(r.rangeListener.userID!==A)return;var n=ld({},t.audio);r.eventManager.emit("publishQualityUpdate",A,n)}})),this.zegoRTC.on("playQualityUpdate",(function(e,t){var i,A=e.match(/(.*)_(.*)/);if(3===(null==A?void 0:A.length)){var n=A[1],o=t.audio,s=t.peerToPeerDelay,a=t.peerToPeerPacketLostRate;if(!(null===(i=r.audioSourceList)||void 0===i?void 0:i.some((function(e){return e.userID===n}))))return;var c=ld(ld({},o),{peerToPeerDelay:s,peerToPeerPacketLostRate:a});r.eventManager.emit("playQualityUpdate",n,c)}}));var i=window.AudioContext||window.webkitAudioContext;this._audioCtx=this.zegoRTC&&this.zegoRTC.ac||new i,this.rangeListener=od.getInstance(this.audioCtx,this.zegoRTC),this.playStreamHandler=cd.getInstance(this.logger,this.rangeListener),this.eventManager=rd.getInstance()}return Object.defineProperty(e.prototype,"audioSourceMap",{get:function(){return this.audioSourceList.reduce((function(e,t){return t.userID&&(e[t.userID]=t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speakingAudioSourceList",{get:function(){var e=this;return this.audioSourceList.filter((function(t){return e.speakingUserIdList.includes(t.userID)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vocalSourceList",{get:function(){for(var e=[],t=this.vocalSourceMap.values(),r=0;r<this.vocalSourceMap.size;r++)e.push(t.next().value);return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playingAudioSourceList",{get:function(){return this.audioSourceList.filter((function(e){return e.isPlaying}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioCtx",{get:function(){if(!this._audioCtx){var e=window.AudioContext||window.webkitAudioContext;this._audioCtx=new e}return this._audioCtx},enumerable:!1,configurable:!0}),e.getInstance=function(t,r){return e.instance||(e.instance=new e(t,r)),e.instance},e.prototype.resumeAudioContext=function(){return hd(this,void 0,void 0,(function(){var e=this;return dd(this,(function(t){return[2,new Promise((function(t){kh.generateEls(),"running"===e.audioCtx.state&&t(!0),e.audioCtx.onstatechange=function(){"running"===e.audioCtx.state&&t(!0)},e.audioCtx.resume(),e.logger.info(Id+" resume audio ctx"),setTimeout((function(){t(!1)}),3e3)}))]}))}))},e.prototype.getAudioContextState=function(){return this.audioCtx.state},e.prototype.getStreamInfo=function(e,t){var r=void 0,i=null;try{i=JSON.parse(e)}catch(e){return this.logger.warn(Id+" parse room extra info failed. ".concat(t," is not ra stream.")),{isRangeAudioStream:!1}}if(!i.hasOwnProperty("range_audio_team_id")||!i.hasOwnProperty("range_audio_mode"))return this.logger.warn(Id+" extra info has no mode. ".concat(t," is not ra stream.")),{isRangeAudioStream:!1};r={1:0,2:1,3:2}[i.range_audio_mode];var A=i.r_a_s_flag,n={teamID:i.range_audio_team_id||void 0,raMode:r,isRangeAudioStream:void 0===A||1===A};return i.hasOwnProperty("r_a_speak")&&(n.sendMode=i.r_a_speak),this.logger.info("".concat(Id," ").concat(t," parse extra info: ").concat(JSON.stringify(n),".")),n},e.prototype.setAudioReceiveRange=function(e){if(!gd(e))throw Error("Failed to execute 'setAudioReceiveRange': Argument 'range' requires to be type number.");if(e=Number(e),(e=Number(e))<0)throw Error("Failed to execute 'setAudioReceiveRange': Argument 'range' can not be less than 0.");this.logger.info(Id+" set receive range: "+e),this.rangeListener.recvRange=e,this.audioSourceList.forEach((function(t){t.setMaxDistance(e)})),this.playStreamHandler.hasChanged=!0,this.playStreamHandler.userChanged=!0},e.prototype.updateSelfPosition=function(e,t,r,i){var A=this,n=function(e){return"Failed to execute 'updateSelfPosition': Argument '".concat(e,"' requires an array of type number.\"")};if(!ud(e))throw new Error(n("position"));if(!ud(t))throw new Error(n("axisForward"));if(!ud(r))throw new Error(n("axisRight"));if(!ud(i))throw new Error(n("axisUp"));this.logger.info(Id+" set self position [".concat(e,"]")),this.rangeListener&&(this.rangeListener.updateSelfPosition(e,t,i),this.vocalSourceMap.forEach((function(e){e.checkIfCanPlay(A.rangeListener)}))),this.playStreamHandler.setListener(this.rangeListener)},e.prototype.updateAudioSource=function(e,t){if(e=String(e),!ud(t))throw new Error("Failed to execute 'updateAudioSource': parameter 'position' must be an array of type number.");var r=this.audioSourceMap[e];r?r.setPosition(t):(r=new Jh(this.logger,{userID:e,position:t},{audioCtx:this.audioCtx,zegoRTC:this.zegoRTC,isSpatial:this.isSpatial,maxDistance:this.rangeListener.recvRange,volume:this.volume,speaker:this.speaker,isHide:this.isHide}),this.enableSpatializer(this.isSpatial),this.audioSourceList.push(r)),this.playStreamHandler.setAudioSourceList(this.speakingAudioSourceList),this.playStreamHandler.setAllAudioSourceList(this.audioSourceList)},e.prototype.enableMicrophone=function(e){if(void 0===e&&(e=!0),!this.rangeListener.userID)throw new Error("Enable mic failed. Please log in room first.");return e?this.rangeListener.startPublishingStream():this.rangeListener.stopPublishingStream()},e.prototype.selectMic=function(e){return hd(this,void 0,void 0,(function(){var t,r,i,A;return dd(this,(function(n){switch(n.label){case 0:if("string"!=typeof e&&void 0!==e)throw new Error("Select mic failed. DeviceID error.");if(r=(t=this.rangeListener).audioStream,i=t.isPublishing,this.logger.info(Id+" select mic: "+e),!r||!i)return[3,5];A={errorCode:0},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.zegoRTC.useAudioDevice(r,e||"")];case 2:return A=n.sent(),[3,4];case 3:return n.sent(),[2,!1];case 4:return 0===A.errorCode?(this.rangeListener.micID=e,[2,!0]):[2,!1];case 5:return this.rangeListener.micID=e,[2,!0];case 6:return[2]}}))}))},e.prototype.enableSpeaker=function(e){if(void 0===e&&(e=!0),e&&!this.roomID)throw new Error("Enable speaker failed. Please log in room first.");this.playStreamHandler.isEnable=e,this.logger.info(Id+" enable speaker: "+e),e?(kh.generateEls(),this.playStreamHandler.startPlayingAudioStream()):this.playStreamHandler.stopPlayingAudioStream()},e.prototype.enableSpatializer=function(e){var t=this;void 0===e&&(e=!0),this.logger.info(Id+" set spatializer: "+e),this.isSpatial=!!e,this.audioSourceList.forEach((function(e){e.changeRenderConfig(t.isOpen3D(e))})),this.vocalSourceList.forEach((function(t){t.changeRenderConfig(e)})),e&&this.rangeListener.updateListenerEffect()},e.prototype.enableAiDenoise=function(e){if(this.logger.info(Id+" set ai denoise: "+e),"boolean"!=typeof e)return!1;var t=KA();return(t||window.AudioWorklet)&&window.WebAssembly&&(window.AudioContext||(null===window||void 0===window?void 0:window.webkitAudioContext)).prototype.createScriptProcessor?this.rangeListener.enableDenoise(!!e):(this.logger.error(Id+"".concat(t&&" mobile"," browser dose not support ai denoise.")),!1)},e.prototype.setVoiceChangerPreset=function(e){this.logger.info(Id+" set voice changer preset: "+JSON.stringify(e));var t=KA();return(t||window.AudioWorklet)&&window.WebAssembly&&(window.AudioContext||(null===window||void 0===window?void 0:window.webkitAudioContext)).prototype.createScriptProcessor?this.rangeListener.setVoiceChangerPreset(e):(this.logger.error(Id+"".concat(t&&" mobile"," browser dose not support voice changer.")),!1)},e.prototype.setRangeAudioTeamID=function(e){this.logger.info(Id+" set team id: "+e),this.rangeListener.setTeamID(e),this.enableSpatializer(this.isSpatial),this.playStreamHandler.hasChanged=!0},e.prototype.setRangeAudioMode=function(e){if(this.modeType===nd.Custom)throw new Error("Failed to execute 'setRangeAudioMode': already use 'setRangeAudioCustomMode'.");this.modeType=nd.Normal,this.logger.info(Id+" set mode "+e),this.rangeListener.setNormalMode(e),this.playStreamHandler.hasChanged=!0},e.prototype.setCustomMode=function(e,t){if(this.modeType===nd.Normal)throw new Error("Failed to execute 'setRangeAudioCustomMode': already use 'setRangeAudioMode'.");this.modeType=nd.Custom,this.logger.info(Id+" set custom mode: ".concat(e,", ").concat(t));var r=this.rangeListener.setCustomMode(e,t).recvChange;this.playStreamHandler.hasChanged=!0,r&&this.enableSpatializer(this.isSpatial)},e.prototype.setAudioVolume=function(e){var t=this;if(this.logger.info(Id+" set volume ".concat(e)),e<0)throw new Error("Failed to execute 'setVolume': The volume provided is outside the range [0, 200].");this.volume=e/100,this.audioSourceList.forEach((function(e){e.setVolume(t.volume)}))},e.prototype.selectSpeaker=function(e){var t=this;if(void 0===e&&(e=""),"string"!=typeof e)throw new Error("Select speaker failed. Device ID error.");if(!this.supportSpeakerSet){if(!!!document.createElement("audio").setSinkId)throw new Error("Failed to execute 'selectSpeaker': browser not support.");this.supportSpeakerSet=!0}this.speaker=e,this.logger.info(Id+" set speaker: "+e),""===e&&this.logger.warn(Id+" set speaker to be default. ");this.audioSourceList.find((function(r){return hd(t,void 0,void 0,(function(){var t;return dd(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.setSpeaker(e)];case 1:return i.sent(),[3,3];case 2:return t=i.sent(),this.logger.warn(Id+" set speaker failed. id: ".concat(e,", error: ").concat(t)),[2,!0];case 3:return[2,!1]}}))}))}))},e.prototype.setPositionUpdateFrequency=function(e){if(!(e>=15))throw new Error("Failed to execute 'setPositionUpdateFrequency': The frequency provided is outside the range [15, +].");this.playStreamHandler.interval=Number(e)||100,this.logger.info(Id+" set interval: "+e)},e.prototype.on=function(e,t){return this.eventManager.addEventHandler(e,t)},e.prototype.off=function(e,t){return this.eventManager.removeEventHandler(e,t)},e.prototype.enableAudioSourceUpdateChecker=function(e,t){if(this.logger.info(Id+" set source update: "+e),this.audioSourceUpdate=e,this.playStreamHandler.setAudioSourceUpdate(e),t&&"number"==typeof t.frequency){if((null==t?void 0:t.frequency)<50)throw new Error("Failed to execute 'enableAudioSourceUpdateChecker': The frequency provided is outside the range [50, +].");this.playStreamHandler.updateUserInterval=Number(t.frequency)||1e3,this.logger.info(Id+" set interval: "+t.frequency)}e?this.playStreamHandler.startCheckUserInRange():this.playStreamHandler.stopCheckUserInRange()},e.prototype.getVocalSource=function(e,t){var r=this.vocalSourceMap.get(e);if(!r){var i={audioCtx:this.audioCtx,isSpatial:this.isSpatial,maxDistance:t||0,volume:this.volume,speaker:this.speaker,isHide:this.isHide};r=e instanceof HTMLMediaElement?new Vh(this.logger,{media:e},i):new ed(this.logger,{streamView:e},i)}return this.vocalSourceMap.set(e,r),r},e.prototype.setStreamVocalRange=function(e,t){var r=e instanceof HTMLMediaElement;if(!r&&!(null==e?void 0:e.v))throw new Error("Failed to execute 'setVocalRange': type of parameter 1 error.");if(!gd(t))throw Error("Failed to execute 'setVocalRange': parameter 2 requires to be type number.");t=Number(t),this.logger.info(Id+" ".concat(r?"custom":"stream"," set range: ")+t);var i=this.getVocalSource(e,t);i.setMaxDistance(t),i.checkIfCanPlay(this.rangeListener)},e.prototype.updateStreamPosition=function(e,t){if(!(e instanceof HTMLMediaElement)&&!(null==e?void 0:e.v))throw new Error("Failed to execute 'updatePosition': type of parameter 1 error.");if(!ud(t))throw new Error("Failed to execute 'updatePosition': parameter 'position' must be an array of type number.");var r=this.getVocalSource(e);r.setPosition(t),r.checkIfCanPlay(this.rangeListener)},e.prototype.isOpen3D=function(e){return e instanceof Jh?(!(this.rangeListener.recvMode!==Us.World)||!e.isSpeakInTeam(this.rangeListener.teamID))&&this.isSpatial:this.isSpatial},e}(),Ed=fd,Qd=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Bd=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},md=function(){function e(e,t){this.zegoAudioListener=Ed.getInstance(e,t)}return e.getInstance=function(t,r){if(!e.instance){if(!t)throw Error("create instance failed.");e.instance=new e(t,r)}return e.instance},e.prototype.enableAiDenoise=function(e){return this.zegoAudioListener.enableAiDenoise(e)},e.prototype.enableAudioSourceUpdateChecker=function(e,t){this.zegoAudioListener.enableAudioSourceUpdateChecker(e,t)},e.prototype.on=function(e,t){return this.zegoAudioListener.on(e,t)},e.prototype.off=function(e,t){return this.zegoAudioListener.off(e,t)},e.prototype.setAudioReceiveRange=function(e){this.zegoAudioListener.setAudioReceiveRange(e)},e.prototype.updateSelfPosition=function(e,t,r,i){this.zegoAudioListener.updateSelfPosition(e,t,r,i)},e.prototype.updateAudioSource=function(e,t){this.zegoAudioListener.updateAudioSource(e,t)},e.prototype.enableSpatializer=function(e){return this.zegoAudioListener.enableSpatializer(e)},e.prototype.enableMicrophone=function(e){return this.zegoAudioListener.enableMicrophone(e)},e.prototype.selectMicrophone=function(e){return Qd(this,void 0,void 0,(function(){return Bd(this,(function(t){switch(t.label){case 0:return[4,this.zegoAudioListener.selectMic(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.selectSpeaker=function(e){return this.zegoAudioListener.selectSpeaker(e)},e.prototype.enableSpeaker=function(e){return this.zegoAudioListener.enableSpeaker(e)},e.prototype.setRangeAudioCustomMode=function(e,t){this.zegoAudioListener.setCustomMode(e,t)},e.prototype.setRangeAudioMode=function(e){this.zegoAudioListener.setRangeAudioMode(e)},e.prototype.setTeamID=function(e){this.zegoAudioListener.setRangeAudioTeamID(e)},e.prototype.setPositionUpdateFrequency=function(e){return this.zegoAudioListener.setPositionUpdateFrequency(e)},e.prototype.setRangeAudioVolume=function(e){return this.zegoAudioListener.setAudioVolume(e)},e.prototype.setVoiceChangerPreset=function(e){return this.zegoAudioListener.setVoiceChangerPreset({voiceChanger:e})},e.prototype.setVoiceChangerParam=function(e){return this.zegoAudioListener.setVoiceChangerPreset({voiceParam:e})},e.prototype.isAudioContextRunning=function(){return"running"===this.zegoAudioListener.getAudioContextState()},e.prototype.resumeAudioContext=function(){return this.zegoAudioListener.resumeAudioContext()},e.prototype.setStreamVocalRange=function(e,t){this.zegoAudioListener.setStreamVocalRange(e,t)},e.prototype.updateStreamPosition=function(e,t){this.zegoAudioListener.updateStreamPosition(e,t)},e.prototype.setCustomSourceVocalRange=function(e,t){this.zegoAudioListener.setStreamVocalRange(e,t)},e.prototype.updateCustomSourcePosition=function(e,t){this.zegoAudioListener.updateStreamPosition(e,t)},e}(),yd={type:"RangeAudio",install:function(e){Object.defineProperty(e.prototype,"createRangeAudioInstance",{value:function(){return this.rangeAudio||(this.rangeAudio=md.getInstance(this,this.logger)),this.rangeAudio},writable:!1})}},vd=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},_d=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Sd=function(){function e(e,t){this.zegoWebRTC=e,this.roomID=t,this.pubDataChannelList=[],this.subDataChannelList=[],this.listenerList={receiveRealTimeSequentialData:[]},this.logger=e.logger}return e.prototype.startBroadcasting=function(e,t){return vd(this,void 0,void 0,(function(){var t,r,i,A;return _d(this,(function(n){switch(n.label){case 0:return this.logger.info("dc.sb.0 call"),this.pubDataChannelList.includes(e)?(this.logger.error("dc.sb.0 datachannel already exist"),[2,!1]):(t=this.zegoWebRTC.streamCenter.publisherList[e])&&t.publisher.dataChannel?(this.pubDataChannelList.push(e),[2,!0]):t&&!t.publisher.dataChannel?(this.logger.error("dc.sb.0 publish datachannel no exist, try other stream ID"),[2,!1]):this.broadcastStream?[3,2]:(r=document.createElement("canvas"),i=this,[4,this.zegoWebRTC.createStream({custom:{source:r}})]);case 1:i.broadcastStream=n.sent(),n.label=2;case 2:return(A=this.zegoWebRTC.startPublishingStream(e,this.broadcastStream,{roomID:this.roomID},!0))&&this.pubDataChannelList.push(e),this.logger.info("dc.sb.0 end"),[2,A]}}))}))},e.prototype.stopBroadcasting=function(e){this.logger.info("dc.sb.1 call"),this.pubDataChannelList=this.pubDataChannelList.filter((function(t){return t!==e}));var t=this.zegoWebRTC.streamCenter.publisherList[e];return t?(t.room.roomID==this.roomID&&t.isDataChannel&&this.zegoWebRTC.stopPublishingStream(e),this.logger.info("dc.sb.1 end"),!0):(this.logger.error("dc.sb.1 datachannel no found"),!1)},e.prototype.sendRealTimeSequentialData=function(e,t){if(!t instanceof ArrayBuffer)return this.logger.error("dc.srsd data type wrong"),!1;var r=this.zegoWebRTC.streamCenter.publisherList[e];return r&&this.pubDataChannelList.includes(e)?this.sendBCMessage(r.publisher,t):(this.logger.error("dc.srsd datachannel no found"),!1)},e.prototype.sendBCMessage=function(e,t){var r;if(!e.dataChannelState)return!1;for(var i=new Uint8Array(t),A=0,n=t.byteLength,o=e.send_seq,s=0,a=(new Date).getTime(),c=0;n>0;){n>1151?c=1141:(c=n,s=1);var g=new Uint8Array(c+10);g[0]=1,g[1]=s,g[2]=e.send_seq>>8&255,g[3]=255&e.send_seq,g[4]=o>>8&255,g[5]=255&o,g[6]=a>>24&255,g[7]=a>>16&255,g[8]=a>>8&255,g[9]=255&a;for(var u=0;u<c;u++)g[u+10]=i[u+A];n-=c,A+=c,e.send_seq++,e.send_seq>=65536&&(e.send_seq=0),null===(r=e.dataChannel)||void 0===r||r.send(g)}return!0},e.prototype.startSubscribing=function(e,t){var r,i;return vd(this,void 0,void 0,(function(){var t,A;return _d(this,(function(n){switch(n.label){case 0:return this.logger.info("dc.ss.0 call"),this.subDataChannelList.includes(e)?(this.logger.error("dc.ss.0 datachannel already exist"),[2,!1]):(t=this.zegoWebRTC.streamCenter.playerList[e])?[3,2]:[4,this.zegoWebRTC.startPlayingStream(e,void 0,!0)];case 1:n.sent(),t=this.zegoWebRTC.streamCenter.playerList[e],n.label=2;case 2:return(A=t.player).dataChannel?(!(null===(r=A.onDataChannelList)||void 0===r?void 0:r.includes(this.onReceivedDataChannel.bind(this)))&&(null===(i=A.onDataChannelList)||void 0===i||i.push(this.onReceivedDataChannel.bind(this))),this.subDataChannelList.push(e),this.logger.info("dc.ss.0 end"),[2,!0]):(this.logger.error("dc.ss.0 datachannel no exist, try other stream ID"),[2,!1])}}))}))},e.prototype.stopSubscribing=function(e){this.logger.info("dc.ss.1 call"),this.subDataChannelList=this.subDataChannelList.filter((function(t){return t!==e}));var t=this.zegoWebRTC.streamCenter.playerList[e];return t?(t.room.roomID==this.roomID&&t.isDataChannel&&this.zegoWebRTC.stopPlayingStream(e),this.logger.info("dc.ss.1 end"),!0):(this.logger.error("dc.ss.1 datachannel no subscribe"),!1)},e.prototype.on=function(e,t){this.bindListener(e,t)},e.prototype.off=function(e,t){this.deleteListener(e,t)},e.prototype.bindListener=function(e,t){return this.listenerList[e]?"function"!=typeof t?(this.logger.error("zc.o.0 listener callBack must be funciton"),!1):(-1==this.listenerList[e].indexOf(t)&&this.listenerList[e].push(t),!0):(this.logger.error("dc.o.0 event "+e+" no found"),!1)},e.prototype.deleteListener=function(e,t){if(!this.listenerList[e])return this.logger.error("dc.o.1 listener no found"),!1;var r=this.listenerList[e];return t?r.splice(r.indexOf(t),1):this.listenerList[e]=[],!0},e.prototype.actionListener=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.listenerList[e]&&this.listenerList[e].forEach((function(i){try{setTimeout((function(){i.apply(void 0,r)}),0)}catch(r){t.logger.error("dc.al "+e+" "+r)}}))},e.prototype.onReceivedDataChannel=function(e,t,r){this.actionListener("receiveRealTimeSequentialData",e,t,r)},e.prototype.reset=function(){var e=this;for(var t in this.logger.info("dc.rs call"),this.pubDataChannelList.forEach((function(t){var r=e.zegoWebRTC.streamCenter.publisherList[t];r&&r.room.roomID==e.roomID&&r.isDataChannel&&e.zegoWebRTC.stopPublishingStream(t)})),this.subDataChannelList.forEach((function(t){var r=e.zegoWebRTC.streamCenter.playerList[t];r&&r.room.roomID==e.roomID&&r.isDataChannel&&e.zegoWebRTC.stopPlayingStream(t)})),this.listenerList)this.listenerList[t]=[];this.broadcastStream&&this.zegoWebRTC.destroyStream(this.broadcastStream),this.broadcastStream=void 0,this.logger.info("dc.rs end")},e}(),wd=function(){function e(e,t){this.dataChannelManager=new Sd(e,t)}return e.prototype.startBroadcasting=function(e){return this.dataChannelManager.startBroadcasting(e)},e.prototype.stopBroadcasting=function(e){return this.dataChannelManager.stopBroadcasting(e)},e.prototype.sendRealTimeSequentialData=function(e,t){return this.dataChannelManager.sendRealTimeSequentialData(e,t)},e.prototype.startSubscribing=function(e){return this.dataChannelManager.startSubscribing(e)},e.prototype.stopSubscribing=function(e){return this.dataChannelManager.stopSubscribing(e)},e.prototype.on=function(e,t){this.dataChannelManager.on(e,t)},e.prototype.off=function(e,t){this.dataChannelManager.off(e,t)},e}(),Dd={type:"DataChannel",install:function(e){Object.defineProperty(e.prototype,"createRealTimeSequentialDataManager",{value:function(e){this.enableDataChannel(!0);var t=this.stateCenter.getRoomByRoomID(e);return t?t.dataChannelManager?null:(t.dataChannelManager=new wd(this,e),t.dataChannelManager):(this.logger.error("zc.crsdm room no exist"),null)},writable:!1}),Object.defineProperty(e.prototype,"destroyRealTimeSequentialDataManager",{value:function(e){var t=this.stateCenter.roomList.find((function(t){return t.dataChannelManager==e}));t&&(e.dataChannelManager.reset(),t.dataChannelManager=null)},writable:!1})}};var bd=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},kd=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Rd="zc.p.0.sbe.3",Nd=function(){function e(e){this.logger=e,this.recordedFrameCount=0,this.targetFrameRate=0,this.recordingDuration=0}return e.prototype.startRecordBeautyEffectOutput=function(e){return bd(this,void 0,void 0,(function(){var t,r,i,A=this;return kd(this,(function(n){switch(n.label){case 0:return t=6,this.recordID?(this.logger.warn(Rd+" detector is already recording"),[2,{result:!0}]):(r=(new Date).getTime(),this.recordID=r,this.targetFrameRate=e,this.recordedFrameCount=0,this.recordingDuration=t,[4,new Promise((function(e){window.setTimeout(e,1e3*A.recordingDuration)}))]);case 1:return n.sent(),this.recordID!==r?(this.recordID=void 0,[2,{result:!0}]):(this.recordID=void 0,i=this.recordedFrameCount/t,this.recordedFrameCount<this.targetFrameRate*this.recordingDuration/2?(this.logger.warn(Rd+" detect effect overload: current fps: "+i),[2,{result:!1,targetFPS:this.targetFrameRate,currentFPS:i}]):(this.logger.info(Rd+" detect effect current fps: "+i),[2,{result:!0}]))}}))}))},e.prototype.stopRecordBeautyEffectOutput=function(){this.recordedFrameCount=this.targetFrameRate=0,this.recordID=void 0},e.prototype.addFrame=function(){this.recordID&&(this.recordedFrameCount+=1)},e}();function Td(e){for(var t=e,r="",i=0;i<t.length;i++){var A=t.charCodeAt(i),n=A;A>=65&&A<=90&&(n=(A-65-13+26)%26+65),A>=97&&A<=122&&(n=(A-97-13+26)%26+97),r+=String.fromCharCode(n)}return r}var Ld=function(){function e(e,t,r){this.gl=e,this.width=t,this.height=r,this.type="baseShader",this.program=null,this.program=null}return e.prototype.setEffectConfig=function(e){},e.prototype.setConstUniforms=function(){},e.prototype.resetResolution=function(e,t){this.width=e||this.width,this.height=t||this.height},e.prototype.render=function(){},e.prototype.renderPreTextures=function(e,t,r){},e.prototype.makeProgram=function(e,t){var r=this.gl,i=Td(e),A=Td(t),n=this.makeShader(i,r.VERTEX_SHADER),o=this.makeShader(A,r.FRAGMENT_SHADER),s=r.createProgram();return r.attachShader(s,n),r.attachShader(s,o),r.linkProgram(s),r.getProgramParameter(s,r.LINK_STATUS),s},e.prototype.release=function(){},e.prototype.makeShader=function(e,t){var r=this.gl,i=r.createShader(t);return r.shaderSource(i,e),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS),i},e}(),Md="nggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez uvtuc sybng grkOyheJvqguBssfrg;\nhavsbez uvtuc sybng grkOyheUrvtugBssfrg;\ninelvat irp2 i_grkpbbeq0;\ninelvat irp4 grkgherFuvsg_1;\ninelvat irp4 grkgherFuvsg_2;\ninelvat irp4 grkgherFuvsg_3;\ninelvat irp4 grkgherFuvsg_4;\nibvq znva()\n{\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n\n  irp2 fvatyrFgrcBssfrg = irp2(grkOyheJvqguBssfrg, grkOyheUrvtugBssfrg)*2.5;\n\n  grkgherFuvsg_1 = irp4(nGrkPbbeqvangr.kl - fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + fvatyrFgrcBssfrg);\n  grkgherFuvsg_2 = irp4(nGrkPbbeqvangr.kl - 2.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 2.0 * fvatyrFgrcBssfrg);\n  grkgherFuvsg_3 = irp4(nGrkPbbeqvangr.kl - 3.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 3.0 * fvatyrFgrcBssfrg);\n  grkgherFuvsg_4 = irp4(nGrkPbbeqvangr.kl - 4.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 4.0 * fvatyrFgrcBssfrg);\n}",Od="cerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\ninelvat uvtuc irp4 grkgherFuvsg_1;\ninelvat uvtuc irp4 grkgherFuvsg_2;\ninelvat uvtuc irp4 grkgherFuvsg_3;\ninelvat uvtuc irp4 grkgherFuvsg_4;\nibvq znva(ibvq) { \n  zrqvhzc irp3 fhz = grkgher2Q(hGrkgher, i_grkpbbeq0).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.mj).eto;\n  ty_SentPbybe = irp4(fhz * 0.1111, 1.0); \n}",Pd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Fd=function(e){function t(t,r,i){var A=e.call(this,t,r,i)||this;return A.width=r,A.height=i,A.type="BlurShader",A.blurXProgram=null,A.blurYProgram=null,A.diffProgram=null,A.uIntensity=null,A.smoothIntensity=.5,A.blurTextureList=[],A.blurBufferList=[],A.blurXProgram=A.makeProgram(Md,Od),A.setBorderBlurProgram(A.blurXProgram,1/(r||1),0),A.blurYProgram=A.makeProgram(Md,Od),A.setBorderBlurProgram(A.blurYProgram,0,1/(i||1)),A.diffProgram=A.makeProgram("nggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez zng4 hCZIZngevk;\ninelvat irp2 i_grkpbbeq0;\nibvq znva()\n{\n  // ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n}","cerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\nhavsbez fnzcyre2Q oyheGrkgher;\nibvq znva(ibvq) {\n  irp4 vPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\n  irp4 zrnaPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\n  irp4 qvssPbybe = vPbybe - zrnaPbybe;\n  qvssPbybe.e = zva(qvssPbybe.e * 50.0 * qvssPbybe.e, 1.0);\n  qvssPbybe.t = zva(qvssPbybe.t * 50.0 * qvssPbybe.t, 1.0);\n  qvssPbybe.o = zva(qvssPbybe.o * 50.0 * qvssPbybe.o, 1.0);\n  ty_SentPbybe = irp4(qvssPbybe.eto, 1.0);\n}"),A.setDiffBlurProgram(A.diffProgram),A.program=A.makeProgram("\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\ninelvat irp2 i_grkpbbeq0;\nhavsbez sybng jvqguBssfrg;\nhavsbez sybng urvtugBssfrg;\ninelvat irp2 grkgherFuvsg_1;\ninelvat irp2 grkgherFuvsg_2;\ninelvat irp2 grkgherFuvsg_3;\ninelvat irp2 grkgherFuvsg_4;\nibvq znva()\n{\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n  grkgherFuvsg_1 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,urvtugBssfrg));\n  grkgherFuvsg_2 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,-urvtugBssfrg));\n  grkgherFuvsg_3 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,urvtugBssfrg));\n  grkgherFuvsg_4 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,-urvtugBssfrg));\n}\n","\ncerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\nhavsbez fnzcyre2Q oyheGrkgher;\nhavsbez fnzcyre2Q oyheQvssGrkgher;\nhavsbez ybjc sybng oyheNycun;\nibvq znva(ibvq) {\n  ybjc irp4 vPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\n  ybjc irp4 zrnaPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\n  ybjc irp4 inePbybe = grkgher2Q(oyheQvssGrkgher, i_grkpbbeq0);\n  ybjc sybng nycun = oyheNycun * 1.0;\n  ybjc sybng gurgn = 0.1;\n  zrqvhzc sybng c = pynzc((zva(vPbybe.e, zrnaPbybe.e - 0.1) - 0.2) * 4.0, 0.0, 1.0);\n  zrqvhzc sybng zrnaIne = znk(znk(inePbybe.e, inePbybe.t), inePbybe.o);\n  zrqvhzc sybng xZva = 0.1;\n  ybjc irp3 erfhygPbybe;\n  xZva = (1.0 - zrnaIne / (zrnaIne + gurgn)) * c * nycun;\n  erfhygPbybe = zvk(vPbybe.eto, zrnaPbybe.eto, xZva);\n  erfhygPbybe = zvk(vPbybe.eto, erfhygPbybe, zva(1.0,nycun));\n  ty_SentPbybe = irp4(erfhygPbybe,1.0);\n}"),A.initBlurBuffer(),A}return Pd(t,e),t.prototype.setEffectConfig=function(e){isNaN(e.smoothIntensity)||(this.smoothIntensity=e.smoothIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,this.smoothIntensity)},t.prototype.initBlurBuffer=function(){var e=this,t=this.gl;this.blurTextureList.forEach((function(t){var r;t&&(null===(r=e.gl)||void 0===r||r.deleteTexture(t))})),this.blurBufferList.forEach((function(t){var r;t&&(null===(r=e.gl)||void 0===r||r.deleteFramebuffer(t))})),this.blurTextureList=[],this.blurBufferList=[];for(var r=0;r<3;r++){var i=t.createTexture();if(!i)return;t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null);var A=t.createFramebuffer();if(!A)return;t.bindFramebuffer(t.FRAMEBUFFER,A),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),this.blurTextureList.push(i),this.blurBufferList.push(A)}},t.prototype.renderPreTextures=function(e,t,r){var i=this,A=this.gl,n=[0,1,0],o=[1,1,2];[this.blurXProgram,this.blurYProgram,this.diffProgram].forEach((function(s,a){if(s){A.useProgram(s);var c=A.getUniformLocation(s,"uTexture");A.uniform1i(c,n[a]);var g=A.createBuffer();A.bindBuffer(A.ARRAY_BUFFER,g),A.bufferData(A.ARRAY_BUFFER,new Float32Array(e),A.STATIC_DRAW);var u=A.createBuffer();A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,u),A.bufferData(A.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),A.STATIC_DRAW);var l=A.getAttribLocation(s,"aPosition");A.enableVertexAttribArray(l),A.vertexAttribPointer(l,3,A.FLOAT,!1,0,0);var h=A.createBuffer();A.bindBuffer(A.ARRAY_BUFFER,h),A.bufferData(A.ARRAY_BUFFER,new Float32Array(r),A.STATIC_DRAW);var d=A.getAttribLocation(s,"aTexCoordinate");A.enableVertexAttribArray(d),A.vertexAttribPointer(d,2,A.FLOAT,!1,0,0),A.bindFramebuffer(A.FRAMEBUFFER,i.blurBufferList[a]),A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.drawElements(A.TRIANGLES,6,A.UNSIGNED_SHORT,0),A.activeTexture(A.TEXTURE0+o[a]),A.bindTexture(A.TEXTURE_2D,i.blurTextureList[a])}}))},t.prototype.setConstUniforms=function(){var e=this.width,t=this.height,r=this.program;if(r){var i=this.gl;i.useProgram(r);var A=i.getUniformLocation(r,"widthOffset");i.uniform1f(A,1/e);var n=i.getUniformLocation(r,"heightOffset");i.uniform1f(n,1/t),this.uIntensity=i.getUniformLocation(r,"blurAlpha"),i.uniform1f(this.uIntensity,this.smoothIntensity);var o=i.getUniformLocation(r,"blurTexture");i.uniform1i(o,1);var s=i.getUniformLocation(r,"blurDiffTexture");i.uniform1i(s,2)}},t.prototype.resetResolution=function(e,t){this.width=e||this.width,this.height=t||this.height},t.prototype.setBorderBlurProgram=function(e,t,r){var i=this.gl;i.useProgram(e);var A=i.getUniformLocation(e,"texBlurWidthOffset");i.uniform1f(A,t);var n=i.getUniformLocation(e,"texBlurHeightOffset");i.uniform1f(n,r)},t.prototype.setDiffBlurProgram=function(e){var t=this.gl;t.useProgram(e);var r=t.getUniformLocation(e,"blurTexture");t.uniform1i(r,1)},t}(Ld),Gd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ud=function(e){function t(t,r,i){var A=e.call(this,t,r,i)||this;return A.width=r,A.height=i,A.type="LightShader",A.uLightIntensity=null,A.uRedIntensity=null,A.whitenIntensity=.5,A.rosyIntensity=.5,A.program=A.makeProgram("cerpvfvba uvtuc sybng;\nnggevohgr irp2 nGrkPbbeqvangr;\nnggevohgr irp4 nCbfvgvba;\nhavsbez zng4 hCZIZngevk;\ninelvat irp2 iGrkPbbeq;\nibvq znva() {\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n    iGrkPbbeq = nGrkPbbeqvangr;\n}","cerpvfvba uvtuc sybng;\ninelvat irp2 iGrkPbbeq;\nhavsbez fnzcyre2Q hGrkgher;\nhavsbez sybng vagrafvgl;\nhavsbez sybng ebflVagrafvgl;\nirp3 oevtugarffNaqPbagenfg(irp3 pbybe){\n  sybng v = vagrafvgl * 1.0;\n  sybng CV = 3.1415926;\n  sybng O = 0.12 * v;\n  sybng p = 0.1 * v;\n  sybng x = gna((45. + 44. * p) / 180.0 * CV);\n  pbybe = ((pbybe*255.0 - 127.5 * (1.0 - O)) * x + 127.5 * (1.0 + O)) / 255.0;\n  erghea pbybe;\n}\nibvq znva() {\n  irp4 grkgherPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\n  grkgherPbybe = irp4(oevtugarffNaqPbagenfg(grkgherPbybe.eto), grkgherPbybe.j);\n  grkgherPbybe.e = zva(grkgherPbybe.e + 0.06 * ebflVagrafvgl, 1.0);\n  ty_SentPbybe = grkgherPbybe;\n}"),A}return Gd(t,e),t.prototype.setEffectConfig=function(e){isNaN(e.whitenIntensity)||(this.whitenIntensity=e.whitenIntensity/100),isNaN(e.rosyIntensity)||(this.rosyIntensity=e.rosyIntensity/100)},t.prototype.render=function(){var e=this.gl;e.uniform1f(this.uLightIntensity,this.whitenIntensity),e.uniform1f(this.uRedIntensity,this.rosyIntensity)},t.prototype.setConstUniforms=function(){var e=this.program;if(e){var t=this.gl;t.useProgram(e),this.uLightIntensity=t.getUniformLocation(e,"intensity"),t.uniform1f(this.uLightIntensity,this.whitenIntensity),this.uRedIntensity=t.getUniformLocation(e,"rosyIntensity"),t.uniform1f(this.uRedIntensity,this.rosyIntensity);var r=t.getUniformLocation(e,"uPMVMatrix");t.uniformMatrix4fv(r,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},t}(Ld),xd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Hd=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},qd=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Jd=function(e){function t(t,r,i){var A=e.call(this,t,r,i)||this;return A.width=r,A.height=i,A.type="LowLightShader",A.uIntensity=null,A.lowlightEnhancement=!1,A.lutTex=null,A.lutImg=null,A.lutTexIdx=10,A.uLutTex=null,A.program=A.makeProgram("\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez sybng grkryJvqgu;\nhavsbez sybng grkryUrvtug;\ninelvat irp2 grkgherPbbeqvangr[9];\ninelvat irp2 grkgherPbbeqvangr2;\nhavsbez zng4 hCZIZngevk;\nibvq znva(){\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n    grkgherPbbeqvangr2 = nGrkPbbeqvangr.kl;\n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\n    irp2 jvqguFgrc = irp2(grkryJvqgu, 0.0);\n    irp2 urvtugFgrc = irp2(0.0, grkryUrvtug);\n    irp2 jvqguUrvtugFgrc = irp2(grkryJvqgu, grkryUrvtug);\n    irp2 jvqguArtngvirUrvtugFgrc = irp2(grkryJvqgu, -grkryUrvtug);\n    \n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\n    grkgherPbbeqvangr[1] = nGrkPbbeqvangr.kl - jvqguFgrc;\n    grkgherPbbeqvangr[2] = nGrkPbbeqvangr.kl + jvqguFgrc;\n    \n    grkgherPbbeqvangr[3] = nGrkPbbeqvangr.kl - urvtugFgrc;\n    grkgherPbbeqvangr[4] = nGrkPbbeqvangr.kl - jvqguUrvtugFgrc;\n    grkgherPbbeqvangr[5] = nGrkPbbeqvangr.kl + jvqguArtngvirUrvtugFgrc;\n    \n    grkgherPbbeqvangr[6] = nGrkPbbeqvangr.kl + urvtugFgrc;\n    grkgherPbbeqvangr[7] = nGrkPbbeqvangr.kl - jvqguArtngvirUrvtugFgrc;\n    grkgherPbbeqvangr[8] = nGrkPbbeqvangr.kl + jvqguUrvtugFgrc;\n}\n","cerpvfvba uvtuc sybng;\ninelvat uvtuc irp2 grkgherPbbeqvangr[9];\ninelvat uvtuc irp2 grkgherPbbeqvangr2;\nhavsbez fnzcyre2Q hGrkgher;\nhavsbez fnzcyre2Q vachgVzntrGrkgher2;\nhavsbez uvtuc zng3 zngLHIgbETO;\nhavsbez uvtuc zng3 zngETOgbLHI;\nhavsbez sybng hVagrafvgl;\npbafg irp3 pbzcIrp = irp3(-0.0/255.0, -128.0/255.0, -128.0/255.0);\nirp4 eto2lhi(irp4 vachgETO) {\n    irp3 bhgchgLHI;\n    bhgchgLHI = zngETOgbLHI * vachgETO.eto;\n    bhgchgLHI -= pbzcIrp;\n    erghea irp4(pynzc(bhgchgLHI,\n                        irp3(0.0, 0.0, 0.0),\n                        irp3(1.0, 1.0, 1.0)),\n                        vachgETO.n);\n}\nirp2 fnghengvba(irp2 bet, sybng snpgbe) {\n    irp2 zbq = irp2((bet.k - 128.0/255.0) * snpgbe + 128.0/255.0,\n                    (bet.l - 128.0/255.0) * snpgbe + 128.0/255.0);\n    erghea pynzc(zbq, irp2(0.0, 0.0), irp2(1.0, 1.0));\n}\nirp4 lhi2eto(irp4 vachgLHI) {\n    irp3 bhgchgETO;\n    vachgLHI.eto += pbzcIrp;\n    bhgchgETO = zngLHIgbETO * vachgLHI.eto;\n    erghea irp4(pynzc(bhgchgETO,\n                        irp3(0.0, 0.0, 0.0),\n                        irp3(1.0, 1.0, 1.0)),\n                        vachgLHI.n);\n}\nibvq znva(){\n    irp4 lhi[9];\n    sbe(vag v = 0; v < 9; v++){\n        lhi[v] = eto2lhi(grkgher2Q(hGrkgher, grkgherPbbeqvangr[v]));\n    }\n    sybng fzbbguL = 0.0;\n    fzbbguL += 1.0*lhi[4].e + 2.0*lhi[3].e + 1.0*lhi[5].e;\n    fzbbguL += 2.0*lhi[1].e + 4.0*lhi[0].e + 2.0*lhi[2].e;\n    fzbbguL += 1.0*lhi[7].e + 2.0*lhi[6].e + 1.0*lhi[8].e;\n    fzbbguL = fzbbguL / 16.0;\n    sybng bhgchgL = grkgher2Q(vachgVzntrGrkgher2, irp2(fzbbguL, lhi[0].e)).e;\n    irp3 arjLHI = irp3(zvk(fzbbguL, bhgchgL, hVagrafvgl), lhi[0].to);\n    ty_SentPbybe = lhi2eto(irp4(arjLHI.eto, lhi[0].n));\n}\n"),A}return xd(t,e),t.prototype.setEffectConfig=function(e){this.lowlightEnhancement=1===e.lowlightEnhancement},t.prototype.release=function(){this.gl.deleteTexture(this.lutTex)},t.prototype.render=function(){var e=this.gl;e.uniform1f(this.uIntensity,this.lowlightEnhancement?.6:0);var t=this,r=t.program,i=t.width,A=t.height,n=t.lutTex;if(r){var o=e.getUniformLocation(r,"texelWidth");e.uniform1f(o,1/i);var s=e.getUniformLocation(r,"texelHeight");e.uniform1f(s,1/A),e.activeTexture(e.TEXTURE0+this.lutTexIdx),e.bindTexture(e.TEXTURE_2D,n)}},t.prototype.setConstUniforms=function(){return Hd(this,void 0,void 0,(function(){var e,t,r,i,A,n,o,s,a,c,g=this;return qd(this,(function(u){switch(u.label){case 0:return e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t=[1,1,1,0,-.344,1.772,1.402,-.714,0],r=[.298973,-.168721,.500019,.58706,-.331298,-.41873,.113967,.500019,-.081289],(i=this.program)?((A=this.gl).useProgram(i),this.uIntensity=A.getUniformLocation(i,"uIntensity"),n=A.getUniformLocation(i,"matYUVtoRGB"),A.uniformMatrix3fv(n,!1,t),o=A.getUniformLocation(i,"matRGBtoYUV"),A.uniformMatrix3fv(o,!1,r),s=A.getUniformLocation(i,"uPMVMatrix"),A.uniformMatrix4fv(s,!1,e),a=A.getUniformLocation(i,"inputImageTexture2"),c=this,[4,new Promise((function(e){var t=A.createTexture(),r=g.lutTexIdx,i=g.lutImg;i||(i=new Image);i.onload=function(){g.lutImg=i,A.activeTexture(A.TEXTURE0+r),A.bindTexture(A.TEXTURE_2D,t),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,!1),A.texImage2D(A.TEXTURE_2D,0,A.LUMINANCE,A.LUMINANCE,A.UNSIGNED_BYTE,i),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.uniform1i(a,r),t&&e(t)},i.src="\ndata:image/png;base64,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"}))]):[2];case 1:return c.lutTex=u.sent(),[2]}}))}))},t}(Ld),Yd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Kd=function(e){function t(t,r,i){var A=e.call(this,t,r,i)||this;return A.width=r,A.height=i,A.type="SharpnessShader",A.uIntensity=null,A.sharpenIntensity=.5,A.program=A.makeProgram("\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez sybng vzntrJvqguSnpgbe;\nhavsbez sybng vzntrUrvtugSnpgbe;\nhavsbez sybng funecarff; \ninelvat irp2 iGrkPbbeq;\ninelvat irp2 yrsgGrkgherPbbeqvangr;\ninelvat irp2 evtugGrkgherPbbeqvangr;\ninelvat irp2 gbcGrkgherPbbeqvangr;\ninelvat irp2 obggbzGrkgherPbbeqvangr;\ninelvat sybng pragreZhygvcyvre;\ninelvat sybng rqtrZhygvcyvre;\nibvq znva() {\n  ty_Cbfvgvba = nCbfvgvba;\n  irp2 jvqguFgrc = irp2(vzntrJvqguSnpgbe, 0.0);\n  irp2 urvtugFgrc = irp2(0.0, vzntrUrvtugSnpgbe);\n  iGrkPbbeq = nGrkPbbeqvangr.kl;\n  yrsgGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - jvqguFgrc;\n  evtugGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + jvqguFgrc;\n  gbcGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + urvtugFgrc;\n  obggbzGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - urvtugFgrc;\n  pragreZhygvcyvre = 1.0 + 4.0 * funecarff;\n  rqtrZhygvcyvre = funecarff;\n}\n","\ncerpvfvba uvtuc sybng;\ninelvat uvtuc irp2 iGrkPbbeq;\ninelvat uvtuc irp2 yrsgGrkgherPbbeqvangr;\ninelvat uvtuc irp2 evtugGrkgherPbbeqvangr;\ninelvat uvtuc irp2 gbcGrkgherPbbeqvangr;\ninelvat uvtuc irp2 obggbzGrkgherPbbeqvangr;\ninelvat uvtuc sybng pragreZhygvcyvre;\ninelvat uvtuc sybng rqtrZhygvcyvre;\nhavsbez fnzcyre2Q hGrkgher;\nibvq znva() {\n  zrqvhzc irp4 nPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\n  zrqvhzc irp3 grkgherPbybe = nPbybe.eto;\n  zrqvhzc irp3 yrsgGrkgherPbybe = grkgher2Q(hGrkgher, yrsgGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 evtugGrkgherPbybe = grkgher2Q(hGrkgher, evtugGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 gbcGrkgherPbybe = grkgher2Q(hGrkgher, gbcGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 obggbzGrkgherPbybe = grkgher2Q(hGrkgher, obggbzGrkgherPbbeqvangr).eto;\n  ty_SentPbybe = irp4((grkgherPbybe * pragreZhygvcyvre - (yrsgGrkgherPbybe * rqtrZhygvcyvre + evtugGrkgherPbybe * rqtrZhygvcyvre + gbcGrkgherPbybe * rqtrZhygvcyvre + obggbzGrkgherPbybe * rqtrZhygvcyvre)), nPbybe.n);\n}"),A}return Yd(t,e),t.prototype.setEffectConfig=function(e){isNaN(e.sharpenIntensity)||(this.sharpenIntensity=e.sharpenIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,.5*this.sharpenIntensity)},t.prototype.resetResolution=function(e,t){this.width=e||this.width,this.height=t||this.height,this.setConstUniforms()},t.prototype.setConstUniforms=function(){var e=this.width,t=this.height,r=this.program;if(r){var i=this.gl;i.useProgram(r);var A=i.getUniformLocation(r,"imageWidthFactor");i.uniform1f(A,1/e);var n=i.getUniformLocation(r,"imageHeightFactor");i.uniform1f(n,1/t),this.uIntensity=i.getUniformLocation(r,"sharpness"),i.uniform1f(this.uIntensity,.5*this.sharpenIntensity)}},t}(Ld),zd=1103074,jd="video track is not readable",Vd=1103075,Wd="beauty effect overload",Zd=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Xd=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},$d="zc.p.0.sbe.2",ep={errorCode:1103072,extendedData:"not support beauty effect"},tp=function(){function e(e){this.logger=e,this.gl=null,this.effectConfig={sharpenIntensity:.5,whitenIntensity:.5,rosyIntensity:.5,smoothIntensity:.5,lowlightEnhancement:0},this.originResolution={width:0,height:0},this.shaderList=[],this.frameBufferList=[],this.outputTextureList=[],this.inputTexture=null,this.failedTimes=0,this.onRenderError=function(e){},this.enableBeauty=!1}return e.prototype.setEnableBeauty=function(e){this.enableBeauty=!!e},e.prototype.handleInitError=function(){this.failedTimes++,this.failedTimes>30&&(this.failedTimes=0,this.logger.error($d+" get webgl context failed"),this.onRenderError(ep))},e.prototype.init=function(e,t,r){return Zd(this,void 0,void 0,(function(){var i,A,n,o;return Xd(this,(function(s){switch(s.label){case 0:return void 0!==window.WebGLRenderingContext?(this.canvasEl=r,this.gl=r.getContext("webgl"),this.gl?(this.initGL(e,t),this.inputTexture?[4,(i=new Jd(this.gl,e,t)).setConstUniforms()]:(this.logger.error($d+" input texture not found"),this.handleInitError(),[2])):(this.handleInitError(),[2])):(this.logger.error($d+" not support webgl!"),this.onRenderError(ep),[2]);case 1:return s.sent(),(A=new Fd(this.gl,e,t)).setConstUniforms(),(n=new Ud(this.gl,e,t)).setConstUniforms(),(o=new Kd(this.gl,e,t)).setConstUniforms(),this.shaderList=[i,A,n,o],this.setEffectConfig(this.effectConfig),[2]}}))}))},e.prototype.render=function(e){return Zd(this,void 0,void 0,(function(){var t,r,i,A,n=this;return Xd(this,(function(o){switch(o.label){case 0:return(t=this.gl)&&this.canvasEl&&!t.isContextLost()?[3,4]:this.canvasEl?(this.logger.warn($d+" gl lost, restart effect"),this.release(),[4,this.init(e.videoWidth,e.videoHeight,this.canvasEl)]):[3,2];case 1:return o.sent(),[3,3];case 2:this.logger.error($d+" canvas lost"),this.onRenderError(ep),o.label=3;case 3:return[2];case 4:return(this.originResolution.height!==e.videoHeight||this.originResolution.width!==e.videoWidth)&&(Math.abs(this.originResolution.height-e.videoHeight)>2||Math.abs(this.originResolution.width-e.videoWidth)>2)?0===e.videoHeight||0===e.videoWidth?[2]:(this.canvasEl.width=e.videoWidth,this.canvasEl.height=e.videoHeight,e.setAttribute("width",e.videoWidth.toString()),e.setAttribute("height",e.videoHeight.toString()),!this.gl||this.gl.isContextLost()?[3,5]:(this.logger.info($d+" resolution changed to ".concat(e.videoWidth,"x").concat(e.videoHeight,", reset resolution.")),this.resetResolution(e.videoWidth,e.videoHeight),this.shaderList.forEach((function(t){t.resetResolution(e.videoWidth,e.videoHeight)})),[3,7])):[3,7];case 5:return this.logger.warn($d+" resolution changed and gl context lost, restart effect"),this.release(),[4,this.init(e.videoWidth,e.videoHeight,this.canvasEl)];case 6:o.sent(),o.label=7;case 7:return r=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],i=[0,1,2,0,2,3],A=[0,0,1,0,1,1,0,1],t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.inputTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),this.shaderList.forEach((function(e,o){var s=e.program;if(s){e.renderPreTextures&&e.renderPreTextures(r,i,A),t.useProgram(s),e.render();var a=t.getUniformLocation(s,"uTexture"),c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW);var g=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,g),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW);var u=t.getAttribLocation(s,"aPosition");t.enableVertexAttribArray(u),t.vertexAttribPointer(u,3,t.FLOAT,!1,0,0);var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array(A),t.STATIC_DRAW);var h=t.getAttribLocation(s,"aTexCoordinate");t.enableVertexAttribArray(h),t.vertexAttribPointer(h,2,t.FLOAT,!1,0,0);var d=o===n.shaderList.length-1?null:n.outputTextureList[o];t.bindFramebuffer(t.FRAMEBUFFER,o===n.shaderList.length-1?null:n.frameBufferList[o]),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),t.activeTexture(t.TEXTURE0),d&&t.bindTexture(t.TEXTURE_2D,d),t.uniform1i(a,0)}})),[2]}}))}))},e.prototype.setEffectConfig=function(e){var t=this;isNaN(e.sharpenIntensity)||(this.effectConfig.sharpenIntensity=e.sharpenIntensity),isNaN(e.whitenIntensity)||(this.effectConfig.whitenIntensity=e.whitenIntensity),isNaN(e.rosyIntensity)||(this.effectConfig.rosyIntensity=e.rosyIntensity),isNaN(e.smoothIntensity)||(this.effectConfig.smoothIntensity=e.smoothIntensity),isNaN(e.lowlightEnhancement)||(this.effectConfig.lowlightEnhancement=e.lowlightEnhancement),this.shaderList.forEach((function(e){e.setEffectConfig(t.effectConfig)}))},e.prototype.release=function(){var e,t=this;this.shaderList.forEach((function(e){var r;e.program&&(null===(r=t.gl)||void 0===r||r.deleteProgram(e.program))})),this.outputTextureList.forEach((function(e){var r;e&&(null===(r=t.gl)||void 0===r||r.deleteTexture(e))})),this.frameBufferList.forEach((function(e){var r;e&&(null===(r=t.gl)||void 0===r||r.deleteFramebuffer(e))})),this.inputTexture&&(null===(e=this.gl)||void 0===e||e.deleteTexture(this.inputTexture)),this.inputTexture=this.gl=null,this.shaderList.forEach((function(e){e.release()})),this.shaderList=[],this.outputTextureList=[],this.frameBufferList=[]},e.prototype.initGL=function(e,t){var r=this.gl;if(!r)return this.logger.error($d+" webgl context not found");this.inputTexture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.inputTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR);for(var i=0;4>i;i++){var A=r.createTexture();if(!A)return this.logger.warn($d+" create texture failed");r.bindTexture(r.TEXTURE_2D,A),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null);var n=r.createFramebuffer();if(!n)return this.logger.warn($d+" create frame buffer failed");r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,A,0),this.outputTextureList.push(A),this.frameBufferList.push(n)}r.viewport(0,0,e,t),this.originResolution.width=e,this.originResolution.height=t},e.prototype.resetResolution=function(e,t){var r=this.gl;if(!r)return this.logger.warn($d+" can not find webgl context");for(var i=0;i<this.outputTextureList.length;i++){r.bindTexture(r.TEXTURE_2D,this.outputTextureList[i]),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null)}r.viewport(0,0,e,t),this.originResolution.width=e,this.originResolution.height=t},e}(),rp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),ip=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},Ap=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},np={errorCode:zd,extendedData:jd},op={errorCode:Vd,extendedData:Wd},sp="zc.p.0.sbe.1",ap=function(e){function t(t,r){var i=e.call(this)||this;return i.logger=t,i.kind="video",i._enabled=!1,i.lastRenderTime=0,i.stateFlag={base:!1,lowLight:!1},i.isStarting=!1,i.animationFrameId=0,i.backgroundLoop=null,i.eventHandler={visibilitychange:function(){if(document.hidden){var e=function(){return ip(i,void 0,void 0,(function(){return Ap(this,(function(t){switch(t.label){case 0:return this.backgroundLoop=window.setTimeout(e,Math.floor(1e3/this.fps)),!document.hidden&&this.backgroundLoop?(clearTimeout(this.backgroundLoop),this.backgroundLoop=null,[2]):[4,this.renderAFrame()];case 1:return t.sent(),[2]}}))}))};e()}else i.backgroundLoop&&(clearTimeout(i.backgroundLoop),i.backgroundLoop=null)}},i.setInput(r,!0),i.fps=15,i.detector=new Nd(t),i.backgroundLoop&&clearTimeout(i.backgroundLoop),i.backgroundLoop=null,i.lastRenderTime=0,i.manager=new tp(t),i.manager.onRenderError=function(e){1103072===e.errorCode&&i.stopEffect(),i.onError(e)},i}return rp(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this._output||this.input||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.manager.effectConfig||{}},enumerable:!1,configurable:!0}),t.prototype.setBeautyEffectOptions=function(e,t){return void 0===t&&(t={}),ip(this,void 0,void 0,(function(){var r;return Ap(this,(function(i){switch(i.label){case 0:return e&&this.manager.setEffectConfig(t),this.enabled===e?[3,6]:(this.manager.setEnableBeauty(e),this.enabled!==e&&this.logger.info(sp+" effect enabled "+e+"; options: "+JSON.stringify(t)),this.enabled=e,e?(r=this.input)?[4,this.startEffect()]:[3,2]:[3,3]);case 1:r=i.sent(),i.label=2;case 2:return r,[3,5];case 3:return[4,this.stopEffect()];case 4:i.sent(),i.label=5;case 5:i.label=6;case 6:return[2]}}))}))},t.prototype.startEffect=function(){return ip(this,void 0,void 0,(function(){var e,t,r=this;return Ap(this,(function(i){switch(i.label){case 0:return this.isStarting=!0,this.logger.info(sp+" call start effect"),this.input?this.input&&this._output&&this.input!==this._output?(this.logger.warn(sp+" video effect is already enabled"),[2]):[4,this.startWebGLProcessor().catch((function(e){throw r.stopEffect(),e}))]:(this.logger.error(sp+" start effect failed, input track is null"),[2]);case 1:return e=i.sent(),[4,this.updateOutput(e)];case 2:return i.sent(),this.enabled=!0,this.logger.info(sp+" start effect success"),this.detector.startRecordBeautyEffectOutput(this.fps).then((function(e){!e.result&&r.onError&&r.onError(op,{targetFPS:e.targetFPS,currentFPS:e.currentFPS})})),t=function(){return ip(r,void 0,void 0,(function(){return Ap(this,(function(e){switch(e.label){case 0:return this.enabled&&(this.animationFrameId=requestAnimationFrame(t)),[4,this.renderAFrame()];case 1:return e.sent(),[2]}}))}))},this.animationFrameId=requestAnimationFrame(t),document.addEventListener("visibilitychange",this.eventHandler.visibilitychange,!1),this.isStarting=!1,[2]}}))}))},t.prototype.renderAFrame=function(){return ip(this,void 0,void 0,(function(){var e,t,r;return Ap(this,(function(i){switch(i.label){case 0:return e=Date.now(),t=1e3/this.fps,(r=this.lastRenderTime?e-this.lastRenderTime:t)>=t?(this.lastRenderTime=e-(r-t),this.videoEl&&this.videoEl.paused&&this.videoEl.play(),this.enabled&&this.videoEl?this.videoEl.videoWidth>6&&this.videoEl.videoHeight>6?[4,this.manager.render(this.videoEl)]:[3,2]:[3,3]):[3,3];case 1:i.sent(),i.label=2;case 2:this._output&&this._output.requestFrame&&this._output.requestFrame(),this.detector.addFrame(),i.label=3;case 3:return[2]}}))}))},t.prototype.stopEffect=function(){return ip(this,void 0,void 0,(function(){var e=this;return Ap(this,(function(t){switch(t.label){case 0:return this.enabled=!1,this.logger.info(sp+" call stop effect"),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this.detector.stopRecordBeautyEffectOutput(),this.manager.release(),[4,this.updateOutput()];case 1:return t.sent(),void 0===this.removeDomTimer&&(this.removeDomTimer=window.setTimeout((function(){!1===e.enabled&&e.destroy()}),18e4)),document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange),[2]}}))}))},t.prototype.destroy=function(){this.logger.info(sp+" destroy hidden elements"),this.canvasEl&&this.canvasEl.remove(),this.videoEl&&this.videoEl.remove(),this.videoEl=this.canvasEl=void 0,this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0)},t.prototype.startWebGLProcessor=function(){return ip(this,void 0,void 0,(function(){var e,t,r,i,A=this;return Ap(this,(function(n){switch(n.label){case 0:return this.input?(this.logger.info(sp+" start webgl processor"),this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0),this.canvasEl&&this.videoEl?[3,2]:(this.logger.info(sp+" create elements"),this.canvasEl&&(this.canvasEl.remove(),this.canvasEl=void 0),this.videoEl&&(this.videoEl.remove(),this.videoEl=void 0),this.canvasEl=document.createElement("canvas"),this.videoEl=VA(),this.videoEl.setAttribute("style","display:none"),e=new Promise((function(e,t){var r=null,i=function(){r&&clearTimeout(r),A.videoEl&&A.videoEl.removeEventListener("playing",i),e(void 0)};A.videoEl&&A.videoEl.addEventListener("playing",i),r=window.setTimeout((function(){A.logger.warn(sp+" video track error"),t(np)}),1e3)})),this.videoEl.srcObject=new MediaStream([this.input]),this.videoEl.play(),[4,e])):(this.logger.error(sp+" input track is null"),[2]);case 1:n.sent(),n.label=2;case 2:if(t=this.input.getSettings(),r=t.width||this.videoEl.videoWidth,i=t.height||this.videoEl.videoHeight,t.frameRate&&this.fps!==t.frameRate&&(this.fps=t.frameRate,this.logger.info(sp+" set target fps: "+this.fps)),this.logger.info(sp+" beauty video processor: width "+t.width+" height "+t.height),!r||!i)throw this.logger.error(sp+" resolution of track is wrong"),np;return this.canvasEl.width=r,this.canvasEl.height=i,this.videoEl.setAttribute("width",r.toString()),this.videoEl.setAttribute("height",i.toString()),this.manager.init(r,i,this.canvasEl),[2,this.canvasEl.captureStream().getVideoTracks()[0]]}}))}))},t.prototype.setInput=function(e,t){return void 0===t&&(t=!1),ip(this,void 0,void 0,(function(){var r,i;return Ap(this,(function(A){switch(A.label){case 0:return e&&e!==this.input?e.kind!==this.kind?(this.logger.error(sp+" kind of track is not video"),[2]):(this._output&&this.input===this._output&&this.logger.error(sp+" input track is same as effect track"),this.logger.info(sp+" change input track"),t?this.input?[4,this.removeInput()]:[3,2]:[3,5]):[3,7];case 1:A.sent(),A.label=2;case 2:return this.input=e,this.enabled&&!this.videoEl?[4,this.startEffect()]:[3,4];case 3:A.sent(),A.label=4;case 4:return[3,7];case 5:return this.input=e,(r=this.videoEl)&&(r.srcObject?((i=r.srcObject).getTracks().forEach((function(e){return i.removeTrack(e)})),i.addTrack(this.input)):r.srcObject=new MediaStream([this.input]),r.play()),this._output?[3,7]:[4,this.onOutputChange()];case 6:A.sent(),A.label=7;case 7:return[2]}}))}))},t.prototype.removeInput=function(){return ip(this,void 0,void 0,(function(){return Ap(this,(function(e){switch(e.label){case 0:return this.input=void 0,[4,this.stopEffect()];case 1:return e.sent(),[2]}}))}))},t.prototype.updateOutput=function(e){return ip(this,void 0,void 0,(function(){return Ap(this,(function(t){switch(t.label){case 0:return this._output===e?[3,3]:(this._output=e,this.onOutputChange?[4,this.onOutputChange(this._output)]:[3,2]);case 1:t.sent(),t.label=2;case 2:t.label=3;case 3:return[2]}}))}))},t.prototype.onOutputChange=function(e){var t;return ip(this,void 0,void 0,(function(){return Ap(this,(function(r){switch(r.label){case 0:return[4,null===(t=this.next)||void 0===t?void 0:t.setInput(e||this.input||null)];case 1:return r.sent(),[2]}}))}))},t.prototype.onError=function(e,t){},t}(Bs),cp=function(){return cp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},cp.apply(this,arguments)},gp=function(e,t,r,i){return new(r||(r=Promise))((function(A,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}a((i=i.apply(e,t||[])).next())}))},up=function(e,t){var r,i,A,n,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(o=0)),o;)try{if(r=1,i&&(A=2&s[0]?i.return:s[0]?i.throw||((A=i.return)&&A.call(i),0):i.next)&&!(A=A.call(i,s[1])).done)return A;switch(i=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(A=o.trys,(A=A.length>0&&A[A.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){o.label=s[1];break}if(6===s[0]&&o.label<A[1]){o.label=A[1],A=s;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(s);break}A[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},lp="zc.p.0.sbe.0",hp={setBeautyEffect:function(e,t,r,i){var A=this;return void 0===i&&(i=!0),new Promise((function(n,o){var s,a,c=function(e,t){if(e&&!(e instanceof MediaStream)&&e.zegoStream){if(t.info("cu.gs type:zego"),e.stream instanceof MediaStream)return e.stream;throw new Error("The ZegoLocalStream type requires first calling the capture api to capture the stream")}return e}(e,A.logger);if(!(c instanceof MediaStream))return A.logger.error(lp+" localStream not found"),void o({errorCode:1100001,extendedData:" localStream no found"});var g=function(e){n(e)},u=A.streamCenter.checkPreview(c);if(!u)return A.logger.error("zc.sbe.0 preview no found"),void g({errorCode:PUBLISH_NO_PREVIEW.code,extendedData:PUBLISH_NO_PREVIEW.message});var l=(null===(s=u.videoEffect)||void 0===s?void 0:s.stateFlag)||{base:!1,lowLight:!1};if(i)!(t=!!t)&&l.lowLight?r={sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:l.lowLight?1:0}:t&&(r=cp({lowlightEnhancement:l.lowLight?1:0},r)),l.base=t;else{var h=r.lowlightEnhancement;r=(null===(a=u.videoEffect)||void 0===a?void 0:a.enabled)||1!==h?{lowlightEnhancement:h}:{sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:h},l.lowLight=1===h}u.setBeautyEffect(l.base||l.lowLight,r,l).then((function(){g({errorCode:0,extendedData:""})})).catch((function(e){o({errorCode:e.errorCode||-1,extendedData:e.extendedData||e.toString()})}))}))},setLowlightEnhance:function(e,t){return this.setBeautyEffect(e,!0,{lowlightEnhancement:t},!1)}},dp={setBeautyEffect:function(e,t,r){return gp(this,void 0,void 0,(function(){var i,A,n=this;return up(this,(function(o){switch(o.label){case 0:if(!this.videoTrack)return this.logger.error(lp+" video track no found"),[2];if(!("undefined"!=typeof WebGLRenderingContext))throw i=VIDEO_EFFECT_NOT_SUPPORT.code,A=VIDEO_EFFECT_NOT_SUPPORT.message,{errorCode:i,extendedData:A};return ap?this.videoEffect&&this.videoNodeQueue.isConnected(this.videoEffect)?this.videoTrack===this.videoNodeQueue.getSourceTrack()?[3,2]:[4,this.videoNodeQueue.replaceNewSourceByTrack(this.videoTrack)]:[3,4]:[3,7];case 1:o.sent(),o.label=2;case 2:return[4,this.videoEffect.setBeautyEffectOptions(e,t)];case 3:return o.sent(),this.videoEffect.stateFlag=r,[3,6];case 4:return this.videoEffect=new ap(this.logger,this.videoTrack),this.videoEffect.onError=function(e,t){n.stateCenter.actionListener("beautyEffectError",n.localStream,e.errorCode,e.extendedData,t)},this.videoNodeQueue.pushBack(this.videoEffect),[4,this.videoEffect.setBeautyEffectOptions(e,t)];case 5:o.sent(),this.videoEffect.stateFlag=r,o.label=6;case 6:return[3,8];case 7:this.logger.error(lp+" beauty effect module no found"),o.label=8;case 8:return[2]}}))}))}},pp={type:"BeautyEffect",install:function(e,t){for(var r in dp)Object.defineProperty(t.prototype,r,{value:dp[r],writable:!1});for(var r in hp)Object.defineProperty(e.prototype,r,{value:hp[r],writable:!1})}},Cp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Pg.use(Gg()),Pg.use(xg()),Pg.use(kl),Pg.use(Hl),Pg.use(hh),Pg.use(bh),Pg.use(yd),Pg.use(Dd),Pg.use(pp);var Ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cp(t,e),t}(Pg)}(),__webpack_exports__}()}));